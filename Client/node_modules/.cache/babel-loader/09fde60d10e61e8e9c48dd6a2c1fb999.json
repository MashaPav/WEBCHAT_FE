{"ast":null,"code":"import { r as react, R as React, f as __rest, g as __awaiter } from './FronteggApp-3b25e3fb.js';\nimport { aV as useSelector, aW as shallowEqual, aX as useDispatch, a as createSvgIcon, j as jsxRuntime, aY as easing, aZ as duration, a_ as _objectWithoutPropertiesLoose$3, K as useTheme, a$ as useForkRef, b0 as debounce, b1 as ownerWindow, b2 as _extends$4, b3 as Transition, b4 as getTransitionProps, b5 as reflow, b6 as generateUtilityClass, b7 as generateUtilityClasses, k as styled, b8 as Modal, b9 as rootShouldForwardProp, ba as Paper, bb as capitalize$1, bc as useThemeProps, bd as composeClasses, be as clsx, bf as InputBaseRoot, bg as rootOverridesResolver, bh as InputBaseComponent, bi as inputOverridesResolver, bj as deepmerge, bk as InputBase, bl as isMuiElement, bm as isAdornedStart, bn as isFilled, bo as FormControlContext, bp as useFormControl, bq as formControlState, br as slotShouldForwardProp, bs as useControlled, bt as ownerDocument, bu as formatMuiErrorMessage, bv as MuiMenu, bw as MuiOutlinedInput, aq as SvgIcon, aR as FormHelperText, bx as BaseSchema, by as ValidationError, bz as runTests, bA as isSchema, bB as printValue, bC as array, bD as isAbsent, bE as PropTypes, B as Box, bF as UI, bG as VisaCardIcon, bH as AmericanExpressIcon, bI as MasterCardIcon, bJ as DinersCardIcon, bK as GenericCardIcon, G as Grid, S as ShadowDomContext, bL as enhanceAdminBoxTheme, bM as useMediaQuery, P as useTranslation, x as useShadowDom, bN as Dialog$1, y as initGlobalTheme, z as I18nProvider$1, E as GlobalThemeProvider, H as ThemeContext, J as InnerThemeProvider, U as Provider, V as FronteggStoreContext, N as useAuth, bO as usePublicPolicySettings$1, O as useAuthRoutes, A as Alert$1, W as Loader$1, o as Button$1, D as Divider, T as Typography$1, bP as EditIcon, R as RenderAsSlot, bQ as _inheritsLoose$2, i as isobject, bR as createSvgIcon$1, bS as interopRequireDefault, bT as MuiDialog, bU as Skeleton, bV as shallowEqual$1, C as Card, bW as Avatar$1, aN as IconButton, aU as InputCopy$1, $ as useAuthUserOrNull, bX as useAuthTeamState, az as useField, bY as Select$1$1, aA as InputPassword$1, L as Link$1, u as useFormikContext, I as Input$1$1, ax as useMfaActions, ah as validateSchema, aD as validateMinLength, aw as useMfaState, bZ as CheckIcon$1, b_ as LinkIcon, b$ as useRolesState, c0 as useRolesActions, c1 as validateNotEmpty, c2 as RadioList, c3 as DeleteIcon, c4 as DoubleArrowRightIcon, c5 as useAuthUser, c6 as AddIcon, c7 as InfoIcon, c8 as TableUserAvatarCell, c9 as useApiTokensState, ca as useApiTokensActions, cb as Chip, cc as CheckedIcon, cd as Table, ce as TableDateCell, a2 as useSecurityPolicyState, aa as useSecurityPolicyActions, ar as Formik, as as Form, cf as Fade, n as CheckCircleFilledIcon, cg as WarningIcon, a5 as useSSOState, ch as StatusChip, ci as validateWellKnown, F as FronteggModules, ap as useVendorState, cj as useTenantsState, ck as ProfileIcon, cl as PrivacyIcon, cm as PersonalTokensIcon, cn as UsageIcon, co as AccountDetailsIcon, cp as UsersIcon, cq as RolesIcon, cr as SecurityIcon, cs as SSOIcon, ct as AuditLogsIcon, cu as WebhooksIcon, cv as APITokenIcon, cw as SubscriptionIcon, cx as Navigation, cy as PageHeaderProvider, cz as PageHeader, cA as Avatar$1$1, cB as PageHeaderUpdater, X as useOnRedirectTo, Z as useAuthActions, _ as useIsAuthenticated, cC as HelpMessage, cD as Switch$1, cE as SettingsList, cF as getOptions, cG as useAuthTeamActions, cH as useTenantsActions, aJ as Collapse$1, cI as Alert$1$1, cJ as useProfileState, a4 as useForgotPasswordActions, a3 as useForgotPasswordState, cK as reloadProfileIfNeeded, cL as useSessionsActions, cM as useSessionsState, cN as TableUserAgentCell, cO as TableLocationCell, cP as TableTextCell, cQ as TableLogoutCell, cR as SearchIcon, cS as TableAvatarCell, cT as TableChipsCell, cU as ResendIcon, cV as CloseIcon, cW as GroupUsersIcon, cX as SearchBigIcon, cY as TablePlaceholder, cZ as TableSwitchCell, a6 as useSSOActions, c_ as TableSwitchCellLeft, c$ as TableCopyCell, d0 as TableSeverityCell, d1 as TableJsonCell, d2 as TableIpCell, d3 as isValid$2, d4 as format$1, d5 as TableExpandableRow, d6 as CrossBtnIcon, d7 as useProfileActions, d8 as UploadIcon, d9 as PencilIcon, da as Menu$1, db as UploadPhoto, dc as validationPhoneOptional, ai as validatePasswordUsingOWASP, aj as validateConfirmPassword, dd as validationPostCodeOptional, ak as validateEmail, ao as validationPhone, Y as useLoginActions, de as create$1, df as create$2, dg as validateNumber, dh as create$3, di as validateFile, dj as validateUrl, dk as validateDomain, dl as create$4, dm as Popup$1, dn as validateMinLengthOptional, dp as Chip$1, v as Checkbox$1, dq as Tree, ac as useSessionsPolicyState, ab as useSessionsPolicyActions, aQ as callbackToPromise$1, aB as PasswordStrengthChecker, dr as copy, ds as Switch$1$1, dt as Button$1$1, du as RadioGroup, aP as FormControlLabel, dv as Radio, dw as DropZoneElement, dx as SelectTree$1, dy as validatePositiveNumber, dz as validateHistorySize, dA as PdfIcon } from './formik.esm-3ec4824f.js';\nimport { auditsStoreName, bindActionCreators, auditsActions, auditLogsActions, auditLogsReducers, connectivityActions, connectivityStoreName, subscriptionsStoreName, subscriptionActions, PaymentProvider, createSelector, AdminPortalPages, MFAStep, ApiStateKeys } from '@frontegg/redux-store';\nimport { ISubscriptionStatus, api, ContextHolder, fetch, ISubscriptionCancellationPolicy } from '@frontegg/rest-api';\nimport { Metadata } from '@frontegg/types';\nimport './utils.js';\nimport './AppHolder.js';\n\nconst useAuditsActions = () => {\n  const dispatch = useDispatch();\n  return react.exports.useMemo(() => bindActionCreators(auditsActions, dispatch), [auditsActions]);\n};\n/**\r\n * hooks helpers\r\n */\n\n\nconst sliceReducerActionsBy = reducer => {\n  const reducerKeys = Object.keys(reducer);\n  const reducerActions = reducerKeys.map(key => ({\n    [key]: auditsActions[key]\n  }));\n  return reducerActions.reduce((p, n) => Object.assign(Object.assign({}, p), n), {});\n};\n\nconst stateHookGenerator = (stateMapper, subState) => {\n  return useSelector(state => {\n    var _a;\n\n    return (_a = stateMapper === null || stateMapper === void 0 ? void 0 : stateMapper(state[auditsStoreName][subState])) !== null && _a !== void 0 ? _a : state[auditsStoreName][subState];\n  }, shallowEqual);\n};\n\nconst reducerActionsGenerator = (actions, reducers) => {\n  const dispatch = useDispatch();\n  return react.exports.useMemo(() => bindActionCreators(Object.assign(Object.assign({}, actions), sliceReducerActionsBy(reducers)), dispatch), [dispatch]);\n};\n\nconst useAuditLogsState = stateMapper => stateHookGenerator(stateMapper, 'auditLogsState');\n\nconst useAuditLogsActions = () => reducerActionsGenerator(auditLogsActions, auditLogsReducers);\n\nconst useAuditsMetadataState = stateMapper => stateHookGenerator(stateMapper, 'auditsMetadataState');\n\nconst useConnectivityState = stateMapper => {\n  return useSelector(state => {\n    var _a;\n\n    return (_a = stateMapper === null || stateMapper === void 0 ? void 0 : stateMapper(state[connectivityStoreName])) !== null && _a !== void 0 ? _a : state[connectivityStoreName];\n  }, shallowEqual);\n};\n\nconst useConnectivityActions = () => {\n  const dispatch = useDispatch();\n  return react.exports.useMemo(() => bindActionCreators(connectivityActions, dispatch), [connectivityActions]);\n};\n\nfunction getSubscriptionState(state) {\n  return state[subscriptionsStoreName];\n}\n\nconst usePaymentProvider = () => {\n  return useSelector(state => getSubscriptionState(state).config, shallowEqual);\n};\n\nconst usePaymentProviderActions = () => {\n  const dispatch = useDispatch();\n  return react.exports.useMemo(() => bindActionCreators(subscriptionActions.config, dispatch), [dispatch]);\n};\n\nconst usePlans = () => {\n  return useSelector(state => getSubscriptionState(state).plans, shallowEqual);\n};\n\nconst usePlansActions = () => {\n  const dispatch = useDispatch();\n  return react.exports.useMemo(() => bindActionCreators(subscriptionActions.plans, dispatch), [dispatch]);\n};\n\nconst useCheckout = () => {\n  return useSelector(state => getSubscriptionState(state).checkout, shallowEqual);\n};\n\nconst useCheckoutActions = () => {\n  const dispatch = useDispatch();\n  return react.exports.useMemo(() => bindActionCreators(subscriptionActions.checkout, dispatch), [dispatch]);\n};\n\nconst useBillingActions = billingKey => {\n  const dispatch = useDispatch();\n  return react.exports.useMemo(() => bindActionCreators(subscriptionActions.billing[billingKey], dispatch), [billingKey, dispatch]);\n};\n\nconst useBillingInformation = () => useSelector(state => getSubscriptionState(state).billing.information, shallowEqual);\n\nconst useBillingInformationActions = () => useBillingActions('information');\n\nconst usePaymentMethod = () => useSelector(state => getSubscriptionState(state).billing.paymentMethod, shallowEqual);\n\nconst usePaymentMethodActions = () => useBillingActions('paymentMethod');\n\nconst useInvoices = () => useSelector(state => getSubscriptionState(state).billing.invoices, shallowEqual);\n\nconst useInvoicesActions = () => useBillingActions('invoices');\n\nconst useStripeState = () => {\n  return useSelector(state => getSubscriptionState(state).stripe, shallowEqual);\n};\n\nconst useStripeActions = () => {\n  const dispatch = useDispatch();\n  return react.exports.useMemo(() => bindActionCreators(subscriptionActions.stripe, dispatch), [dispatch]);\n};\n\nconst useSubscriptionCancellation = () => {\n  return useSelector(state => getSubscriptionState(state).billing.subscription.cancellation, shallowEqual);\n};\n\nconst useSubscriptionRenewal = () => {\n  return useSelector(state => getSubscriptionState(state).billing.subscription.renewal, shallowEqual);\n};\n\nconst useSubscription = () => {\n  return useSelector(state => {\n    const {\n      billing: {\n        subscription\n      }\n    } = getSubscriptionState(state);\n    return subscription;\n  }, shallowEqual);\n};\n\nconst useVendorPublicConfig = () => {\n  return useSelector(state => {\n    const {\n      vendorPublicConfig\n    } = getSubscriptionState(state);\n    return vendorPublicConfig;\n  }, shallowEqual);\n};\n\nconst useVendorPublicConfigActions = () => {\n  const dispatch = useDispatch();\n  return react.exports.useMemo(() => bindActionCreators(subscriptionActions.vendorPublicConfig, dispatch), [dispatch]);\n};\n\nvar ArrowDropDownIcon = createSvgIcon( /*#__PURE__*/jsxRuntime.exports.jsx(\"path\", {\n  d: \"M7 10l5 5 5-5z\"\n}), 'ArrowDropDown');\nconst _excluded$f = [\"addEndListener\", \"appear\", \"children\", \"container\", \"direction\", \"easing\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"style\", \"timeout\", \"TransitionComponent\"];\n\nfunction getTranslateValue(direction, node, resolvedContainer) {\n  const rect = node.getBoundingClientRect();\n  const containerRect = resolvedContainer && resolvedContainer.getBoundingClientRect();\n  const containerWindow = ownerWindow(node);\n  let transform;\n\n  if (node.fakeTransform) {\n    transform = node.fakeTransform;\n  } else {\n    const computedStyle = containerWindow.getComputedStyle(node);\n    transform = computedStyle.getPropertyValue('-webkit-transform') || computedStyle.getPropertyValue('transform');\n  }\n\n  let offsetX = 0;\n  let offsetY = 0;\n\n  if (transform && transform !== 'none' && typeof transform === 'string') {\n    const transformValues = transform.split('(')[1].split(')')[0].split(',');\n    offsetX = parseInt(transformValues[4], 10);\n    offsetY = parseInt(transformValues[5], 10);\n  }\n\n  if (direction === 'left') {\n    if (containerRect) {\n      return `translateX(${containerRect.right + offsetX - rect.left}px)`;\n    }\n\n    return `translateX(${containerWindow.innerWidth + offsetX - rect.left}px)`;\n  }\n\n  if (direction === 'right') {\n    if (containerRect) {\n      return `translateX(-${rect.right - containerRect.left - offsetX}px)`;\n    }\n\n    return `translateX(-${rect.left + rect.width - offsetX}px)`;\n  }\n\n  if (direction === 'up') {\n    if (containerRect) {\n      return `translateY(${containerRect.bottom + offsetY - rect.top}px)`;\n    }\n\n    return `translateY(${containerWindow.innerHeight + offsetY - rect.top}px)`;\n  } // direction === 'down'\n\n\n  if (containerRect) {\n    return `translateY(-${rect.top - containerRect.top + rect.height - offsetY}px)`;\n  }\n\n  return `translateY(-${rect.top + rect.height - offsetY}px)`;\n}\n\nfunction resolveContainer(containerPropProp) {\n  return typeof containerPropProp === 'function' ? containerPropProp() : containerPropProp;\n}\n\nfunction setTranslateValue(direction, node, containerProp) {\n  const resolvedContainer = resolveContainer(containerProp);\n  const transform = getTranslateValue(direction, node, resolvedContainer);\n\n  if (transform) {\n    node.style.webkitTransform = transform;\n    node.style.transform = transform;\n  }\n}\n\nconst defaultEasing = {\n  enter: easing.easeOut,\n  exit: easing.sharp\n};\nconst defaultTimeout = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The Slide transition is used by the [Drawer](/components/drawers/) component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nconst Slide = /*#__PURE__*/react.exports.forwardRef(function Slide(props, ref) {\n  const {\n    addEndListener,\n    appear = true,\n    children,\n    container: containerProp,\n    direction = 'down',\n    easing: easingProp = defaultEasing,\n    in: inProp,\n    onEnter,\n    onEntered,\n    onEntering,\n    onExit,\n    onExited,\n    onExiting,\n    style,\n    timeout = defaultTimeout,\n    // eslint-disable-next-line react/prop-types\n    TransitionComponent = Transition\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$f);\n\n  const theme = useTheme();\n  const childrenRef = react.exports.useRef(null);\n  const handleRefIntermediary = useForkRef(children.ref, childrenRef);\n  const handleRef = useForkRef(handleRefIntermediary, ref);\n\n  const normalizedTransitionCallback = callback => isAppearing => {\n    if (callback) {\n      // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n      if (isAppearing === undefined) {\n        callback(childrenRef.current);\n      } else {\n        callback(childrenRef.current, isAppearing);\n      }\n    }\n  };\n\n  const handleEnter = normalizedTransitionCallback((node, isAppearing) => {\n    setTranslateValue(direction, node, containerProp);\n    reflow(node);\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  const handleEntering = normalizedTransitionCallback((node, isAppearing) => {\n    const transitionProps = getTransitionProps({\n      timeout,\n      style,\n      easing: easingProp\n    }, {\n      mode: 'enter'\n    });\n    node.style.webkitTransition = theme.transitions.create('-webkit-transform', _extends$4({}, transitionProps));\n    node.style.transition = theme.transitions.create('transform', _extends$4({}, transitionProps));\n    node.style.webkitTransform = 'none';\n    node.style.transform = 'none';\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  });\n  const handleEntered = normalizedTransitionCallback(onEntered);\n  const handleExiting = normalizedTransitionCallback(onExiting);\n  const handleExit = normalizedTransitionCallback(node => {\n    const transitionProps = getTransitionProps({\n      timeout,\n      style,\n      easing: easingProp\n    }, {\n      mode: 'exit'\n    });\n    node.style.webkitTransition = theme.transitions.create('-webkit-transform', transitionProps);\n    node.style.transition = theme.transitions.create('transform', transitionProps);\n    setTranslateValue(direction, node, containerProp);\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  const handleExited = normalizedTransitionCallback(node => {\n    // No need for transitions when the component is hidden\n    node.style.webkitTransition = '';\n    node.style.transition = '';\n\n    if (onExited) {\n      onExited(node);\n    }\n  });\n\n  const handleAddEndListener = next => {\n    if (addEndListener) {\n      // Old call signature before `react-transition-group` implemented `nodeRef`\n      addEndListener(childrenRef.current, next);\n    }\n  };\n\n  const updatePosition = react.exports.useCallback(() => {\n    if (childrenRef.current) {\n      setTranslateValue(direction, childrenRef.current, containerProp);\n    }\n  }, [direction, containerProp]);\n  react.exports.useEffect(() => {\n    // Skip configuration where the position is screen size invariant.\n    if (inProp || direction === 'down' || direction === 'right') {\n      return undefined;\n    }\n\n    const handleResize = debounce(() => {\n      if (childrenRef.current) {\n        setTranslateValue(direction, childrenRef.current, containerProp);\n      }\n    });\n    const containerWindow = ownerWindow(childrenRef.current);\n    containerWindow.addEventListener('resize', handleResize);\n    return () => {\n      handleResize.clear();\n      containerWindow.removeEventListener('resize', handleResize);\n    };\n  }, [direction, inProp, containerProp]);\n  react.exports.useEffect(() => {\n    if (!inProp) {\n      // We need to update the position of the drawer when the direction change and\n      // when it's hidden.\n      updatePosition();\n    }\n  }, [inProp, updatePosition]);\n  return /*#__PURE__*/jsxRuntime.exports.jsx(TransitionComponent, _extends$4({\n    nodeRef: childrenRef,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    addEndListener: handleAddEndListener,\n    appear: appear,\n    in: inProp,\n    timeout: timeout\n  }, other, {\n    children: (state, childProps) => {\n      return /*#__PURE__*/react.exports.cloneElement(children, _extends$4({\n        ref: handleRef,\n        style: _extends$4({\n          visibility: state === 'exited' && !inProp ? 'hidden' : undefined\n        }, style, children.props.style)\n      }, childProps));\n    }\n  }));\n});\nvar Slide$1 = Slide;\n\nfunction getDrawerUtilityClass(slot) {\n  return generateUtilityClass('MuiDrawer', slot);\n}\n\ngenerateUtilityClasses('MuiDrawer', ['root', 'docked', 'paper', 'paperAnchorLeft', 'paperAnchorRight', 'paperAnchorTop', 'paperAnchorBottom', 'paperAnchorDockedLeft', 'paperAnchorDockedRight', 'paperAnchorDockedTop', 'paperAnchorDockedBottom', 'modal']);\nconst _excluded$e = [\"BackdropProps\"],\n      _excluded2$1 = [\"anchor\", \"BackdropProps\", \"children\", \"className\", \"elevation\", \"hideBackdrop\", \"ModalProps\", \"onClose\", \"open\", \"PaperProps\", \"SlideProps\", \"TransitionComponent\", \"transitionDuration\", \"variant\"];\n\nconst overridesResolver = (props, styles) => {\n  const {\n    ownerState\n  } = props;\n  return [styles.root, (ownerState.variant === 'permanent' || ownerState.variant === 'persistent') && styles.docked, styles.modal];\n};\n\nconst useUtilityClasses$e = ownerState => {\n  const {\n    classes,\n    anchor,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    docked: [(variant === 'permanent' || variant === 'persistent') && 'docked'],\n    modal: ['modal'],\n    paper: ['paper', `paperAnchor${capitalize$1(anchor)}`, variant !== 'temporary' && `paperAnchorDocked${capitalize$1(anchor)}`]\n  };\n  return composeClasses(slots, getDrawerUtilityClass, classes);\n};\n\nconst DrawerRoot = styled(Modal, {\n  name: 'MuiDrawer',\n  slot: 'Root',\n  overridesResolver\n})(({\n  theme\n}) => ({\n  zIndex: theme.zIndex.drawer\n}));\nconst DrawerDockedRoot = styled('div', {\n  shouldForwardProp: rootShouldForwardProp,\n  name: 'MuiDrawer',\n  slot: 'Docked',\n  skipVariantsResolver: false,\n  overridesResolver\n})({\n  flex: '0 0 auto'\n});\nconst DrawerPaper = styled(Paper, {\n  name: 'MuiDrawer',\n  slot: 'Paper',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.paper, styles[`paperAnchor${capitalize$1(ownerState.anchor)}`], ownerState.variant !== 'temporary' && styles[`paperAnchorDocked${capitalize$1(ownerState.anchor)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends$4({\n  overflowY: 'auto',\n  display: 'flex',\n  flexDirection: 'column',\n  height: '100%',\n  flex: '1 0 auto',\n  zIndex: theme.zIndex.drawer,\n  // Add iOS momentum scrolling for iOS < 13.0\n  WebkitOverflowScrolling: 'touch',\n  // temporary style\n  position: 'fixed',\n  top: 0,\n  // We disable the focus ring for mouse, touch and keyboard users.\n  // At some point, it would be better to keep it for keyboard users.\n  // :focus-ring CSS pseudo-class will help.\n  outline: 0\n}, ownerState.anchor === 'left' && {\n  left: 0\n}, ownerState.anchor === 'top' && {\n  top: 0,\n  left: 0,\n  right: 0,\n  height: 'auto',\n  maxHeight: '100%'\n}, ownerState.anchor === 'right' && {\n  right: 0\n}, ownerState.anchor === 'bottom' && {\n  top: 'auto',\n  left: 0,\n  bottom: 0,\n  right: 0,\n  height: 'auto',\n  maxHeight: '100%'\n}, ownerState.anchor === 'left' && ownerState.variant !== 'temporary' && {\n  borderRight: `1px solid ${theme.palette.divider}`\n}, ownerState.anchor === 'top' && ownerState.variant !== 'temporary' && {\n  borderBottom: `1px solid ${theme.palette.divider}`\n}, ownerState.anchor === 'right' && ownerState.variant !== 'temporary' && {\n  borderLeft: `1px solid ${theme.palette.divider}`\n}, ownerState.anchor === 'bottom' && ownerState.variant !== 'temporary' && {\n  borderTop: `1px solid ${theme.palette.divider}`\n}));\nconst oppositeDirection = {\n  left: 'right',\n  right: 'left',\n  top: 'down',\n  bottom: 'up'\n};\n\nfunction isHorizontal(anchor) {\n  return ['left', 'right'].indexOf(anchor) !== -1;\n}\n\nfunction getAnchor(theme, anchor) {\n  return theme.direction === 'rtl' && isHorizontal(anchor) ? oppositeDirection[anchor] : anchor;\n}\n\nconst defaultTransitionDuration = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The props of the [Modal](/api/modal/) component are available\n * when `variant=\"temporary\"` is set.\n */\n\nconst Drawer = /*#__PURE__*/react.exports.forwardRef(function Drawer(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiDrawer'\n  });\n\n  const {\n    anchor: anchorProp = 'left',\n    BackdropProps,\n    children,\n    className,\n    elevation = 16,\n    hideBackdrop = false,\n    ModalProps: {\n      BackdropProps: BackdropPropsProp\n    } = {},\n    onClose,\n    open = false,\n    PaperProps = {},\n    SlideProps,\n    // eslint-disable-next-line react/prop-types\n    TransitionComponent = Slide$1,\n    transitionDuration = defaultTransitionDuration,\n    variant = 'temporary'\n  } = props,\n        ModalProps = _objectWithoutPropertiesLoose$3(props.ModalProps, _excluded$e),\n        other = _objectWithoutPropertiesLoose$3(props, _excluded2$1);\n\n  const theme = useTheme(); // Let's assume that the Drawer will always be rendered on user space.\n  // We use this state is order to skip the appear transition during the\n  // initial mount of the component.\n\n  const mounted = react.exports.useRef(false);\n  react.exports.useEffect(() => {\n    mounted.current = true;\n  }, []);\n  const anchorInvariant = getAnchor(theme, anchorProp);\n  const anchor = anchorProp;\n\n  const ownerState = _extends$4({}, props, {\n    anchor,\n    elevation,\n    open,\n    variant\n  }, other);\n\n  const classes = useUtilityClasses$e(ownerState);\n  const drawer = /*#__PURE__*/jsxRuntime.exports.jsx(DrawerPaper, _extends$4({\n    elevation: variant === 'temporary' ? elevation : 0,\n    square: true\n  }, PaperProps, {\n    className: clsx(classes.paper, PaperProps.className),\n    ownerState: ownerState,\n    children: children\n  }));\n\n  if (variant === 'permanent') {\n    return /*#__PURE__*/jsxRuntime.exports.jsx(DrawerDockedRoot, _extends$4({\n      className: clsx(classes.root, classes.docked, className),\n      ownerState: ownerState,\n      ref: ref\n    }, other, {\n      children: drawer\n    }));\n  }\n\n  const slidingDrawer = /*#__PURE__*/jsxRuntime.exports.jsx(TransitionComponent, _extends$4({\n    in: open,\n    direction: oppositeDirection[anchorInvariant],\n    timeout: transitionDuration,\n    appear: mounted.current\n  }, SlideProps, {\n    children: drawer\n  }));\n\n  if (variant === 'persistent') {\n    return /*#__PURE__*/jsxRuntime.exports.jsx(DrawerDockedRoot, _extends$4({\n      className: clsx(classes.root, classes.docked, className),\n      ownerState: ownerState,\n      ref: ref\n    }, other, {\n      children: slidingDrawer\n    }));\n  } // variant === temporary\n\n\n  return /*#__PURE__*/jsxRuntime.exports.jsx(DrawerRoot, _extends$4({\n    BackdropProps: _extends$4({}, BackdropProps, BackdropPropsProp, {\n      transitionDuration\n    }),\n    className: clsx(classes.root, classes.modal, className),\n    open: open,\n    ownerState: ownerState,\n    onClose: onClose,\n    hideBackdrop: hideBackdrop,\n    ref: ref\n  }, other, ModalProps, {\n    children: slidingDrawer\n  }));\n});\nvar Drawer$1 = Drawer;\n\nfunction getFilledInputUtilityClass(slot) {\n  return generateUtilityClass('MuiFilledInput', slot);\n}\n\nconst filledInputClasses = generateUtilityClasses('MuiFilledInput', ['root', 'colorSecondary', 'underline', 'focused', 'disabled', 'adornedStart', 'adornedEnd', 'error', 'sizeSmall', 'multiline', 'hiddenLabel', 'input', 'inputSizeSmall', 'inputHiddenLabel', 'inputMultiline', 'inputAdornedStart', 'inputAdornedEnd']);\nvar filledInputClasses$1 = filledInputClasses;\nconst _excluded$d = [\"disableUnderline\", \"components\", \"componentsProps\", \"fullWidth\", \"hiddenLabel\", \"inputComponent\", \"multiline\", \"type\"];\n\nconst useUtilityClasses$d = ownerState => {\n  const {\n    classes,\n    disableUnderline\n  } = ownerState;\n  const slots = {\n    root: ['root', !disableUnderline && 'underline'],\n    input: ['input']\n  };\n  const composedClasses = composeClasses(slots, getFilledInputUtilityClass, classes);\n  return _extends$4({}, classes, composedClasses);\n};\n\nconst FilledInputRoot = styled(InputBaseRoot, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiFilledInput',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [...rootOverridesResolver(props, styles), !ownerState.disableUnderline && styles.underline];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  const light = theme.palette.mode === 'light';\n  const bottomLineColor = light ? 'rgba(0, 0, 0, 0.42)' : 'rgba(255, 255, 255, 0.7)';\n  const backgroundColor = light ? 'rgba(0, 0, 0, 0.06)' : 'rgba(255, 255, 255, 0.09)';\n  return _extends$4({\n    position: 'relative',\n    backgroundColor,\n    borderTopLeftRadius: theme.shape.borderRadius,\n    borderTopRightRadius: theme.shape.borderRadius,\n    transition: theme.transitions.create('background-color', {\n      duration: theme.transitions.duration.shorter,\n      easing: theme.transitions.easing.easeOut\n    }),\n    '&:hover': {\n      backgroundColor: light ? 'rgba(0, 0, 0, 0.09)' : 'rgba(255, 255, 255, 0.13)',\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor\n      }\n    },\n    [`&.${filledInputClasses$1.focused}`]: {\n      backgroundColor\n    },\n    [`&.${filledInputClasses$1.disabled}`]: {\n      backgroundColor: light ? 'rgba(0, 0, 0, 0.12)' : 'rgba(255, 255, 255, 0.12)'\n    }\n  }, !ownerState.disableUnderline && {\n    '&:after': {\n      borderBottom: `2px solid ${theme.palette[ownerState.color].main}`,\n      left: 0,\n      bottom: 0,\n      // Doing the other way around crash on IE11 \"''\" https://github.com/cssinjs/jss/issues/242\n      content: '\"\"',\n      position: 'absolute',\n      right: 0,\n      transform: 'scaleX(0)',\n      transition: theme.transitions.create('transform', {\n        duration: theme.transitions.duration.shorter,\n        easing: theme.transitions.easing.easeOut\n      }),\n      pointerEvents: 'none' // Transparent to the hover style.\n\n    },\n    [`&.${filledInputClasses$1.focused}:after`]: {\n      transform: 'scaleX(1)'\n    },\n    [`&.${filledInputClasses$1.error}:after`]: {\n      borderBottomColor: theme.palette.error.main,\n      transform: 'scaleX(1)' // error is always underlined in red\n\n    },\n    '&:before': {\n      borderBottom: `1px solid ${bottomLineColor}`,\n      left: 0,\n      bottom: 0,\n      // Doing the other way around crash on IE11 \"''\" https://github.com/cssinjs/jss/issues/242\n      content: '\"\\\\00a0\"',\n      position: 'absolute',\n      right: 0,\n      transition: theme.transitions.create('border-bottom-color', {\n        duration: theme.transitions.duration.shorter\n      }),\n      pointerEvents: 'none' // Transparent to the hover style.\n\n    },\n    [`&:hover:not(.${filledInputClasses$1.disabled}):before`]: {\n      borderBottom: `1px solid ${theme.palette.text.primary}`\n    },\n    [`&.${filledInputClasses$1.disabled}:before`]: {\n      borderBottomStyle: 'dotted'\n    }\n  }, ownerState.startAdornment && {\n    paddingLeft: 12\n  }, ownerState.endAdornment && {\n    paddingRight: 12\n  }, ownerState.multiline && _extends$4({\n    padding: '25px 12px 8px'\n  }, ownerState.size === 'small' && {\n    paddingTop: 21,\n    paddingBottom: 4\n  }, ownerState.hiddenLabel && {\n    paddingTop: 16,\n    paddingBottom: 17\n  }));\n});\nconst FilledInputInput = styled(InputBaseComponent, {\n  name: 'MuiFilledInput',\n  slot: 'Input',\n  overridesResolver: inputOverridesResolver\n})(({\n  theme,\n  ownerState\n}) => _extends$4({\n  paddingTop: 25,\n  paddingRight: 12,\n  paddingBottom: 8,\n  paddingLeft: 12,\n  '&:-webkit-autofill': {\n    WebkitBoxShadow: theme.palette.mode === 'light' ? null : '0 0 0 100px #266798 inset',\n    WebkitTextFillColor: theme.palette.mode === 'light' ? null : '#fff',\n    caretColor: theme.palette.mode === 'light' ? null : '#fff',\n    borderTopLeftRadius: 'inherit',\n    borderTopRightRadius: 'inherit'\n  }\n}, ownerState.size === 'small' && {\n  paddingTop: 21,\n  paddingBottom: 4\n}, ownerState.hiddenLabel && {\n  paddingTop: 16,\n  paddingBottom: 17\n}, ownerState.multiline && {\n  paddingTop: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  paddingRight: 0\n}, ownerState.startAdornment && {\n  paddingLeft: 0\n}, ownerState.endAdornment && {\n  paddingRight: 0\n}, ownerState.hiddenLabel && ownerState.size === 'small' && {\n  paddingTop: 8,\n  paddingBottom: 9\n}));\nconst FilledInput = /*#__PURE__*/react.exports.forwardRef(function FilledInput(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiFilledInput'\n  });\n\n  const {\n    components = {},\n    componentsProps: componentsPropsProp,\n    fullWidth = false,\n    // declare here to prevent spreading to DOM\n    inputComponent = 'input',\n    multiline = false,\n    type = 'text'\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$d);\n\n  const ownerState = _extends$4({}, props, {\n    fullWidth,\n    inputComponent,\n    multiline,\n    type\n  });\n\n  const classes = useUtilityClasses$d(props);\n  const filledInputComponentsProps = {\n    root: {\n      ownerState\n    },\n    input: {\n      ownerState\n    }\n  };\n  const componentsProps = componentsPropsProp ? deepmerge(componentsPropsProp, filledInputComponentsProps) : filledInputComponentsProps;\n  return /*#__PURE__*/jsxRuntime.exports.jsx(InputBase, _extends$4({\n    components: _extends$4({\n      Root: FilledInputRoot,\n      Input: FilledInputInput\n    }, components),\n    componentsProps: componentsProps,\n    fullWidth: fullWidth,\n    inputComponent: inputComponent,\n    multiline: multiline,\n    ref: ref,\n    type: type\n  }, other, {\n    classes: classes\n  }));\n});\nFilledInput.muiName = 'Input';\nvar FilledInput$1 = FilledInput;\n\nfunction getFormControlUtilityClasses(slot) {\n  return generateUtilityClass('MuiFormControl', slot);\n}\n\ngenerateUtilityClasses('MuiFormControl', ['root', 'marginNone', 'marginNormal', 'marginDense', 'fullWidth', 'disabled']);\nconst _excluded$c = [\"children\", \"className\", \"color\", \"component\", \"disabled\", \"error\", \"focused\", \"fullWidth\", \"hiddenLabel\", \"margin\", \"required\", \"size\", \"variant\"];\n\nconst useUtilityClasses$c = ownerState => {\n  const {\n    classes,\n    margin,\n    fullWidth\n  } = ownerState;\n  const slots = {\n    root: ['root', margin !== 'none' && `margin${capitalize$1(margin)}`, fullWidth && 'fullWidth']\n  };\n  return composeClasses(slots, getFormControlUtilityClasses, classes);\n};\n\nconst FormControlRoot = styled('div', {\n  name: 'MuiFormControl',\n  slot: 'Root',\n  overridesResolver: ({\n    ownerState\n  }, styles) => {\n    return _extends$4({}, styles.root, styles[`margin${capitalize$1(ownerState.margin)}`], ownerState.fullWidth && styles.fullWidth);\n  }\n})(({\n  ownerState\n}) => _extends$4({\n  display: 'inline-flex',\n  flexDirection: 'column',\n  position: 'relative',\n  // Reset fieldset default style.\n  minWidth: 0,\n  padding: 0,\n  margin: 0,\n  border: 0,\n  verticalAlign: 'top'\n}, ownerState.margin === 'normal' && {\n  marginTop: 16,\n  marginBottom: 8\n}, ownerState.margin === 'dense' && {\n  marginTop: 8,\n  marginBottom: 4\n}, ownerState.fullWidth && {\n  width: '100%'\n}));\n/**\n * Provides context such as filled/focused/error/required for form inputs.\n * Relying on the context provides high flexibility and ensures that the state always stays\n * consistent across the children of the `FormControl`.\n * This context is used by the following components:\n *\n *  - FormLabel\n *  - FormHelperText\n *  - Input\n *  - InputLabel\n *\n * You can find one composition example below and more going to [the demos](/components/text-fields/#components).\n *\n * ```jsx\n * <FormControl>\n *   <InputLabel htmlFor=\"my-input\">Email address</InputLabel>\n *   <Input id=\"my-input\" aria-describedby=\"my-helper-text\" />\n *   <FormHelperText id=\"my-helper-text\">We'll never share your email.</FormHelperText>\n * </FormControl>\n * ```\n *\n * ⚠️ Only one `InputBase` can be used within a FormControl because it create visual inconsistencies.\n * For instance, only one input can be focused at the same time, the state shouldn't be shared.\n */\n\nconst FormControl = /*#__PURE__*/react.exports.forwardRef(function FormControl(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiFormControl'\n  });\n\n  const {\n    children,\n    className,\n    color = 'primary',\n    component = 'div',\n    disabled = false,\n    error = false,\n    focused: visuallyFocused,\n    fullWidth = false,\n    hiddenLabel = false,\n    margin = 'none',\n    required = false,\n    size = 'medium',\n    variant = 'outlined'\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$c);\n\n  const ownerState = _extends$4({}, props, {\n    color,\n    component,\n    disabled,\n    error,\n    fullWidth,\n    hiddenLabel,\n    margin,\n    required,\n    size,\n    variant\n  });\n\n  const classes = useUtilityClasses$c(ownerState);\n  const [adornedStart, setAdornedStart] = react.exports.useState(() => {\n    // We need to iterate through the children and find the Input in order\n    // to fully support server-side rendering.\n    let initialAdornedStart = false;\n\n    if (children) {\n      react.exports.Children.forEach(children, child => {\n        if (!isMuiElement(child, ['Input', 'Select'])) {\n          return;\n        }\n\n        const input = isMuiElement(child, ['Select']) ? child.props.input : child;\n\n        if (input && isAdornedStart(input.props)) {\n          initialAdornedStart = true;\n        }\n      });\n    }\n\n    return initialAdornedStart;\n  });\n  const [filled, setFilled] = react.exports.useState(() => {\n    // We need to iterate through the children and find the Input in order\n    // to fully support server-side rendering.\n    let initialFilled = false;\n\n    if (children) {\n      react.exports.Children.forEach(children, child => {\n        if (!isMuiElement(child, ['Input', 'Select'])) {\n          return;\n        }\n\n        if (isFilled(child.props, true)) {\n          initialFilled = true;\n        }\n      });\n    }\n\n    return initialFilled;\n  });\n  const [focusedState, setFocused] = react.exports.useState(false);\n\n  if (disabled && focusedState) {\n    setFocused(false);\n  }\n\n  const focused = visuallyFocused !== undefined && !disabled ? visuallyFocused : focusedState;\n  let registerEffect;\n  const onFilled = react.exports.useCallback(() => {\n    setFilled(true);\n  }, []);\n  const onEmpty = react.exports.useCallback(() => {\n    setFilled(false);\n  }, []);\n  const childContext = {\n    adornedStart,\n    setAdornedStart,\n    color,\n    disabled,\n    error,\n    filled,\n    focused,\n    fullWidth,\n    hiddenLabel,\n    size,\n    onBlur: () => {\n      setFocused(false);\n    },\n    onEmpty,\n    onFilled,\n    onFocus: () => {\n      setFocused(true);\n    },\n    registerEffect,\n    required,\n    variant\n  };\n  return /*#__PURE__*/jsxRuntime.exports.jsx(FormControlContext.Provider, {\n    value: childContext,\n    children: /*#__PURE__*/jsxRuntime.exports.jsx(FormControlRoot, _extends$4({\n      as: component,\n      ownerState: ownerState,\n      className: clsx(classes.root, className),\n      ref: ref\n    }, other, {\n      children: children\n    }))\n  });\n});\nvar FormControl$1 = FormControl;\n\nfunction getFormLabelUtilityClasses(slot) {\n  return generateUtilityClass('MuiFormLabel', slot);\n}\n\nconst formLabelClasses = generateUtilityClasses('MuiFormLabel', ['root', 'colorSecondary', 'focused', 'disabled', 'error', 'filled', 'required', 'asterisk']);\nvar formLabelClasses$1 = formLabelClasses;\nconst _excluded$b = [\"children\", \"className\", \"color\", \"component\", \"disabled\", \"error\", \"filled\", \"focused\", \"required\"];\n\nconst useUtilityClasses$b = ownerState => {\n  const {\n    classes,\n    color,\n    focused,\n    disabled,\n    error,\n    filled,\n    required\n  } = ownerState;\n  const slots = {\n    root: ['root', `color${capitalize$1(color)}`, disabled && 'disabled', error && 'error', filled && 'filled', focused && 'focused', required && 'required'],\n    asterisk: ['asterisk', error && 'error']\n  };\n  return composeClasses(slots, getFormLabelUtilityClasses, classes);\n};\n\nconst FormLabelRoot = styled('label', {\n  name: 'MuiFormLabel',\n  slot: 'Root',\n  overridesResolver: ({\n    ownerState\n  }, styles) => {\n    return _extends$4({}, styles.root, ownerState.color === 'secondary' && styles.colorSecondary, ownerState.filled && styles.filled);\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends$4({\n  color: theme.palette.text.secondary\n}, theme.typography.body1, {\n  lineHeight: '1.4375em',\n  padding: 0,\n  position: 'relative',\n  [`&.${formLabelClasses$1.focused}`]: {\n    color: theme.palette[ownerState.color].main\n  },\n  [`&.${formLabelClasses$1.disabled}`]: {\n    color: theme.palette.text.disabled\n  },\n  [`&.${formLabelClasses$1.error}`]: {\n    color: theme.palette.error.main\n  }\n}));\nconst AsteriskComponent = styled('span', {\n  name: 'MuiFormLabel',\n  slot: 'Asterisk',\n  overridesResolver: (props, styles) => styles.asterisk\n})(({\n  theme\n}) => ({\n  [`&.${formLabelClasses$1.error}`]: {\n    color: theme.palette.error.main\n  }\n}));\nconst FormLabel = /*#__PURE__*/react.exports.forwardRef(function FormLabel(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiFormLabel'\n  });\n\n  const {\n    children,\n    className,\n    component = 'label'\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$b);\n\n  const muiFormControl = useFormControl();\n  const fcs = formControlState({\n    props,\n    muiFormControl,\n    states: ['color', 'required', 'focused', 'disabled', 'error', 'filled']\n  });\n\n  const ownerState = _extends$4({}, props, {\n    color: fcs.color || 'primary',\n    component,\n    disabled: fcs.disabled,\n    error: fcs.error,\n    filled: fcs.filled,\n    focused: fcs.focused,\n    required: fcs.required\n  });\n\n  const classes = useUtilityClasses$b(ownerState);\n  return /*#__PURE__*/jsxRuntime.exports.jsxs(FormLabelRoot, _extends$4({\n    as: component,\n    ownerState: ownerState,\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other, {\n    children: [children, fcs.required && /*#__PURE__*/jsxRuntime.exports.jsxs(AsteriskComponent, {\n      ownerState: ownerState,\n      \"aria-hidden\": true,\n      className: classes.asterisk,\n      children: [\"\\u2009\", '*']\n    })]\n  }));\n});\nvar FormLabel$1 = FormLabel;\n\nfunction getInputUtilityClass(slot) {\n  return generateUtilityClass('MuiInput', slot);\n}\n\nconst inputClasses = generateUtilityClasses('MuiInput', ['root', 'formControl', 'focused', 'disabled', 'colorSecondary', 'underline', 'error', 'sizeSmall', 'multiline', 'fullWidth', 'input', 'inputSizeSmall', 'inputMultiline', 'inputTypeSearch']);\nvar inputClasses$1 = inputClasses;\nconst _excluded$a = [\"disableUnderline\", \"components\", \"componentsProps\", \"fullWidth\", \"inputComponent\", \"multiline\", \"type\"];\n\nconst useUtilityClasses$a = ownerState => {\n  const {\n    classes,\n    disableUnderline\n  } = ownerState;\n  const slots = {\n    root: ['root', !disableUnderline && 'underline'],\n    input: ['input']\n  };\n  const composedClasses = composeClasses(slots, getInputUtilityClass, classes);\n  return _extends$4({}, classes, composedClasses);\n};\n\nconst InputRoot = styled(InputBaseRoot, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiInput',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [...rootOverridesResolver(props, styles), !ownerState.disableUnderline && styles.underline];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  const light = theme.palette.mode === 'light';\n  const bottomLineColor = light ? 'rgba(0, 0, 0, 0.42)' : 'rgba(255, 255, 255, 0.7)';\n  return _extends$4({\n    position: 'relative'\n  }, ownerState.formControl && {\n    'label + &': {\n      marginTop: 16\n    }\n  }, !ownerState.disableUnderline && {\n    '&:after': {\n      borderBottom: `2px solid ${theme.palette[ownerState.color].main}`,\n      left: 0,\n      bottom: 0,\n      // Doing the other way around crash on IE11 \"''\" https://github.com/cssinjs/jss/issues/242\n      content: '\"\"',\n      position: 'absolute',\n      right: 0,\n      transform: 'scaleX(0)',\n      transition: theme.transitions.create('transform', {\n        duration: theme.transitions.duration.shorter,\n        easing: theme.transitions.easing.easeOut\n      }),\n      pointerEvents: 'none' // Transparent to the hover style.\n\n    },\n    [`&.${inputClasses$1.focused}:after`]: {\n      transform: 'scaleX(1)'\n    },\n    [`&.${inputClasses$1.error}:after`]: {\n      borderBottomColor: theme.palette.error.main,\n      transform: 'scaleX(1)' // error is always underlined in red\n\n    },\n    '&:before': {\n      borderBottom: `1px solid ${bottomLineColor}`,\n      left: 0,\n      bottom: 0,\n      // Doing the other way around crash on IE11 \"''\" https://github.com/cssinjs/jss/issues/242\n      content: '\"\\\\00a0\"',\n      position: 'absolute',\n      right: 0,\n      transition: theme.transitions.create('border-bottom-color', {\n        duration: theme.transitions.duration.shorter\n      }),\n      pointerEvents: 'none' // Transparent to the hover style.\n\n    },\n    [`&:hover:not(.${inputClasses$1.disabled}):before`]: {\n      borderBottom: `2px solid ${theme.palette.text.primary}`,\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        borderBottom: `1px solid ${bottomLineColor}`\n      }\n    },\n    [`&.${inputClasses$1.disabled}:before`]: {\n      borderBottomStyle: 'dotted'\n    }\n  });\n});\nconst InputInput = styled(InputBaseComponent, {\n  name: 'MuiInput',\n  slot: 'Input',\n  overridesResolver: inputOverridesResolver\n})({});\nconst Input = /*#__PURE__*/react.exports.forwardRef(function Input(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiInput'\n  });\n\n  const {\n    disableUnderline,\n    components = {},\n    componentsProps: componentsPropsProp,\n    fullWidth = false,\n    inputComponent = 'input',\n    multiline = false,\n    type = 'text'\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$a);\n\n  const classes = useUtilityClasses$a(props);\n  const ownerState = {\n    disableUnderline\n  };\n  const inputComponentsProps = {\n    root: {\n      ownerState\n    }\n  };\n  const componentsProps = componentsPropsProp ? deepmerge(componentsPropsProp, inputComponentsProps) : inputComponentsProps;\n  return /*#__PURE__*/jsxRuntime.exports.jsx(InputBase, _extends$4({\n    components: _extends$4({\n      Root: InputRoot,\n      Input: InputInput\n    }, components),\n    componentsProps: componentsProps,\n    fullWidth: fullWidth,\n    inputComponent: inputComponent,\n    multiline: multiline,\n    ref: ref,\n    type: type\n  }, other, {\n    classes: classes\n  }));\n});\nInput.muiName = 'Input';\nvar Input$1 = Input;\n\nfunction getInputLabelUtilityClasses(slot) {\n  return generateUtilityClass('MuiInputLabel', slot);\n}\n\ngenerateUtilityClasses('MuiInputLabel', ['root', 'focused', 'disabled', 'error', 'required', 'asterisk', 'formControl', 'sizeSmall', 'shrink', 'animated', 'standard', 'filled', 'outlined']);\nconst _excluded$9 = [\"disableAnimation\", \"margin\", \"shrink\", \"variant\"];\n\nconst useUtilityClasses$9 = ownerState => {\n  const {\n    classes,\n    formControl,\n    size,\n    shrink,\n    disableAnimation,\n    variant,\n    required\n  } = ownerState;\n  const slots = {\n    root: ['root', formControl && 'formControl', !disableAnimation && 'animated', shrink && 'shrink', size === 'small' && 'sizeSmall', variant],\n    asterisk: [required && 'asterisk']\n  };\n  const composedClasses = composeClasses(slots, getInputLabelUtilityClasses, classes);\n  return _extends$4({}, classes, composedClasses);\n};\n\nconst InputLabelRoot = styled(FormLabel$1, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiInputLabel',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [{\n      [`& .${formLabelClasses$1.asterisk}`]: styles.asterisk\n    }, styles.root, ownerState.formControl && styles.formControl, ownerState.size === 'small' && styles.sizeSmall, ownerState.shrink && styles.shrink, !ownerState.disableAnimation && styles.animated, styles[ownerState.variant]];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends$4({\n  display: 'block',\n  transformOrigin: 'top left',\n  whiteSpace: 'nowrap',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  maxWidth: '100%'\n}, ownerState.formControl && {\n  position: 'absolute',\n  left: 0,\n  top: 0,\n  // slight alteration to spec spacing to match visual spec result\n  transform: 'translate(0, 20px) scale(1)'\n}, ownerState.size === 'small' && {\n  // Compensation for the `Input.inputSizeSmall` style.\n  transform: 'translate(0, 17px) scale(1)'\n}, ownerState.shrink && {\n  transform: 'translate(0, -1.5px) scale(0.75)',\n  transformOrigin: 'top left',\n  maxWidth: '133%'\n}, !ownerState.disableAnimation && {\n  transition: theme.transitions.create(['color', 'transform', 'max-width'], {\n    duration: theme.transitions.duration.shorter,\n    easing: theme.transitions.easing.easeOut\n  })\n}, ownerState.variant === 'filled' && _extends$4({\n  // Chrome's autofill feature gives the input field a yellow background.\n  // Since the input field is behind the label in the HTML tree,\n  // the input field is drawn last and hides the label with an opaque background color.\n  // zIndex: 1 will raise the label above opaque background-colors of input.\n  zIndex: 1,\n  pointerEvents: 'none',\n  transform: 'translate(12px, 16px) scale(1)',\n  maxWidth: 'calc(100% - 24px)'\n}, ownerState.size === 'small' && {\n  transform: 'translate(12px, 13px) scale(1)'\n}, ownerState.shrink && _extends$4({\n  transform: 'translate(12px, 7px) scale(0.75)',\n  maxWidth: 'calc(133% - 24px)'\n}, ownerState.size === 'small' && {\n  transform: 'translate(12px, 4px) scale(0.75)'\n})), ownerState.variant === 'outlined' && _extends$4({\n  // see comment above on filled.zIndex\n  zIndex: 1,\n  pointerEvents: 'none',\n  transform: 'translate(14px, 16px) scale(1)',\n  maxWidth: 'calc(100% - 24px)'\n}, ownerState.size === 'small' && {\n  transform: 'translate(14px, 9px) scale(1)'\n}, ownerState.shrink && {\n  maxWidth: 'calc(133% - 24px)',\n  transform: 'translate(14px, -9px) scale(0.75)'\n})));\nconst InputLabel = /*#__PURE__*/react.exports.forwardRef(function InputLabel(inProps, ref) {\n  const props = useThemeProps({\n    name: 'MuiInputLabel',\n    props: inProps\n  });\n\n  const {\n    disableAnimation = false,\n    shrink: shrinkProp\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$9);\n\n  const muiFormControl = useFormControl();\n  let shrink = shrinkProp;\n\n  if (typeof shrink === 'undefined' && muiFormControl) {\n    shrink = muiFormControl.filled || muiFormControl.focused || muiFormControl.adornedStart;\n  }\n\n  const fcs = formControlState({\n    props,\n    muiFormControl,\n    states: ['size', 'variant', 'required']\n  });\n\n  const ownerState = _extends$4({}, props, {\n    disableAnimation,\n    formControl: muiFormControl,\n    shrink,\n    size: fcs.size,\n    variant: fcs.variant,\n    required: fcs.required\n  });\n\n  const classes = useUtilityClasses$9(ownerState);\n  return /*#__PURE__*/jsxRuntime.exports.jsx(InputLabelRoot, _extends$4({\n    \"data-shrink\": shrink,\n    ownerState: ownerState,\n    ref: ref\n  }, other, {\n    classes: classes\n  }));\n});\nvar InputLabel$1 = InputLabel;\n\nfunction getNativeSelectUtilityClasses(slot) {\n  return generateUtilityClass('MuiNativeSelect', slot);\n}\n\nconst nativeSelectClasses = generateUtilityClasses('MuiNativeSelect', ['root', 'select', 'filled', 'outlined', 'standard', 'disabled', 'icon', 'iconOpen', 'iconFilled', 'iconOutlined', 'iconStandard', 'nativeInput']);\nconst _excluded$8 = [\"className\", \"disabled\", \"IconComponent\", \"inputRef\", \"variant\"];\n\nconst useUtilityClasses$8 = ownerState => {\n  const {\n    classes,\n    variant,\n    disabled,\n    open\n  } = ownerState;\n  const slots = {\n    select: ['select', variant, disabled && 'disabled'],\n    icon: ['icon', `icon${capitalize$1(variant)}`, open && 'iconOpen', disabled && 'disabled']\n  };\n  return composeClasses(slots, getNativeSelectUtilityClasses, classes);\n};\n\nconst nativeSelectSelectStyles = ({\n  ownerState,\n  theme\n}) => _extends$4({\n  MozAppearance: 'none',\n  // Reset\n  WebkitAppearance: 'none',\n  // Reset\n  // When interacting quickly, the text can end up selected.\n  // Native select can't be selected either.\n  userSelect: 'none',\n  borderRadius: 0,\n  // Reset\n  cursor: 'pointer',\n  '&:focus': {\n    // Show that it's not an text input\n    backgroundColor: theme.palette.mode === 'light' ? 'rgba(0, 0, 0, 0.05)' : 'rgba(255, 255, 255, 0.05)',\n    borderRadius: 0 // Reset Chrome style\n\n  },\n  // Remove IE11 arrow\n  '&::-ms-expand': {\n    display: 'none'\n  },\n  [`&.${nativeSelectClasses.disabled}`]: {\n    cursor: 'default'\n  },\n  '&[multiple]': {\n    height: 'auto'\n  },\n  '&:not([multiple]) option, &:not([multiple]) optgroup': {\n    backgroundColor: theme.palette.background.paper\n  },\n  // Bump specificity to allow extending custom inputs\n  '&&&': {\n    paddingRight: 24,\n    minWidth: 16 // So it doesn't collapse.\n\n  }\n}, ownerState.variant === 'filled' && {\n  '&&&': {\n    paddingRight: 32\n  }\n}, ownerState.variant === 'outlined' && {\n  borderRadius: theme.shape.borderRadius,\n  '&:focus': {\n    borderRadius: theme.shape.borderRadius // Reset the reset for Chrome style\n\n  },\n  '&&&': {\n    paddingRight: 32\n  }\n});\n\nconst NativeSelectSelect = styled('select', {\n  name: 'MuiNativeSelect',\n  slot: 'Select',\n  shouldForwardProp: rootShouldForwardProp,\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.select, styles[ownerState.variant]];\n  }\n})(nativeSelectSelectStyles);\n\nconst nativeSelectIconStyles = ({\n  ownerState,\n  theme\n}) => _extends$4({\n  // We use a position absolute over a flexbox in order to forward the pointer events\n  // to the input and to support wrapping tags..\n  position: 'absolute',\n  right: 0,\n  top: 'calc(50% - .5em)',\n  // Center vertically, height is 1em\n  pointerEvents: 'none',\n  // Don't block pointer events on the select under the icon.\n  color: theme.palette.action.active,\n  [`&.${nativeSelectClasses.disabled}`]: {\n    color: theme.palette.action.disabled\n  }\n}, ownerState.open && {\n  transform: 'rotate(180deg)'\n}, ownerState.variant === 'filled' && {\n  right: 7\n}, ownerState.variant === 'outlined' && {\n  right: 7\n});\n\nconst NativeSelectIcon = styled('svg', {\n  name: 'MuiNativeSelect',\n  slot: 'Icon',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.icon, ownerState.variant && styles[`icon${capitalize$1(ownerState.variant)}`], ownerState.open && styles.iconOpen];\n  }\n})(nativeSelectIconStyles);\n/**\n * @ignore - internal component.\n */\n\nconst NativeSelectInput = /*#__PURE__*/react.exports.forwardRef(function NativeSelectInput(props, ref) {\n  const {\n    className,\n    disabled,\n    IconComponent,\n    inputRef,\n    variant = 'standard'\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$8);\n\n  const ownerState = _extends$4({}, props, {\n    disabled,\n    variant\n  });\n\n  const classes = useUtilityClasses$8(ownerState);\n  return /*#__PURE__*/jsxRuntime.exports.jsxs(react.exports.Fragment, {\n    children: [/*#__PURE__*/jsxRuntime.exports.jsx(NativeSelectSelect, _extends$4({\n      ownerState: ownerState,\n      className: clsx(classes.select, className),\n      disabled: disabled,\n      ref: inputRef || ref\n    }, other)), props.multiple ? null : /*#__PURE__*/jsxRuntime.exports.jsx(NativeSelectIcon, {\n      as: IconComponent,\n      ownerState: ownerState,\n      className: classes.icon\n    })]\n  });\n});\nvar NativeSelectInput$1 = NativeSelectInput;\n\nfunction getSelectUtilityClasses(slot) {\n  return generateUtilityClass('MuiSelect', slot);\n}\n\nconst selectClasses = generateUtilityClasses('MuiSelect', ['root', 'select', 'filled', 'outlined', 'standard', 'disabled', 'focused', 'icon', 'iconOpen', 'iconFilled', 'iconOutlined', 'iconStandard', 'nativeInput']);\nconst _excluded$7 = [\"aria-describedby\", \"aria-label\", \"autoFocus\", \"autoWidth\", \"children\", \"className\", \"defaultValue\", \"disabled\", \"displayEmpty\", \"IconComponent\", \"inputRef\", \"labelId\", \"MenuProps\", \"multiple\", \"name\", \"onBlur\", \"onChange\", \"onClose\", \"onFocus\", \"onOpen\", \"open\", \"readOnly\", \"renderValue\", \"SelectDisplayProps\", \"tabIndex\", \"type\", \"value\", \"variant\"];\nconst SelectSelect = styled('div', {\n  name: 'MuiSelect',\n  slot: 'Select',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [// Win specificity over the input base\n    {\n      [`&.${selectClasses.select}`]: styles.select\n    }, {\n      [`&.${selectClasses.select}`]: styles[ownerState.variant]\n    }];\n  }\n})(nativeSelectSelectStyles, {\n  // Win specificity over the input base\n  [`&.${selectClasses.select}`]: {\n    height: 'auto',\n    // Resets for multiple select with chips\n    minHeight: '1.4375em',\n    // Required for select\\text-field height consistency\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden'\n  }\n});\nconst SelectIcon = styled('svg', {\n  name: 'MuiSelect',\n  slot: 'Icon',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.icon, ownerState.variant && styles[`icon${capitalize$1(ownerState.variant)}`], ownerState.open && styles.iconOpen];\n  }\n})(nativeSelectIconStyles);\nconst SelectNativeInput = styled('input', {\n  shouldForwardProp: prop => slotShouldForwardProp(prop) && prop !== 'classes',\n  name: 'MuiSelect',\n  slot: 'NativeInput',\n  overridesResolver: (props, styles) => styles.nativeInput\n})({\n  bottom: 0,\n  left: 0,\n  position: 'absolute',\n  opacity: 0,\n  pointerEvents: 'none',\n  width: '100%',\n  boxSizing: 'border-box'\n});\n\nfunction areEqualValues(a, b) {\n  if (typeof b === 'object' && b !== null) {\n    return a === b;\n  } // The value could be a number, the DOM will stringify it anyway.\n\n\n  return String(a) === String(b);\n}\n\nfunction isEmpty(display) {\n  return display == null || typeof display === 'string' && !display.trim();\n}\n\nconst useUtilityClasses$7 = ownerState => {\n  const {\n    classes,\n    variant,\n    disabled,\n    open\n  } = ownerState;\n  const slots = {\n    select: ['select', variant, disabled && 'disabled'],\n    icon: ['icon', `icon${capitalize$1(variant)}`, open && 'iconOpen', disabled && 'disabled'],\n    nativeInput: ['nativeInput']\n  };\n  return composeClasses(slots, getSelectUtilityClasses, classes);\n};\n/**\n * @ignore - internal component.\n */\n\n\nconst SelectInput = /*#__PURE__*/react.exports.forwardRef(function SelectInput(props, ref) {\n  const {\n    'aria-describedby': ariaDescribedby,\n    'aria-label': ariaLabel,\n    autoFocus,\n    autoWidth,\n    children,\n    className,\n    defaultValue,\n    disabled,\n    displayEmpty,\n    IconComponent,\n    inputRef: inputRefProp,\n    labelId,\n    MenuProps = {},\n    multiple,\n    name,\n    onBlur,\n    onChange,\n    onClose,\n    onFocus,\n    onOpen,\n    open: openProp,\n    readOnly,\n    renderValue,\n    SelectDisplayProps = {},\n    tabIndex: tabIndexProp,\n    value: valueProp,\n    variant = 'standard'\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$7);\n\n  const [value, setValueState] = useControlled({\n    controlled: valueProp,\n    default: defaultValue,\n    name: 'Select'\n  });\n  const inputRef = react.exports.useRef(null);\n  const displayRef = react.exports.useRef(null);\n  const [displayNode, setDisplayNode] = react.exports.useState(null);\n  const {\n    current: isOpenControlled\n  } = react.exports.useRef(openProp != null);\n  const [menuMinWidthState, setMenuMinWidthState] = react.exports.useState();\n  const [openState, setOpenState] = react.exports.useState(false);\n  const handleRef = useForkRef(ref, inputRefProp);\n  const handleDisplayRef = react.exports.useCallback(node => {\n    displayRef.current = node;\n\n    if (node) {\n      setDisplayNode(node);\n    }\n  }, []);\n  react.exports.useImperativeHandle(handleRef, () => ({\n    focus: () => {\n      displayRef.current.focus();\n    },\n    node: inputRef.current,\n    value\n  }), [value]);\n  react.exports.useEffect(() => {\n    if (autoFocus) {\n      displayRef.current.focus();\n    }\n  }, [autoFocus]);\n  react.exports.useEffect(() => {\n    const label = ownerDocument(displayRef.current).getElementById(labelId);\n\n    if (label) {\n      const handler = () => {\n        if (getSelection().isCollapsed) {\n          displayRef.current.focus();\n        }\n      };\n\n      label.addEventListener('click', handler);\n      return () => {\n        label.removeEventListener('click', handler);\n      };\n    }\n\n    return undefined;\n  }, [labelId]);\n\n  const update = (open, event) => {\n    if (open) {\n      if (onOpen) {\n        onOpen(event);\n      }\n    } else if (onClose) {\n      onClose(event);\n    }\n\n    if (!isOpenControlled) {\n      setMenuMinWidthState(autoWidth ? null : displayNode.clientWidth);\n      setOpenState(open);\n    }\n  };\n\n  const handleMouseDown = event => {\n    // Ignore everything but left-click\n    if (event.button !== 0) {\n      return;\n    } // Hijack the default focus behavior.\n\n\n    event.preventDefault();\n    displayRef.current.focus();\n    update(true, event);\n  };\n\n  const handleClose = event => {\n    update(false, event);\n  };\n\n  const childrenArray = react.exports.Children.toArray(children); // Support autofill.\n\n  const handleChange = event => {\n    const index = childrenArray.map(child => child.props.value).indexOf(event.target.value);\n\n    if (index === -1) {\n      return;\n    }\n\n    const child = childrenArray[index];\n    setValueState(child.props.value);\n\n    if (onChange) {\n      onChange(event, child);\n    }\n  };\n\n  const handleItemClick = child => event => {\n    let newValue; // We use the tabindex attribute to signal the available options.\n\n    if (!event.currentTarget.hasAttribute('tabindex')) {\n      return;\n    }\n\n    if (multiple) {\n      newValue = Array.isArray(value) ? value.slice() : [];\n      const itemIndex = value.indexOf(child.props.value);\n\n      if (itemIndex === -1) {\n        newValue.push(child.props.value);\n      } else {\n        newValue.splice(itemIndex, 1);\n      }\n    } else {\n      newValue = child.props.value;\n    }\n\n    if (child.props.onClick) {\n      child.props.onClick(event);\n    }\n\n    if (value !== newValue) {\n      setValueState(newValue);\n\n      if (onChange) {\n        // Redefine target to allow name and value to be read.\n        // This allows seamless integration with the most popular form libraries.\n        // https://github.com/mui-org/material-ui/issues/13485#issuecomment-676048492\n        // Clone the event to not override `target` of the original event.\n        const nativeEvent = event.nativeEvent || event;\n        const clonedEvent = new nativeEvent.constructor(nativeEvent.type, nativeEvent);\n        Object.defineProperty(clonedEvent, 'target', {\n          writable: true,\n          value: {\n            value: newValue,\n            name\n          }\n        });\n        onChange(clonedEvent, child);\n      }\n    }\n\n    if (!multiple) {\n      update(false, event);\n    }\n  };\n\n  const handleKeyDown = event => {\n    if (!readOnly) {\n      const validKeys = [' ', 'ArrowUp', 'ArrowDown', // The native select doesn't respond to enter on MacOS, but it's recommended by\n      // https://www.w3.org/TR/wai-aria-practices/examples/listbox/listbox-collapsible.html\n      'Enter'];\n\n      if (validKeys.indexOf(event.key) !== -1) {\n        event.preventDefault();\n        update(true, event);\n      }\n    }\n  };\n\n  const open = displayNode !== null && (isOpenControlled ? openProp : openState);\n\n  const handleBlur = event => {\n    // if open event.stopImmediatePropagation\n    if (!open && onBlur) {\n      // Preact support, target is read only property on a native event.\n      Object.defineProperty(event, 'target', {\n        writable: true,\n        value: {\n          value,\n          name\n        }\n      });\n      onBlur(event);\n    }\n  };\n\n  delete other['aria-invalid'];\n  let display;\n  let displaySingle;\n  const displayMultiple = [];\n  let computeDisplay = false;\n\n  if (isFilled({\n    value\n  }) || displayEmpty) {\n    if (renderValue) {\n      display = renderValue(value);\n    } else {\n      computeDisplay = true;\n    }\n  }\n\n  const items = childrenArray.map(child => {\n    if (! /*#__PURE__*/react.exports.isValidElement(child)) {\n      return null;\n    }\n\n    let selected;\n\n    if (multiple) {\n      if (!Array.isArray(value)) {\n        throw new Error(formatMuiErrorMessage(2));\n      }\n\n      selected = value.some(v => areEqualValues(v, child.props.value));\n\n      if (selected && computeDisplay) {\n        displayMultiple.push(child.props.children);\n      }\n    } else {\n      selected = areEqualValues(value, child.props.value);\n\n      if (selected && computeDisplay) {\n        displaySingle = child.props.children;\n      }\n    }\n\n    return /*#__PURE__*/react.exports.cloneElement(child, {\n      'aria-selected': selected ? 'true' : undefined,\n      onClick: handleItemClick(child),\n      onKeyUp: event => {\n        if (event.key === ' ') {\n          // otherwise our MenuItems dispatches a click event\n          // it's not behavior of the native <option> and causes\n          // the select to close immediately since we open on space keydown\n          event.preventDefault();\n        }\n\n        if (child.props.onKeyUp) {\n          child.props.onKeyUp(event);\n        }\n      },\n      role: 'option',\n      selected,\n      value: undefined,\n      // The value is most likely not a valid HTML attribute.\n      'data-value': child.props.value // Instead, we provide it as a data attribute.\n\n    });\n  });\n\n  if (computeDisplay) {\n    display = multiple ? displayMultiple.join(', ') : displaySingle;\n  } // Avoid performing a layout computation in the render method.\n\n\n  let menuMinWidth = menuMinWidthState;\n\n  if (!autoWidth && isOpenControlled && displayNode) {\n    menuMinWidth = displayNode.clientWidth;\n  }\n\n  let tabIndex;\n\n  if (typeof tabIndexProp !== 'undefined') {\n    tabIndex = tabIndexProp;\n  } else {\n    tabIndex = disabled ? null : 0;\n  }\n\n  const buttonId = SelectDisplayProps.id || (name ? `mui-component-select-${name}` : undefined);\n\n  const ownerState = _extends$4({}, props, {\n    variant,\n    value,\n    open\n  });\n\n  const classes = useUtilityClasses$7(ownerState);\n  return /*#__PURE__*/jsxRuntime.exports.jsxs(react.exports.Fragment, {\n    children: [/*#__PURE__*/jsxRuntime.exports.jsx(SelectSelect, _extends$4({\n      ref: handleDisplayRef,\n      tabIndex: tabIndex,\n      role: \"button\",\n      \"aria-disabled\": disabled ? 'true' : undefined,\n      \"aria-expanded\": open ? 'true' : 'false',\n      \"aria-haspopup\": \"listbox\",\n      \"aria-label\": ariaLabel,\n      \"aria-labelledby\": [labelId, buttonId].filter(Boolean).join(' ') || undefined,\n      \"aria-describedby\": ariaDescribedby,\n      onKeyDown: handleKeyDown,\n      onMouseDown: disabled || readOnly ? null : handleMouseDown,\n      onBlur: handleBlur,\n      onFocus: onFocus\n    }, SelectDisplayProps, {\n      ownerState: ownerState,\n      className: clsx(classes.select, className, SelectDisplayProps.className) // The id is required for proper a11y\n      ,\n      id: buttonId,\n      children: isEmpty(display) ?\n      /*#__PURE__*/\n      // notranslate needed while Google Translate will not fix zero-width space issue\n      // eslint-disable-next-line react/no-danger\n      jsxRuntime.exports.jsx(\"span\", {\n        className: \"notranslate\",\n        dangerouslySetInnerHTML: {\n          __html: '&#8203;'\n        }\n      }) : display\n    })), /*#__PURE__*/jsxRuntime.exports.jsx(SelectNativeInput, _extends$4({\n      value: Array.isArray(value) ? value.join(',') : value,\n      name: name,\n      ref: inputRef,\n      \"aria-hidden\": true,\n      onChange: handleChange,\n      tabIndex: -1,\n      disabled: disabled,\n      className: classes.nativeInput,\n      autoFocus: autoFocus,\n      ownerState: ownerState\n    }, other)), /*#__PURE__*/jsxRuntime.exports.jsx(SelectIcon, {\n      as: IconComponent,\n      className: classes.icon,\n      ownerState: ownerState\n    }), /*#__PURE__*/jsxRuntime.exports.jsx(MuiMenu, _extends$4({\n      id: `menu-${name || ''}`,\n      anchorEl: displayNode,\n      open: open,\n      onClose: handleClose,\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      transformOrigin: {\n        vertical: 'top',\n        horizontal: 'center'\n      }\n    }, MenuProps, {\n      MenuListProps: _extends$4({\n        'aria-labelledby': labelId,\n        role: 'listbox',\n        disableListWrap: true\n      }, MenuProps.MenuListProps),\n      PaperProps: _extends$4({}, MenuProps.PaperProps, {\n        style: _extends$4({\n          minWidth: menuMinWidth\n        }, MenuProps.PaperProps != null ? MenuProps.PaperProps.style : null)\n      }),\n      children: items\n    }))]\n  });\n});\nvar SelectInput$1 = SelectInput;\n\nvar _Input, _FilledInput;\n\nconst _excluded$6 = [\"autoWidth\", \"children\", \"classes\", \"className\", \"displayEmpty\", \"IconComponent\", \"id\", \"input\", \"inputProps\", \"label\", \"labelId\", \"MenuProps\", \"multiple\", \"native\", \"onClose\", \"onOpen\", \"open\", \"renderValue\", \"SelectDisplayProps\", \"variant\"],\n      _excluded2 = [\"root\"];\n\nconst useUtilityClasses$6 = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getSelectUtilityClasses, classes);\n};\n\nconst Select = /*#__PURE__*/react.exports.forwardRef(function Select(inProps, ref) {\n  const props = useThemeProps({\n    name: 'MuiSelect',\n    props: inProps\n  });\n\n  const {\n    autoWidth = false,\n    children,\n    classes: classesProp = {},\n    className,\n    displayEmpty = false,\n    IconComponent = ArrowDropDownIcon,\n    id,\n    input,\n    inputProps,\n    label,\n    labelId,\n    MenuProps,\n    multiple = false,\n    native = false,\n    onClose,\n    onOpen,\n    open,\n    renderValue,\n    SelectDisplayProps,\n    variant: variantProps = 'outlined'\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$6);\n\n  const inputComponent = native ? NativeSelectInput$1 : SelectInput$1;\n  const muiFormControl = useFormControl();\n  const fcs = formControlState({\n    props,\n    muiFormControl,\n    states: ['variant']\n  });\n  const variant = fcs.variant || variantProps;\n  const InputComponent = input || {\n    standard: _Input || (_Input = /*#__PURE__*/jsxRuntime.exports.jsx(Input$1, {})),\n    outlined: /*#__PURE__*/jsxRuntime.exports.jsx(MuiOutlinedInput, {\n      label: label\n    }),\n    filled: _FilledInput || (_FilledInput = /*#__PURE__*/jsxRuntime.exports.jsx(FilledInput$1, {}))\n  }[variant];\n\n  const ownerState = _extends$4({}, props, {\n    classes: classesProp\n  });\n\n  const classes = useUtilityClasses$6(ownerState);\n\n  const otherClasses = _objectWithoutPropertiesLoose$3(classesProp, _excluded2);\n\n  const inputComponentRef = useForkRef(ref, InputComponent.ref);\n  return /*#__PURE__*/react.exports.cloneElement(InputComponent, _extends$4({\n    // Most of the logic is implemented in `SelectInput`.\n    // The `Select` component is a simple API wrapper to expose something better to play with.\n    inputComponent,\n    inputProps: _extends$4({\n      children,\n      IconComponent,\n      variant,\n      type: undefined,\n      // We render a select. We can ignore the type provided by the `Input`.\n      multiple\n    }, native ? {\n      id\n    } : {\n      autoWidth,\n      displayEmpty,\n      labelId,\n      MenuProps,\n      onClose,\n      onOpen,\n      open,\n      renderValue,\n      SelectDisplayProps: _extends$4({\n        id\n      }, SelectDisplayProps)\n    }, inputProps, {\n      classes: inputProps ? deepmerge(otherClasses, inputProps.classes) : otherClasses\n    }, input ? input.props.inputProps : {})\n  }, multiple && native && variant === 'outlined' ? {\n    notched: true\n  } : {}, {\n    ref: inputComponentRef,\n    className: clsx(classes.root, InputComponent.props.className, className)\n  }, other));\n});\nSelect.muiName = 'Select';\nvar Select$1 = Select;\n/**\n * @ignore - internal component.\n */\n\nconst StepperContext = /*#__PURE__*/react.exports.createContext({});\nvar StepperContext$1 = StepperContext;\n/**\n * @ignore - internal component.\n */\n\nconst StepContext = /*#__PURE__*/react.exports.createContext({});\nvar StepContext$1 = StepContext;\n\nfunction getStepUtilityClass(slot) {\n  return generateUtilityClass('MuiStep', slot);\n}\n\ngenerateUtilityClasses('MuiStep', ['root', 'horizontal', 'vertical', 'alternativeLabel', 'completed']);\nconst _excluded$5 = [\"active\", \"children\", \"className\", \"completed\", \"disabled\", \"expanded\", \"index\", \"last\"];\n\nconst useUtilityClasses$5 = ownerState => {\n  const {\n    classes,\n    orientation,\n    alternativeLabel,\n    completed\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, alternativeLabel && 'alternativeLabel', completed && 'completed']\n  };\n  return composeClasses(slots, getStepUtilityClass, classes);\n};\n\nconst StepRoot = styled('div', {\n  name: 'MuiStep',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.alternativeLabel && styles.alternativeLabel, ownerState.completed && styles.completed];\n  }\n})(({\n  ownerState\n}) => _extends$4({}, ownerState.orientation === 'horizontal' && {\n  paddingLeft: 8,\n  paddingRight: 8\n}, ownerState.alternativeLabel && {\n  flex: 1,\n  position: 'relative'\n}));\nconst Step = /*#__PURE__*/react.exports.forwardRef(function Step(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStep'\n  });\n\n  const {\n    active: activeProp,\n    children,\n    className,\n    completed: completedProp,\n    disabled: disabledProp,\n    expanded = false,\n    index,\n    last\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$5);\n\n  const {\n    activeStep,\n    connector,\n    alternativeLabel,\n    orientation,\n    nonLinear\n  } = react.exports.useContext(StepperContext$1);\n  let [active = false, completed = false, disabled = false] = [activeProp, completedProp, disabledProp];\n\n  if (activeStep === index) {\n    active = activeProp !== undefined ? activeProp : true;\n  } else if (!nonLinear && activeStep > index) {\n    completed = completedProp !== undefined ? completedProp : true;\n  } else if (!nonLinear && activeStep < index) {\n    disabled = disabledProp !== undefined ? disabledProp : true;\n  }\n\n  const contextValue = react.exports.useMemo(() => ({\n    index,\n    last,\n    expanded,\n    icon: index + 1,\n    active,\n    completed,\n    disabled\n  }), [index, last, expanded, active, completed, disabled]);\n\n  const ownerState = _extends$4({}, props, {\n    active,\n    orientation,\n    alternativeLabel,\n    completed,\n    disabled,\n    expanded\n  });\n\n  const classes = useUtilityClasses$5(ownerState);\n  const newChildren = /*#__PURE__*/jsxRuntime.exports.jsxs(StepRoot, _extends$4({\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [connector && alternativeLabel && index !== 0 ? connector : null, children]\n  }));\n  return /*#__PURE__*/jsxRuntime.exports.jsx(StepContext$1.Provider, {\n    value: contextValue,\n    children: connector && !alternativeLabel && index !== 0 ? /*#__PURE__*/jsxRuntime.exports.jsxs(react.exports.Fragment, {\n      children: [connector, newChildren]\n    }) : newChildren\n  });\n});\nvar Step$1 = Step;\nvar CheckCircle = createSvgIcon( /*#__PURE__*/jsxRuntime.exports.jsx(\"path\", {\n  d: \"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z\"\n}), 'CheckCircle');\nvar Warning = createSvgIcon( /*#__PURE__*/jsxRuntime.exports.jsx(\"path\", {\n  d: \"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"\n}), 'Warning');\n\nfunction getStepIconUtilityClass(slot) {\n  return generateUtilityClass('MuiStepIcon', slot);\n}\n\nconst stepIconClasses = generateUtilityClasses('MuiStepIcon', ['root', 'active', 'completed', 'error', 'text']);\nvar stepIconClasses$1 = stepIconClasses;\n\nvar _circle;\n\nconst _excluded$4 = [\"active\", \"className\", \"completed\", \"error\", \"icon\"];\n\nconst useUtilityClasses$4 = ownerState => {\n  const {\n    classes,\n    active,\n    completed,\n    error\n  } = ownerState;\n  const slots = {\n    root: ['root', active && 'active', completed && 'completed', error && 'error'],\n    text: ['text']\n  };\n  return composeClasses(slots, getStepIconUtilityClass, classes);\n};\n\nconst StepIconRoot = styled(SvgIcon, {\n  name: 'MuiStepIcon',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme\n}) => ({\n  display: 'block',\n  transition: theme.transitions.create('color', {\n    duration: theme.transitions.duration.shortest\n  }),\n  color: theme.palette.text.disabled,\n  [`&.${stepIconClasses$1.completed}`]: {\n    color: theme.palette.primary.main\n  },\n  [`&.${stepIconClasses$1.active}`]: {\n    color: theme.palette.primary.main\n  },\n  [`&.${stepIconClasses$1.error}`]: {\n    color: theme.palette.error.main\n  }\n}));\nconst StepIconText = styled('text', {\n  name: 'MuiStepIcon',\n  slot: 'Text',\n  overridesResolver: (props, styles) => styles.text\n})(({\n  theme\n}) => ({\n  fill: theme.palette.primary.contrastText,\n  fontSize: theme.typography.caption.fontSize,\n  fontFamily: theme.typography.fontFamily\n}));\nconst StepIcon = /*#__PURE__*/react.exports.forwardRef(function StepIcon(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStepIcon'\n  });\n\n  const {\n    active = false,\n    className: classNameProp,\n    completed = false,\n    error = false,\n    icon\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$4);\n\n  const ownerState = _extends$4({}, props, {\n    active,\n    completed,\n    error\n  });\n\n  const classes = useUtilityClasses$4(ownerState);\n\n  if (typeof icon === 'number' || typeof icon === 'string') {\n    const className = clsx(classNameProp, classes.root);\n\n    if (error) {\n      return /*#__PURE__*/jsxRuntime.exports.jsx(StepIconRoot, _extends$4({\n        as: Warning,\n        className: className,\n        ref: ref,\n        ownerState: ownerState\n      }, other));\n    }\n\n    if (completed) {\n      return /*#__PURE__*/jsxRuntime.exports.jsx(StepIconRoot, _extends$4({\n        as: CheckCircle,\n        className: className,\n        ref: ref,\n        ownerState: ownerState\n      }, other));\n    }\n\n    return /*#__PURE__*/jsxRuntime.exports.jsxs(StepIconRoot, _extends$4({\n      className: className,\n      ref: ref,\n      ownerState: ownerState\n    }, other, {\n      children: [_circle || (_circle = /*#__PURE__*/jsxRuntime.exports.jsx(\"circle\", {\n        cx: \"12\",\n        cy: \"12\",\n        r: \"12\"\n      })), /*#__PURE__*/jsxRuntime.exports.jsx(StepIconText, {\n        className: classes.text,\n        x: \"12\",\n        y: \"16\",\n        textAnchor: \"middle\",\n        ownerState: ownerState,\n        children: icon\n      })]\n    }));\n  }\n\n  return icon;\n});\nvar StepIcon$1 = StepIcon;\n\nfunction getStepLabelUtilityClass(slot) {\n  return generateUtilityClass('MuiStepLabel', slot);\n}\n\nconst stepLabelClasses = generateUtilityClasses('MuiStepLabel', ['root', 'horizontal', 'vertical', 'label', 'active', 'completed', 'error', 'disabled', 'iconContainer', 'alternativeLabel', 'labelContainer']);\nvar stepLabelClasses$1 = stepLabelClasses;\nconst _excluded$3 = [\"children\", \"className\", \"componentsProps\", \"error\", \"icon\", \"optional\", \"StepIconComponent\", \"StepIconProps\"];\n\nconst useUtilityClasses$3 = ownerState => {\n  const {\n    classes,\n    orientation,\n    active,\n    completed,\n    error,\n    disabled,\n    alternativeLabel\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, error && 'error', disabled && 'disabled', alternativeLabel && 'alternativeLabel'],\n    label: ['label', active && 'active', completed && 'completed', error && 'error', disabled && 'disabled', alternativeLabel && 'alternativeLabel'],\n    iconContainer: ['iconContainer', alternativeLabel && 'alternativeLabel'],\n    labelContainer: ['labelContainer']\n  };\n  return composeClasses(slots, getStepLabelUtilityClass, classes);\n};\n\nconst StepLabelRoot = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation]];\n  }\n})(({\n  ownerState\n}) => _extends$4({\n  display: 'flex',\n  alignItems: 'center',\n  [`&.${stepLabelClasses$1.alternativeLabel}`]: {\n    flexDirection: 'column'\n  },\n  [`&.${stepLabelClasses$1.disabled}`]: {\n    cursor: 'default'\n  }\n}, ownerState.orientation === 'vertical' && {\n  textAlign: 'left',\n  padding: '8px 0'\n}));\nconst StepLabelLabel = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'Label',\n  overridesResolver: (props, styles) => styles.label\n})(({\n  theme\n}) => _extends$4({}, theme.typography.body2, {\n  display: 'block',\n  transition: theme.transitions.create('color', {\n    duration: theme.transitions.duration.shortest\n  }),\n  [`&.${stepLabelClasses$1.active}`]: {\n    color: theme.palette.text.primary,\n    fontWeight: 500\n  },\n  [`&.${stepLabelClasses$1.completed}`]: {\n    color: theme.palette.text.primary,\n    fontWeight: 500\n  },\n  [`&.${stepLabelClasses$1.alternativeLabel}`]: {\n    textAlign: 'center',\n    marginTop: 16\n  },\n  [`&.${stepLabelClasses$1.error}`]: {\n    color: theme.palette.error.main\n  }\n}));\nconst StepLabelIconContainer = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'IconContainer',\n  overridesResolver: (props, styles) => styles.iconContainer\n})(() => ({\n  flexShrink: 0,\n  // Fix IE11 issue\n  display: 'flex',\n  paddingRight: 8,\n  [`&.${stepLabelClasses$1.alternativeLabel}`]: {\n    paddingRight: 0\n  }\n}));\nconst StepLabelLabelContainer = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'LabelContainer',\n  overridesResolver: (props, styles) => styles.labelContainer\n})(({\n  theme\n}) => ({\n  width: '100%',\n  color: theme.palette.text.secondary\n}));\nconst StepLabel = /*#__PURE__*/react.exports.forwardRef(function StepLabel(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStepLabel'\n  });\n\n  const {\n    children,\n    className,\n    componentsProps = {},\n    error = false,\n    icon: iconProp,\n    optional,\n    StepIconComponent: StepIconComponentProp,\n    StepIconProps\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$3);\n\n  const {\n    alternativeLabel,\n    orientation\n  } = react.exports.useContext(StepperContext$1);\n  const {\n    active,\n    disabled,\n    completed,\n    icon: iconContext\n  } = react.exports.useContext(StepContext$1);\n  const icon = iconProp || iconContext;\n  let StepIconComponent = StepIconComponentProp;\n\n  if (icon && !StepIconComponent) {\n    StepIconComponent = StepIcon$1;\n  }\n\n  const ownerState = _extends$4({}, props, {\n    active,\n    alternativeLabel,\n    completed,\n    disabled,\n    error,\n    orientation\n  });\n\n  const classes = useUtilityClasses$3(ownerState);\n  return /*#__PURE__*/jsxRuntime.exports.jsxs(StepLabelRoot, _extends$4({\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [icon || StepIconComponent ? /*#__PURE__*/jsxRuntime.exports.jsx(StepLabelIconContainer, {\n      className: classes.iconContainer,\n      ownerState: ownerState,\n      children: /*#__PURE__*/jsxRuntime.exports.jsx(StepIconComponent, _extends$4({\n        completed: completed,\n        active: active,\n        error: error,\n        icon: icon\n      }, StepIconProps))\n    }) : null, /*#__PURE__*/jsxRuntime.exports.jsxs(StepLabelLabelContainer, {\n      className: classes.labelContainer,\n      ownerState: ownerState,\n      children: [children ? /*#__PURE__*/jsxRuntime.exports.jsx(StepLabelLabel, _extends$4({\n        className: classes.label,\n        ownerState: ownerState\n      }, componentsProps.label, {\n        children: children\n      })) : null, optional]\n    })]\n  }));\n});\nStepLabel.muiName = 'StepLabel';\nvar StepLabel$1 = StepLabel;\n\nfunction getStepConnectorUtilityClass(slot) {\n  return generateUtilityClass('MuiStepConnector', slot);\n}\n\ngenerateUtilityClasses('MuiStepConnector', ['root', 'horizontal', 'vertical', 'alternativeLabel', 'active', 'completed', 'disabled', 'line', 'lineHorizontal', 'lineVertical']);\nconst _excluded$2 = [\"className\"];\n\nconst useUtilityClasses$2 = ownerState => {\n  const {\n    classes,\n    orientation,\n    alternativeLabel,\n    active,\n    completed,\n    disabled\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, alternativeLabel && 'alternativeLabel', active && 'active', completed && 'completed', disabled && 'disabled'],\n    line: ['line', `line${capitalize$1(orientation)}`]\n  };\n  return composeClasses(slots, getStepConnectorUtilityClass, classes);\n};\n\nconst StepConnectorRoot = styled('div', {\n  name: 'MuiStepConnector',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.alternativeLabel && styles.alternativeLabel, ownerState.completed && styles.completed];\n  }\n})(({\n  ownerState\n}) => _extends$4({\n  flex: '1 1 auto'\n}, ownerState.orientation === 'vertical' && {\n  marginLeft: 12 // half icon\n\n}, ownerState.alternativeLabel && {\n  position: 'absolute',\n  top: 8 + 4,\n  left: 'calc(-50% + 20px)',\n  right: 'calc(50% + 20px)'\n}));\nconst StepConnectorLine = styled('span', {\n  name: 'MuiStepConnector',\n  slot: 'Line',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.line, styles[`line${capitalize$1(ownerState.orientation)}`]];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends$4({\n  display: 'block',\n  borderColor: theme.palette.mode === 'light' ? theme.palette.grey[400] : theme.palette.grey[600]\n}, ownerState.orientation === 'horizontal' && {\n  borderTopStyle: 'solid',\n  borderTopWidth: 1\n}, ownerState.orientation === 'vertical' && {\n  borderLeftStyle: 'solid',\n  borderLeftWidth: 1,\n  minHeight: 24\n}));\nconst StepConnector = /*#__PURE__*/react.exports.forwardRef(function StepConnector(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStepConnector'\n  });\n\n  const {\n    className\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$2);\n\n  const {\n    alternativeLabel,\n    orientation = 'horizontal'\n  } = react.exports.useContext(StepperContext$1);\n  const {\n    active,\n    disabled,\n    completed\n  } = react.exports.useContext(StepContext$1);\n\n  const ownerState = _extends$4({}, props, {\n    alternativeLabel,\n    orientation,\n    active,\n    completed,\n    disabled\n  });\n\n  const classes = useUtilityClasses$2(ownerState);\n  return /*#__PURE__*/jsxRuntime.exports.jsx(StepConnectorRoot, _extends$4({\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: /*#__PURE__*/jsxRuntime.exports.jsx(StepConnectorLine, {\n      className: classes.line,\n      ownerState: ownerState\n    })\n  }));\n});\nvar StepConnector$1 = StepConnector;\n\nfunction getStepperUtilityClass(slot) {\n  return generateUtilityClass('MuiStepper', slot);\n}\n\ngenerateUtilityClasses('MuiStepper', ['root', 'horizontal', 'vertical', 'alternativeLabel']);\nconst _excluded$1 = [\"activeStep\", \"alternativeLabel\", \"children\", \"className\", \"connector\", \"nonLinear\", \"orientation\"];\n\nconst useUtilityClasses$1 = ownerState => {\n  const {\n    orientation,\n    alternativeLabel,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, alternativeLabel && 'alternativeLabel']\n  };\n  return composeClasses(slots, getStepperUtilityClass, classes);\n};\n\nconst StepperRoot = styled('div', {\n  name: 'MuiStepper',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.alternativeLabel && styles.alternativeLabel];\n  }\n})(({\n  ownerState\n}) => _extends$4({\n  display: 'flex'\n}, ownerState.orientation === 'horizontal' && {\n  flexDirection: 'row',\n  alignItems: 'center'\n}, ownerState.orientation === 'vertical' && {\n  flexDirection: 'column'\n}, ownerState.alternativeLabel && {\n  alignItems: 'flex-start'\n}));\nconst defaultConnector = /*#__PURE__*/jsxRuntime.exports.jsx(StepConnector$1, {});\nconst Stepper = /*#__PURE__*/react.exports.forwardRef(function Stepper(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStepper'\n  });\n\n  const {\n    activeStep = 0,\n    alternativeLabel = false,\n    children,\n    className,\n    connector = defaultConnector,\n    nonLinear = false,\n    orientation = 'horizontal'\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$1);\n\n  const ownerState = _extends$4({}, props, {\n    alternativeLabel,\n    orientation\n  });\n\n  const classes = useUtilityClasses$1(ownerState);\n  const childrenArray = react.exports.Children.toArray(children).filter(Boolean);\n  const steps = childrenArray.map((step, index) => {\n    return /*#__PURE__*/react.exports.cloneElement(step, _extends$4({\n      index,\n      last: index + 1 === childrenArray.length\n    }, step.props));\n  });\n  const contextValue = react.exports.useMemo(() => ({\n    activeStep,\n    alternativeLabel,\n    connector,\n    nonLinear,\n    orientation\n  }), [activeStep, alternativeLabel, connector, nonLinear, orientation]);\n  return /*#__PURE__*/jsxRuntime.exports.jsx(StepperContext$1.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/jsxRuntime.exports.jsx(StepperRoot, _extends$4({\n      ownerState: ownerState,\n      className: clsx(classes.root, className),\n      ref: ref\n    }, other, {\n      children: steps\n    }))\n  });\n});\nvar Stepper$1 = Stepper;\n\nfunction getTextFieldUtilityClass(slot) {\n  return generateUtilityClass('MuiTextField', slot);\n}\n\ngenerateUtilityClasses('MuiTextField', ['root']);\nconst _excluded = [\"autoComplete\", \"autoFocus\", \"children\", \"className\", \"color\", \"defaultValue\", \"disabled\", \"error\", \"FormHelperTextProps\", \"fullWidth\", \"helperText\", \"id\", \"InputLabelProps\", \"inputProps\", \"InputProps\", \"inputRef\", \"label\", \"maxRows\", \"minRows\", \"multiline\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"placeholder\", \"required\", \"rows\", \"select\", \"SelectProps\", \"type\", \"value\", \"variant\"];\nconst variantComponent = {\n  standard: Input$1,\n  filled: FilledInput$1,\n  outlined: MuiOutlinedInput\n};\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getTextFieldUtilityClass, classes);\n};\n\nconst TextFieldRoot = styled(FormControl$1, {\n  name: 'MuiTextField',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})({});\n/**\n * The `TextField` is a convenience wrapper for the most common cases (80%).\n * It cannot be all things to all people, otherwise the API would grow out of control.\n *\n * ## Advanced Configuration\n *\n * It's important to understand that the text field is a simple abstraction\n * on top of the following components:\n *\n * - [FormControl](/api/form-control/)\n * - [InputLabel](/api/input-label/)\n * - [FilledInput](/api/filled-input/)\n * - [OutlinedInput](/api/outlined-input/)\n * - [Input](/api/input/)\n * - [FormHelperText](/api/form-helper-text/)\n *\n * If you wish to alter the props applied to the `input` element, you can do so as follows:\n *\n * ```jsx\n * const inputProps = {\n *   step: 300,\n * };\n *\n * return <TextField id=\"time\" type=\"time\" inputProps={inputProps} />;\n * ```\n *\n * For advanced cases, please look at the source of TextField by clicking on the\n * \"Edit this page\" button above. Consider either:\n *\n * - using the upper case props for passing values directly to the components\n * - using the underlying components directly as shown in the demos\n */\n\nconst TextField = /*#__PURE__*/react.exports.forwardRef(function TextField(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiTextField'\n  });\n\n  const {\n    autoComplete,\n    autoFocus = false,\n    children,\n    className,\n    color = 'primary',\n    defaultValue,\n    disabled = false,\n    error = false,\n    FormHelperTextProps,\n    fullWidth = false,\n    helperText,\n    id,\n    InputLabelProps,\n    inputProps,\n    InputProps,\n    inputRef,\n    label,\n    maxRows,\n    minRows,\n    multiline = false,\n    name,\n    onBlur,\n    onChange,\n    onFocus,\n    placeholder,\n    required = false,\n    rows,\n    select = false,\n    SelectProps,\n    type,\n    value,\n    variant = 'outlined'\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded);\n\n  const ownerState = _extends$4({}, props, {\n    autoFocus,\n    color,\n    disabled,\n    error,\n    fullWidth,\n    multiline,\n    required,\n    select,\n    variant\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const InputMore = {};\n\n  if (variant === 'outlined') {\n    if (InputLabelProps && typeof InputLabelProps.shrink !== 'undefined') {\n      InputMore.notched = InputLabelProps.shrink;\n    }\n\n    if (label) {\n      var _InputLabelProps$requ;\n\n      const displayRequired = (_InputLabelProps$requ = InputLabelProps == null ? void 0 : InputLabelProps.required) != null ? _InputLabelProps$requ : required;\n      InputMore.label = /*#__PURE__*/jsxRuntime.exports.jsxs(react.exports.Fragment, {\n        children: [label, displayRequired && '\\u00a0*']\n      });\n    }\n  }\n\n  if (select) {\n    // unset defaults from textbox inputs\n    if (!SelectProps || !SelectProps.native) {\n      InputMore.id = undefined;\n    }\n\n    InputMore['aria-describedby'] = undefined;\n  }\n\n  const helperTextId = helperText && id ? `${id}-helper-text` : undefined;\n  const inputLabelId = label && id ? `${id}-label` : undefined;\n  const InputComponent = variantComponent[variant];\n  const InputElement = /*#__PURE__*/jsxRuntime.exports.jsx(InputComponent, _extends$4({\n    \"aria-describedby\": helperTextId,\n    autoComplete: autoComplete,\n    autoFocus: autoFocus,\n    defaultValue: defaultValue,\n    fullWidth: fullWidth,\n    multiline: multiline,\n    name: name,\n    rows: rows,\n    maxRows: maxRows,\n    minRows: minRows,\n    type: type,\n    value: value,\n    id: id,\n    inputRef: inputRef,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    placeholder: placeholder,\n    inputProps: inputProps\n  }, InputMore, InputProps));\n  return /*#__PURE__*/jsxRuntime.exports.jsxs(TextFieldRoot, _extends$4({\n    className: clsx(classes.root, className),\n    disabled: disabled,\n    error: error,\n    fullWidth: fullWidth,\n    ref: ref,\n    required: required,\n    color: color,\n    variant: variant,\n    ownerState: ownerState\n  }, other, {\n    children: [label && /*#__PURE__*/jsxRuntime.exports.jsx(InputLabel$1, _extends$4({\n      htmlFor: id,\n      id: inputLabelId\n    }, InputLabelProps, {\n      children: label\n    })), select ? /*#__PURE__*/jsxRuntime.exports.jsx(Select$1, _extends$4({\n      \"aria-describedby\": helperTextId,\n      id: id,\n      labelId: inputLabelId,\n      value: value,\n      input: InputElement\n    }, SelectProps, {\n      children: children\n    })) : InputElement, helperText && /*#__PURE__*/jsxRuntime.exports.jsx(FormHelperText, _extends$4({\n      id: helperTextId\n    }, FormHelperTextProps, {\n      children: helperText\n    }))]\n  }));\n});\nvar TextField$1 = TextField;\nvar ManageAccounts = createSvgIcon([/*#__PURE__*/jsxRuntime.exports.jsx(\"circle\", {\n  cx: \"10\",\n  cy: \"8\",\n  r: \"4\"\n}, \"0\"), /*#__PURE__*/jsxRuntime.exports.jsx(\"path\", {\n  d: \"M10.67 13.02c-.22-.01-.44-.02-.67-.02-2.42 0-4.68.67-6.61 1.82-.88.52-1.39 1.5-1.39 2.53V20h9.26c-.79-1.13-1.26-2.51-1.26-4 0-1.07.25-2.07.67-2.98zM20.75 16c0-.22-.03-.42-.06-.63l1.14-1.01-1-1.73-1.45.49c-.32-.27-.68-.48-1.08-.63L18 11h-2l-.3 1.49c-.4.15-.76.36-1.08.63l-1.45-.49-1 1.73 1.14 1.01c-.03.21-.06.41-.06.63s.03.42.06.63l-1.14 1.01 1 1.73 1.45-.49c.32.27.68.48 1.08.63L16 21h2l.3-1.49c.4-.15.76-.36 1.08-.63l1.45.49 1-1.73-1.14-1.01c.03-.21.06-.41.06-.63zM17 18c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z\"\n}, \"1\")], 'ManageAccounts');\nvar TuneRounded = createSvgIcon( /*#__PURE__*/jsxRuntime.exports.jsx(\"path\", {\n  d: \"M3 18c0 .55.45 1 1 1h5v-2H4c-.55 0-1 .45-1 1zM3 6c0 .55.45 1 1 1h9V5H4c-.55 0-1 .45-1 1zm10 14v-1h7c.55 0 1-.45 1-1s-.45-1-1-1h-7v-1c0-.55-.45-1-1-1s-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1zM7 10v1H4c-.55 0-1 .45-1 1s.45 1 1 1h3v1c0 .55.45 1 1 1s1-.45 1-1v-4c0-.55-.45-1-1-1s-1 .45-1 1zm14 2c0-.55-.45-1-1-1h-9v2h9c.55 0 1-.45 1-1zm-5-3c.55 0 1-.45 1-1V7h3c.55 0 1-.45 1-1s-.45-1-1-1h-3V4c0-.55-.45-1-1-1s-1 .45-1 1v4c0 .55.45 1 1 1z\"\n}), 'TuneRounded');\n\nfunction _extends$3() {\n  _extends$3 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$3.apply(this, arguments);\n}\n\nfunction create(type) {\n  return new ArraySchema(type);\n}\n\nclass ArraySchema extends BaseSchema {\n  constructor(type) {\n    super({\n      type: 'array'\n    }); // `undefined` specifically means uninitialized, as opposed to\n    // \"no subtype\"\n\n    this.innerType = type;\n    this.withMutation(() => {\n      this.transform(function (values) {\n        if (typeof values === 'string') try {\n          values = JSON.parse(values);\n        } catch (err) {\n          values = null;\n        }\n        return this.isType(values) ? values : null;\n      });\n    });\n  }\n\n  _typeCheck(v) {\n    return Array.isArray(v);\n  }\n\n  get _subType() {\n    return this.innerType;\n  }\n\n  _cast(_value, _opts) {\n    const value = super._cast(_value, _opts); //should ignore nulls here\n\n\n    if (!this._typeCheck(value) || !this.innerType) return value;\n    let isChanged = false;\n    const castArray = value.map((v, idx) => {\n      const castElement = this.innerType.cast(v, _extends$3({}, _opts, {\n        path: `${_opts.path || ''}[${idx}]`\n      }));\n\n      if (castElement !== v) {\n        isChanged = true;\n      }\n\n      return castElement;\n    });\n    return isChanged ? castArray : value;\n  }\n\n  _validate(_value, options = {}, callback) {\n    var _options$abortEarly, _options$recursive;\n\n    let errors = [];\n    let sync = options.sync;\n    let path = options.path;\n    let innerType = this.innerType;\n    let endEarly = (_options$abortEarly = options.abortEarly) != null ? _options$abortEarly : this.spec.abortEarly;\n    let recursive = (_options$recursive = options.recursive) != null ? _options$recursive : this.spec.recursive;\n    let originalValue = options.originalValue != null ? options.originalValue : _value;\n\n    super._validate(_value, options, (err, value) => {\n      if (err) {\n        if (!ValidationError.isError(err) || endEarly) {\n          return void callback(err, value);\n        }\n\n        errors.push(err);\n      }\n\n      if (!recursive || !innerType || !this._typeCheck(value)) {\n        callback(errors[0] || null, value);\n        return;\n      }\n\n      originalValue = originalValue || value; // #950 Ensure that sparse array empty slots are validated\n\n      let tests = new Array(value.length);\n\n      for (let idx = 0; idx < value.length; idx++) {\n        let item = value[idx];\n        let path = `${options.path || ''}[${idx}]`; // object._validate note for isStrict explanation\n\n        let innerOptions = _extends$3({}, options, {\n          path,\n          strict: true,\n          parent: value,\n          index: idx,\n          originalValue: originalValue[idx]\n        });\n\n        tests[idx] = (_, cb) => innerType.validate(item, innerOptions, cb);\n      }\n\n      runTests({\n        sync,\n        path,\n        value,\n        errors,\n        endEarly,\n        tests\n      }, callback);\n    });\n  }\n\n  clone(spec) {\n    const next = super.clone(spec);\n    next.innerType = this.innerType;\n    return next;\n  }\n\n  concat(schema) {\n    let next = super.concat(schema);\n    next.innerType = this.innerType;\n    if (schema.innerType) next.innerType = next.innerType ? // @ts-expect-error Lazy doesn't have concat()\n    next.innerType.concat(schema.innerType) : schema.innerType;\n    return next;\n  }\n\n  of(schema) {\n    // FIXME: this should return a new instance of array without the default to be\n    let next = this.clone();\n    if (!isSchema(schema)) throw new TypeError('`array.of()` sub-schema must be a valid yup schema not: ' + printValue(schema)); // FIXME(ts):\n\n    next.innerType = schema;\n    return next;\n  }\n\n  length(length, message = array.length) {\n    return this.test({\n      message,\n      name: 'length',\n      exclusive: true,\n      params: {\n        length\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length === this.resolve(length);\n      }\n\n    });\n  }\n\n  min(min, message) {\n    message = message || array.min;\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      // FIXME(ts): Array<typeof T>\n      test(value) {\n        return isAbsent(value) || value.length >= this.resolve(min);\n      }\n\n    });\n  }\n\n  max(max, message) {\n    message = message || array.max;\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length <= this.resolve(max);\n      }\n\n    });\n  }\n\n  ensure() {\n    return this.default(() => []).transform((val, original) => {\n      // We don't want to return `null` for nullable schema\n      if (this._typeCheck(val)) return val;\n      return original == null ? [] : [].concat(original);\n    });\n  }\n\n  compact(rejector) {\n    let reject = !rejector ? v => !!v : (v, i, a) => !rejector(v, i, a);\n    return this.transform(values => values != null ? values.filter(reject) : values);\n  }\n\n  describe() {\n    let base = super.describe();\n    if (this.innerType) base.innerType = this.innerType.describe();\n    return base;\n  }\n\n  nullable(isNullable = true) {\n    return super.nullable(isNullable);\n  }\n\n  defined() {\n    return super.defined();\n  }\n\n  required(msg) {\n    return super.required(msg);\n  }\n\n}\n\ncreate.prototype = ArraySchema.prototype; //\n// Interfaces\n//\n\nfunction _typeof$1(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof$1 = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof$1 = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof$1(obj);\n}\n\nfunction _objectWithoutPropertiesLoose$2(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose$2(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar isUnknownObject = function isUnknownObject(raw) {\n  return raw !== null && _typeof$1(raw) === 'object';\n};\n\nvar isPromise = function isPromise(raw) {\n  return isUnknownObject(raw) && typeof raw.then === 'function';\n}; // We are using types to enforce the `stripe` prop in this lib,\n// but in an untyped integration `stripe` could be anything, so we need\n// to do some sanity validation to prevent type errors.\n\n\nvar isStripe = function isStripe(raw) {\n  return isUnknownObject(raw) && typeof raw.elements === 'function' && typeof raw.createToken === 'function' && typeof raw.createPaymentMethod === 'function' && typeof raw.confirmCardPayment === 'function';\n};\n\nvar PLAIN_OBJECT_STR = '[object Object]';\n\nvar isEqual = function isEqual(left, right) {\n  if (!isUnknownObject(left) || !isUnknownObject(right)) {\n    return left === right;\n  }\n\n  var leftArray = Array.isArray(left);\n  var rightArray = Array.isArray(right);\n  if (leftArray !== rightArray) return false;\n  var leftPlainObject = Object.prototype.toString.call(left) === PLAIN_OBJECT_STR;\n  var rightPlainObject = Object.prototype.toString.call(right) === PLAIN_OBJECT_STR;\n  if (leftPlainObject !== rightPlainObject) return false;\n  if (!leftPlainObject && !leftArray) return false;\n  var leftKeys = Object.keys(left);\n  var rightKeys = Object.keys(right);\n  if (leftKeys.length !== rightKeys.length) return false;\n  var keySet = {};\n\n  for (var i = 0; i < leftKeys.length; i += 1) {\n    keySet[leftKeys[i]] = true;\n  }\n\n  for (var _i = 0; _i < rightKeys.length; _i += 1) {\n    keySet[rightKeys[_i]] = true;\n  }\n\n  var allKeys = Object.keys(keySet);\n\n  if (allKeys.length !== leftKeys.length) {\n    return false;\n  }\n\n  var l = left;\n  var r = right;\n\n  var pred = function pred(key) {\n    return isEqual(l[key], r[key]);\n  };\n\n  return allKeys.every(pred);\n};\n\nvar usePrevious = function usePrevious(value) {\n  var ref = React.useRef(value);\n  React.useEffect(function () {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n};\n\nvar INVALID_STRIPE_ERROR = 'Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.'; // We are using types to enforce the `stripe` prop in this lib, but in a real\n// integration `stripe` could be anything, so we need to do some sanity\n// validation to prevent type errors.\n\nvar validateStripe = function validateStripe(maybeStripe) {\n  if (maybeStripe === null || isStripe(maybeStripe)) {\n    return maybeStripe;\n  }\n\n  throw new Error(INVALID_STRIPE_ERROR);\n};\n\nvar parseStripeProp = function parseStripeProp(raw) {\n  if (isPromise(raw)) {\n    return {\n      tag: 'async',\n      stripePromise: Promise.resolve(raw).then(validateStripe)\n    };\n  }\n\n  var stripe = validateStripe(raw);\n\n  if (stripe === null) {\n    return {\n      tag: 'empty'\n    };\n  }\n\n  return {\n    tag: 'sync',\n    stripe: stripe\n  };\n};\n\nvar ElementsContext = /*#__PURE__*/React.createContext(null);\nElementsContext.displayName = 'ElementsContext';\n\nvar parseElementsContext = function parseElementsContext(ctx, useCase) {\n  if (!ctx) {\n    throw new Error(\"Could not find Elements context; You need to wrap the part of your app that \".concat(useCase, \" in an <Elements> provider.\"));\n  }\n\n  return ctx;\n};\n/**\n * The `Elements` provider allows you to use [Element components](https://stripe.com/docs/stripe-js/react#element-components) and access the [Stripe object](https://stripe.com/docs/js/initializing) in any nested component.\n * Render an `Elements` provider at the root of your React app so that it is available everywhere you need it.\n *\n * To use the `Elements` provider, call `loadStripe` from `@stripe/stripe-js` with your publishable key.\n * The `loadStripe` function will asynchronously load the Stripe.js script and initialize a `Stripe` object.\n * Pass the returned `Promise` to `Elements`.\n *\n * @docs https://stripe.com/docs/stripe-js/react#elements-provider\n */\n\n\nvar Elements = function Elements(_ref) {\n  var rawStripeProp = _ref.stripe,\n      options = _ref.options,\n      children = _ref.children;\n\n  var _final = React.useRef(false);\n\n  var isMounted = React.useRef(true);\n  var parsed = React.useMemo(function () {\n    return parseStripeProp(rawStripeProp);\n  }, [rawStripeProp]);\n\n  var _React$useState = React.useState(function () {\n    return {\n      stripe: null,\n      elements: null\n    };\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      ctx = _React$useState2[0],\n      setContext = _React$useState2[1];\n\n  var prevStripe = usePrevious(rawStripeProp);\n  var prevOptions = usePrevious(options);\n\n  if (prevStripe !== null) {\n    if (prevStripe !== rawStripeProp) {\n      console.warn('Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.');\n    }\n\n    if (!isEqual(options, prevOptions)) {\n      console.warn('Unsupported prop change on Elements: You cannot change the `options` prop after setting the `stripe` prop.');\n    }\n  }\n\n  if (!_final.current) {\n    if (parsed.tag === 'sync') {\n      _final.current = true;\n      setContext({\n        stripe: parsed.stripe,\n        elements: parsed.stripe.elements(options)\n      });\n    }\n\n    if (parsed.tag === 'async') {\n      _final.current = true;\n      parsed.stripePromise.then(function (stripe) {\n        if (stripe && isMounted.current) {\n          // Only update Elements context if the component is still mounted\n          // and stripe is not null. We allow stripe to be null to make\n          // handling SSR easier.\n          setContext({\n            stripe: stripe,\n            elements: stripe.elements(options)\n          });\n        }\n      });\n    }\n  }\n\n  React.useEffect(function () {\n    return function () {\n      isMounted.current = false;\n    };\n  }, []);\n  React.useEffect(function () {\n    var anyStripe = ctx.stripe;\n\n    if (!anyStripe || !anyStripe._registerWrapper || !anyStripe.registerAppInfo) {\n      return;\n    }\n\n    anyStripe._registerWrapper({\n      name: 'react-stripe-js',\n      version: \"1.4.1\"\n    });\n\n    anyStripe.registerAppInfo({\n      name: 'react-stripe-js',\n      version: \"1.4.1\",\n      url: 'https://stripe.com/docs/stripe-js/react'\n    });\n  }, [ctx.stripe]);\n  return /*#__PURE__*/React.createElement(ElementsContext.Provider, {\n    value: ctx\n  }, children);\n};\n\nElements.propTypes = {\n  stripe: PropTypes.any,\n  options: PropTypes.object\n};\n\nvar useElementsContextWithUseCase = function useElementsContextWithUseCase(useCaseMessage) {\n  var ctx = React.useContext(ElementsContext);\n  return parseElementsContext(ctx, useCaseMessage);\n};\n/**\n * @docs https://stripe.com/docs/stripe-js/react#useelements-hook\n */\n\n\nvar useElements = function useElements() {\n  var _useElementsContextWi = useElementsContextWithUseCase('calls useElements()'),\n      elements = _useElementsContextWi.elements;\n\n  return elements;\n};\n/**\n * @docs https://stripe.com/docs/stripe-js/react#usestripe-hook\n */\n\n\nvar useStripe = function useStripe() {\n  var _useElementsContextWi2 = useElementsContextWithUseCase('calls useStripe()'),\n      stripe = _useElementsContextWi2.stripe;\n\n  return stripe;\n};\n/**\n * @docs https://stripe.com/docs/stripe-js/react#elements-consumer\n */\n\n\nvar ElementsConsumer = function ElementsConsumer(_ref2) {\n  var children = _ref2.children;\n  var ctx = useElementsContextWithUseCase('mounts <ElementsConsumer>'); // Assert to satisfy the busted React.FC return type (it should be ReactNode)\n\n  return children(ctx);\n};\n\nElementsConsumer.propTypes = {\n  children: PropTypes.func.isRequired\n};\n\nvar useCallbackReference = function useCallbackReference(cb) {\n  var ref = React.useRef(cb);\n  React.useEffect(function () {\n    ref.current = cb;\n  }, [cb]);\n  return function () {\n    if (ref.current) {\n      ref.current.apply(ref, arguments);\n    }\n  };\n};\n\nvar extractUpdateableOptions = function extractUpdateableOptions(options) {\n  if (!isUnknownObject(options)) {\n    return {};\n  }\n\n  options.paymentRequest;\n\n  var rest = _objectWithoutProperties(options, [\"paymentRequest\"]);\n\n  return rest;\n};\n\nvar noop$1 = function noop() {};\n\nvar capitalized = function capitalized(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n};\n\nvar createElementComponent = function createElementComponent(type, isServer) {\n  var displayName = \"\".concat(capitalized(type), \"Element\");\n\n  var ClientElement = function ClientElement(_ref) {\n    var id = _ref.id,\n        className = _ref.className,\n        _ref$options = _ref.options,\n        options = _ref$options === void 0 ? {} : _ref$options,\n        _ref$onBlur = _ref.onBlur,\n        onBlur = _ref$onBlur === void 0 ? noop$1 : _ref$onBlur,\n        _ref$onFocus = _ref.onFocus,\n        onFocus = _ref$onFocus === void 0 ? noop$1 : _ref$onFocus,\n        _ref$onReady = _ref.onReady,\n        onReady = _ref$onReady === void 0 ? noop$1 : _ref$onReady,\n        _ref$onChange = _ref.onChange,\n        onChange = _ref$onChange === void 0 ? noop$1 : _ref$onChange,\n        _ref$onEscape = _ref.onEscape,\n        onEscape = _ref$onEscape === void 0 ? noop$1 : _ref$onEscape,\n        _ref$onClick = _ref.onClick,\n        onClick = _ref$onClick === void 0 ? noop$1 : _ref$onClick;\n\n    var _useElementsContextWi = useElementsContextWithUseCase(\"mounts <\".concat(displayName, \">\")),\n        elements = _useElementsContextWi.elements;\n\n    var elementRef = React.useRef(null);\n    var domNode = React.useRef(null);\n    var callOnReady = useCallbackReference(onReady);\n    var callOnBlur = useCallbackReference(onBlur);\n    var callOnFocus = useCallbackReference(onFocus);\n    var callOnClick = useCallbackReference(onClick);\n    var callOnChange = useCallbackReference(onChange);\n    var callOnEscape = useCallbackReference(onEscape);\n    React.useLayoutEffect(function () {\n      if (elementRef.current == null && elements && domNode.current != null) {\n        var element = elements.create(type, options);\n        elementRef.current = element;\n        element.mount(domNode.current);\n        element.on('ready', function () {\n          return callOnReady(element);\n        });\n        element.on('change', callOnChange);\n        element.on('blur', callOnBlur);\n        element.on('focus', callOnFocus);\n        element.on('escape', callOnEscape); // Users can pass an an onClick prop on any Element component\n        // just as they could listen for the `click` event on any Element,\n        // but only the PaymentRequestButton will actually trigger the event.\n\n        element.on('click', callOnClick);\n      }\n    });\n    var prevOptions = React.useRef(options);\n    React.useEffect(function () {\n      if (prevOptions.current && prevOptions.current.paymentRequest !== options.paymentRequest) {\n        console.warn('Unsupported prop change: options.paymentRequest is not a customizable property.');\n      }\n\n      var updateableOptions = extractUpdateableOptions(options);\n\n      if (Object.keys(updateableOptions).length !== 0 && !isEqual(updateableOptions, extractUpdateableOptions(prevOptions.current))) {\n        if (elementRef.current) {\n          elementRef.current.update(updateableOptions);\n          prevOptions.current = options;\n        }\n      }\n    }, [options]);\n    React.useLayoutEffect(function () {\n      return function () {\n        if (elementRef.current) {\n          elementRef.current.destroy();\n        }\n      };\n    }, []);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: id,\n      className: className,\n      ref: domNode\n    });\n  }; // Only render the Element wrapper in a server environment.\n\n\n  var ServerElement = function ServerElement(props) {\n    // Validate that we are in the right context by calling useElementsContextWithUseCase.\n    useElementsContextWithUseCase(\"mounts <\".concat(displayName, \">\"));\n    var id = props.id,\n        className = props.className;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: id,\n      className: className\n    });\n  };\n\n  var Element = isServer ? ServerElement : ClientElement;\n  Element.propTypes = {\n    id: PropTypes.string,\n    className: PropTypes.string,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    onFocus: PropTypes.func,\n    onReady: PropTypes.func,\n    onClick: PropTypes.func,\n    options: PropTypes.object\n  };\n  Element.displayName = displayName;\n  Element.__elementType = type;\n  return Element;\n};\n\nvar isServer = typeof window === 'undefined';\n/**\n * Requires beta access:\n * Contact [Stripe support](https://support.stripe.com/) for more information.\n *\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\ncreateElementComponent('auBankAccount', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\ncreateElementComponent('card', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar CardNumberElement = createElementComponent('cardNumber', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar CardExpiryElement = createElementComponent('cardExpiry', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar CardCvcElement = createElementComponent('cardCvc', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\ncreateElementComponent('fpxBank', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\ncreateElementComponent('iban', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\ncreateElementComponent('idealBank', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\ncreateElementComponent('p24Bank', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\ncreateElementComponent('epsBank', isServer);\ncreateElementComponent('payment', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\ncreateElementComponent('paymentRequestButton', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\ncreateElementComponent('afterpayClearpayMessage', isServer);\nvar pure$1 = {};\nObject.defineProperty(pure$1, '__esModule', {\n  value: true\n});\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar V3_URL = 'https://js.stripe.com/v3';\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\n\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(V3_URL, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!V3_URL_REGEX.test(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(V3_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"1.15.1\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise = null;\n\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise !== null) {\n    return stripePromise;\n  }\n\n  stripePromise = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      }\n\n      script.addEventListener('load', function () {\n        if (window.Stripe) {\n          resolve(window.Stripe);\n        } else {\n          reject(new Error('Stripe.js not available'));\n        }\n      });\n      script.addEventListener('error', function () {\n        reject(new Error('Failed to load Stripe.js'));\n      });\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  });\n  return stripePromise;\n};\n\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n};\n\nvar validateLoadParams = function validateLoadParams(params) {\n  var errorMessage = \"invalid load parameters; expected object of shape\\n\\n    {advancedFraudSignals: boolean}\\n\\nbut received\\n\\n    \".concat(JSON.stringify(params), \"\\n\");\n\n  if (params === null || _typeof(params) !== 'object') {\n    throw new Error(errorMessage);\n  }\n\n  if (Object.keys(params).length === 1 && typeof params.advancedFraudSignals === 'boolean') {\n    return params;\n  }\n\n  throw new Error(errorMessage);\n};\n\nvar loadParams;\nvar loadStripeCalled = false;\n\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadStripeCalled = true;\n  var startTime = Date.now();\n  return loadScript(loadParams).then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nloadStripe.setLoadParameters = function (params) {\n  if (loadStripeCalled) {\n    throw new Error('You cannot change load parameters after calling loadStripe');\n  }\n\n  loadParams = validateLoadParams(params);\n};\n\npure$1.loadStripe = loadStripe;\nvar pure = pure$1;\nconst DrawerContext = react.exports.createContext({\n  opened: false,\n  close: () => {},\n  open: () => {}\n});\nconst TableSearchContext = react.exports.createContext({\n  searching: false,\n  searchQuery: '',\n  //TODO: not implemented\n  onSearch: () => undefined,\n  setSearching: () => null\n});\n\nconst useT = root => {\n  const {\n    t\n  } = useTranslation();\n  return react.exports.useCallback((key, options, defaultValue) => {\n    return t(`adminPortal.${root}.${key}`, options, defaultValue);\n  }, [t]);\n}; // export const useGlobalT = <T extends keyof Localization>(): UseTFunc<any> => {\n\n\nconst useGlobalT = () => {\n  const {\n    t\n  } = useTranslation();\n  return react.exports.useCallback((key, options, defaultValue) => {\n    return t(key, options, defaultValue);\n  }, [t]);\n};\n\nconst useTableSearch = () => {\n  const context = react.exports.useContext(TableSearchContext);\n  return Object.assign(Object.assign({}, context), {\n    onSearch: str => __awaiter(void 0, void 0, void 0, function* () {\n      const searchQuery = str !== null && str !== void 0 ? str : '';\n      context.setSearching(!!searchQuery);\n      context.onSearch(searchQuery);\n    })\n  });\n};\n\nconst useMuiMediaQuery = themeBreakpoints => {\n  const {\n    iframeRendering,\n    rootEl\n  } = useShadowDom();\n  const iframeWindowObj = iframeRendering && rootEl.ownerDocument ? rootEl.ownerDocument.defaultView : null;\n  const mediaQueryOptions = iframeWindowObj ? {\n    matchMedia: iframeWindowObj === null || iframeWindowObj === void 0 ? void 0 : iframeWindowObj.matchMedia\n  } : undefined;\n  return useMediaQuery(themeBreakpoints, mediaQueryOptions);\n};\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * https://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * @fileoverview Listener to provide Shadow DOM focus events, even inside shadow roots\r\n *\r\n * Normally, listening for focus with Shadow DOM will just return the top-most 'host' with a shadow\r\n * root. That may not be a problem! But if you want to find the 'real' focused element...\r\n *\r\n * To use this library, add this after the script is included-\r\n *   document.addEventListener('focus', shadowFocusHandler, true);\r\n *\r\n * You can then listen for `-shadow-focus` events, which will return the furthest focused element-\r\n *   document.addEventListener('-shadow-focus', function(ev) {\r\n *     console.info('got focused element', ev.detail, '..inside outer-most shadow root', ev.target);\r\n *   });\r\n */\n\n\nconst shadowFocusHandler = function () {\n  if (typeof window === 'undefined') {\n    return event => dispatch(event.target);\n  }\n\n  const eventName = '-shadow-focus';\n\n  const dispatch = function (target) {\n    const args = {\n      composed: true,\n      bubbles: true,\n      detail: target\n    };\n    const customEvent = new CustomEvent(eventName, args);\n    target.dispatchEvent(customEvent);\n  };\n\n  if (!window.WeakSet || !window.ShadowRoot) {\n    return event => dispatch(event.target);\n  }\n\n  const focusHandlerSet = new WeakSet();\n  /**\r\n   * @param {Node} target to work on\r\n   * @param {function(!FocusEvent)} callback to invoke on focus change\r\n   */\n\n  function _internal(target, callback) {\n    let currentFocus = target; // save real focus\n    // #1: get the nearest ShadowRoot\n\n    while (!(target instanceof ShadowRoot)) {\n      if (!target) {\n        return;\n      }\n\n      target = target.parentNode;\n    } // #2: are we already handling it?\n\n\n    if (focusHandlerSet.has(target)) {\n      return;\n    }\n\n    focusHandlerSet.add(target); // #3: setup focus/blur handlers\n\n    const hostEl = target.host;\n\n    const focusinHandler = function (ev) {\n      if (ev.target !== currentFocus) {\n        // prevent dup calls for same focus\n        currentFocus = ev.target;\n        callback(ev);\n      }\n    };\n\n    const blurHandler = function (ev) {\n      hostEl.removeEventListener('blur', blurHandler, false);\n      target.removeEventListener('focusin', focusinHandler, true);\n      focusHandlerSet.delete(target);\n    }; // #3: add blur handler to host element\n\n\n    hostEl.addEventListener('blur', blurHandler, false); // #4: add focus handler within shadow root, to observe changes\n\n    target.addEventListener('focusin', focusinHandler, true); // #5: find next parent SR, do it again\n\n    _internal(target.host, callback);\n  }\n  /**\r\n   * @param {!FocusEvent} event to process\r\n   */\n\n\n  function shadowFocusHandler(event) {\n    const target = (event.composedPath ? event.composedPath()[0] : null) || event.target;\n\n    _internal(target, shadowFocusHandler);\n\n    dispatch(target);\n  }\n\n  return shadowFocusHandler;\n}();\n\nfunction toCurrencySymbol(currency) {\n  switch (currency) {\n    case 'nis':\n      return '₪';\n\n    case 'usd':\n    default:\n      return '$';\n  }\n}\n\nfunction toPriceDisplay(price = 0) {\n  return `${(price / 100).toFixed(2)}`;\n}\n\nconst TextBreakLine = ({\n  text\n}) => {\n  return React.createElement(React.Fragment, null, text.split('\\\\n').map(str => React.createElement(React.Fragment, null, str)).reduce((prevList, curr) => {\n    if (prevList.length === 0) {\n      return [curr];\n    }\n\n    return prevList.concat(React.createElement(\"br\", null), curr);\n  }, []));\n};\n\nconst SubscriptionDialogFooter = ({\n  cancel,\n  confirm\n}) => {\n  var _a, _b;\n\n  const t = useT('subscriptions');\n  return React.createElement(Grid, {\n    container: true,\n    justifyContent: 'flex-end'\n  }, cancel && React.createElement(Button$1, {\n    type: 'button',\n    \"data-test-id\": \"cancelBtn\",\n    color: 'inherit',\n    variant: 'text',\n    onClick: cancel.onClick,\n    disabled: cancel.disabled\n  }, t('cancel')), confirm && React.createElement(Button$1, {\n    \"data-test-id\": \"confirmBtn\",\n    type: (_a = confirm.type) !== null && _a !== void 0 ? _a : 'button',\n    color: (_b = confirm.color) !== null && _b !== void 0 ? _b : 'primary',\n    onClick: confirm.onClick,\n    disabled: confirm.disabled,\n    loading: confirm.loading\n  }, t(confirm.text)));\n};\n\nconst SubscriptionFormContext = React.createContext({\n  valid: false,\n  setValid: value => {},\n  registerSubmit: cb => {},\n  unregisterSubmit: () => {},\n  onSubmit: () => {}\n});\n\nconst useSubscriptionFormContext = () => react.exports.useContext(SubscriptionFormContext);\n\nconst SubscriptionFormContextProvider = ({\n  children\n}) => {\n  const [{\n    onSubmit\n  }, setState] = react.exports.useState({\n    onSubmit: () => {}\n  });\n  const [valid, setValid] = react.exports.useState(false);\n  return React.createElement(SubscriptionFormContext.Provider, {\n    value: react.exports.useMemo(() => ({\n      valid,\n      onSubmit,\n      setValid,\n      registerSubmit: callback => setState({\n        onSubmit: callback\n      }),\n      unregisterSubmit: () => setState({\n        onSubmit: () => {}\n      })\n    }), [valid, onSubmit])\n  }, children);\n};\n\nconst CheckoutDialogFooter = ({\n  shouldCreatePaymentMethod,\n  onCancel,\n  planId\n}) => {\n  const {\n    loading\n  } = useCheckout();\n  const {\n    paymentMethod\n  } = usePaymentMethod();\n  const {\n    valid,\n    onSubmit\n  } = useSubscriptionFormContext();\n  const {\n    confirmCheckout\n  } = useCheckoutActions();\n  const handleConfirmCheckout = react.exports.useCallback(() => {\n    confirmCheckout({\n      paymentMethodId: paymentMethod.id,\n      planId\n    });\n  }, [planId, paymentMethod, confirmCheckout]);\n  return shouldCreatePaymentMethod ? React.createElement(SubscriptionDialogFooter, {\n    cancel: {\n      onClick: onCancel,\n      disabled: loading\n    },\n    confirm: {\n      onClick: onSubmit,\n      disabled: !valid,\n      loading,\n      text: 'confirm'\n    }\n  }) : React.createElement(SubscriptionDialogFooter, {\n    cancel: {\n      onClick: onCancel,\n      disabled: loading\n    },\n    confirm: {\n      onClick: handleConfirmCheckout,\n      loading,\n      text: 'confirm'\n    }\n  });\n};\n\nconst CheckoutDialogError = () => {\n  const {\n    error\n  } = useCheckout();\n\n  if (!error) {\n    return null;\n  }\n\n  return React.createElement(Grid, {\n    p: 4\n  }, React.createElement(Alert$1, {\n    \"data-test-id\": error,\n    severity: 'error'\n  }, error));\n};\n\nconst SectionTitle = styled(Box)(({\n  theme\n}) => ({\n  color: theme.palette.grey[700],\n  fontSize: theme.typography.pxToRem(12),\n  lineHeight: theme.typography.pxToRem(16),\n  padding: theme.spacing(4)\n}));\n\nconst DialogSectionBox = ({\n  children,\n  title\n}) => {\n  return React.createElement(Grid, {\n    mb: 4\n  }, React.createElement(SectionTitle, null, title), React.createElement(Divider, null), children);\n};\n\nconst PlanTitle$1 = styled(Box)(({\n  theme\n}) => ({\n  color: theme.palette.grey[800],\n  fontWeight: 800,\n  fontSize: theme.typography.pxToRem(16),\n  lineHeight: theme.typography.pxToRem(24),\n  marginBottom: theme.spacing(3)\n}));\nconst PlanSubtitle = styled(Box)(({\n  theme\n}) => ({\n  color: theme.palette.grey[700],\n  fontWeight: 600,\n  fontSize: theme.typography.pxToRem(12),\n  lineHeight: theme.typography.pxToRem(16)\n}));\nconst PlanPrice$1 = styled(Box)(({\n  theme\n}) => ({\n  color: theme.palette.grey[800],\n  fontWeight: 800,\n  fontSize: theme.typography.pxToRem(20),\n  lineHeight: theme.typography.pxToRem(24),\n  marginBottom: theme.spacing(3),\n  textAlign: 'end'\n}));\nconst PlanPriceInterval = styled(Box)(({\n  theme\n}) => ({\n  color: theme.palette.grey[700],\n  fontWeight: 600,\n  fontSize: theme.typography.pxToRem(12),\n  lineHeight: theme.typography.pxToRem(16),\n  textAlign: 'end'\n}));\n\nconst CheckoutSubscriptionPlanDetails = ({\n  title,\n  subTitle,\n  price,\n  planInterval\n}) => {\n  const t = useT('subscriptions_Checkout');\n  return React.createElement(DialogSectionBox, {\n    title: t('selectedPlan')\n  }, React.createElement(Grid, {\n    container: true,\n    p: 4,\n    mt: 4,\n    justifyContent: 'space-between'\n  }, React.createElement(Grid, {\n    item: true\n  }, React.createElement(PlanTitle$1, null, title), React.createElement(PlanSubtitle, null, React.createElement(TextBreakLine, {\n    text: subTitle\n  }))), React.createElement(Grid, {\n    item: true,\n    display: 'none'\n  }, React.createElement(PlanPrice$1, null, `${price}`), React.createElement(PlanPriceInterval, null, planInterval === 'month' ? 'per each month' : 'per each month'))));\n};\n\nconst CheckoutDialogDetails = ({\n  planId\n}) => {\n  const t = useT('subscriptions_Billing');\n  const {\n    plans\n  } = usePlans();\n  const plan = react.exports.useMemo(() => plans.find(item => item.id === planId), [plans, planId]);\n\n  if (!plan) {\n    return null;\n  }\n\n  const price = `${toCurrencySymbol(plan.currency)}${toPriceDisplay(plan.price)}`;\n  return React.createElement(CheckoutSubscriptionPlanDetails, {\n    title: plan.name,\n    subTitle: plan.description || `${price} • ${t('monthly')}`,\n    price: price,\n    planInterval: t('intervalTitle', {\n      interval: t('intervalMonth')\n    })\n  });\n};\n\nconst StripeElementProvider = ({\n  stripeKey,\n  children\n}) => {\n  const loadStripePromise = react.exports.useMemo(() => pure.loadStripe(stripeKey), [stripeKey]);\n  return React.createElement(Elements, {\n    stripe: loadStripePromise\n  }, React.createElement(ElementsConsumer, null, ({\n    stripe,\n    elements\n  }) => {\n    if (!stripe || !elements) {\n      return React.createElement(Loader$1, null);\n    }\n\n    return children;\n  }));\n};\n\nconst StripeFormLabel = styled(FormLabel$1)`\n  color: ${UI.palette('grey.800')};\n  font-size: ${({\n  theme\n}) => theme.typography.pxToRem(14)};\n  line-height: ${({\n  theme\n}) => theme.typography.pxToRem(16)};\n  font-weight: 600;\n  margin-bottom: ${UI.spacing(2)};\n`;\nconst StripeTextField = styled(TextField$1)`\n  width: 100%;\n`;\nconst StripeInputWrapper = styled('div')(({\n  theme\n}) => ({\n  color: theme.palette.grey[800],\n  border: `1px solid ${theme.palette.grey[400]}`,\n  boxShadow: `inset 0px 1px 0px ${theme.palette.grey[200]}`,\n  borderRadius: theme.spacing(1)\n}));\nconst classes = {\n  base: 'stripe-input-class-base',\n  focus: 'stripe-input-class-focused',\n  empty: 'stripe-input-class-empty',\n  invalid: 'stripe-input-class-invalid'\n};\n\nconst StripeForm = ({\n  disabled,\n  cardHolderNameFieldRef,\n  onValidChange\n}) => {\n  const t = useT('subscriptions_Checkout');\n  const theme = useTheme();\n  const [validation, setValidation] = react.exports.useState({\n    cardHolderName: false,\n    cardNumber: false,\n    cardExpiryDate: false,\n    cardCvc: false\n  });\n  const isFormValid = Object.values(validation).every(item => item);\n  react.exports.useEffect(() => {\n    onValidChange(isFormValid);\n  }, [onValidChange, isFormValid]);\n\n  const setValidationField = (key, value) => {\n    setValidation(prevState => Object.assign(Object.assign({}, prevState), {\n      [key]: value\n    }));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(RenderAsSlot, {\n    name: 'StripeStyle'\n  }, React.createElement(\"style\", null, `\n            .${classes.base} {\n              height: unset;\n              padding: ${theme.spacing(2.5)} ${theme.spacing(4)};\n              font-weight: bold;\n              font-size: ${theme.typography.body1.fontSize};\n              font-family: ${theme.typography.body1.fontFamily};\n              line-height: ${theme.typography.body1.lineHeight}\n              color: ${theme.palette.grey[800]};\n              box-shadow: inset 0px 1px 0px ${theme.palette.grey[100]};\n            }\n            .${classes.base}:hover {\n              box-shadow: none;\n              outline-color:  #889DB8;\n              outline-style: solid;\n              outline-width: 2px;\n              outline-offset: 0px;\n            }\n            .${classes.empty} {\n              color: ${theme.palette.grey[100]} !important;\n            }\n            .${classes.empty} input::placeholder {\n              color: ${theme.palette.grey[100]} !important;\n            }\n            .${classes.invalid} {\n              color: ${theme.palette.error.main};\n              border: 1px solid ${theme.palette.error.main};\n            }\n            .${classes.invalid}:hover {\n              color: ${theme.palette.error.main};\n              border-color: ${theme.palette.error.main};\n              outline-color: ${theme.palette.error.main};\n            }\n        `)), React.createElement(Grid, {\n    container: true,\n    padding: 0,\n    direction: 'column'\n  }, React.createElement(Grid, {\n    item: true,\n    mb: 4\n  }, React.createElement(StripeFormLabel, {\n    \"data-test-id\": \"nameOnCardBox\"\n  }, t('nameOnCard')), React.createElement(StripeTextField, {\n    \"data-test-id\": \"NameOnCardBox\",\n    inputRef: cardHolderNameFieldRef,\n    disabled: disabled,\n    placeholder: 'Enter your name',\n    name: 'cardHolderName',\n    onChange: event => {\n      setValidationField('cardHolderName', !!event.currentTarget.value && event.currentTarget.value.length > 0);\n    }\n  })), React.createElement(Grid, {\n    item: true,\n    mb: 4\n  }, React.createElement(StripeFormLabel, null, t('cardNumber')), React.createElement(StripeInputWrapper, null, React.createElement(RenderAsSlot, {\n    name: 'CardNumberElement'\n  }, React.createElement(CardNumberElement, {\n    \"data-test-id\": \"cardNumberBox\",\n    onChange: event => {\n      setValidationField('cardNumber', event.complete);\n    },\n    options: {\n      disabled,\n      placeholder: '0000 0000 0000 0000',\n      classes\n    }\n  })))), React.createElement(Grid, {\n    item: true,\n    container: true,\n    mb: 4,\n    spacing: 4\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 6\n  }, React.createElement(StripeFormLabel, null, t('expiryDate')), React.createElement(StripeInputWrapper, null, React.createElement(RenderAsSlot, {\n    name: 'CardExpiryElement'\n  }, React.createElement(CardExpiryElement, {\n    \"data-test-id\": \"cardExpiryBox\",\n    onChange: event => {\n      setValidationField('cardExpiryDate', event.complete);\n    },\n    options: {\n      classes,\n      disabled,\n      placeholder: 'MM / YY'\n    }\n  })))), React.createElement(Grid, {\n    item: true,\n    xs: 6\n  }, React.createElement(StripeFormLabel, null, t('cvc')), React.createElement(StripeInputWrapper, null, React.createElement(RenderAsSlot, {\n    name: 'CardCardCvc'\n  }, React.createElement(CardCvcElement, {\n    \"data-test-id\": \"cardCvcBox\",\n    onChange: event => {\n      setValidationField('cardCvc', event.complete);\n    },\n    options: {\n      classes,\n      disabled,\n      placeholder: 'CVC Security Number'\n    }\n  })))))));\n};\n\nconst BoxLoader = ({\n  height\n}) => {\n  return React.createElement(Grid, {\n    height: height || 220,\n    container: true,\n    alignContent: 'center',\n    justifyContent: 'center'\n  }, React.createElement(Loader$1, null));\n};\n\nconst StripePaymentMethodForm = _a => {\n  var {\n    mode,\n    apiKey\n  } = _a,\n      rest = __rest(_a, [\"mode\", \"apiKey\"]);\n\n  const {\n    paymentMethod\n  } = usePaymentMethod();\n  const {\n    cardSetupIntentSecret,\n    error,\n    loading\n  } = useStripeState();\n  const {\n    createCardSetupIntentSecret\n  } = useStripeActions();\n  react.exports.useEffect(() => {\n    if (mode === 'create') {\n      createCardSetupIntentSecret(null);\n    } else {\n      createCardSetupIntentSecret((paymentMethod === null || paymentMethod === void 0 ? void 0 : paymentMethod.id) || null);\n    }\n  }, []);\n\n  if (error) {\n    // TODO\n    return null;\n  }\n\n  if (loading || !cardSetupIntentSecret) {\n    return React.createElement(BoxLoader, {\n      height: 250\n    });\n  }\n\n  return React.createElement(StripeElementProvider, {\n    stripeKey: apiKey\n  }, React.createElement(PaymentMethodForm$1, Object.assign({\n    cardSetupIntentSecret: cardSetupIntentSecret\n  }, rest)));\n};\n\nconst PaymentMethodForm$1 = ({\n  cardSetupIntentSecret,\n  disabled,\n  onSubmit,\n  onError,\n  onSuccess\n}) => {\n  const t = useT('subscriptions_Billing');\n  const stripe = useStripe();\n  const elements = useElements();\n  const {\n    setValid,\n    registerSubmit,\n    unregisterSubmit\n  } = useSubscriptionFormContext();\n  const cardHolderNameFieldRef = react.exports.useRef(null);\n  const handleSubmit = react.exports.useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n    var _a;\n\n    if (!stripe || !elements) {\n      return;\n    }\n\n    const cardNumber = elements.getElement(CardNumberElement);\n    const cardNameHolder = (_a = cardHolderNameFieldRef.current) === null || _a === void 0 ? void 0 : _a.value;\n\n    if (!cardNameHolder || !cardNumber) {\n      return;\n    }\n\n    onSubmit();\n\n    try {\n      const {\n        error,\n        setupIntent\n      } = yield stripe.confirmCardSetup(cardSetupIntentSecret, {\n        payment_method: {\n          card: cardNumber,\n          //TODO: add metadata\n          // metadata: {}\n          billing_details: {\n            name: cardNameHolder\n          }\n        }\n      });\n\n      if (error) {\n        onError(t('confirmError', {\n          error: error.message,\n          code: error.code\n        }));\n        return;\n      }\n\n      if ((setupIntent === null || setupIntent === void 0 ? void 0 : setupIntent.status) === 'succeeded' && setupIntent.payment_method) {\n        onSuccess(setupIntent.payment_method);\n      } else {\n        onError(t('invalidCardStatusError', {\n          status: setupIntent === null || setupIntent === void 0 ? void 0 : setupIntent.status\n        }));\n      }\n    } catch (e) {\n      console.debug('Failed to process payment method', e);\n      onError(t('confirmGenericError'));\n    }\n  }), [t, stripe, elements, onSubmit, cardSetupIntentSecret, onError, onSuccess]);\n  const handleValidation = react.exports.useCallback(status => {\n    setValid(status);\n  }, [setValid]);\n  react.exports.useEffect(() => {\n    registerSubmit(handleSubmit);\n    return () => {\n      unregisterSubmit();\n    };\n  }, [registerSubmit, unregisterSubmit, handleSubmit]);\n  return react.exports.useMemo(() => React.createElement(StripeForm, {\n    cardHolderNameFieldRef: cardHolderNameFieldRef,\n    disabled: disabled,\n    onValidChange: handleValidation\n  }), [cardHolderNameFieldRef, disabled, handleValidation]);\n};\n\nconst PaymentMethodForm = ({\n  mode,\n  disabled,\n  onError,\n  onSuccess,\n  onSubmit\n}) => {\n  const {\n    config\n  } = usePaymentProvider();\n\n  if ((config === null || config === void 0 ? void 0 : config.paymentProvider) === PaymentProvider.STRIPE) {\n    const {\n      apiKey\n    } = config;\n    return React.createElement(StripePaymentMethodForm, {\n      mode: mode,\n      disabled: disabled,\n      apiKey: apiKey,\n      onError: onError,\n      onSuccess: onSuccess,\n      onSubmit: onSubmit\n    });\n  } else {\n    // TODO error or cancel action\n    return null;\n  }\n};\n\nconst cardBrandIcons = {\n  visa: VisaCardIcon,\n  amex: AmericanExpressIcon,\n  mastercard: MasterCardIcon,\n  diners: DinersCardIcon,\n  unknown: GenericCardIcon\n};\nconst UpdatePaymentMethod = styled(Grid)(({\n  theme,\n  disabled\n}) => ({\n  display: 'flex',\n  alignItems: 'center',\n  cursor: disabled ? 'default' : 'pointer',\n  svg: {\n    marginLeft: '24px',\n    width: '0.75rem',\n    height: '0.75rem',\n    color: theme.palette.grey[500]\n  }\n}));\nconst CardInfo = styled(Grid)`\n  display: flex;\n  align-items: center;\n\n  svg {\n    width: 2.5rem;\n    height: 1.5rem;\n  }\n`;\n\nconst PaymentMethodSelect = ({\n  disabled,\n  onUpdate,\n  brand,\n  last4,\n  expMonth,\n  expYear\n}) => {\n  const t = useT('subscriptions');\n  const BankIcon = react.exports.useMemo(() => cardBrandIcons[brand || 'unknown'], [brand]);\n  const handleUpdate = react.exports.useCallback(() => {\n    if (!disabled && onUpdate) {\n      onUpdate();\n    }\n  }, [disabled, onUpdate]);\n  return React.createElement(Grid, {\n    container: true,\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    alignContent: 'center',\n    p: 0\n  }, React.createElement(Grid, {\n    item: true\n  }, React.createElement(CardInfo, {\n    item: true\n  }, React.createElement(BankIcon, null), last4 && React.createElement(Typography$1, {\n    variant: 'label',\n    ml: 4\n  }, \"\\u2022\\u2022\\u2022\\u2022 \", last4))), React.createElement(Grid, {\n    item: true,\n    xs: true\n  }, expMonth && expYear && React.createElement(Typography$1, {\n    variant: 'tableStandardCell',\n    textAlign: 'center'\n  }, t('expires'), \" \", expMonth, \"/\", expYear)), React.createElement(Grid, {\n    item: true\n  }, onUpdate && React.createElement(UpdatePaymentMethod, {\n    \"data-test-id\": 'updatePaymentMethodBtn',\n    item: true,\n    onClick: handleUpdate,\n    disabled: disabled\n  }, React.createElement(Typography$1, {\n    variant: 'body1'\n  }, t('updatePaymentMethod')), \" \", React.createElement(EditIcon, null))));\n};\n\nconst CheckoutDialogPaymentMethod = ({\n  shouldCreatePaymentMethod,\n  handleForcePaymentMethodCreation,\n  planId\n}) => {\n  const t = useT('subscriptions_Billing');\n  const {\n    loading\n  } = useCheckout();\n  const {\n    paymentMethod\n  } = usePaymentMethod();\n  const {\n    confirmCheckout,\n    errorCheckout,\n    submitCheckout\n  } = useCheckoutActions();\n  const handleError = react.exports.useCallback(error => {\n    errorCheckout(error);\n  }, [errorCheckout]);\n  const handleSubmit = react.exports.useCallback(() => {\n    submitCheckout();\n  }, [submitCheckout]);\n  const handleConfirmPaymentMethod = react.exports.useCallback(newPaymentMethodId => {\n    confirmCheckout({\n      paymentMethodId: newPaymentMethodId,\n      planId\n    });\n  }, [confirmCheckout, planId]);\n  return React.createElement(DialogSectionBox, {\n    title: t('paymentMethod')\n  }, React.createElement(Grid, {\n    pt: 8,\n    pb: 2,\n    p: 4\n  }, shouldCreatePaymentMethod ? React.createElement(PaymentMethodForm, {\n    disabled: loading,\n    mode: paymentMethod ? 'update' : 'create',\n    onError: handleError,\n    onSubmit: handleSubmit,\n    onSuccess: handleConfirmPaymentMethod\n  }) : React.createElement(PaymentMethodSelect, {\n    disabled: loading,\n    brand: paymentMethod.brand,\n    last4: paymentMethod.last4,\n    onUpdate: handleForcePaymentMethodCreation\n  })));\n};\n\nconst CheckoutDialogBody = ({\n  planId,\n  onClose,\n  onSuccess,\n  onError\n}) => {\n  const {\n    paymentMethod\n  } = usePaymentMethod();\n  const [forceNewPaymentMethod, setForcePaymentMethod] = react.exports.useState(!paymentMethod);\n  const {\n    confirmed,\n    error\n  } = useCheckout();\n  const {\n    loadCheckout,\n    resetCheckout\n  } = useCheckoutActions();\n  react.exports.useEffect(() => {\n    loadCheckout();\n    return () => {\n      resetCheckout();\n    };\n  }, [loadCheckout, resetCheckout]);\n  react.exports.useEffect(() => {\n    if (confirmed) {\n      resetCheckout();\n      onSuccess();\n    }\n  }, [confirmed, onSuccess, resetCheckout]);\n  react.exports.useEffect(() => {\n    if (error) {\n      resetCheckout();\n      onError(error);\n    }\n  }, [error, onError, resetCheckout]);\n  const handleForcePaymentMethodCreation = react.exports.useCallback(() => {\n    setForcePaymentMethod(true);\n  }, [setForcePaymentMethod]);\n  const handleClose = react.exports.useCallback(() => {\n    resetCheckout();\n    onClose();\n  }, [resetCheckout, onClose]);\n  return React.createElement(SubscriptionFormContextProvider, null, React.createElement(Dialog$1.Body, {\n    noPadding: true\n  }, React.createElement(CheckoutDialogError, null), React.createElement(CheckoutDialogDetails, {\n    planId: planId\n  }), React.createElement(CheckoutDialogPaymentMethod, {\n    planId: planId,\n    shouldCreatePaymentMethod: forceNewPaymentMethod,\n    handleForcePaymentMethodCreation: handleForcePaymentMethodCreation\n  })), React.createElement(Dialog$1.Footer, null, React.createElement(CheckoutDialogFooter, {\n    planId: planId,\n    onCancel: handleClose,\n    shouldCreatePaymentMethod: forceNewPaymentMethod\n  })));\n};\n\nconst AuthWrapper = ({\n  children\n}) => {\n  const {\n    isLoading,\n    isAuthenticated\n  } = useAuth(({\n    isLoading,\n    isAuthenticated,\n    tenantsState: {\n      loading,\n      tenants\n    }\n  }) => ({\n    isLoading: isLoading || loading && tenants.length === 0,\n    isAuthenticated\n  }));\n  const {\n    loading: loadingPolicy\n  } = usePublicPolicySettings$1();\n  const {\n    injector,\n    basename = '',\n    urlStrategy\n  } = useShadowDom();\n  const routes = useAuthRoutes();\n  react.exports.useEffect(() => {\n    if (!isLoading && !isAuthenticated) {\n      const calculatedBasename = basename.endsWith('/') ? basename.substring(0, basename.length - 1) : '';\n\n      if (injector) {\n        injector === null || injector === void 0 ? void 0 : injector.hideCheckoutDialog();\n      }\n\n      const path = calculatedBasename + routes.loginUrl;\n\n      if (urlStrategy === 'path' && injector) {\n        window.location.href = path;\n      } else {\n        window.location.hash = `#${path}`;\n      }\n    }\n  }, [isLoading, isAuthenticated, routes, injector, urlStrategy, basename]);\n  return React.createElement(React.Fragment, null, !isLoading && !loadingPolicy && children);\n};\n\nconst CheckoutDialogSkeleton = () => {\n  return React.createElement(BoxLoader, {\n    height: 450\n  });\n};\n\nconst PaymentProviderWrapper = ({\n  children\n}) => {\n  const {\n    fetching\n  } = usePaymentProvider();\n  const {\n    loadPaymentConfiguration\n  } = usePaymentProviderActions();\n  react.exports.useEffect(() => {\n    loadPaymentConfiguration();\n  }, [loadPaymentConfiguration]);\n\n  if (fetching) {\n    return React.createElement(CheckoutDialogSkeleton, null);\n  }\n\n  return React.createElement(React.Fragment, null, children);\n};\n\nconst SubscriptionsWrapper = ({\n  children\n}) => {\n  const {\n    fetching: fetchingBillingInformation\n  } = useBillingInformation();\n  const {\n    fetching: fetchingPlans\n  } = usePlans();\n  const {\n    fetching: fetchingPaymentMethod\n  } = usePaymentMethod();\n  const {\n    fetching: fetchingVendorPublicConfig\n  } = useVendorPublicConfig();\n  const {\n    loadBillingInformation\n  } = useBillingInformationActions();\n  const {\n    loadPlans\n  } = usePlansActions();\n  const {\n    loadPaymentMethod\n  } = usePaymentMethodActions();\n  const {\n    loadVendorPublicConfiguration\n  } = useVendorPublicConfigActions();\n  react.exports.useEffect(() => {\n    loadBillingInformation();\n    loadPlans();\n    loadPaymentMethod();\n    loadVendorPublicConfiguration();\n  }, [loadBillingInformation, loadPlans, loadPaymentMethod, loadVendorPublicConfiguration]);\n\n  if (fetchingBillingInformation || fetchingPlans || fetchingPaymentMethod || fetchingVendorPublicConfig) {\n    return React.createElement(CheckoutDialogSkeleton, null);\n  }\n\n  return React.createElement(React.Fragment, null, children);\n};\n\nconst CheckoutDialogAppContent = ({\n  plan: planSlug,\n  onClose,\n  onError,\n  onSuccess\n}) => {\n  const t = useT('subscriptions_CheckoutDialog');\n  const {\n    plans\n  } = usePlans();\n  const planId = react.exports.useMemo(() => {\n    var _a;\n\n    return planSlug && ((_a = plans.find(plan => plan.slug === planSlug)) === null || _a === void 0 ? void 0 : _a.id);\n  }, [planSlug, plans]);\n\n  if (!planId) {\n    return React.createElement(Grid, {\n      p: 4\n    }, React.createElement(Alert$1, {\n      \"data-test-id\": 'checkoutDialogPlanNotFound',\n      severity: 'error'\n    }, t('errorPlanNotFound')));\n  }\n\n  return React.createElement(CheckoutDialogBody, {\n    planId: planId,\n    onSuccess: onSuccess,\n    onError: onError,\n    onClose: onClose\n  });\n};\n\nconst CheckoutDialogApp = ({\n  plan,\n  onClose,\n  onError,\n  onSuccess\n}) => {\n  const t = useT('subscriptions');\n  const {\n    injector\n  } = useShadowDom();\n  const hideDialogWithTimeout = react.exports.useCallback(() => {\n    setTimeout(() => {\n      injector === null || injector === void 0 ? void 0 : injector.hideCheckoutDialog();\n    }, 200);\n  }, [injector]);\n  const handleClose = react.exports.useCallback(() => {\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n    hideDialogWithTimeout();\n  }, [onClose, hideDialogWithTimeout]);\n  const handleSuccess = react.exports.useCallback(() => {\n    onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n    hideDialogWithTimeout();\n  }, [onSuccess, hideDialogWithTimeout]);\n  const handleError = react.exports.useCallback(msg => {\n    onError === null || onError === void 0 ? void 0 : onError(msg);\n    hideDialogWithTimeout();\n  }, [onError, hideDialogWithTimeout]);\n  return React.createElement(Dialog$1, {\n    open: true,\n    onClose: handleClose,\n    container: injector === null || injector === void 0 ? void 0 : injector.checkoutDialogEl,\n    title: t('dialogCheckoutTitle'),\n    onBackdropClick: handleClose\n  }, React.createElement(PaymentProviderWrapper, null, React.createElement(SubscriptionsWrapper, null, React.createElement(CheckoutDialogAppContent, {\n    plan: plan,\n    onClose: handleClose,\n    onSuccess: handleSuccess,\n    onError: handleError\n  }))));\n};\n\nconst AppWrapper = ({\n  children\n}) => {\n  const {\n    isShadowDom,\n    injector\n  } = useShadowDom();\n  react.exports.useEffect(() => {\n    document.addEventListener('focus', shadowFocusHandler, true);\n    const oldDocumentBodyOverflow = document.body.style.overflow;\n    document.body.style.overflow = 'hidden';\n    return () => {\n      document.removeEventListener('focus', shadowFocusHandler, true);\n      document.body.style.overflow = oldDocumentBodyOverflow;\n      window.history.pushState('', document.title, window.location.pathname);\n    };\n  }, []);\n  const {\n    calculatedTheme,\n    theme,\n    overrides\n  } = initGlobalTheme(true);\n  return React.createElement(I18nProvider$1, null, React.createElement(GlobalThemeProvider, {\n    theme: calculatedTheme,\n    isShadowDom: isShadowDom\n  }, React.createElement(ThemeContext.Provider, {\n    value: {\n      theme,\n      overrides\n    }\n  }, React.createElement(InnerThemeProvider, {\n    themeOptionKey: 'adminPortal'\n  }, React.createElement(Provider, {\n    context: FronteggStoreContext,\n    store: injector.store\n  }, React.createElement(AuthWrapper, null, children))))));\n};\n\nconst CheckoutDialog$1 = _a => {\n  var _b, _c;\n\n  var {\n    injector,\n    options\n  } = _a,\n      dialogProps = __rest(_a, [\"injector\", \"options\"]);\n\n  return React.createElement(ShadowDomContext.Provider, {\n    value: Object.assign(Object.assign({\n      iframeRendering: false\n    }, options), {\n      injector,\n      themeOptions: enhanceAdminBoxTheme((_b = options.metadata) !== null && _b !== void 0 ? _b : {}, (_c = options.themeOptions) !== null && _c !== void 0 ? _c : {}),\n      slotsContainer: injector.checkoutDialogContainer,\n      rootEl: injector.checkoutDialogEl\n    })\n  }, React.createElement(AppWrapper, null, React.createElement(CheckoutDialogApp, Object.assign({}, dialogProps))));\n};\n\nfunction _setPrototypeOf$1(o, p) {\n  _setPrototypeOf$1 = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf$1(o, p);\n}\n\nfunction _inheritsLoose$1(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf$1(subClass, superClass);\n}\n\nfunction _extends$2() {\n  _extends$2 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$2.apply(this, arguments);\n}\n\nfunction isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n} // About 1.5x faster than the two-arg version of Array#splice()\n\n\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n} // This implementation is based heavily on node's url.parse\n\n\nfunction resolvePathname(to, from) {\n  if (from === undefined) from = '';\n  var toParts = to && to.split('/') || [];\n  var fromParts = from && from.split('/') || [];\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n  var hasTrailingSlash;\n\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) fromParts.unshift('..');\n  if (mustEndAbs && fromParts[0] !== '' && (!fromParts[0] || !isAbsolute(fromParts[0]))) fromParts.unshift('');\n  var result = fromParts.join('/');\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n  return result;\n}\n\nfunction valueOf(obj) {\n  return obj.valueOf ? obj.valueOf() : Object.prototype.valueOf.call(obj);\n}\n\nfunction valueEqual(a, b) {\n  // Test for strict equality first.\n  if (a === b) return true; // Otherwise, if either of them == null they are not equal.\n\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) {\n    return Array.isArray(b) && a.length === b.length && a.every(function (item, index) {\n      return valueEqual(item, b[index]);\n    });\n  }\n\n  if (typeof a === 'object' || typeof b === 'object') {\n    var aValue = valueOf(a);\n    var bValue = valueOf(b);\n    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);\n    return Object.keys(Object.assign({}, a, b)).every(function (key) {\n      return valueEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n\nvar isProduction = \"production\" === 'production';\nvar prefix = 'Invariant failed';\n\nfunction invariant(condition, message) {\n  if (condition) {\n    return;\n  }\n\n  if (isProduction) {\n    throw new Error(prefix);\n  }\n\n  throw new Error(prefix + \": \" + (message || ''));\n}\n\nfunction addLeadingSlash$1(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n}\n\nfunction stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n}\n\nfunction hasBasename(path, prefix) {\n  return path.toLowerCase().indexOf(prefix.toLowerCase()) === 0 && '/?#'.indexOf(path.charAt(prefix.length)) !== -1;\n}\n\nfunction stripBasename$1(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n}\n\nfunction stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n}\n\nfunction parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n  var hashIndex = pathname.indexOf('#');\n\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n}\n\nfunction createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n  var path = pathname || '/';\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : \"?\" + search;\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : \"#\" + hash;\n  return path;\n}\n\nfunction createLocation(path, state, key, currentLocation) {\n  var location;\n\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = parsePath(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends$2({}, path);\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = resolvePathname(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n}\n\nfunction locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && valueEqual(a.state, b.state);\n}\n\nfunction createTransitionManager() {\n  var prompt = null;\n\n  function setPrompt(nextPrompt) {\n    prompt = nextPrompt;\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  }\n\n  function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  }\n\n  var listeners = [];\n\n  function appendListener(fn) {\n    var isActive = true;\n\n    function listener() {\n      if (isActive) fn.apply(void 0, arguments);\n    }\n\n    listeners.push(listener);\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }\n\n  function notifyListeners() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(void 0, args);\n    });\n  }\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nfunction getConfirmation(message, callback) {\n  callback(window.confirm(message)); // eslint-disable-line no-alert\n}\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\n\n\nfunction supportsHistory() {\n  var ua = window.navigator.userAgent;\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n  return window.history && 'pushState' in window.history;\n}\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\n\n\nfunction supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n}\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\n\n\nfunction supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n}\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\n\n\nfunction isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n}\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nfunction getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n}\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\n\n\nfunction createBrowserHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canUseHistory = supportsHistory();\n  var needsHashChangeListener = !supportsPopStateOnHashChange();\n  var _props = props,\n      _props$forceRefresh = _props.forceRefresh,\n      forceRefresh = _props$forceRefresh === void 0 ? false : _props$forceRefresh,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash$1(props.basename)) : '';\n\n  function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n    var path = pathname + search + hash;\n    if (basename) path = stripBasename$1(path, basename);\n    return createLocation(path, state, key);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends$2(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if (isExtraneousPopstateEvent(event)) return;\n    handlePop(getDOMLocation(event.state));\n  }\n\n  function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  }\n\n  var forceNextPop = false;\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  }\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key]; // Public interface\n\n  function createHref(location) {\n    return basename + createPath(location);\n  }\n\n  function push(path, state) {\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.pushState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex + 1);\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        window.location.href = href;\n      }\n    });\n  }\n\n  function replace(path, state) {\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.replaceState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        window.location.replace(href);\n      }\n    });\n  }\n\n  function go(n) {\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.addEventListener(HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.removeEventListener(HashChangeEvent, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nvar HashChangeEvent$1 = 'hashchange';\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path);\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substr(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: stripLeadingSlash,\n    decodePath: addLeadingSlash$1\n  },\n  slash: {\n    encodePath: addLeadingSlash$1,\n    decodePath: addLeadingSlash$1\n  }\n};\n\nfunction stripHash(url) {\n  var hashIndex = url.indexOf('#');\n  return hashIndex === -1 ? url : url.slice(0, hashIndex);\n}\n\nfunction getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n}\n\nfunction pushHashPath(path) {\n  window.location.hash = path;\n}\n\nfunction replaceHashPath(path) {\n  window.location.replace(stripHash(window.location.href) + '#' + path);\n}\n\nfunction createHashHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? invariant(false) : void 0;\n  var globalHistory = window.history;\n  supportsGoWithoutReloadUsingHash();\n  var _props = props,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$hashType = _props.hashType,\n      hashType = _props$hashType === void 0 ? 'slash' : _props$hashType;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash$1(props.basename)) : '';\n  var _HashPathCoders$hashT = HashPathCoders[hashType],\n      encodePath = _HashPathCoders$hashT.encodePath,\n      decodePath = _HashPathCoders$hashT.decodePath;\n\n  function getDOMLocation() {\n    var path = decodePath(getHashPath());\n    if (basename) path = stripBasename$1(path, basename);\n    return createLocation(path);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends$2(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  var forceNextPop = false;\n  var ignorePath = null;\n\n  function locationsAreEqual$$1(a, b) {\n    return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash;\n  }\n\n  function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var location = getDOMLocation();\n      var prevLocation = history.location;\n      if (!forceNextPop && locationsAreEqual$$1(prevLocation, location)) return; // A hashchange doesn't always == location change.\n\n      if (ignorePath === createPath(location)) return; // Ignore this change; we already setState in push/replace.\n\n      ignorePath = null;\n      handlePop(location);\n    }\n  }\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    var toIndex = allPaths.lastIndexOf(createPath(toLocation));\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allPaths.lastIndexOf(createPath(fromLocation));\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  } // Ensure the hash is encoded properly before doing anything else.\n\n\n  var path = getHashPath();\n  var encodedPath = encodePath(path);\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n  var initialLocation = getDOMLocation();\n  var allPaths = [createPath(initialLocation)]; // Public interface\n\n  function createHref(location) {\n    var baseTag = document.querySelector('base');\n    var href = '';\n\n    if (baseTag && baseTag.getAttribute('href')) {\n      href = stripHash(window.location.href);\n    }\n\n    return href + '#' + encodePath(basename + createPath(location));\n  }\n\n  function push(path, state) {\n    var action = 'PUSH';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a PUSH, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        pushHashPath(encodedPath);\n        var prevIndex = allPaths.lastIndexOf(createPath(history.location));\n        var nextPaths = allPaths.slice(0, prevIndex + 1);\n        nextPaths.push(path);\n        allPaths = nextPaths;\n        setState({\n          action: action,\n          location: location\n        });\n      } else {\n        setState();\n      }\n    });\n  }\n\n  function replace(path, state) {\n    var action = 'REPLACE';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        replaceHashPath(encodedPath);\n      }\n\n      var prevIndex = allPaths.indexOf(createPath(history.location));\n      if (prevIndex !== -1) allPaths[prevIndex] = path;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(HashChangeEvent$1, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(HashChangeEvent$1, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nfunction clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n}\n/**\n * Creates a history object that stores locations in memory.\n */\n\n\nfunction createMemoryHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      getUserConfirmation = _props.getUserConfirmation,\n      _props$initialEntries = _props.initialEntries,\n      initialEntries = _props$initialEntries === void 0 ? ['/'] : _props$initialEntries,\n      _props$initialIndex = _props.initialIndex,\n      initialIndex = _props$initialIndex === void 0 ? 0 : _props$initialIndex,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends$2(history, nextState);\n\n    history.length = history.entries.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var index = clamp(initialIndex, 0, initialEntries.length - 1);\n  var entries = initialEntries.map(function (entry) {\n    return typeof entry === 'string' ? createLocation(entry, undefined, createKey()) : createLocation(entry, undefined, entry.key || createKey());\n  }); // Public interface\n\n  var createHref = createPath;\n\n  function push(path, state) {\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var prevIndex = history.index;\n      var nextIndex = prevIndex + 1;\n      var nextEntries = history.entries.slice(0);\n\n      if (nextEntries.length > nextIndex) {\n        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);\n      } else {\n        nextEntries.push(location);\n      }\n\n      setState({\n        action: action,\n        location: location,\n        index: nextIndex,\n        entries: nextEntries\n      });\n    });\n  }\n\n  function replace(path, state) {\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      history.entries[history.index] = location;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);\n    var action = 'POP';\n    var location = history.entries[nextIndex];\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (ok) {\n        setState({\n          action: action,\n          location: location,\n          index: nextIndex\n        });\n      } else {\n        // Mimic the behavior of DOM histories by\n        // causing a render after a cancelled POP.\n        setState();\n      }\n    });\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  function canGo(n) {\n    var nextIndex = history.index + n;\n    return nextIndex >= 0 && nextIndex < history.entries.length;\n  }\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    return transitionManager.setPrompt(prompt);\n  }\n\n  function listen(listener) {\n    return transitionManager.appendListener(listener);\n  }\n\n  var history = {\n    length: entries.length,\n    action: 'POP',\n    location: entries[index],\n    index: index,\n    entries: entries,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    canGo: canGo,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nvar MAX_SIGNED_31_BIT_INT = 1073741823;\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : {};\n\nfunction getUniqueId() {\n  var key = '__global_unique_id__';\n  return commonjsGlobal[key] = (commonjsGlobal[key] || 0) + 1;\n}\n\nfunction objectIs(x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n\nfunction createEventEmitter(value) {\n  var handlers = [];\n  return {\n    on: function on(handler) {\n      handlers.push(handler);\n    },\n    off: function off(handler) {\n      handlers = handlers.filter(function (h) {\n        return h !== handler;\n      });\n    },\n    get: function get() {\n      return value;\n    },\n    set: function set(newValue, changedBits) {\n      value = newValue;\n      handlers.forEach(function (handler) {\n        return handler(value, changedBits);\n      });\n    }\n  };\n}\n\nfunction onlyChild(children) {\n  return Array.isArray(children) ? children[0] : children;\n}\n\nfunction createReactContext(defaultValue, calculateChangedBits) {\n  var _Provider$childContex, _Consumer$contextType;\n\n  var contextProp = '__create-react-context-' + getUniqueId() + '__';\n\n  var Provider = /*#__PURE__*/function (_Component) {\n    _inheritsLoose$2(Provider, _Component);\n\n    function Provider() {\n      var _this;\n\n      _this = _Component.apply(this, arguments) || this;\n      _this.emitter = createEventEmitter(_this.props.value);\n      return _this;\n    }\n\n    var _proto = Provider.prototype;\n\n    _proto.getChildContext = function getChildContext() {\n      var _ref;\n\n      return _ref = {}, _ref[contextProp] = this.emitter, _ref;\n    };\n\n    _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      if (this.props.value !== nextProps.value) {\n        var oldValue = this.props.value;\n        var newValue = nextProps.value;\n        var changedBits;\n\n        if (objectIs(oldValue, newValue)) {\n          changedBits = 0;\n        } else {\n          changedBits = typeof calculateChangedBits === 'function' ? calculateChangedBits(oldValue, newValue) : MAX_SIGNED_31_BIT_INT;\n          changedBits |= 0;\n\n          if (changedBits !== 0) {\n            this.emitter.set(nextProps.value, changedBits);\n          }\n        }\n      }\n    };\n\n    _proto.render = function render() {\n      return this.props.children;\n    };\n\n    return Provider;\n  }(react.exports.Component);\n\n  Provider.childContextTypes = (_Provider$childContex = {}, _Provider$childContex[contextProp] = PropTypes.object.isRequired, _Provider$childContex);\n\n  var Consumer = /*#__PURE__*/function (_Component2) {\n    _inheritsLoose$2(Consumer, _Component2);\n\n    function Consumer() {\n      var _this2;\n\n      _this2 = _Component2.apply(this, arguments) || this;\n      _this2.state = {\n        value: _this2.getValue()\n      };\n\n      _this2.onUpdate = function (newValue, changedBits) {\n        var observedBits = _this2.observedBits | 0;\n\n        if ((observedBits & changedBits) !== 0) {\n          _this2.setState({\n            value: _this2.getValue()\n          });\n        }\n      };\n\n      return _this2;\n    }\n\n    var _proto2 = Consumer.prototype;\n\n    _proto2.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      var observedBits = nextProps.observedBits;\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT : observedBits;\n    };\n\n    _proto2.componentDidMount = function componentDidMount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].on(this.onUpdate);\n      }\n\n      var observedBits = this.props.observedBits;\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT : observedBits;\n    };\n\n    _proto2.componentWillUnmount = function componentWillUnmount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].off(this.onUpdate);\n      }\n    };\n\n    _proto2.getValue = function getValue() {\n      if (this.context[contextProp]) {\n        return this.context[contextProp].get();\n      } else {\n        return defaultValue;\n      }\n    };\n\n    _proto2.render = function render() {\n      return onlyChild(this.props.children)(this.state.value);\n    };\n\n    return Consumer;\n  }(react.exports.Component);\n\n  Consumer.contextTypes = (_Consumer$contextType = {}, _Consumer$contextType[contextProp] = PropTypes.object, _Consumer$contextType);\n  return {\n    Provider: Provider,\n    Consumer: Consumer\n  };\n}\n\nvar index = React.createContext || createReactContext;\nvar createContext = index;\n\nfunction _extends$1() {\n  _extends$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$1.apply(this, arguments);\n}\n\nvar pathToRegexp$2 = {\n  exports: {}\n};\n\nvar isarray$1 = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\nvar isarray = isarray$1;\n/**\n * Expose `pathToRegexp`.\n */\n\npathToRegexp$2.exports = pathToRegexp;\npathToRegexp$2.exports.parse = parse;\npathToRegexp$2.exports.compile = compile;\npathToRegexp$2.exports.tokensToFunction = tokensToFunction;\npathToRegexp$2.exports.tokensToRegExp = tokensToRegExp;\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\n\nvar PATH_REGEXP = new RegExp([// Match escaped characters that would otherwise appear in future matches.\n// This allows the user to escape special characters that won't transform.\n'(\\\\\\\\.)', // Match Express-style parameters and un-named parameters with a prefix\n// and optional suffixes. Matches appear as:\n//\n// \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n// \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n// \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n'([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'].join('|'), 'g');\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\n\nfunction parse(str, options) {\n  var tokens = [];\n  var key = 0;\n  var index = 0;\n  var path = '';\n  var defaultDelimiter = options && options.delimiter || '/';\n  var res;\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0];\n    var escaped = res[1];\n    var offset = res.index;\n    path += str.slice(index, offset);\n    index = offset + m.length; // Ignore already escaped sequences.\n\n    if (escaped) {\n      path += escaped[1];\n      continue;\n    }\n\n    var next = str[index];\n    var prefix = res[2];\n    var name = res[3];\n    var capture = res[4];\n    var group = res[5];\n    var modifier = res[6];\n    var asterisk = res[7]; // Push the current path onto the tokens.\n\n    if (path) {\n      tokens.push(path);\n      path = '';\n    }\n\n    var partial = prefix != null && next != null && next !== prefix;\n    var repeat = modifier === '+' || modifier === '*';\n    var optional = modifier === '?' || modifier === '*';\n    var delimiter = res[2] || defaultDelimiter;\n    var pattern = capture || group;\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?'\n    });\n  } // Match any characters still remaining.\n\n\n  if (index < str.length) {\n    path += str.substr(index);\n  } // If the path exists, push it onto the end.\n\n\n  if (path) {\n    tokens.push(path);\n  }\n\n  return tokens;\n}\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\n\n\nfunction compile(str, options) {\n  return tokensToFunction(parse(str, options), options);\n}\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\n\n\nfunction encodeURIComponentPretty(str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase();\n  });\n}\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\n\n\nfunction encodeAsterisk(str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase();\n  });\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\n\n\nfunction tokensToFunction(tokens, options) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length); // Compile all the patterns before compilation.\n\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$', flags(options));\n    }\n  }\n\n  return function (obj, opts) {\n    var path = '';\n    var data = obj || {};\n    var options = opts || {};\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent;\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === 'string') {\n        path += token;\n        continue;\n      }\n\n      var value = data[token.name];\n      var segment;\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix;\n          }\n\n          continue;\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined');\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`');\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue;\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty');\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j]);\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`');\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment;\n        }\n\n        continue;\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value);\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"');\n      }\n\n      path += token.prefix + segment;\n    }\n\n    return path;\n  };\n}\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\n\n\nfunction escapeString(str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1');\n}\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\n\n\nfunction escapeGroup(group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1');\n}\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\n\n\nfunction attachKeys(re, keys) {\n  re.keys = keys;\n  return re;\n}\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\n\n\nfunction flags(options) {\n  return options && options.sensitive ? '' : 'i';\n}\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\n\n\nfunction regexpToRegexp(path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      });\n    }\n  }\n\n  return attachKeys(path, keys);\n}\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\n\n\nfunction arrayToRegexp(path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source);\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options));\n  return attachKeys(regexp, keys);\n}\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\n\n\nfunction stringToRegexp(path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\n\n\nfunction tokensToRegExp(tokens, keys, options) {\n  if (!isarray(keys)) {\n    options =\n    /** @type {!Object} */\n    keys || options;\n    keys = [];\n  }\n\n  options = options || {};\n  var strict = options.strict;\n  var end = options.end !== false;\n  var route = ''; // Iterate over the tokens and create our regexp string.\n\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (typeof token === 'string') {\n      route += escapeString(token);\n    } else {\n      var prefix = escapeString(token.prefix);\n      var capture = '(?:' + token.pattern + ')';\n      keys.push(token);\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*';\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?';\n        } else {\n          capture = prefix + '(' + capture + ')?';\n        }\n      } else {\n        capture = prefix + '(' + capture + ')';\n      }\n\n      route += capture;\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/');\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter; // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?';\n  }\n\n  if (end) {\n    route += '$';\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)';\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys);\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\n\n\nfunction pathToRegexp(path, keys, options) {\n  if (!isarray(keys)) {\n    options =\n    /** @type {!Object} */\n    keys || options;\n    keys = [];\n  }\n\n  options = options || {};\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path,\n    /** @type {!Array} */\n    keys);\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(\n    /** @type {!Array} */\n    path,\n    /** @type {!Array} */\n    keys, options);\n  }\n\n  return stringToRegexp(\n  /** @type {string} */\n  path,\n  /** @type {!Array} */\n  keys, options);\n}\n\nvar pathToRegexp$1 = pathToRegexp$2.exports;\n\nfunction _objectWithoutPropertiesLoose$1(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n} // TODO: Replace with React.createContext once we can assume React 16+\n\n\nvar createNamedContext = function createNamedContext(name) {\n  var context = createContext();\n  context.displayName = name;\n  return context;\n};\n\nvar historyContext = /*#__PURE__*/createNamedContext(\"Router-History\"); // TODO: Replace with React.createContext once we can assume React 16+\n\nvar createNamedContext$1 = function createNamedContext(name) {\n  var context = createContext();\n  context.displayName = name;\n  return context;\n};\n\nvar context = /*#__PURE__*/createNamedContext$1(\"Router\");\n/**\n * The public API for putting history on context.\n */\n\nvar Router = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose$1(Router, _React$Component);\n\n  Router.computeRootMatch = function computeRootMatch(pathname) {\n    return {\n      path: \"/\",\n      url: \"/\",\n      params: {},\n      isExact: pathname === \"/\"\n    };\n  };\n\n  function Router(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.state = {\n      location: props.history.location\n    }; // This is a bit of a hack. We have to start listening for location\n    // changes here in the constructor in case there are any <Redirect>s\n    // on the initial render. If there are, they will replace/push when\n    // they mount and since cDM fires in children before parents, we may\n    // get a new location before the <Router> is mounted.\n\n    _this._isMounted = false;\n    _this._pendingLocation = null;\n\n    if (!props.staticContext) {\n      _this.unlisten = props.history.listen(function (location) {\n        if (_this._isMounted) {\n          _this.setState({\n            location: location\n          });\n        } else {\n          _this._pendingLocation = location;\n        }\n      });\n    }\n\n    return _this;\n  }\n\n  var _proto = Router.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._isMounted = true;\n\n    if (this._pendingLocation) {\n      this.setState({\n        location: this._pendingLocation\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.unlisten) this.unlisten();\n  };\n\n  _proto.render = function render() {\n    return React.createElement(context.Provider, {\n      value: {\n        history: this.props.history,\n        location: this.state.location,\n        match: Router.computeRootMatch(this.state.location.pathname),\n        staticContext: this.props.staticContext\n      }\n    }, React.createElement(historyContext.Provider, {\n      children: this.props.children || null,\n      value: this.props.history\n    }));\n  };\n\n  return Router;\n}(React.Component);\n/**\n * The public API for a <Router> that stores location in memory.\n */\n\n/*#__PURE__*/\n\n\n(function (_React$Component) {\n  _inheritsLoose$1(MemoryRouter, _React$Component);\n\n  function MemoryRouter() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.history = createMemoryHistory(_this.props);\n    return _this;\n  }\n\n  var _proto = MemoryRouter.prototype;\n\n  _proto.render = function render() {\n    return React.createElement(Router, {\n      history: this.history,\n      children: this.props.children\n    });\n  };\n\n  return MemoryRouter;\n})(React.Component);\n\nvar Lifecycle = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose$1(Lifecycle, _React$Component);\n\n  function Lifecycle() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Lifecycle.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.props.onMount) this.props.onMount.call(this, this);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.props.onUpdate) this.props.onUpdate.call(this, this, prevProps);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.props.onUnmount) this.props.onUnmount.call(this, this);\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return Lifecycle;\n}(React.Component);\n\nvar cache = {};\nvar cacheLimit = 10000;\nvar cacheCount = 0;\n\nfunction compilePath(path) {\n  if (cache[path]) return cache[path];\n  var generator = pathToRegexp$1.compile(path);\n\n  if (cacheCount < cacheLimit) {\n    cache[path] = generator;\n    cacheCount++;\n  }\n\n  return generator;\n}\n/**\n * Public API for generating a URL pathname from a path and parameters.\n */\n\n\nfunction generatePath(path, params) {\n  if (path === void 0) {\n    path = \"/\";\n  }\n\n  if (params === void 0) {\n    params = {};\n  }\n\n  return path === \"/\" ? path : compilePath(path)(params, {\n    pretty: true\n  });\n}\n/**\n * The public API for navigating programmatically with a component.\n */\n\n\nfunction Redirect(_ref) {\n  var computedMatch = _ref.computedMatch,\n      to = _ref.to,\n      _ref$push = _ref.push,\n      push = _ref$push === void 0 ? false : _ref$push;\n  return React.createElement(context.Consumer, null, function (context) {\n    !context ? invariant(false) : void 0;\n    var history = context.history,\n        staticContext = context.staticContext;\n    var method = push ? history.push : history.replace;\n    var location = createLocation(computedMatch ? typeof to === \"string\" ? generatePath(to, computedMatch.params) : _extends$1({}, to, {\n      pathname: generatePath(to.pathname, computedMatch.params)\n    }) : to); // When rendering in a static context,\n    // set the new location immediately.\n\n    if (staticContext) {\n      method(location);\n      return null;\n    }\n\n    return React.createElement(Lifecycle, {\n      onMount: function onMount() {\n        method(location);\n      },\n      onUpdate: function onUpdate(self, prevProps) {\n        var prevLocation = createLocation(prevProps.to);\n\n        if (!locationsAreEqual(prevLocation, _extends$1({}, location, {\n          key: prevLocation.key\n        }))) {\n          method(location);\n        }\n      },\n      to: to\n    });\n  });\n}\n\nvar cache$1 = {};\nvar cacheLimit$1 = 10000;\nvar cacheCount$1 = 0;\n\nfunction compilePath$1(path, options) {\n  var cacheKey = \"\" + options.end + options.strict + options.sensitive;\n  var pathCache = cache$1[cacheKey] || (cache$1[cacheKey] = {});\n  if (pathCache[path]) return pathCache[path];\n  var keys = [];\n  var regexp = pathToRegexp$1(path, keys, options);\n  var result = {\n    regexp: regexp,\n    keys: keys\n  };\n\n  if (cacheCount$1 < cacheLimit$1) {\n    pathCache[path] = result;\n    cacheCount$1++;\n  }\n\n  return result;\n}\n/**\n * Public API for matching a URL pathname to a path.\n */\n\n\nfunction matchPath(pathname, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (typeof options === \"string\" || Array.isArray(options)) {\n    options = {\n      path: options\n    };\n  }\n\n  var _options = options,\n      path = _options.path,\n      _options$exact = _options.exact,\n      exact = _options$exact === void 0 ? false : _options$exact,\n      _options$strict = _options.strict,\n      strict = _options$strict === void 0 ? false : _options$strict,\n      _options$sensitive = _options.sensitive,\n      sensitive = _options$sensitive === void 0 ? false : _options$sensitive;\n  var paths = [].concat(path);\n  return paths.reduce(function (matched, path) {\n    if (!path && path !== \"\") return null;\n    if (matched) return matched;\n\n    var _compilePath = compilePath$1(path, {\n      end: exact,\n      strict: strict,\n      sensitive: sensitive\n    }),\n        regexp = _compilePath.regexp,\n        keys = _compilePath.keys;\n\n    var match = regexp.exec(pathname);\n    if (!match) return null;\n    var url = match[0],\n        values = match.slice(1);\n    var isExact = pathname === url;\n    if (exact && !isExact) return null;\n    return {\n      path: path,\n      // the path used to match\n      url: path === \"/\" && url === \"\" ? \"/\" : url,\n      // the matched portion of the URL\n      isExact: isExact,\n      // whether or not we matched exactly\n      params: keys.reduce(function (memo, key, index) {\n        memo[key.name] = values[index];\n        return memo;\n      }, {})\n    };\n  }, null);\n}\n/**\n * The public API for matching a single path and rendering.\n */\n\n\nvar Route = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose$1(Route, _React$Component);\n\n  function Route() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Route.prototype;\n\n  _proto.render = function render() {\n    var _this = this;\n\n    return React.createElement(context.Consumer, null, function (context$1) {\n      !context$1 ? invariant(false) : void 0;\n      var location = _this.props.location || context$1.location;\n      var match = _this.props.computedMatch ? _this.props.computedMatch // <Switch> already computed the match for us\n      : _this.props.path ? matchPath(location.pathname, _this.props) : context$1.match;\n\n      var props = _extends$1({}, context$1, {\n        location: location,\n        match: match\n      });\n\n      var _this$props = _this.props,\n          children = _this$props.children,\n          component = _this$props.component,\n          render = _this$props.render; // Preact uses an empty array as children by\n      // default, so use null if that's the case.\n\n      if (Array.isArray(children) && children.length === 0) {\n        children = null;\n      }\n\n      return React.createElement(context.Provider, {\n        value: props\n      }, props.match ? children ? typeof children === \"function\" ? children(props) : children : component ? React.createElement(component, props) : render ? render(props) : null : typeof children === \"function\" ? children(props) : null);\n    });\n  };\n\n  return Route;\n}(React.Component);\n\nfunction addLeadingSlash(path) {\n  return path.charAt(0) === \"/\" ? path : \"/\" + path;\n}\n\nfunction addBasename(basename, location) {\n  if (!basename) return location;\n  return _extends$1({}, location, {\n    pathname: addLeadingSlash(basename) + location.pathname\n  });\n}\n\nfunction stripBasename(basename, location) {\n  if (!basename) return location;\n  var base = addLeadingSlash(basename);\n  if (location.pathname.indexOf(base) !== 0) return location;\n  return _extends$1({}, location, {\n    pathname: location.pathname.substr(base.length)\n  });\n}\n\nfunction createURL(location) {\n  return typeof location === \"string\" ? location : createPath(location);\n}\n\nfunction staticHandler(methodName) {\n  return function () {\n    invariant(false);\n  };\n}\n\nfunction noop() {}\n/**\n * The public top-level API for a \"static\" <Router>, so-called because it\n * can't actually change the current location. Instead, it just records\n * location changes in a context object. Useful mainly in testing and\n * server-rendering scenarios.\n */\n\n/*#__PURE__*/\n\n\n(function (_React$Component) {\n  _inheritsLoose$1(StaticRouter, _React$Component);\n\n  function StaticRouter() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.handlePush = function (location) {\n      return _this.navigateTo(location, \"PUSH\");\n    };\n\n    _this.handleReplace = function (location) {\n      return _this.navigateTo(location, \"REPLACE\");\n    };\n\n    _this.handleListen = function () {\n      return noop;\n    };\n\n    _this.handleBlock = function () {\n      return noop;\n    };\n\n    return _this;\n  }\n\n  var _proto = StaticRouter.prototype;\n\n  _proto.navigateTo = function navigateTo(location, action) {\n    var _this$props = this.props,\n        _this$props$basename = _this$props.basename,\n        basename = _this$props$basename === void 0 ? \"\" : _this$props$basename,\n        _this$props$context = _this$props.context,\n        context = _this$props$context === void 0 ? {} : _this$props$context;\n    context.action = action;\n    context.location = addBasename(basename, createLocation(location));\n    context.url = createURL(context.location);\n  };\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        _this$props2$basename = _this$props2.basename,\n        basename = _this$props2$basename === void 0 ? \"\" : _this$props2$basename,\n        _this$props2$context = _this$props2.context,\n        context = _this$props2$context === void 0 ? {} : _this$props2$context,\n        _this$props2$location = _this$props2.location,\n        location = _this$props2$location === void 0 ? \"/\" : _this$props2$location,\n        rest = _objectWithoutPropertiesLoose$1(_this$props2, [\"basename\", \"context\", \"location\"]);\n\n    var history = {\n      createHref: function createHref(path) {\n        return addLeadingSlash(basename + createURL(path));\n      },\n      action: \"POP\",\n      location: stripBasename(basename, createLocation(location)),\n      push: this.handlePush,\n      replace: this.handleReplace,\n      go: staticHandler(),\n      goBack: staticHandler(),\n      goForward: staticHandler(),\n      listen: this.handleListen,\n      block: this.handleBlock\n    };\n    return React.createElement(Router, _extends$1({}, rest, {\n      history: history,\n      staticContext: context\n    }));\n  };\n\n  return StaticRouter;\n})(React.Component);\n/**\n * The public API for rendering the first <Route> that matches.\n */\n\n\nvar Switch = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose$1(Switch, _React$Component);\n\n  function Switch() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Switch.prototype;\n\n  _proto.render = function render() {\n    var _this = this;\n\n    return React.createElement(context.Consumer, null, function (context) {\n      !context ? invariant(false) : void 0;\n      var location = _this.props.location || context.location;\n      var element, match; // We use React.Children.forEach instead of React.Children.toArray().find()\n      // here because toArray adds keys to all child elements and we do not want\n      // to trigger an unmount/remount for two <Route>s that render the same\n      // component at different URLs.\n\n      React.Children.forEach(_this.props.children, function (child) {\n        if (match == null && React.isValidElement(child)) {\n          element = child;\n          var path = child.props.path || child.props.from;\n          match = path ? matchPath(location.pathname, _extends$1({}, child.props, {\n            path: path\n          })) : context.match;\n        }\n      });\n      return match ? React.cloneElement(element, {\n        location: location,\n        computedMatch: match\n      }) : null;\n    });\n  };\n\n  return Switch;\n}(React.Component);\n\nvar useContext = React.useContext;\n\nfunction useHistory() {\n  return useContext(historyContext);\n}\n\nfunction useLocation() {\n  return useContext(context).location;\n}\n\nfunction useRouteMatch(path) {\n  var location = useLocation();\n  var match = useContext(context).match;\n  return path ? matchPath(location.pathname, path) : match;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n/**\n * The public API for a <Router> that uses HTML5 history.\n */\n\n/*#__PURE__*/\n\n\n(function (_React$Component) {\n  _inheritsLoose(BrowserRouter, _React$Component);\n\n  function BrowserRouter() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.history = createBrowserHistory(_this.props);\n    return _this;\n  }\n\n  var _proto = BrowserRouter.prototype;\n\n  _proto.render = function render() {\n    return React.createElement(Router, {\n      history: this.history,\n      children: this.props.children\n    });\n  };\n\n  return BrowserRouter;\n})(React.Component);\n/**\n * The public API for a <Router> that uses window.location.hash.\n */\n\n\nvar HashRouter = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(HashRouter, _React$Component);\n\n  function HashRouter() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.history = createHashHistory(_this.props);\n    return _this;\n  }\n\n  var _proto = HashRouter.prototype;\n\n  _proto.render = function render() {\n    return React.createElement(Router, {\n      history: this.history,\n      children: this.props.children\n    });\n  };\n\n  return HashRouter;\n}(React.Component);\n\nvar resolveToLocation = function resolveToLocation(to, currentLocation) {\n  return typeof to === \"function\" ? to(currentLocation) : to;\n};\n\nvar normalizeToLocation = function normalizeToLocation(to, currentLocation) {\n  return typeof to === \"string\" ? createLocation(to, null, null, currentLocation) : to;\n};\n\nvar forwardRefShim = function forwardRefShim(C) {\n  return C;\n};\n\nvar forwardRef = React.forwardRef;\n\nif (typeof forwardRef === \"undefined\") {\n  forwardRef = forwardRefShim;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nvar LinkAnchor = forwardRef(function (_ref, forwardedRef) {\n  var innerRef = _ref.innerRef,\n      navigate = _ref.navigate,\n      _onClick = _ref.onClick,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"innerRef\", \"navigate\", \"onClick\"]);\n\n  var target = rest.target;\n\n  var props = _extends({}, rest, {\n    onClick: function onClick(event) {\n      try {\n        if (_onClick) _onClick(event);\n      } catch (ex) {\n        event.preventDefault();\n        throw ex;\n      }\n\n      if (!event.defaultPrevented && // onClick prevented default\n      event.button === 0 && ( // ignore everything but left clicks\n      !target || target === \"_self\") && // let browser handle \"target=_blank\" etc.\n      !isModifiedEvent(event) // ignore clicks with modifier keys\n      ) {\n          event.preventDefault();\n          navigate();\n        }\n    }\n  }); // React 15 compat\n\n\n  if (forwardRefShim !== forwardRef) {\n    props.ref = forwardedRef || innerRef;\n  } else {\n    props.ref = innerRef;\n  }\n  /* eslint-disable-next-line jsx-a11y/anchor-has-content */\n\n\n  return React.createElement(\"a\", props);\n});\n/**\n * The public API for rendering a history-aware <a>.\n */\n\nvar Link = forwardRef(function (_ref2, forwardedRef) {\n  var _ref2$component = _ref2.component,\n      component = _ref2$component === void 0 ? LinkAnchor : _ref2$component,\n      replace = _ref2.replace,\n      to = _ref2.to,\n      innerRef = _ref2.innerRef,\n      rest = _objectWithoutPropertiesLoose(_ref2, [\"component\", \"replace\", \"to\", \"innerRef\"]);\n\n  return React.createElement(context.Consumer, null, function (context) {\n    !context ? invariant(false) : void 0;\n    var history = context.history;\n    var location = normalizeToLocation(resolveToLocation(to, context.location), context.location);\n    var href = location ? history.createHref(location) : \"\";\n\n    var props = _extends({}, rest, {\n      href: href,\n      navigate: function navigate() {\n        var location = resolveToLocation(to, context.location);\n        var method = replace ? history.replace : history.push;\n        method(location);\n      }\n    }); // React 15 compat\n\n\n    if (forwardRefShim !== forwardRef) {\n      props.ref = forwardedRef || innerRef;\n    } else {\n      props.innerRef = innerRef;\n    }\n\n    return React.createElement(component, props);\n  });\n});\n\nvar forwardRefShim$1 = function forwardRefShim(C) {\n  return C;\n};\n\nvar forwardRef$1 = React.forwardRef;\n\nif (typeof forwardRef$1 === \"undefined\") {\n  forwardRef$1 = forwardRefShim$1;\n}\n\nfunction joinClassnames() {\n  for (var _len = arguments.length, classnames = new Array(_len), _key = 0; _key < _len; _key++) {\n    classnames[_key] = arguments[_key];\n  }\n\n  return classnames.filter(function (i) {\n    return i;\n  }).join(\" \");\n}\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\n\n\nforwardRef$1(function (_ref, forwardedRef) {\n  var _ref$ariaCurrent = _ref[\"aria-current\"],\n      ariaCurrent = _ref$ariaCurrent === void 0 ? \"page\" : _ref$ariaCurrent,\n      _ref$activeClassName = _ref.activeClassName,\n      activeClassName = _ref$activeClassName === void 0 ? \"active\" : _ref$activeClassName,\n      activeStyle = _ref.activeStyle,\n      classNameProp = _ref.className,\n      exact = _ref.exact,\n      isActiveProp = _ref.isActive,\n      locationProp = _ref.location,\n      sensitive = _ref.sensitive,\n      strict = _ref.strict,\n      styleProp = _ref.style,\n      to = _ref.to,\n      innerRef = _ref.innerRef,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"aria-current\", \"activeClassName\", \"activeStyle\", \"className\", \"exact\", \"isActive\", \"location\", \"sensitive\", \"strict\", \"style\", \"to\", \"innerRef\"]);\n\n  return React.createElement(context.Consumer, null, function (context) {\n    !context ? invariant(false) : void 0;\n    var currentLocation = locationProp || context.location;\n    var toLocation = normalizeToLocation(resolveToLocation(to, currentLocation), currentLocation);\n    var path = toLocation.pathname; // Regex taken from: https://github.com/pillarjs/path-to-regexp/blob/master/index.js#L202\n\n    var escapedPath = path && path.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n    var match = escapedPath ? matchPath(currentLocation.pathname, {\n      path: escapedPath,\n      exact: exact,\n      sensitive: sensitive,\n      strict: strict\n    }) : null;\n    var isActive = !!(isActiveProp ? isActiveProp(match, currentLocation) : match);\n    var className = isActive ? joinClassnames(classNameProp, activeClassName) : classNameProp;\n    var style = isActive ? _extends({}, styleProp, {}, activeStyle) : styleProp;\n\n    var props = _extends({\n      \"aria-current\": isActive && ariaCurrent || null,\n      className: className,\n      style: style,\n      to: toLocation\n    }, rest); // React 15 compat\n\n\n    if (forwardRefShim$1 !== forwardRef$1) {\n      props.ref = forwardedRef || innerRef;\n    } else {\n      props.innerRef = innerRef;\n    }\n\n    return React.createElement(Link, props);\n  });\n});\n/*!\n * get-value <https://github.com/jonschlinkert/get-value>\n *\n * Copyright (c) 2014-2018, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nconst isObject = isobject;\n\nvar getValue = function (target, path, options) {\n  if (!isObject(options)) {\n    options = {\n      default: options\n    };\n  }\n\n  if (!isValidObject(target)) {\n    return typeof options.default !== 'undefined' ? options.default : target;\n  }\n\n  if (typeof path === 'number') {\n    path = String(path);\n  }\n\n  const isArray = Array.isArray(path);\n  const isString = typeof path === 'string';\n  const splitChar = options.separator || '.';\n  const joinChar = options.joinChar || (typeof splitChar === 'string' ? splitChar : '.');\n\n  if (!isString && !isArray) {\n    return target;\n  }\n\n  if (isString && path in target) {\n    return isValid$1(path, target, options) ? target[path] : options.default;\n  }\n\n  let segs = isArray ? path : split(path, splitChar, options);\n  let len = segs.length;\n  let idx = 0;\n\n  do {\n    let prop = segs[idx];\n\n    if (typeof prop === 'number') {\n      prop = String(prop);\n    }\n\n    while (prop && prop.slice(-1) === '\\\\') {\n      prop = join([prop.slice(0, -1), segs[++idx] || ''], joinChar, options);\n    }\n\n    if (prop in target) {\n      if (!isValid$1(prop, target, options)) {\n        return options.default;\n      }\n\n      target = target[prop];\n    } else {\n      let hasProp = false;\n      let n = idx + 1;\n\n      while (n < len) {\n        prop = join([prop, segs[n++]], joinChar, options);\n\n        if (hasProp = prop in target) {\n          if (!isValid$1(prop, target, options)) {\n            return options.default;\n          }\n\n          target = target[prop];\n          idx = n - 1;\n          break;\n        }\n      }\n\n      if (!hasProp) {\n        return options.default;\n      }\n    }\n  } while (++idx < len && isValidObject(target));\n\n  if (idx === len) {\n    return target;\n  }\n\n  return options.default;\n};\n\nfunction join(segs, joinChar, options) {\n  if (typeof options.join === 'function') {\n    return options.join(segs);\n  }\n\n  return segs[0] + joinChar + segs[1];\n}\n\nfunction split(path, splitChar, options) {\n  if (typeof options.split === 'function') {\n    return options.split(path);\n  }\n\n  return path.split(splitChar);\n}\n\nfunction isValid$1(key, target, options) {\n  if (typeof options.isValid === 'function') {\n    return options.isValid(key, target);\n  }\n\n  return true;\n}\n\nfunction isValidObject(val) {\n  return isObject(val) || Array.isArray(val) || typeof val === 'function';\n}\n\nvar getValue$1 = getValue;\n\nfunction toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n\n  var number = Number(dirtyNumber);\n\n  if (isNaN(number)) {\n    return number;\n  }\n\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}\n\nfunction requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\n\n\nfunction toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || typeof argument === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the days added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\n\n\nfunction addDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n\n  date.setDate(date.getDate() + amount);\n  return date;\n}\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\n\n\nfunction addMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n\n  var dayOfMonth = date.getDate(); // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 1, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n\n  var endOfDesiredMonth = new Date(date.getTime());\n  endOfDesiredMonth.setMonth(date.getMonth() + amount + 1, 0);\n  var daysInMonth = endOfDesiredMonth.getDate();\n\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    date.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n    return date;\n  }\n}\n/**\n * @name addMilliseconds\n * @category Millisecond Helpers\n * @summary Add the specified number of milliseconds to the given date.\n *\n * @description\n * Add the specified number of milliseconds to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\n * const result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:30.750\n */\n\n\nfunction addMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var timestamp = toDate(dirtyDate).getTime();\n  var amount = toInteger(dirtyAmount);\n  return new Date(timestamp + amount);\n}\n\nvar MILLISECONDS_IN_MINUTE$2 = 60000;\n\nfunction getDateMillisecondsPart(date) {\n  return date.getTime() % MILLISECONDS_IN_MINUTE$2;\n}\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\n\n\nfunction getTimezoneOffsetInMilliseconds(dirtyDate) {\n  var date = new Date(dirtyDate.getTime());\n  var baseTimezoneOffset = Math.ceil(date.getTimezoneOffset());\n  date.setSeconds(0, 0);\n  var hasNegativeUTCOffset = baseTimezoneOffset > 0;\n  var millisecondsPartOfTimezoneOffset = hasNegativeUTCOffset ? (MILLISECONDS_IN_MINUTE$2 + getDateMillisecondsPart(date)) % MILLISECONDS_IN_MINUTE$2 : getDateMillisecondsPart(date);\n  return baseTimezoneOffset * MILLISECONDS_IN_MINUTE$2 + millisecondsPartOfTimezoneOffset;\n}\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\n\n\nfunction startOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\n\nvar MILLISECONDS_IN_DAY$1 = 86400000;\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar days\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * var result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * var result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\n\nfunction differenceInCalendarDays(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var startOfDayLeft = startOfDay(dirtyDateLeft);\n  var startOfDayRight = startOfDay(dirtyDateRight);\n  var timestampLeft = startOfDayLeft.getTime() - getTimezoneOffsetInMilliseconds(startOfDayLeft);\n  var timestampRight = startOfDayRight.getTime() - getTimezoneOffsetInMilliseconds(startOfDayRight); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a day is not constant\n  // (e.g. it's different in the day of the daylight saving time clock shift)\n\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY$1);\n}\n/**\n * @name addYears\n * @category Year Helpers\n * @summary Add the specified number of years to the given date.\n *\n * @description\n * Add the specified number of years to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of years to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the years added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 years to 1 September 2014:\n * const result = addYears(new Date(2014, 8, 1), 5)\n * //=> Sun Sep 01 2019 00:00:00\n */\n\n\nfunction addYears(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMonths(dirtyDate, amount * 12);\n}\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - Now `isValid` doesn't throw an exception\n *   if the first argument is not an instance of Date.\n *   Instead, argument is converted beforehand using `toDate`.\n *\n *   Examples:\n *\n *   | `isValid` argument        | Before v2.0.0 | v2.0.0 onward |\n *   |---------------------------|---------------|---------------|\n *   | `new Date()`              | `true`        | `true`        |\n *   | `new Date('2016-01-01')`  | `true`        | `true`        |\n *   | `new Date('')`            | `false`       | `false`       |\n *   | `new Date(1488370835081)` | `true`        | `true`        |\n *   | `new Date(NaN)`           | `false`       | `false`       |\n *   | `'2016-01-01'`            | `TypeError`   | `false`       |\n *   | `''`                      | `TypeError`   | `false`       |\n *   | `1488370835081`           | `TypeError`   | `true`        |\n *   | `NaN`                     | `TypeError`   | `false`       |\n *\n *   We introduce this change to make *date-fns* consistent with ECMAScript behavior\n *   that try to coerce arguments to the expected type\n *   (which is also the case with other *date-fns* functions).\n *\n * @param {*} date - the date to check\n * @returns {Boolean} the date is valid\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // For the valid date:\n * var result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * var result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * var result = isValid(new Date(''))\n * //=> false\n */\n\n\nfunction isValid(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  return !isNaN(date);\n} // for accurate equality comparisons of UTC timestamps that end up\n// having the same representation in local time, e.g. one hour before\n// DST ends vs. the instant that DST ends.\n\n\nfunction compareLocalAsc(dateLeft, dateRight) {\n  var diff = dateLeft.getFullYear() - dateRight.getFullYear() || dateLeft.getMonth() - dateRight.getMonth() || dateLeft.getDate() - dateRight.getDate() || dateLeft.getHours() - dateRight.getHours() || dateLeft.getMinutes() - dateRight.getMinutes() || dateLeft.getSeconds() - dateRight.getSeconds() || dateLeft.getMilliseconds() - dateRight.getMilliseconds();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1; // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}\n/**\n * @name differenceInDays\n * @category Day Helpers\n * @summary Get the number of full days between the given dates.\n *\n * @description\n * Get the number of full day periods between two dates. Fractional days are\n * truncated towards zero.\n *\n * One \"full day\" is the distance between a local time in one day to the same\n * local time on the next or previous day. A full day can sometimes be less than\n * or more than 24 hours if a daylight savings change happens between two dates.\n *\n * To ignore DST and only measure exact 24-hour periods, use this instead:\n * `Math.floor(differenceInHours(dateLeft, dateRight)/24)|0`.\n *\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of full days according to the local timezone\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * var result = differenceInDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 365\n * // How many full days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * var result = differenceInDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 0\n * // How many full days are between\n * // 1 March 2020 0:00 and 1 June 2020 0:00 ?\n * // Note: because local time is used, the\n * // result will always be 92 days, even in\n * // time zones where DST starts and the\n * // period has only 92*24-1 hours.\n * var result = differenceInDays(\n *   new Date(2020, 5, 1),\n *   new Date(2020, 2, 1)\n * )\n//=> 92\n */\n\n\nfunction differenceInDays(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var sign = compareLocalAsc(dateLeft, dateRight);\n  var difference = Math.abs(differenceInCalendarDays(dateLeft, dateRight));\n  dateLeft.setDate(dateLeft.getDate() - sign * difference); // Math.abs(diff in full days - diff in calendar days) === 1 if last calendar day is not full\n  // If so, result must be decreased by 1 in absolute value\n\n  var isLastDayNotFull = compareLocalAsc(dateLeft, dateRight) === -sign;\n  var result = sign * (difference - isLastDayNotFull); // Prevent negative zero\n\n  return result === 0 ? 0 : result;\n}\n/**\n * @name differenceInMilliseconds\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of milliseconds\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * var result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\n\n\nfunction differenceInMilliseconds(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  return dateLeft.getTime() - dateRight.getTime();\n}\n\nvar MILLISECONDS_IN_MINUTE$1 = 60000;\n/**\n * @name differenceInMinutes\n * @category Minute Helpers\n * @summary Get the number of minutes between the given dates.\n *\n * @description\n * Get the signed number of full (rounded towards 0) minutes between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of minutes\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many minutes are between 2 July 2014 12:07:59 and 2 July 2014 12:20:00?\n * var result = differenceInMinutes(\n *   new Date(2014, 6, 2, 12, 20, 0),\n *   new Date(2014, 6, 2, 12, 7, 59)\n * )\n * //=> 12\n *\n * @example\n * // How many minutes are from 10:01:59 to 10:00:00\n * var result = differenceInMinutes(\n *   new Date(2000, 0, 1, 10, 0, 0),\n *   new Date(2000, 0, 1, 10, 1, 59)\n * )\n * //=> -1\n */\n\nfunction differenceInMinutes(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var diff = differenceInMilliseconds(dirtyDateLeft, dirtyDateRight) / MILLISECONDS_IN_MINUTE$1;\n  return diff > 0 ? Math.floor(diff) : Math.ceil(diff);\n}\n\nvar formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'less than a second',\n    other: 'less than {{count}} seconds'\n  },\n  xSeconds: {\n    one: '1 second',\n    other: '{{count}} seconds'\n  },\n  halfAMinute: 'half a minute',\n  lessThanXMinutes: {\n    one: 'less than a minute',\n    other: 'less than {{count}} minutes'\n  },\n  xMinutes: {\n    one: '1 minute',\n    other: '{{count}} minutes'\n  },\n  aboutXHours: {\n    one: 'about 1 hour',\n    other: 'about {{count}} hours'\n  },\n  xHours: {\n    one: '1 hour',\n    other: '{{count}} hours'\n  },\n  xDays: {\n    one: '1 day',\n    other: '{{count}} days'\n  },\n  aboutXWeeks: {\n    one: 'about 1 week',\n    other: 'about {{count}} weeks'\n  },\n  xWeeks: {\n    one: '1 week',\n    other: '{{count}} weeks'\n  },\n  aboutXMonths: {\n    one: 'about 1 month',\n    other: 'about {{count}} months'\n  },\n  xMonths: {\n    one: '1 month',\n    other: '{{count}} months'\n  },\n  aboutXYears: {\n    one: 'about 1 year',\n    other: 'about {{count}} years'\n  },\n  xYears: {\n    one: '1 year',\n    other: '{{count}} years'\n  },\n  overXYears: {\n    one: 'over 1 year',\n    other: 'over {{count}} years'\n  },\n  almostXYears: {\n    one: 'almost 1 year',\n    other: 'almost {{count}} years'\n  }\n};\n\nfunction formatDistance(token, count, options) {\n  options = options || {};\n  var result;\n\n  if (typeof formatDistanceLocale[token] === 'string') {\n    result = formatDistanceLocale[token];\n  } else if (count === 1) {\n    result = formatDistanceLocale[token].one;\n  } else {\n    result = formatDistanceLocale[token].other.replace('{{count}}', count);\n  }\n\n  if (options.addSuffix) {\n    if (options.comparison > 0) {\n      return 'in ' + result;\n    } else {\n      return result + ' ago';\n    }\n  }\n\n  return result;\n}\n\nfunction buildFormatLongFn(args) {\n  return function (dirtyOptions) {\n    var options = dirtyOptions || {};\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nvar formatLong$1 = formatLong;\nvar formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: 'P'\n};\n\nfunction formatRelative(token, _date, _baseDate, _options) {\n  return formatRelativeLocale[token];\n}\n\nfunction buildLocalizeFn(args) {\n  return function (dirtyIndex, dirtyOptions) {\n    var options = dirtyOptions || {};\n    var context = options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n\n      var _width = options.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n    return valuesArray[index];\n  };\n}\n\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter'] // Note: in English, the names of days of the week and months are capitalized.\n  // If you are making a new locale based on this one, check if the same is true for the language you're working on.\n  // Generally, formatted dates should look like they are in the middle of a sentence,\n  // e.g. in Spanish language the weekdays and months should be in the lowercase.\n\n};\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\n\nfunction ordinalNumber(dirtyNumber, _dirtyOptions) {\n  var number = Number(dirtyNumber); // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`:\n  //\n  //   var options = dirtyOptions || {}\n  //   var unit = String(options.unit)\n  //\n  // where `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'\n\n  var rem100 = number % 100;\n\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n\n      case 2:\n        return number + 'nd';\n\n      case 3:\n        return number + 'rd';\n    }\n  }\n\n  return number + 'th';\n}\n\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function (quarter) {\n      return Number(quarter) - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nvar localize$1 = localize;\n\nfunction buildMatchPatternFn(args) {\n  return function (dirtyString, dirtyOptions) {\n    var string = String(dirtyString);\n    var options = dirtyOptions || {};\n    var matchResult = string.match(args.matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n\n    if (!parseResult) {\n      return null;\n    }\n\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    return {\n      value: value,\n      rest: string.slice(matchedString.length)\n    };\n  };\n}\n\nfunction buildMatchFn(args) {\n  return function (dirtyString, dirtyOptions) {\n    var string = String(dirtyString);\n    var options = dirtyOptions || {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var value;\n\n    if (Object.prototype.toString.call(parsePatterns) === '[object Array]') {\n      value = findIndex(parsePatterns, function (pattern) {\n        return pattern.test(matchedString);\n      });\n    } else {\n      value = findKey(parsePatterns, function (pattern) {\n        return pattern.test(matchedString);\n      });\n    }\n\n    value = args.valueCallback ? args.valueCallback(value) : value;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    return {\n      value: value,\n      rest: string.slice(matchedString.length)\n    };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n}\n\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n}\n\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function (value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function (index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nvar match$1 = match;\n/**\n * @type {Locale}\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */\n\nvar locale = {\n  code: 'en-US',\n  formatDistance: formatDistance,\n  formatLong: formatLong$1,\n  formatRelative: formatRelative,\n  localize: localize$1,\n  match: match$1,\n  options: {\n    weekStartsOn: 0\n    /* Sunday */\n    ,\n    firstWeekContainsDate: 1\n  }\n};\nvar defaultLocale = locale;\n/**\n * @name subMilliseconds\n * @category Millisecond Helpers\n * @summary Subtract the specified number of milliseconds from the given date.\n *\n * @description\n * Subtract the specified number of milliseconds from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 750 milliseconds from 10 July 2014 12:45:30.000:\n * const result = subMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:29.250\n */\n\nfunction subMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMilliseconds(dirtyDate, -amount);\n}\n\nfunction addLeadingZeros(number, targetLength) {\n  var sign = number < 0 ? '-' : '';\n  var output = Math.abs(number).toString();\n\n  while (output.length < targetLength) {\n    output = '0' + output;\n  }\n\n  return sign + output;\n}\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\n\nvar formatters$2 = {\n  // Year\n  y: function (date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n    var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === 'yy' ? year % 100 : year, token.length);\n  },\n  // Month\n  M: function (date, token) {\n    var month = date.getUTCMonth();\n    return token === 'M' ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n  // Day of the month\n  d: function (date, token) {\n    return addLeadingZeros(date.getUTCDate(), token.length);\n  },\n  // AM or PM\n  a: function (date, token) {\n    var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return dayPeriodEnumValue.toUpperCase();\n\n      case 'aaa':\n        return dayPeriodEnumValue;\n\n      case 'aaaaa':\n        return dayPeriodEnumValue[0];\n\n      case 'aaaa':\n      default:\n        return dayPeriodEnumValue === 'am' ? 'a.m.' : 'p.m.';\n    }\n  },\n  // Hour [1-12]\n  h: function (date, token) {\n    return addLeadingZeros(date.getUTCHours() % 12 || 12, token.length);\n  },\n  // Hour [0-23]\n  H: function (date, token) {\n    return addLeadingZeros(date.getUTCHours(), token.length);\n  },\n  // Minute\n  m: function (date, token) {\n    return addLeadingZeros(date.getUTCMinutes(), token.length);\n  },\n  // Second\n  s: function (date, token) {\n    return addLeadingZeros(date.getUTCSeconds(), token.length);\n  },\n  // Fraction of second\n  S: function (date, token) {\n    var numberOfDigits = token.length;\n    var milliseconds = date.getUTCMilliseconds();\n    var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));\n    return addLeadingZeros(fractionalSeconds, token.length);\n  }\n};\nvar formatters$3 = formatters$2;\nvar MILLISECONDS_IN_DAY = 86400000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nfunction getUTCDayOfYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var timestamp = date.getTime();\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n  var startOfYearTimestamp = date.getTime();\n  var difference = timestamp - startOfYearTimestamp;\n  return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;\n} // See issue: https://github.com/date-fns/date-fns/issues/376\n\n\nfunction startOfUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n} // See issue: https://github.com/date-fns/date-fns/issues/376\n\n\nfunction getUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n} // See issue: https://github.com/date-fns/date-fns/issues/376\n\n\nfunction startOfUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var year = getUTCISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCISOWeek(fourthOfJanuary);\n  return date;\n}\n\nvar MILLISECONDS_IN_WEEK$1 = 604800000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nfunction getUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK$1) + 1;\n} // See issue: https://github.com/date-fns/date-fns/issues/376\n\n\nfunction startOfUTCWeek(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n} // See issue: https://github.com/date-fns/date-fns/issues/376\n\n\nfunction getUTCWeekYear(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate, dirtyOptions);\n  var year = date.getUTCFullYear();\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, dirtyOptions);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, dirtyOptions);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n} // See issue: https://github.com/date-fns/date-fns/issues/376\n\n\nfunction startOfUTCWeekYear(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate);\n  var year = getUTCWeekYear(dirtyDate, dirtyOptions);\n  var firstWeek = new Date(0);\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCWeek(firstWeek, dirtyOptions);\n  return date;\n}\n\nvar MILLISECONDS_IN_WEEK = 604800000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nfunction getUTCWeek(dirtyDate, options) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}\n\nvar dayPeriodEnum = {\n  am: 'am',\n  pm: 'pm',\n  midnight: 'midnight',\n  noon: 'noon',\n  morning: 'morning',\n  afternoon: 'afternoon',\n  evening: 'evening',\n  night: 'night'\n  /*\n   * |     | Unit                           |     | Unit                           |\n   * |-----|--------------------------------|-----|--------------------------------|\n   * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n   * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n   * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n   * |  d  | Day of month                   |  D  | Day of year                    |\n   * |  e  | Local day of week              |  E  | Day of week                    |\n   * |  f  |                                |  F* | Day of week in month           |\n   * |  g* | Modified Julian day            |  G  | Era                            |\n   * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n   * |  i! | ISO day of week                |  I! | ISO week of year               |\n   * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n   * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n   * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n   * |  m  | Minute                         |  M  | Month                          |\n   * |  n  |                                |  N  |                                |\n   * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n   * |  p! | Long localized time            |  P! | Long localized date            |\n   * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n   * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n   * |  s  | Second                         |  S  | Fraction of second             |\n   * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n   * |  u  | Extended year                  |  U* | Cyclic year                    |\n   * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n   * |  w  | Local week of year             |  W* | Week of month                  |\n   * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n   * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n   * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n   *\n   * Letters marked by * are not implemented but reserved by Unicode standard.\n   *\n   * Letters marked by ! are non-standard, but implemented by date-fns:\n   * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n   * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n   *   i.e. 7 for Sunday, 1 for Monday, etc.\n   * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n   * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n   *   `R` is supposed to be used in conjunction with `I` and `i`\n   *   for universal ISO week-numbering date, whereas\n   *   `Y` is supposed to be used in conjunction with `w` and `e`\n   *   for week-numbering date specific to the locale.\n   * - `P` is long localized date format\n   * - `p` is long localized time format\n   */\n\n};\nvar formatters = {\n  // Era\n  G: function (date, token, localize) {\n    var era = date.getUTCFullYear() > 0 ? 1 : 0;\n\n    switch (token) {\n      // AD, BC\n      case 'G':\n      case 'GG':\n      case 'GGG':\n        return localize.era(era, {\n          width: 'abbreviated'\n        });\n      // A, B\n\n      case 'GGGGG':\n        return localize.era(era, {\n          width: 'narrow'\n        });\n      // Anno Domini, Before Christ\n\n      case 'GGGG':\n      default:\n        return localize.era(era, {\n          width: 'wide'\n        });\n    }\n  },\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === 'yo') {\n      var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n      var year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, {\n        unit: 'year'\n      });\n    }\n\n    return formatters$3.y(date, token);\n  },\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    var signedWeekYear = getUTCWeekYear(date, options); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear; // Two digit year\n\n    if (token === 'YY') {\n      var twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    } // Ordinal number\n\n\n    if (token === 'Yo') {\n      return localize.ordinalNumber(weekYear, {\n        unit: 'year'\n      });\n    } // Padding\n\n\n    return addLeadingZeros(weekYear, token.length);\n  },\n  // ISO week-numbering year\n  R: function (date, token) {\n    var isoWeekYear = getUTCISOWeekYear(date); // Padding\n\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    var year = date.getUTCFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n  // Quarter\n  Q: function (date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'Q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'QQ':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'Qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'QQQ':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'QQQQQ':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'QQQQ':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'qq':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'qqq':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'qqqqq':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'qqqq':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Month\n  M: function (date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      case 'M':\n      case 'MM':\n        return formatters$3.M(date, token);\n      // 1st, 2nd, ..., 12th\n\n      case 'Mo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'MMM':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // J, F, ..., D\n\n      case 'MMMMM':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // January, February, ..., December\n\n      case 'MMMM':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone month\n  L: function (date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      // 1, 2, ..., 12\n      case 'L':\n        return String(month + 1);\n      // 01, 02, ..., 12\n\n      case 'LL':\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n\n      case 'Lo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'LLL':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // J, F, ..., D\n\n      case 'LLLLL':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // January, February, ..., December\n\n      case 'LLLL':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Local week of year\n  w: function (date, token, localize, options) {\n    var week = getUTCWeek(date, options);\n\n    if (token === 'wo') {\n      return localize.ordinalNumber(week, {\n        unit: 'week'\n      });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n  // ISO week of year\n  I: function (date, token, localize) {\n    var isoWeek = getUTCISOWeek(date);\n\n    if (token === 'Io') {\n      return localize.ordinalNumber(isoWeek, {\n        unit: 'week'\n      });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === 'do') {\n      return localize.ordinalNumber(date.getUTCDate(), {\n        unit: 'date'\n      });\n    }\n\n    return formatters$3.d(date, token);\n  },\n  // Day of year\n  D: function (date, token, localize) {\n    var dayOfYear = getUTCDayOfYear(date);\n\n    if (token === 'Do') {\n      return localize.ordinalNumber(dayOfYear, {\n        unit: 'dayOfYear'\n      });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n  // Day of week\n  E: function (date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n\n    switch (token) {\n      // Tue\n      case 'E':\n      case 'EE':\n      case 'EEE':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'EEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'EEEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'EEEE':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Local day of week\n  e: function (date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case 'e':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'ee':\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n\n      case 'eo':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'eee':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'eeeee':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'eeeeee':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'eeee':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case 'c':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'cc':\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n\n      case 'co':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'ccc':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // T\n\n      case 'ccccc':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // Tu\n\n      case 'cccccc':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'standalone'\n        });\n      // Tuesday\n\n      case 'cccc':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // ISO day of week\n  i: function (date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n\n    switch (token) {\n      // 2\n      case 'i':\n        return String(isoDayOfWeek);\n      // 02\n\n      case 'ii':\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n\n      case 'io':\n        return localize.ordinalNumber(isoDayOfWeek, {\n          unit: 'day'\n        });\n      // Tue\n\n      case 'iii':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'iiiii':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'iiiiii':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'iiii':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM or PM\n  a: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'aaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n\n      case 'aaaaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'aaaa':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    }\n\n    switch (token) {\n      case 'b':\n      case 'bb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'bbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n\n      case 'bbbbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'bbbb':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case 'B':\n      case 'BB':\n      case 'BBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'BBBBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'BBBB':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === 'ho') {\n      var hours = date.getUTCHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return formatters$3.h(date, token);\n  },\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === 'Ho') {\n      return localize.ordinalNumber(date.getUTCHours(), {\n        unit: 'hour'\n      });\n    }\n\n    return formatters$3.H(date, token);\n  },\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    var hours = date.getUTCHours() % 12;\n\n    if (token === 'Ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    if (hours === 0) hours = 24;\n\n    if (token === 'ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n  // Minute\n  m: function (date, token, localize) {\n    if (token === 'mo') {\n      return localize.ordinalNumber(date.getUTCMinutes(), {\n        unit: 'minute'\n      });\n    }\n\n    return formatters$3.m(date, token);\n  },\n  // Second\n  s: function (date, token, localize) {\n    if (token === 'so') {\n      return localize.ordinalNumber(date.getUTCSeconds(), {\n        unit: 'second'\n      });\n    }\n\n    return formatters$3.s(date, token);\n  },\n  // Fraction of second\n  S: function (date, token) {\n    return formatters$3.S(date, token);\n  },\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return 'Z';\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'X':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n\n      case 'XXXX':\n      case 'XX':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n\n      case 'XXXXX':\n      case 'XXX': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'x':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n\n      case 'xxxx':\n      case 'xx':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n\n      case 'xxxxx':\n      case 'xxx': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (GMT)\n  O: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'O':\n      case 'OO':\n      case 'OOO':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'OOOO':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (specific non-location)\n  z: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'z':\n      case 'zz':\n      case 'zzz':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'zzzz':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Seconds timestamp\n  t: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = Math.floor(originalDate.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n  // Milliseconds timestamp\n  T: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = originalDate.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  }\n};\n\nfunction formatTimezoneShort(offset, dirtyDelimiter) {\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = Math.floor(absOffset / 60);\n  var minutes = absOffset % 60;\n\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n\n  var delimiter = dirtyDelimiter || '';\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {\n  if (offset % 60 === 0) {\n    var sign = offset > 0 ? '-' : '+';\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n\n  return formatTimezone(offset, dirtyDelimiter);\n}\n\nfunction formatTimezone(offset, dirtyDelimiter) {\n  var delimiter = dirtyDelimiter || '';\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = addLeadingZeros(Math.floor(absOffset / 60), 2);\n  var minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n\nvar formatters$1 = formatters;\n\nfunction dateLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'P':\n      return formatLong.date({\n        width: 'short'\n      });\n\n    case 'PP':\n      return formatLong.date({\n        width: 'medium'\n      });\n\n    case 'PPP':\n      return formatLong.date({\n        width: 'long'\n      });\n\n    case 'PPPP':\n    default:\n      return formatLong.date({\n        width: 'full'\n      });\n  }\n}\n\nfunction timeLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'p':\n      return formatLong.time({\n        width: 'short'\n      });\n\n    case 'pp':\n      return formatLong.time({\n        width: 'medium'\n      });\n\n    case 'ppp':\n      return formatLong.time({\n        width: 'long'\n      });\n\n    case 'pppp':\n    default:\n      return formatLong.time({\n        width: 'full'\n      });\n  }\n}\n\nfunction dateTimeLongFormatter(pattern, formatLong) {\n  var matchResult = pattern.match(/(P+)(p+)?/);\n  var datePattern = matchResult[1];\n  var timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  var dateTimeFormat;\n\n  switch (datePattern) {\n    case 'P':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'short'\n      });\n      break;\n\n    case 'PP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'medium'\n      });\n      break;\n\n    case 'PPP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'long'\n      });\n      break;\n\n    case 'PPPP':\n    default:\n      dateTimeFormat = formatLong.dateTime({\n        width: 'full'\n      });\n      break;\n  }\n\n  return dateTimeFormat.replace('{{date}}', dateLongFormatter(datePattern, formatLong)).replace('{{time}}', timeLongFormatter(timePattern, formatLong));\n}\n\nvar longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter\n};\nvar longFormatters$1 = longFormatters;\nvar protectedDayOfYearTokens = ['D', 'DD'];\nvar protectedWeekYearTokens = ['YY', 'YYYY'];\n\nfunction isProtectedDayOfYearToken(token) {\n  return protectedDayOfYearTokens.indexOf(token) !== -1;\n}\n\nfunction isProtectedWeekYearToken(token) {\n  return protectedWeekYearTokens.indexOf(token) !== -1;\n}\n\nfunction throwProtectedError(token, format, input) {\n  if (token === 'YYYY') {\n    throw new RangeError(\"Use `yyyy` instead of `YYYY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'YY') {\n    throw new RangeError(\"Use `yy` instead of `YY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'D') {\n    throw new RangeError(\"Use `d` instead of `D` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'DD') {\n    throw new RangeError(\"Use `dd` instead of `DD` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  }\n} // - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\n\n\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g; // This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\n\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar escapedStringRegExp = /^'([^]*?)'?$/;\nvar doubleQuoteRegExp = /''/g;\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n/**\n * @name format\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > ⚠️ Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://git.io/fxCyr\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Su, Sa        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 0001, ..., 999               |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear]{@link https://date-fns.org/docs/getISOWeekYear}\n *    and [getWeekYear]{@link https://date-fns.org/docs/getWeekYear}).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://git.io/fxCyr\n *\n * 9. `D` and `DD` tokens represent days of the year but they are ofthen confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://git.io/fxCyr\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The second argument is now required for the sake of explicitness.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   format(new Date(2016, 0, 1))\n *\n *   // v2.0.0 onward\n *   format(new Date(2016, 0, 1), \"yyyy-MM-dd'T'HH:mm:ss.SSSxxx\")\n *   ```\n *\n * - New format string API for `format` function\n *   which is based on [Unicode Technical Standard #35](https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table).\n *   See [this post](https://blog.date-fns.org/post/unicode-tokens-in-date-fns-v2-sreatyki91jg) for more details.\n *\n * - Characters are now escaped using single quote symbols (`'`) instead of square brackets.\n *\n * @param {Date|Number} date - the original date\n * @param {String} format - the string of tokens\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is\n * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;\n *   see: https://git.io/fxCyr\n * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;\n *   see: https://git.io/fxCyr\n * @returns {String} the formatted date string\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `localize` property\n * @throws {RangeError} `options.locale` must contain `formatLong` property\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * var result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * var result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * var result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\n\nfunction format(dirtyDate, dirtyFormatStr, dirtyOptions) {\n  requiredArgs(2, arguments);\n  var formatStr = String(dirtyFormatStr);\n  var options = dirtyOptions || {};\n  var locale = options.locale || defaultLocale;\n  var localeFirstWeekContainsDate = locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var localeWeekStartsOn = locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  if (!locale.localize) {\n    throw new RangeError('locale must contain localize property');\n  }\n\n  if (!locale.formatLong) {\n    throw new RangeError('locale must contain formatLong property');\n  }\n\n  var originalDate = toDate(dirtyDate);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError('Invalid time value');\n  } // Convert the date in system timezone to the same date in UTC+00:00 timezone.\n  // This ensures that when UTC functions will be implemented, locales will be compatible with them.\n  // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/376\n\n\n  var timezoneOffset = getTimezoneOffsetInMilliseconds(originalDate);\n  var utcDate = subMilliseconds(originalDate, timezoneOffset);\n  var formatterOptions = {\n    firstWeekContainsDate: firstWeekContainsDate,\n    weekStartsOn: weekStartsOn,\n    locale: locale,\n    _originalDate: originalDate\n  };\n  var result = formatStr.match(longFormattingTokensRegExp).map(function (substring) {\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === 'p' || firstCharacter === 'P') {\n      var longFormatter = longFormatters$1[firstCharacter];\n      return longFormatter(substring, locale.formatLong, formatterOptions);\n    }\n\n    return substring;\n  }).join('').match(formattingTokensRegExp).map(function (substring) {\n    // Replace two single quote characters with one single quote character\n    if (substring === \"''\") {\n      return \"'\";\n    }\n\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === \"'\") {\n      return cleanEscapedString(substring);\n    }\n\n    var formatter = formatters$1[firstCharacter];\n\n    if (formatter) {\n      if (!options.useAdditionalWeekYearTokens && isProtectedWeekYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, dirtyDate);\n      }\n\n      if (!options.useAdditionalDayOfYearTokens && isProtectedDayOfYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, dirtyDate);\n      }\n\n      return formatter(utcDate, substring, locale.localize, formatterOptions);\n    }\n\n    if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n      throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');\n    }\n\n    return substring;\n  }).join('');\n  return result;\n}\n\nfunction cleanEscapedString(input) {\n  return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp, \"'\");\n}\n/**\n * @name subDays\n * @category Day Helpers\n * @summary Subtract the specified number of days from the given date.\n *\n * @description\n * Subtract the specified number of days from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the days subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 10 days from 1 September 2014:\n * const result = subDays(new Date(2014, 8, 1), 10)\n * //=> Fri Aug 22 2014 00:00:00\n */\n\n\nfunction subDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addDays(dirtyDate, -amount);\n}\n/**\n * @name subMonths\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * const result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\n\n\nfunction subMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMonths(dirtyDate, -amount);\n}\n\nvar MILLISECONDS_IN_HOUR = 3600000;\nvar MILLISECONDS_IN_MINUTE = 60000;\nvar DEFAULT_ADDITIONAL_DIGITS = 2;\nvar patterns = {\n  dateTimeDelimiter: /[T ]/,\n  timeZoneDelimiter: /[Z ]/i,\n  timezone: /([Z+-].*)$/\n};\nvar dateRegex = /^-?(?:(\\d{3})|(\\d{2})(?:-?(\\d{2}))?|W(\\d{2})(?:-?(\\d{1}))?|)$/;\nvar timeRegex = /^(\\d{2}(?:[.,]\\d*)?)(?::?(\\d{2}(?:[.,]\\d*)?))?(?::?(\\d{2}(?:[.,]\\d*)?))?$/;\nvar timezoneRegex = /^([+-])(\\d{2})(?::?(\\d{2}))?$/;\n/**\n * @name parseISO\n * @category Common Helpers\n * @summary Parse ISO string\n *\n * @description\n * Parse the given string in ISO 8601 format and return an instance of Date.\n *\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n *\n * If the argument isn't a string, the function cannot parse the string or\n * the values are invalid, it returns Invalid Date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The previous `parse` implementation was renamed to `parseISO`.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   parse('2016-01-01')\n *\n *   // v2.0.0 onward\n *   parseISO('2016-01-01')\n *   ```\n *\n * - `parseISO` now validates separate date and time values in ISO-8601 strings\n *   and returns `Invalid Date` if the date is invalid.\n *\n *   ```javascript\n *   parseISO('2018-13-32')\n *   //=> Invalid Date\n *   ```\n *\n * - `parseISO` now doesn't fall back to `new Date` constructor\n *   if it fails to parse a string argument. Instead, it returns `Invalid Date`.\n *\n * @param {String} argument - the value to convert\n * @param {Object} [options] - an object with options.\n * @param {0|1|2} [options.additionalDigits=2] - the additional number of digits in the extended year format\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.additionalDigits` must be 0, 1 or 2\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * var result = parseISO('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * var result = parseISO('+02014101', { additionalDigits: 1 })\n * //=> Fri Apr 11 2014 00:00:00\n */\n\nfunction parseISO(argument, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var additionalDigits = options.additionalDigits == null ? DEFAULT_ADDITIONAL_DIGITS : toInteger(options.additionalDigits);\n\n  if (additionalDigits !== 2 && additionalDigits !== 1 && additionalDigits !== 0) {\n    throw new RangeError('additionalDigits must be 0, 1 or 2');\n  }\n\n  if (!(typeof argument === 'string' || Object.prototype.toString.call(argument) === '[object String]')) {\n    return new Date(NaN);\n  }\n\n  var dateStrings = splitDateString(argument);\n  var date;\n\n  if (dateStrings.date) {\n    var parseYearResult = parseYear(dateStrings.date, additionalDigits);\n    date = parseDate(parseYearResult.restDateString, parseYearResult.year);\n  }\n\n  if (isNaN(date) || !date) {\n    return new Date(NaN);\n  }\n\n  var timestamp = date.getTime();\n  var time = 0;\n  var offset;\n\n  if (dateStrings.time) {\n    time = parseTime(dateStrings.time);\n\n    if (isNaN(time) || time === null) {\n      return new Date(NaN);\n    }\n  }\n\n  if (dateStrings.timezone) {\n    offset = parseTimezone(dateStrings.timezone);\n\n    if (isNaN(offset)) {\n      return new Date(NaN);\n    }\n  } else {\n    var dirtyDate = new Date(timestamp + time); // js parsed string assuming it's in UTC timezone\n    // but we need it to be parsed in our timezone\n    // so we use utc values to build date in our timezone.\n    // Year values from 0 to 99 map to the years 1900 to 1999\n    // so set year explicitly with setFullYear.\n\n    var result = new Date(dirtyDate.getUTCFullYear(), dirtyDate.getUTCMonth(), dirtyDate.getUTCDate(), dirtyDate.getUTCHours(), dirtyDate.getUTCMinutes(), dirtyDate.getUTCSeconds(), dirtyDate.getUTCMilliseconds());\n    result.setFullYear(dirtyDate.getUTCFullYear());\n    return result;\n  }\n\n  return new Date(timestamp + time + offset);\n}\n\nfunction splitDateString(dateString) {\n  var dateStrings = {};\n  var array = dateString.split(patterns.dateTimeDelimiter);\n  var timeString; // The regex match should only return at maximum two array elements.\n  // [date], [time], or [date, time].\n\n  if (array.length > 2) {\n    return dateStrings;\n  }\n\n  if (/:/.test(array[0])) {\n    dateStrings.date = null;\n    timeString = array[0];\n  } else {\n    dateStrings.date = array[0];\n    timeString = array[1];\n\n    if (patterns.timeZoneDelimiter.test(dateStrings.date)) {\n      dateStrings.date = dateString.split(patterns.timeZoneDelimiter)[0];\n      timeString = dateString.substr(dateStrings.date.length, dateString.length);\n    }\n  }\n\n  if (timeString) {\n    var token = patterns.timezone.exec(timeString);\n\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], '');\n      dateStrings.timezone = token[1];\n    } else {\n      dateStrings.time = timeString;\n    }\n  }\n\n  return dateStrings;\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  var regex = new RegExp('^(?:(\\\\d{4}|[+-]\\\\d{' + (4 + additionalDigits) + '})|(\\\\d{2}|[+-]\\\\d{' + (2 + additionalDigits) + '})$)');\n  var captures = dateString.match(regex); // Invalid ISO-formatted year\n\n  if (!captures) return {\n    year: null\n  };\n  var year = captures[1] && parseInt(captures[1]);\n  var century = captures[2] && parseInt(captures[2]);\n  return {\n    year: century == null ? year : century * 100,\n    restDateString: dateString.slice((captures[1] || captures[2]).length)\n  };\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) return null;\n  var captures = dateString.match(dateRegex); // Invalid ISO-formatted string\n\n  if (!captures) return null;\n  var isWeekDate = !!captures[4];\n  var dayOfYear = parseDateUnit(captures[1]);\n  var month = parseDateUnit(captures[2]) - 1;\n  var day = parseDateUnit(captures[3]);\n  var week = parseDateUnit(captures[4]);\n  var dayOfWeek = parseDateUnit(captures[5]) - 1;\n\n  if (isWeekDate) {\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN);\n    }\n\n    return dayOfISOWeekYear(year, week, dayOfWeek);\n  } else {\n    var date = new Date(0);\n\n    if (!validateDate(year, month, day) || !validateDayOfYearDate(year, dayOfYear)) {\n      return new Date(NaN);\n    }\n\n    date.setUTCFullYear(year, month, Math.max(dayOfYear, day));\n    return date;\n  }\n}\n\nfunction parseDateUnit(value) {\n  return value ? parseInt(value) : 1;\n}\n\nfunction parseTime(timeString) {\n  var captures = timeString.match(timeRegex);\n  if (!captures) return null; // Invalid ISO-formatted time\n\n  var hours = parseTimeUnit(captures[1]);\n  var minutes = parseTimeUnit(captures[2]);\n  var seconds = parseTimeUnit(captures[3]);\n\n  if (!validateTime(hours, minutes, seconds)) {\n    return NaN;\n  }\n\n  return hours * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE + seconds * 1000;\n}\n\nfunction parseTimeUnit(value) {\n  return value && parseFloat(value.replace(',', '.')) || 0;\n}\n\nfunction parseTimezone(timezoneString) {\n  if (timezoneString === 'Z') return 0;\n  var captures = timezoneString.match(timezoneRegex);\n  if (!captures) return 0;\n  var sign = captures[1] === '+' ? -1 : 1;\n  var hours = parseInt(captures[2]);\n  var minutes = captures[3] && parseInt(captures[3]) || 0;\n\n  if (!validateTimezone(hours, minutes)) {\n    return NaN;\n  }\n\n  return sign * (hours * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE);\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  var date = new Date(0);\n  date.setUTCFullYear(isoWeekYear, 0, 4);\n  var fourthOfJanuaryDay = date.getUTCDay() || 7;\n  var diff = (week - 1) * 7 + day + 1 - fourthOfJanuaryDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n} // Validation functions\n// February is null to handle the leap year (using ||)\n\n\nvar daysInMonths = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || year % 4 === 0 && year % 100;\n}\n\nfunction validateDate(year, month, date) {\n  return month >= 0 && month <= 11 && date >= 1 && date <= (daysInMonths[month] || (isLeapYearIndex(year) ? 29 : 28));\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  return dayOfYear >= 1 && dayOfYear <= (isLeapYearIndex(year) ? 366 : 365);\n}\n\nfunction validateWeekDate(_year, week, day) {\n  return week >= 1 && week <= 53 && day >= 0 && day <= 6;\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours === 24) {\n    return minutes === 0 && seconds === 0;\n  }\n\n  return seconds >= 0 && seconds < 60 && minutes >= 0 && minutes < 60 && hours >= 0 && hours < 25;\n}\n\nfunction validateTimezone(_hours, minutes) {\n  return minutes >= 0 && minutes <= 59;\n}\n/**\n * @name subYears\n * @category Year Helpers\n * @summary Subtract the specified number of years from the given date.\n *\n * @description\n * Subtract the specified number of years from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of years to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the years subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 5 years from 1 September 2014:\n * const result = subYears(new Date(2014, 8, 1), 5)\n * //=> Tue Sep 01 2009 00:00:00\n */\n\n\nfunction subYears(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addYears(dirtyDate, -amount);\n}\n\nvar Download = {};\nvar _interopRequireDefault = interopRequireDefault.exports;\nObject.defineProperty(Download, \"__esModule\", {\n  value: true\n});\nvar default_1 = Download.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(createSvgIcon$1);\n\nvar _jsxRuntime = jsxRuntime.exports;\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z\"\n}), 'Download');\n\ndefault_1 = Download.default = _default;\nconst AppDialogContext = react.exports.createContext({\n  closeAdminBox: () => {}\n});\nconst AppDialog = styled(props => {\n  var _a, _b, _c;\n\n  const theme = useTheme();\n  const [open, setOpen] = react.exports.useState(true);\n  const {\n    injector,\n    themeOptions,\n    builderMode\n  } = useShadowDom();\n  const mediaQueryMdDown = useMuiMediaQuery(theme.breakpoints.down('md'));\n  const fullScreen = (_c = (_b = (_a = themeOptions === null || themeOptions === void 0 ? void 0 : themeOptions.adminPortal) === null || _a === void 0 ? void 0 : _a.layout) === null || _b === void 0 ? void 0 : _b.fullScreenMode) !== null && _c !== void 0 ? _c : mediaQueryMdDown;\n  const rootElementStyle = react.exports.useMemo(() => ({\n    style: {\n      height: fullScreen ? undefined : 'calc(100vh - 100px)',\n      overflow: 'hidden'\n    }\n  }), [fullScreen]);\n  const closeAdminBox = react.exports.useCallback(() => {\n    if (!builderMode) {\n      setOpen(false);\n      setTimeout(() => injector === null || injector === void 0 ? void 0 : injector.close(), 300);\n    }\n  }, [injector, builderMode]);\n  return React.createElement(AppDialogContext.Provider, {\n    value: {\n      closeAdminBox\n    }\n  }, React.createElement(MuiDialog, Object.assign({\n    open: open\n  }, props, {\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    fullWidth: true,\n    maxWidth: 'lg',\n    fullScreen: fullScreen,\n    onBackdropClick: closeAdminBox,\n    PaperProps: rootElementStyle\n  })));\n})`\n  & .MuiDialog-paper {\n    transition: all 300ms;\n  }\n`;\nconst SkeletonListItem = styled(Skeleton)({\n  width: '100%'\n});\nSkeletonListItem.defaultProps = {\n  variant: 'rectangular',\n  height: 36,\n  sx: {\n    mb: 8\n  }\n};\nconst SkeletonTenantName = styled(props => React.createElement(Skeleton, Object.assign({\n  variant: 'rectangular',\n  height: 16\n}, props)))`\n  width: 60%;\n  margin-top: 24px;\n  margin-bottom: 24px;\n`;\n\nconst NavSkeleton = () => {\n  return React.createElement(\"nav\", null, React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    justifyContent: 'center',\n    alignItems: 'center',\n    mt: 2,\n    mb: 8\n  }, React.createElement(Grid, {\n    item: true\n  }, React.createElement(Skeleton, {\n    variant: 'circular',\n    height: 32,\n    width: 32\n  })), React.createElement(Grid, {\n    item: true,\n    xs: true\n  }, React.createElement(Skeleton, {\n    variant: 'text',\n    height: 18,\n    width: '60%'\n  }), React.createElement(Skeleton, {\n    variant: 'text',\n    height: 16,\n    width: '90%'\n  }))), React.createElement(SkeletonListItem, {\n    sx: {\n      mb: 8,\n      mt: 6\n    }\n  }), React.createElement(SkeletonListItem, null), React.createElement(SkeletonListItem, null), React.createElement(SkeletonTenantName, null), React.createElement(SkeletonListItem, null), React.createElement(SkeletonListItem, null), React.createElement(SkeletonListItem, null), React.createElement(SkeletonListItem, null), React.createElement(SkeletonListItem, null), React.createElement(SkeletonListItem, null), React.createElement(SkeletonListItem, null));\n};\n\nconst PageTitleSkeleton = styled(Box)`\n  height: 5.5rem;\n  border-bottom: 1px solid ${({\n  theme\n}) => theme.palette.divider};\n\n  ${({\n  theme\n}) => theme.breakpoints.down('sm')} {\n    height: 3.5rem;\n  }\n`;\n\nconst PageSkeleton = () => {\n  return React.createElement(\"div\", null, React.createElement(PageTitleSkeleton, null));\n};\n\nconst NavigationGridItem = styled(Grid)(({\n  theme,\n  withPoweredBy\n}) => ({\n  transition: 'width 300ms ease-in-out, padding 300ms ease-in-out',\n  width: '14.25rem',\n  position: 'relative',\n  height: '100%',\n  backgroundColor: theme.navigation.background,\n  'nav': {\n    boxSizing: 'border-box',\n    padding: theme.spacing(4),\n    overflow: 'auto',\n    maxHeight: '100%',\n    paddingBottom: withPoweredBy ? '5rem' : undefined\n  },\n  [theme.breakpoints.up('xl')]: {\n    width: '18rem',\n    'nav': {\n      padding: theme.spacing(4, 6),\n      paddingBottom: withPoweredBy ? '5rem' : undefined\n    }\n  },\n  [theme.breakpoints.up('sm')]: {\n    width: '18rem',\n    'nav': {\n      padding: theme.spacing(4, 6),\n      paddingBottom: withPoweredBy ? '5rem' : undefined\n    }\n  }\n}));\nNavigationGridItem.defaultProps = {\n  item: true\n};\nconst PageGridItem = styled(Grid)(({\n  theme\n}) => ({\n  backgroundColor: theme.palette.background.default,\n  overflow: 'auto'\n}));\nconst StyledGrid = styled(Grid)(({\n  theme\n}) => ({\n  fontFamily: theme.typographyStyleOptions\n}));\n\nconst AppSkeleton = ({\n  absolute\n}) => {\n  const overrideStyle = absolute ? {\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    zIndex: 1000\n  } : {};\n  const theme = useTheme();\n  const displayAsDrawer = useMuiMediaQuery(theme.breakpoints.down('sm'));\n  return React.createElement(StyledGrid, {\n    \"data-test-id\": 'admin-portal-loader',\n    height: '100%',\n    container: true,\n    alignItems: \"stretch\",\n    style: overrideStyle\n  }, !displayAsDrawer && React.createElement(NavigationGridItem, null, React.createElement(NavSkeleton, null)), React.createElement(PageGridItem, {\n    item: true,\n    xs: true\n  }, React.createElement(PageSkeleton, null)));\n};\n\nconst UserAvatar = () => {\n  const user = useAuthUserOrNull();\n  return user ? React.createElement(Avatar$1$1, {\n    name: user.name,\n    picture: user.profilePictureUrl\n  }) : React.createElement(ProfileIcon, null);\n};\n\nconst wrapPage = (Component, pageKey) => {\n  return () => {\n    const t = useT(pageKey);\n    return React.createElement(React.Fragment, null, React.createElement(PageHeaderUpdater, {\n      title: t('pageTitle')\n    }), React.createElement(Component, null));\n  };\n};\n\nconst callbackToPromise = (resolve, reject, closeable) => (data, error) => {\n  if (error) {\n    if (typeof error === typeof Error) {\n      reject(error);\n    } else {\n      reject(new Error(error));\n    }\n\n    return;\n  }\n\n  resolve(data);\n  closeable === null || closeable === void 0 ? void 0 : closeable(data);\n};\n\nconst notNull = p => !!p;\n\nconst getUserMetadataTitle = user => {\n  let metadata = {};\n\n  try {\n    metadata = JSON.parse(user.metadata);\n  } catch (e) {// ignore metadata data parse error\n  }\n\n  return (metadata !== null && metadata !== void 0 ? metadata : {}).title;\n};\n\nconst getUserMetadata = (user, key) => {\n  let metadata = {};\n\n  try {\n    metadata = JSON.parse(user.metadata);\n  } catch (e) {// ignore metadata data parse error\n  }\n\n  return key ? getValue$1(metadata, key) : metadata;\n};\n\nconst addUserMetadata = (user, newMetadata) => {\n  let metadata = {};\n\n  try {\n    metadata = JSON.parse(user.metadata);\n  } catch (e) {// ignore metadata data parse error\n  }\n\n  return JSON.stringify(Object.assign(Object.assign({}, metadata), newMetadata));\n};\n\nconst formatAddress = addressMetadata => {\n  const {\n    address1,\n    address2,\n    city,\n    state,\n    postCode,\n    country\n  } = addressMetadata !== null && addressMetadata !== void 0 ? addressMetadata : {};\n  return [address1, address2, city, state, postCode, country].filter(notNull).join(', ');\n};\n\nconst getUserAddress = user => {\n  var _a;\n\n  return (_a = formatAddress(getUserMetadata(user, 'address'))) !== null && _a !== void 0 ? _a : '';\n};\n\nconst getUserFullName = user => {\n  return [getUserMetadataTitle(user), user.name].filter(notNull).join('. ');\n};\n\nconst defaultPasswordConfig = {\n  allowPassphrases: true,\n  maxLength: 128,\n  minLength: 6,\n  minOptionalTestsToPass: 1,\n  minPhraseLength: 6\n};\nvar MfaTypeEnum;\n\n(function (MfaTypeEnum) {\n  MfaTypeEnum[\"DontForce\"] = \"DontForce\";\n  MfaTypeEnum[\"Force\"] = \"Force\";\n  MfaTypeEnum[\"ForceExceptSAML\"] = \"ForceExceptSAML\";\n})(MfaTypeEnum || (MfaTypeEnum = {}));\n\nconst useOptionalEnforceMfaTypes = () => {\n  const vendorMfaPolicy = useVendorMfaPolicySettings(true);\n  return react.exports.useMemo(() => {\n    var _a, _b, _c;\n\n    if (vendorMfaPolicy.loading) {\n      return [MfaTypeEnum.Force];\n    }\n\n    if (((_a = vendorMfaPolicy.policy) === null || _a === void 0 ? void 0 : _a.enforceMFAType) === MfaTypeEnum.DontForce || !((_b = vendorMfaPolicy.policy) === null || _b === void 0 ? void 0 : _b.enforceMFAType)) {\n      return [MfaTypeEnum.DontForce, MfaTypeEnum.Force, MfaTypeEnum.ForceExceptSAML];\n    }\n\n    if (((_c = vendorMfaPolicy.policy) === null || _c === void 0 ? void 0 : _c.enforceMFAType) === 'ForceExceptSAML') {\n      return [MfaTypeEnum.Force, MfaTypeEnum.ForceExceptSAML];\n    }\n\n    return [MfaTypeEnum.Force];\n  }, [vendorMfaPolicy]);\n};\n\nconst usePasswordConfig = (userId, loadOnMount = true) => {\n  const {\n    loadPasswordConfig\n  } = useForgotPasswordActions();\n  const {\n    passwordConfig,\n    loading\n  } = useForgotPasswordState();\n  react.exports.useEffect(() => {\n    if (loading) {\n      return;\n    }\n\n    if (!passwordConfig) {\n      loadPasswordConfig({\n        userId\n      });\n    }\n  }, [loading, passwordConfig, loadPasswordConfig]);\n  react.exports.useEffect(() => {\n    loadOnMount && loadPasswordConfig({\n      userId\n    });\n  }, [loadOnMount, loadPasswordConfig]);\n  const passwordServerConfig = Object.assign(Object.assign({}, defaultPasswordConfig), passwordConfig);\n  const strength = passwordServerConfig.minLength <= 6 ? 'easy' : passwordServerConfig.minLength <= 8 ? 'medium' : 'hard';\n  return {\n    loading,\n    passwordConfig: loading && !passwordConfig ? null : passwordServerConfig,\n    defaultPasswordConfig,\n    strength\n  };\n};\n\nconst useMfaPolicySettings = (loadOnMount = false) => {\n  const {\n    loading,\n    policy,\n    saving,\n    error\n  } = useSecurityPolicyState(state => state.mfaPolicy);\n  const {\n    loadSecurityPolicyMfa,\n    saveSecurityPolicyMfa\n  } = useSecurityPolicyActions();\n  react.exports.useEffect(() => {\n    (loadOnMount || !policy) && loadSecurityPolicyMfa(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loadOnMount, loadSecurityPolicyMfa]);\n  return {\n    loading,\n    saving,\n    error,\n    policy,\n    saveSecurityPolicyMfa\n  };\n};\n\nconst useSessionPolicySettings = (loadOnMount = false) => {\n  const {\n    loading,\n    configurations,\n    saving,\n    error\n  } = useSessionsPolicyState();\n  const {\n    loadSessionsPolicy,\n    createOrUpdateSessionsPolicy\n  } = useSessionsPolicyActions();\n  react.exports.useEffect(() => {\n    (loadOnMount || !configurations) && loadSessionsPolicy(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loadOnMount, loadSessionsPolicy]);\n  return {\n    loading,\n    saving,\n    error,\n    configurations,\n    createOrUpdateSessionsPolicy\n  };\n};\n\nconst useVendorMfaPolicySettings = (loadOnMount = false) => {\n  const {\n    loading,\n    policy,\n    saving,\n    error\n  } = useSecurityPolicyState(state => state.vendorMfaPolicy);\n  const {\n    loadSecurityPolicyVendorMfa\n  } = useSecurityPolicyActions();\n  react.exports.useEffect(() => {\n    (loadOnMount || !policy) && loadSecurityPolicyVendorMfa(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loadOnMount, loadSecurityPolicyVendorMfa]);\n  return {\n    loading,\n    saving,\n    error,\n    policy\n  };\n};\n\nconst useLockoutPolicySettings = (loadOnMount = false) => {\n  const {\n    loading,\n    policy,\n    saving,\n    error\n  } = useSecurityPolicyState(state => state.lockoutPolicy);\n  const {\n    loadSecurityPolicyLockout,\n    saveSecurityPolicyLockout\n  } = useSecurityPolicyActions();\n  react.exports.useEffect(() => {\n    (loadOnMount || !policy) && loadSecurityPolicyLockout(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loadOnMount, loadSecurityPolicyLockout]);\n  return {\n    loading,\n    saving,\n    error,\n    policy,\n    saveSecurityPolicyLockout\n  };\n};\n\nconst usePasswordHistoryPolicySettings = (loadOnMount = false) => {\n  const {\n    loading,\n    policy,\n    saving,\n    error\n  } = useSecurityPolicyState(state => state.passwordHistoryPolicy);\n  const {\n    loadSecurityPolicyPasswordHistory,\n    saveSecurityPolicyPasswordHistory\n  } = useSecurityPolicyActions();\n  react.exports.useEffect(() => {\n    (loadOnMount || !policy) && loadSecurityPolicyPasswordHistory(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loadOnMount, loadSecurityPolicyPasswordHistory]);\n  return {\n    loading,\n    saving,\n    error,\n    policy,\n    saveSecurityPolicyPasswordHistory\n  };\n};\n\nconst usePublicPolicySettings = (loadOnMount = false) => {\n  const {\n    loading,\n    policy,\n    saving,\n    error\n  } = useSecurityPolicyState(state => state.publicPolicy);\n  const {\n    loadPublicSecurityPolicy\n  } = useSecurityPolicyActions();\n  react.exports.useEffect(() => {\n    (loadOnMount || !policy) && loadPublicSecurityPolicy(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loadOnMount, loadPublicSecurityPolicy]);\n  return {\n    loading,\n    saving,\n    error,\n    policy\n  };\n};\n\nconst useDialogState = (defaultOpen = false) => {\n  const [open, setOpen] = react.exports.useState(defaultOpen);\n  const [data, setData] = react.exports.useState(null);\n  const handleCloseEditName = react.exports.useCallback(() => {\n    setOpen(false);\n    setData(null);\n  }, [setOpen]);\n  const handleOpenEditName = react.exports.useCallback(data => {\n    setData(data);\n    setOpen(true);\n  }, [setOpen]);\n  return [open, handleCloseEditName, handleOpenEditName, data, setOpen];\n};\n\nconst useBooleanToggle = delay => {\n  const [bool, setBoolean] = react.exports.useState(false);\n  react.exports.useEffect(() => {\n    if (bool) {\n      setTimeout(() => {\n        setBoolean(false);\n      }, delay !== null && delay !== void 0 ? delay : 3000);\n    }\n  }, [bool]);\n  return [bool, setBoolean];\n};\n\nconst useEffectAfterMount = (fn, deps) => {\n  const [mounted, setMounted] = react.exports.useState(false);\n  react.exports.useEffect(() => setMounted(true), [setMounted]);\n  react.exports.useEffect(() => {\n    if (!mounted) {\n      return;\n    }\n\n    fn(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n};\n\nconst useDebounce = (value, delay = 300) => {\n  const [debouncedValue, setDebouncedValue] = react.exports.useState(value);\n  react.exports.useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n  return debouncedValue;\n};\n\nconst useAsyncEffect = (effectFn, deps) => {\n  const didMountRef = react.exports.useRef(true);\n  react.exports.useEffect(() => {\n    if (didMountRef.current) {\n      didMountRef.current = false;\n      return;\n    } // noinspection JSIgnoredPromiseFromCall\n\n\n    effectFn(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [...deps]);\n};\n\nconst useMemoProps = (props, key) => {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return react.exports.useMemo(() => props[key], []);\n};\n\nconst useRolesMap = roles => {\n  return react.exports.useMemo(() => (roles !== null && roles !== void 0 ? roles : []).reduce((p, n) => Object.assign(Object.assign({}, p), {\n    [n.id]: n.name\n  }), {}), [roles]);\n};\n\nconst FormDialogBody = props => {\n  const {\n    initialValues,\n    validationSchema,\n    onSubmit,\n    children,\n    enableReinitialize,\n    validateOnMount\n  } = props;\n  const [formError, setFormError] = react.exports.useState(null);\n  const formikProps = {\n    onSubmit: (values, formikHelpers) => __awaiter(void 0, void 0, void 0, function* () {\n      setFormError(null);\n\n      try {\n        yield onSubmit(values, formikHelpers);\n      } catch (e) {\n        setFormError(e.message);\n      }\n    }),\n    enableReinitialize,\n    initialValues,\n    validationSchema,\n    validateOnMount\n  };\n  return React.createElement(Formik, Object.assign({}, formikProps), props => {\n    const canSubmit = !props.isSubmitting && props.isValid && props.dirty;\n    return React.createElement(Form, {\n      autoComplete: 'on'\n    }, children === null || children === void 0 ? void 0 : children(Object.assign(Object.assign({}, props), {\n      canSubmit,\n      formError\n    })));\n  });\n};\n\nconst FormErrorDialogMessage = react.exports.memo(({\n  message,\n  fieldName\n}) => {\n  var _a, _b;\n\n  let msg = ((_a = message === null || message === void 0 ? void 0 : message.startsWith) === null || _a === void 0 ? void 0 : _a.call(message, 'Error: ')) ? (_b = message === null || message === void 0 ? void 0 : message.substring) === null || _b === void 0 ? void 0 : _b.call(message, 'Error: '.length) : message;\n  return msg ? // TODO: changed test-id from message to `${fieldName}-error`\n  React.createElement(Box, {\n    component: Alert$1,\n    mt: 4,\n    \"data-test-id\": `${fieldName}-error` || msg,\n    severity: 'error'\n  }, msg) : null;\n}, shallowEqual$1('message'));\n\nconst RemovePhotoForm = props => {\n  const t = useT('profile');\n  const {\n    onClose\n  } = props;\n  const {\n    saving,\n    error,\n    profile\n  } = useProfileState();\n  const {\n    saveProfile,\n    setProfileState\n  } = useProfileActions();\n  const handleRemoveImage = react.exports.useCallback(() => {\n    setProfileState({\n      profile: Object.assign(Object.assign({}, profile), {\n        profilePictureUrl: 'null'\n      })\n    });\n  }, [profile, setProfileState]);\n  react.exports.useEffect(() => {\n    if ((profile === null || profile === void 0 ? void 0 : profile.profilePictureUrl) === 'null') {\n      saveProfile({\n        callback: (_, error) => {\n          if (!error) {\n            onClose();\n          }\n        }\n      });\n    }\n  }, [profile, saveProfile, onClose]);\n  return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(Typography$1, {\n    variant: 'subtitle2Light'\n  }, t('removeImageMessage')), React.createElement(FormErrorDialogMessage, {\n    message: error\n  })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n    flex: 1\n  }), React.createElement(Button$1, {\n    color: 'inherit',\n    variant: 'text',\n    \"data-test-id\": 'remove-photo-btn',\n    onClick: props.onClose\n  }, t('removeImageCancelButton')), React.createElement(Button$1, {\n    loading: saving,\n    color: 'danger',\n    onClick: handleRemoveImage\n  }, t('removeImageButton'))));\n};\n\nconst RemovePhotoDialog = props => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('profile');\n  return React.createElement(Dialog$1, Object.assign({\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    title: t('removeImageTitle')\n  }), React.createElement(RemovePhotoForm, Object.assign({}, props)));\n};\n\nconst HeaderContainer = styled(Card)(({\n  theme\n}) => ({\n  backgroundColor: theme.rightPanel.profileHeader\n}));\nconst AvatarContainer = styled(props => React.createElement(Grid, Object.assign({\n  item: true\n}, props)))`\n  & {\n    margin: ${({\n  theme\n}) => `${theme.spacing(2)}`};\n    position: relative;\n\n    .MuiAvatar-root {\n      width: 6.5rem;\n      height: 6.5rem;\n    }\n\n    .show-on-hover {\n      opacity: 0;\n      transition: opacity 200ms ease-in-out;\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n    }\n\n    &:hover {\n      .show-on-hover {\n        opacity: 1;\n      }\n    }\n  }\n`;\nconst UserEmptyAvatar = styled(Avatar$1)`\n  &.MuiAvatar-root {\n    background: ${UI.palette('grey.150')};\n    color: ${UI.palette('grey.500')};\n  }\n`;\nconst EditAvatarButton = styled(IconButton)`\n  &.MuiIconButton-root {\n    background: rgba(60, 74, 90, .7) !important;\n    color: white;\n  }\n`;\nconst DetailsContainer = styled(props => React.createElement(Grid, Object.assign({\n  item: true,\n  xs: true\n}, props)))`\n  & {\n    padding: ${({\n  theme\n}) => `${theme.spacing(2)}`};\n    padding-left: ${({\n  theme\n}) => `${theme.spacing(8)}`};\n\n\n    .MuiTypography-root {\n      margin-bottom: .5rem;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      font-weight: 800;\n\n      &:last-child {\n        margin-bottom: 0;\n        font-weight: 400;\n        color: ${({\n  theme\n}) => theme.palette.grey[700]};\n      }\n    }\n  }\n`;\nconst JobTitleSpan = styled('span')`\n  font-size: 0.8em;\n  font-weight: 400;\n  color: ${({\n  theme\n}) => theme.palette.grey[600]}\n`;\n\nconst toBase64 = file => new Promise((resolve, reject) => {\n  if (file == null) {\n    resolve('');\n    return;\n  }\n\n  const reader = new FileReader();\n  reader.readAsDataURL(file);\n\n  reader.onload = () => {\n    var _a, _b;\n\n    return resolve((_b = (_a = reader.result) === null || _a === void 0 ? void 0 : _a.toString()) !== null && _b !== void 0 ? _b : '');\n  };\n\n  reader.onerror = error => reject(error);\n});\n\nconst ProfileHeader = () => {\n  const t = useT('profile');\n  const [avatarAnchorEl, setAvatarAnchorEl] = react.exports.useState(null);\n  const [openDownloadBrowse, setOpenDownloadBrowse] = react.exports.useState(false);\n  const user = useAuthUser();\n  const {\n    injector\n  } = useShadowDom();\n  const jobTitle = getUserMetadata(user, 'jobTitle');\n  const [uploadPhotoDialog, handleCloseUploadPhoto, handleOpenUploadPhoto] = useDialogState();\n  const [removePhotoDialog, handleCloseRemovePhoto, handleOpenRemovePhoto] = useDialogState();\n  const {\n    saveProfile\n  } = useProfileActions();\n  const menuItems = react.exports.useMemo(() => [{\n    icon: React.createElement(UploadIcon, {\n      \"data-test-id\": 'upload-avatar-icon'\n    }),\n    onClick: () => {\n      setOpenDownloadBrowse(true);\n      handleOpenUploadPhoto();\n      setTimeout(() => {\n        setOpenDownloadBrowse(false);\n      });\n    },\n    text: t('uploadImage')\n  }, ...(user.profilePictureUrl && user.profilePictureUrl !== 'null' ? [{\n    icon: React.createElement(DeleteIcon, {\n      \"data-test-id\": 'delete-avatar-icon'\n    }),\n    onClick: handleOpenRemovePhoto,\n    text: t('removeImage'),\n    negative: true\n  }] : [])], [t, user, handleOpenUploadPhoto, handleOpenRemovePhoto]);\n  const onEditAvatarClick = react.exports.useCallback(e => {\n    if (user.profilePictureUrl && user.profilePictureUrl !== 'null') {\n      setAvatarAnchorEl(e.currentTarget);\n    } else {\n      setOpenDownloadBrowse(true);\n      handleOpenUploadPhoto();\n      setTimeout(() => {\n        setOpenDownloadBrowse(false);\n      });\n    }\n  }, [handleOpenUploadPhoto, user.profilePictureUrl]);\n  return React.createElement(Box, {\n    sx: {\n      mb: 8\n    }\n  }, React.createElement(HeaderContainer, null, React.createElement(Grid, {\n    container: true,\n    justifyContent: 'center',\n    alignItems: 'center'\n  }, React.createElement(AvatarContainer, null, user.profilePictureUrl && user.profilePictureUrl !== 'null' ? React.createElement(UserAvatar, null) : React.createElement(UserEmptyAvatar, {\n    \"data-test-id\": 'empty-avatar'\n  }, React.createElement(ProfileIcon, null)), React.createElement(EditAvatarButton, {\n    \"data-test-id\": \"edit-avatar-btn\",\n    onClick: onEditAvatarClick,\n    className: 'show-on-hover'\n  }, React.createElement(PencilIcon, {\n    \"data-test-id\": 'edit-avatar-icon'\n  })), React.createElement(Menu$1, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    transformOrigin: {\n      vertical: 'top',\n      horizontal: 'center'\n    },\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    items: menuItems,\n    onClose: () => setAvatarAnchorEl(null),\n    anchorEl: avatarAnchorEl,\n    open: !!avatarAnchorEl\n  })), React.createElement(DetailsContainer, null, React.createElement(Typography$1, {\n    variant: 'h4',\n    \"data-test-id\": 'profile-header-name'\n  }, getUserFullName(user), \" \", React.createElement(JobTitleSpan, {\n    \"data-test-id\": jobTitle\n  }, jobTitle && `(${jobTitle})`)), React.createElement(Typography$1, {\n    \"data-test-id\": 'profile-header-email'\n  }, user.email)))), React.createElement(UploadPhoto, {\n    open: uploadPhotoDialog,\n    \"data-test-id\": \"uploadPhotoDialog\",\n    openDownloadBrowse: openDownloadBrowse,\n    onClose: handleCloseUploadPhoto,\n    type: 'circle',\n    uploadProgress: 0,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    onSubmit: file => new Promise((resolve, reject) => {\n      toBase64(file).then(content => {\n        const callback = callbackToPromise$1(() => {\n          handleCloseUploadPhoto();\n          resolve();\n        }, reject);\n        saveProfile({\n          profilePictureUrl: content,\n          callback\n        });\n      });\n    })\n  }), React.createElement(RemovePhotoDialog, {\n    open: removePhotoDialog,\n    onClose: handleCloseRemovePhoto\n  }));\n};\n\nconst DisplayNameField = () => {\n  const t = useT('profile_EditName');\n  const {\n    values\n  } = useFormikContext();\n  const displayName = [values.title, [values.firstName, values.lastName].filter(notNull).join(' ').trim()].filter(notNull).join('. ');\n  return React.createElement(Input$1$1, {\n    \"data-test-id\": \"displayNameBox\",\n    label: t('displayNameInputLabel'),\n    disabled: true,\n    value: displayName\n  });\n};\n\nconst TitleField = () => {\n  const t = useT('profile_EditName');\n  const {\n    injector\n  } = useShadowDom();\n  const [fieldProps, {\n    error,\n    touched\n  }, {\n    setValue\n  }] = useField('title');\n  const options = react.exports.useMemo(() => [{\n    label: t('nameTitle_mr'),\n    value: 'Mr'\n  }, {\n    label: t('nameTitle_mrs'),\n    value: 'Mrs'\n  }, {\n    label: t('nameTitle_miss'),\n    value: 'Miss'\n  }, {\n    label: t('nameTitle_ms'),\n    value: 'Ms'\n  }, {\n    label: t('nameTitle_dr'),\n    value: 'Dr'\n  }, {\n    label: t('nameTitle_phd'),\n    value: 'PhD'\n  }], [t]);\n  return React.createElement(Select$1$1, {\n    label: t('nameTitle'),\n    clearable: true,\n    name: fieldProps.name,\n    value: fieldProps.value,\n    onChange: value => setValue(value, true),\n    errorMessage: touched ? error : undefined,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    options: options\n  });\n};\n\nconst FirstNameField$2 = () => {\n  const t = useT('profile_EditName');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('firstName');\n  return React.createElement(Input$1$1, Object.assign({\n    label: t('firstNameInputLabel')\n  }, fieldProps, {\n    error: !!error && touched,\n    errorMessage: error,\n    \"data-test-id\": \"firstNameBox\",\n    autoComplete: 'given-name'\n  }));\n};\n\nconst LastNameField$1 = () => {\n  const t = useT('profile_EditName');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('lastName');\n  return React.createElement(Input$1$1, Object.assign({\n    label: t('lastNameInputLabel')\n  }, fieldProps, {\n    error: !!error && touched,\n    errorMessage: error,\n    \"data-test-id\": \"lastNameBox\",\n    autoComplete: 'family-name'\n  }));\n};\n\nconst EditNameForm$1 = props => {\n  const t = useT('profile_EditName');\n  const user = useAuthUser();\n  const {\n    saveProfile\n  } = useProfileActions();\n  const initialValues = react.exports.useMemo(() => ({\n    firstName: user.name.split(' ')[0],\n    lastName: user.name.split(' ').slice(1).join(' '),\n    title: getUserMetadataTitle(user)\n  }), [user]);\n  const validationSchema = react.exports.useMemo(() => validateSchema({\n    firstName: validateNotEmpty(t('firstNameIsRequired'))\n  }), [t]);\n  const formikProps = {\n    onSubmit: values => new Promise((resolve, reject) => {\n      const name = [values.firstName, values.lastName].filter(notNull).join(' ').trim();\n      const metadata = addUserMetadata(user, {\n        title: values.title,\n        name\n      });\n      const callback = callbackToPromise(() => {\n        props.onClose();\n        resolve();\n      }, reject);\n      saveProfile({\n        name,\n        metadata,\n        callback\n      });\n    }),\n    initialValues,\n    validationSchema\n  };\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(DisplayNameField, null), React.createElement(TitleField, null), React.createElement(FirstNameField$2, null), React.createElement(LastNameField$1, null)), React.createElement(Dialog$1.Footer, null, React.createElement(Button$1, {\n      \"data-test-id\": \"cancelBtn\",\n      color: 'inherit',\n      variant: 'text',\n      type: 'reset',\n      onClick: props.onClose\n    }, t('cancel')), React.createElement(Button$1, {\n      \"data-test-id\": \"saveBtn\",\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: 'primary',\n      type: 'submit'\n    }, t('save'))));\n  });\n};\n\nconst EditNameDialog = props => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('profile_EditName');\n  return React.createElement(Dialog$1, Object.assign({\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    title: t('title')\n  }), React.createElement(EditNameForm$1, Object.assign({}, props)));\n};\n\nconst Field$1 = props => {\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField(props.name); //TODO add to data-test-id: -box\n\n  return React.createElement(Input$1$1, Object.assign({\n    label: props.label\n  }, fieldProps, {\n    error: !!error && touched,\n    errorMessage: error,\n    autoFocus: true,\n    \"data-test-id\": `${props.name}-box`,\n    autoComplete: props.autoComplete\n  }));\n};\n\nconst SingleInputFormDialog = props => {\n  const {\n    validationSchema,\n    initialValues,\n    onSubmit\n  } = props;\n  const formikProps = {\n    onSubmit,\n    initialValues,\n    validationSchema: validationSchema !== null && validationSchema !== void 0 ? validationSchema : validateSchema({})\n  };\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit,\n    formError\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(Field$1, {\n      label: props.inputLabel,\n      name: props.inputName,\n      autoComplete: props.inputAutoComplete\n    }), React.createElement(FormErrorDialogMessage, {\n      fieldName: props.inputName,\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(Button$1, {\n      \"data-test-id\": \"cancelBtn\",\n      color: 'inherit',\n      variant: 'text',\n      type: 'reset',\n      onClick: props.onClose\n    }, props.cancelButton), React.createElement(Button$1, {\n      \"data-test-id\": \"saveBtn\",\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: 'primary',\n      type: 'submit'\n    }, props.submitButton)));\n  });\n};\n\nconst EditSingleInputDialog = props => {\n  const dialogProps = __rest(props, [\"onSubmit\", \"inputLabel\", \"inputName\", \"inputAutoComplete\", \"initialValues\", \"validationSchema\", \"description\"]);\n\n  const {\n    injector\n  } = useShadowDom();\n  return React.createElement(Dialog$1, Object.assign({\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, dialogProps), React.createElement(SingleInputFormDialog, Object.assign({}, props)));\n};\n\nconst EditPhoneDialog = props => {\n  const t = useT('profile_EditPhone');\n  const user = useAuthUser();\n  const {\n    saveProfile\n  } = useProfileActions();\n  const phoneNumber = getUserMetadata(user, 'phoneNumber');\n  return React.createElement(EditSingleInputDialog, {\n    title: t('title'),\n    onClose: props.onClose,\n    open: props.open,\n    inputName: 'phone',\n    inputLabel: t('phoneInputLabel'),\n    cancelButton: t('cancel'),\n    submitButton: t('save'),\n    inputAutoComplete: 'tel',\n    initialValues: {\n      phone: phoneNumber !== null && phoneNumber !== void 0 ? phoneNumber : ''\n    },\n    validationSchema: validateSchema({\n      phone: validationPhoneOptional(t('phoneIsInvalid'))\n    }),\n    onSubmit: values => new Promise((resolve, reject) => {\n      const metadata = addUserMetadata(user, {\n        phoneNumber: values.phone\n      });\n      const callback = callbackToPromise(() => {\n        props.onClose();\n        resolve();\n      }, reject);\n      saveProfile({\n        metadata,\n        callback\n      });\n    })\n  });\n};\n\nconst EditJobTitleDialog = props => {\n  var _a;\n\n  const t = useT('profile_EditJobTitle');\n  const user = useAuthUser();\n  const {\n    saveProfile\n  } = useProfileActions();\n  return React.createElement(EditSingleInputDialog, {\n    title: t('title'),\n    onClose: props.onClose,\n    open: props.open,\n    inputName: 'jobTitle',\n    inputAutoComplete: 'organization-title',\n    inputLabel: t('jobTitleInputLabel'),\n    cancelButton: t('cancel'),\n    submitButton: t('save'),\n    initialValues: {\n      jobTitle: (_a = getUserMetadata(user, 'jobTitle')) !== null && _a !== void 0 ? _a : ''\n    },\n    onSubmit: values => new Promise((resolve, reject) => {\n      const metadata = addUserMetadata(user, {\n        jobTitle: values.jobTitle\n      });\n      const callback = callbackToPromise(() => {\n        props.onClose();\n        resolve();\n      }, reject);\n      saveProfile({\n        metadata,\n        callback\n      });\n    })\n  });\n};\n\nconst getRoleLevel = (roleId, roles) => {\n  var _a;\n\n  if (!roles) return Infinity;\n  const roleSettings = roles.find(role => role.id === roleId);\n  return (_a = roleSettings === null || roleSettings === void 0 ? void 0 : roleSettings.permissionLevel) !== null && _a !== void 0 ? _a : Infinity;\n};\n\nconst getMaxRoleLevel = (roleIds, roles) => {\n  if (!roleIds) return Infinity;\n  const levelsArr = roleIds.map(roleId => getRoleLevel(roleId, roles));\n  return levelsArr.length ? Math.min(...levelsArr) : Infinity;\n};\n\nconst getUserMaxRoleLevel = (roles, loggedIn) => {\n  const context = ContextHolder.getContext();\n  const user = loggedIn !== null && loggedIn !== void 0 ? loggedIn : ContextHolder.getUser();\n  let currentUserRoleLevel = Infinity;\n  const currentUserRolesIds = user === null || user === void 0 ? void 0 : user.roles.map(r => r.id);\n\n  if (context.currentUserRoles && context.currentUserRoles.length > 0) {\n    currentUserRoleLevel = getMaxRoleLevel(context.currentUserRoles, roles);\n  } else if (currentUserRolesIds && currentUserRolesIds.length > 0) {\n    currentUserRoleLevel = getMaxRoleLevel(currentUserRolesIds, roles);\n  }\n\n  return currentUserRoleLevel;\n};\n\nconst checkRoleAccess = (roles, loggedIn) => {\n  const currentUserRoleLevel = getUserMaxRoleLevel(roles, loggedIn);\n\n  if (roles) {\n    return roles.filter(role => {\n      var _a;\n\n      return ((_a = role.permissionLevel) !== null && _a !== void 0 ? _a : Infinity) >= currentUserRoleLevel;\n    });\n  }\n\n  return [];\n};\n\nconst hasPermission = (...permissions) => {\n  var _a, _b;\n\n  const userPermissions = (_b = (_a = ContextHolder.getUser()) === null || _a === void 0 ? void 0 : _a.permissions) !== null && _b !== void 0 ? _b : [];\n  return permissions.reduce((p, permission) => {\n    return !!userPermissions.find(userPermission => new RegExp(userPermission.key.replace(/\\./g, '\\\\.').replace(/\\*/g, '.*')).test(permission));\n  }, true);\n};\n\nconst usePermission = (...permissions) => {\n  const {\n    policy,\n    loading: loadingPolicy\n  } = usePublicPolicySettings();\n  return hasPermission(...permissions) || !loadingPolicy && !(policy === null || policy === void 0 ? void 0 : policy.forcePermissions);\n};\n\nconst countries = [{\n  name: 'Afghanistan',\n  code: 'AF'\n}, {\n  name: 'Åland Islands',\n  code: 'AX'\n}, {\n  name: 'Albania',\n  code: 'AL'\n}, {\n  name: 'Algeria',\n  code: 'DZ'\n}, {\n  name: 'American Samoa',\n  code: 'AS'\n}, {\n  name: 'AndorrA',\n  code: 'AD'\n}, {\n  name: 'Angola',\n  code: 'AO'\n}, {\n  name: 'Anguilla',\n  code: 'AI'\n}, {\n  name: 'Antarctica',\n  code: 'AQ'\n}, {\n  name: 'Antigua and Barbuda',\n  code: 'AG'\n}, {\n  name: 'Argentina',\n  code: 'AR'\n}, {\n  name: 'Armenia',\n  code: 'AM'\n}, {\n  name: 'Aruba',\n  code: 'AW'\n}, {\n  name: 'Australia',\n  code: 'AU'\n}, {\n  name: 'Austria',\n  code: 'AT'\n}, {\n  name: 'Azerbaijan',\n  code: 'AZ'\n}, {\n  name: 'Bahamas',\n  code: 'BS'\n}, {\n  name: 'Bahrain',\n  code: 'BH'\n}, {\n  name: 'Bangladesh',\n  code: 'BD'\n}, {\n  name: 'Barbados',\n  code: 'BB'\n}, {\n  name: 'Belarus',\n  code: 'BY'\n}, {\n  name: 'Belgium',\n  code: 'BE'\n}, {\n  name: 'Belize',\n  code: 'BZ'\n}, {\n  name: 'Benin',\n  code: 'BJ'\n}, {\n  name: 'Bermuda',\n  code: 'BM'\n}, {\n  name: 'Bhutan',\n  code: 'BT'\n}, {\n  name: 'Bolivia',\n  code: 'BO'\n}, {\n  name: 'Bosnia and Herzegovina',\n  code: 'BA'\n}, {\n  name: 'Botswana',\n  code: 'BW'\n}, {\n  name: 'Bouvet Island',\n  code: 'BV'\n}, {\n  name: 'Brazil',\n  code: 'BR'\n}, {\n  name: 'British Indian Ocean Territory',\n  code: 'IO'\n}, {\n  name: 'Brunei Darussalam',\n  code: 'BN'\n}, {\n  name: 'Bulgaria',\n  code: 'BG'\n}, {\n  name: 'Burkina Faso',\n  code: 'BF'\n}, {\n  name: 'Burundi',\n  code: 'BI'\n}, {\n  name: 'Cambodia',\n  code: 'KH'\n}, {\n  name: 'Cameroon',\n  code: 'CM'\n}, {\n  name: 'Canada',\n  code: 'CA'\n}, {\n  name: 'Cape Verde',\n  code: 'CV'\n}, {\n  name: 'Cayman Islands',\n  code: 'KY'\n}, {\n  name: 'Central African Republic',\n  code: 'CF'\n}, {\n  name: 'Chad',\n  code: 'TD'\n}, {\n  name: 'Chile',\n  code: 'CL'\n}, {\n  name: 'China',\n  code: 'CN'\n}, {\n  name: 'Christmas Island',\n  code: 'CX'\n}, {\n  name: 'Cocos (Keeling) Islands',\n  code: 'CC'\n}, {\n  name: 'Colombia',\n  code: 'CO'\n}, {\n  name: 'Comoros',\n  code: 'KM'\n}, {\n  name: 'Congo',\n  code: 'CG'\n}, {\n  name: 'Congo, The Democratic Republic of the',\n  code: 'CD'\n}, {\n  name: 'Cook Islands',\n  code: 'CK'\n}, {\n  name: 'Costa Rica',\n  code: 'CR'\n}, {\n  name: 'Cote D\\'Ivoire',\n  code: 'CI'\n}, {\n  name: 'Croatia',\n  code: 'HR'\n}, {\n  name: 'Cuba',\n  code: 'CU'\n}, {\n  name: 'Cyprus',\n  code: 'CY'\n}, {\n  name: 'Czech Republic',\n  code: 'CZ'\n}, {\n  name: 'Denmark',\n  code: 'DK'\n}, {\n  name: 'Djibouti',\n  code: 'DJ'\n}, {\n  name: 'Dominica',\n  code: 'DM'\n}, {\n  name: 'Dominican Republic',\n  code: 'DO'\n}, {\n  name: 'Ecuador',\n  code: 'EC'\n}, {\n  name: 'Egypt',\n  code: 'EG'\n}, {\n  name: 'El Salvador',\n  code: 'SV'\n}, {\n  name: 'Equatorial Guinea',\n  code: 'GQ'\n}, {\n  name: 'Eritrea',\n  code: 'ER'\n}, {\n  name: 'Estonia',\n  code: 'EE'\n}, {\n  name: 'Ethiopia',\n  code: 'ET'\n}, {\n  name: 'Falkland Islands (Malvinas)',\n  code: 'FK'\n}, {\n  name: 'Faroe Islands',\n  code: 'FO'\n}, {\n  name: 'Fiji',\n  code: 'FJ'\n}, {\n  name: 'Finland',\n  code: 'FI'\n}, {\n  name: 'France',\n  code: 'FR'\n}, {\n  name: 'French Guiana',\n  code: 'GF'\n}, {\n  name: 'French Polynesia',\n  code: 'PF'\n}, {\n  name: 'French Southern Territories',\n  code: 'TF'\n}, {\n  name: 'Gabon',\n  code: 'GA'\n}, {\n  name: 'Gambia',\n  code: 'GM'\n}, {\n  name: 'Georgia',\n  code: 'GE'\n}, {\n  name: 'Germany',\n  code: 'DE'\n}, {\n  name: 'Ghana',\n  code: 'GH'\n}, {\n  name: 'Gibraltar',\n  code: 'GI'\n}, {\n  name: 'Greece',\n  code: 'GR'\n}, {\n  name: 'Greenland',\n  code: 'GL'\n}, {\n  name: 'Grenada',\n  code: 'GD'\n}, {\n  name: 'Guadeloupe',\n  code: 'GP'\n}, {\n  name: 'Guam',\n  code: 'GU'\n}, {\n  name: 'Guatemala',\n  code: 'GT'\n}, {\n  name: 'Guernsey',\n  code: 'GG'\n}, {\n  name: 'Guinea',\n  code: 'GN'\n}, {\n  name: 'Guinea-Bissau',\n  code: 'GW'\n}, {\n  name: 'Guyana',\n  code: 'GY'\n}, {\n  name: 'Haiti',\n  code: 'HT'\n}, {\n  name: 'Heard Island and Mcdonald Islands',\n  code: 'HM'\n}, {\n  name: 'Holy See (Vatican City State)',\n  code: 'VA'\n}, {\n  name: 'Honduras',\n  code: 'HN'\n}, {\n  name: 'Hong Kong',\n  code: 'HK'\n}, {\n  name: 'Hungary',\n  code: 'HU'\n}, {\n  name: 'Iceland',\n  code: 'IS'\n}, {\n  name: 'India',\n  code: 'IN'\n}, {\n  name: 'Indonesia',\n  code: 'ID'\n}, {\n  name: 'Iran, Islamic Republic Of',\n  code: 'IR'\n}, {\n  name: 'Iraq',\n  code: 'IQ'\n}, {\n  name: 'Ireland',\n  code: 'IE'\n}, {\n  name: 'Isle of Man',\n  code: 'IM'\n}, {\n  name: 'Israel',\n  code: 'IL'\n}, {\n  name: 'Italy',\n  code: 'IT'\n}, {\n  name: 'Jamaica',\n  code: 'JM'\n}, {\n  name: 'Japan',\n  code: 'JP'\n}, {\n  name: 'Jersey',\n  code: 'JE'\n}, {\n  name: 'Jordan',\n  code: 'JO'\n}, {\n  name: 'Kazakhstan',\n  code: 'KZ'\n}, {\n  name: 'Kenya',\n  code: 'KE'\n}, {\n  name: 'Kiribati',\n  code: 'KI'\n}, {\n  name: 'Korea, Democratic People\\'S Republic of',\n  code: 'KP'\n}, {\n  name: 'Korea, Republic of',\n  code: 'KR'\n}, {\n  name: 'Kuwait',\n  code: 'KW'\n}, {\n  name: 'Kyrgyzstan',\n  code: 'KG'\n}, {\n  name: 'Lao People\\'S Democratic Republic',\n  code: 'LA'\n}, {\n  name: 'Latvia',\n  code: 'LV'\n}, {\n  name: 'Lebanon',\n  code: 'LB'\n}, {\n  name: 'Lesotho',\n  code: 'LS'\n}, {\n  name: 'Liberia',\n  code: 'LR'\n}, {\n  name: 'Libyan Arab Jamahiriya',\n  code: 'LY'\n}, {\n  name: 'Liechtenstein',\n  code: 'LI'\n}, {\n  name: 'Lithuania',\n  code: 'LT'\n}, {\n  name: 'Luxembourg',\n  code: 'LU'\n}, {\n  name: 'Macao',\n  code: 'MO'\n}, {\n  name: 'Macedonia, The Former Yugoslav Republic of',\n  code: 'MK'\n}, {\n  name: 'Madagascar',\n  code: 'MG'\n}, {\n  name: 'Malawi',\n  code: 'MW'\n}, {\n  name: 'Malaysia',\n  code: 'MY'\n}, {\n  name: 'Maldives',\n  code: 'MV'\n}, {\n  name: 'Mali',\n  code: 'ML'\n}, {\n  name: 'Malta',\n  code: 'MT'\n}, {\n  name: 'Marshall Islands',\n  code: 'MH'\n}, {\n  name: 'Martinique',\n  code: 'MQ'\n}, {\n  name: 'Mauritania',\n  code: 'MR'\n}, {\n  name: 'Mauritius',\n  code: 'MU'\n}, {\n  name: 'Mayotte',\n  code: 'YT'\n}, {\n  name: 'Mexico',\n  code: 'MX'\n}, {\n  name: 'Micronesia, Federated States of',\n  code: 'FM'\n}, {\n  name: 'Moldova, Republic of',\n  code: 'MD'\n}, {\n  name: 'Monaco',\n  code: 'MC'\n}, {\n  name: 'Mongolia',\n  code: 'MN'\n}, {\n  name: 'Montserrat',\n  code: 'MS'\n}, {\n  name: 'Morocco',\n  code: 'MA'\n}, {\n  name: 'Mozambique',\n  code: 'MZ'\n}, {\n  name: 'Myanmar',\n  code: 'MM'\n}, {\n  name: 'Namibia',\n  code: 'NA'\n}, {\n  name: 'Nauru',\n  code: 'NR'\n}, {\n  name: 'Nepal',\n  code: 'NP'\n}, {\n  name: 'Netherlands',\n  code: 'NL'\n}, {\n  name: 'Netherlands Antilles',\n  code: 'AN'\n}, {\n  name: 'New Caledonia',\n  code: 'NC'\n}, {\n  name: 'New Zealand',\n  code: 'NZ'\n}, {\n  name: 'Nicaragua',\n  code: 'NI'\n}, {\n  name: 'Niger',\n  code: 'NE'\n}, {\n  name: 'Nigeria',\n  code: 'NG'\n}, {\n  name: 'Niue',\n  code: 'NU'\n}, {\n  name: 'Norfolk Island',\n  code: 'NF'\n}, {\n  name: 'Northern Mariana Islands',\n  code: 'MP'\n}, {\n  name: 'Norway',\n  code: 'NO'\n}, {\n  name: 'Oman',\n  code: 'OM'\n}, {\n  name: 'Pakistan',\n  code: 'PK'\n}, {\n  name: 'Palau',\n  code: 'PW'\n}, {\n  name: 'Palestinian Territory, Occupied',\n  code: 'PS'\n}, {\n  name: 'Panama',\n  code: 'PA'\n}, {\n  name: 'Papua New Guinea',\n  code: 'PG'\n}, {\n  name: 'Paraguay',\n  code: 'PY'\n}, {\n  name: 'Peru',\n  code: 'PE'\n}, {\n  name: 'Philippines',\n  code: 'PH'\n}, {\n  name: 'Pitcairn',\n  code: 'PN'\n}, {\n  name: 'Poland',\n  code: 'PL'\n}, {\n  name: 'Portugal',\n  code: 'PT'\n}, {\n  name: 'Puerto Rico',\n  code: 'PR'\n}, {\n  name: 'Qatar',\n  code: 'QA'\n}, {\n  name: 'Reunion',\n  code: 'RE'\n}, {\n  name: 'Romania',\n  code: 'RO'\n}, {\n  name: 'Russian Federation',\n  code: 'RU'\n}, {\n  name: 'RWANDA',\n  code: 'RW'\n}, {\n  name: 'Saint Helena',\n  code: 'SH'\n}, {\n  name: 'Saint Kitts and Nevis',\n  code: 'KN'\n}, {\n  name: 'Saint Lucia',\n  code: 'LC'\n}, {\n  name: 'Saint Pierre and Miquelon',\n  code: 'PM'\n}, {\n  name: 'Saint Vincent and the Grenadines',\n  code: 'VC'\n}, {\n  name: 'Samoa',\n  code: 'WS'\n}, {\n  name: 'San Marino',\n  code: 'SM'\n}, {\n  name: 'Sao Tome and Principe',\n  code: 'ST'\n}, {\n  name: 'Saudi Arabia',\n  code: 'SA'\n}, {\n  name: 'Senegal',\n  code: 'SN'\n}, {\n  name: 'Serbia and Montenegro',\n  code: 'CS'\n}, {\n  name: 'Seychelles',\n  code: 'SC'\n}, {\n  name: 'Sierra Leone',\n  code: 'SL'\n}, {\n  name: 'Singapore',\n  code: 'SG'\n}, {\n  name: 'Slovakia',\n  code: 'SK'\n}, {\n  name: 'Slovenia',\n  code: 'SI'\n}, {\n  name: 'Solomon Islands',\n  code: 'SB'\n}, {\n  name: 'Somalia',\n  code: 'SO'\n}, {\n  name: 'South Africa',\n  code: 'ZA'\n}, {\n  name: 'South Georgia and the South Sandwich Islands',\n  code: 'GS'\n}, {\n  name: 'Spain',\n  code: 'ES'\n}, {\n  name: 'Sri Lanka',\n  code: 'LK'\n}, {\n  name: 'Sudan',\n  code: 'SD'\n}, {\n  name: 'Suriname',\n  code: 'SR'\n}, {\n  name: 'Svalbard and Jan Mayen',\n  code: 'SJ'\n}, {\n  name: 'Swaziland',\n  code: 'SZ'\n}, {\n  name: 'Sweden',\n  code: 'SE'\n}, {\n  name: 'Switzerland',\n  code: 'CH'\n}, {\n  name: 'Syrian Arab Republic',\n  code: 'SY'\n}, {\n  name: 'Taiwan, Province of China',\n  code: 'TW'\n}, {\n  name: 'Tajikistan',\n  code: 'TJ'\n}, {\n  name: 'Tanzania, United Republic of',\n  code: 'TZ'\n}, {\n  name: 'Thailand',\n  code: 'TH'\n}, {\n  name: 'Timor-Leste',\n  code: 'TL'\n}, {\n  name: 'Togo',\n  code: 'TG'\n}, {\n  name: 'Tokelau',\n  code: 'TK'\n}, {\n  name: 'Tonga',\n  code: 'TO'\n}, {\n  name: 'Trinidad and Tobago',\n  code: 'TT'\n}, {\n  name: 'Tunisia',\n  code: 'TN'\n}, {\n  name: 'Turkey',\n  code: 'TR'\n}, {\n  name: 'Turkmenistan',\n  code: 'TM'\n}, {\n  name: 'Turks and Caicos Islands',\n  code: 'TC'\n}, {\n  name: 'Tuvalu',\n  code: 'TV'\n}, {\n  name: 'Uganda',\n  code: 'UG'\n}, {\n  name: 'Ukraine',\n  code: 'UA'\n}, {\n  name: 'United Arab Emirates',\n  code: 'AE'\n}, {\n  name: 'United Kingdom',\n  code: 'GB'\n}, {\n  name: 'United States',\n  code: 'US'\n}, {\n  name: 'United States Minor Outlying Islands',\n  code: 'UM'\n}, {\n  name: 'Uruguay',\n  code: 'UY'\n}, {\n  name: 'Uzbekistan',\n  code: 'UZ'\n}, {\n  name: 'Vanuatu',\n  code: 'VU'\n}, {\n  name: 'Venezuela',\n  code: 'VE'\n}, {\n  name: 'Viet Nam',\n  code: 'VN'\n}, {\n  name: 'Virgin Islands, British',\n  code: 'VG'\n}, {\n  name: 'Virgin Islands, U.S.',\n  code: 'VI'\n}, {\n  name: 'Wallis and Futuna',\n  code: 'WF'\n}, {\n  name: 'Western Sahara',\n  code: 'EH'\n}, {\n  name: 'Yemen',\n  code: 'YE'\n}, {\n  name: 'Zambia',\n  code: 'ZM'\n}, {\n  name: 'Zimbabwe',\n  code: 'ZW'\n}];\nconst InputCopyField = react.exports.memo(({\n  label,\n  value,\n  testId\n}) => {\n  return React.createElement(InputCopy$1, {\n    label: label,\n    value: value,\n    testId: testId,\n    sx: {\n      marginBottom: 2\n    }\n  });\n});\nconst RolesField$4 = react.exports.memo(({\n  label,\n  placeholder\n}) => {\n  const {\n    injector\n  } = useShadowDom();\n  const user = useAuthUserOrNull();\n  const allRoles = useAuthTeamState(state => state.roles);\n  const roles = checkRoleAccess(allRoles, user);\n  const [fieldProps, {\n    error,\n    touched\n  }, {\n    setValue,\n    setTouched\n  }] = useField('roleIds');\n  const options = react.exports.useMemo(() => (roles !== null && roles !== void 0 ? roles : []).map(role => ({\n    label: role.name,\n    value: role.id,\n    withCheckbox: true\n  })), [roles]);\n  return React.createElement(Select$1$1, {\n    label: label,\n    name: 'roleIds',\n    multi: true,\n    placeholder: placeholder,\n    value: fieldProps.value,\n    \"data-test-id\": \"selectRoles\",\n    onChange: value => {\n      setValue(value, true);\n      setTouched(true);\n    },\n    error: !!error && touched,\n    errorMessage: error,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    options: options\n  });\n}, shallowEqual$1('label'));\n\nconst Field = props => {\n  var _a;\n\n  const {\n    autoComplete,\n    autoFocus\n  } = props;\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField(props.name); //TODO add to data test id: props.name-box\n\n  return React.createElement(Input$1$1, Object.assign({\n    label: props.label,\n    placeholder: props.placeholder\n  }, fieldProps, {\n    value: (_a = fieldProps.value) !== null && _a !== void 0 ? _a : '',\n    error: !!error && touched,\n    errorMessage: error,\n    autoFocus: autoFocus,\n    \"data-test-id\": `${props.name}-box`,\n    autoComplete: autoComplete\n  }));\n};\n\nconst CountryField = ({\n  name,\n  countryCode,\n  label,\n  placeholder\n}) => {\n  const {\n    injector\n  } = useShadowDom();\n  const [fieldProps, {\n    error,\n    touched\n  }, {\n    setValue\n  }] = useField(name !== null && name !== void 0 ? name : 'country');\n  const [search, setSearch] = react.exports.useState('');\n  const handleSearchChanged = react.exports.useCallback(str => __awaiter(void 0, void 0, void 0, function* () {\n    return setSearch((str !== null && str !== void 0 ? str : '').toLowerCase().trim());\n  }), [setSearch]);\n  const options = react.exports.useMemo(() => {\n    let data = countries.map(({\n      name,\n      code\n    }) => ({\n      label: name,\n      value: countryCode ? code : name\n    }));\n\n    if (search) {\n      return data.filter(({\n        label\n      }) => label.toLowerCase().indexOf(search) !== -1);\n    }\n\n    return data;\n  }, [search, countryCode]);\n  return React.createElement(Select$1$1, {\n    size: 'small',\n    \"data-test-id\": \"country-dropdown\",\n    name: fieldProps.name,\n    value: fieldProps.value,\n    onChange: value => setValue(value, true),\n    options: options,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    label: label,\n    errorMessage: touched ? error : undefined,\n    onSearch: handleSearchChanged,\n    placeholder: placeholder\n  });\n};\n\nconst CustomCountryField$2 = () => {\n  const t = useT('profile_EditAddress');\n  return React.createElement(CountryField, {\n    label: t('countryInputLabel'),\n    placeholder: t('countryInputPlaceholder')\n  });\n};\n\nconst Address1Field$2 = () => {\n  const t = useT('profile_EditAddress');\n  return React.createElement(Field, {\n    autoComplete: 'street-address',\n    name: 'address1',\n    label: t('address1InputLabel')\n  });\n};\n\nconst Address2Field$2 = () => {\n  const t = useT('profile_EditAddress');\n  return React.createElement(Field, {\n    autoComplete: 'address-level3',\n    name: 'address2',\n    label: t('address2InputLabel')\n  });\n};\n\nconst CityField$2 = () => {\n  const t = useT('profile_EditAddress');\n  return React.createElement(Field, {\n    autoComplete: 'address-level2',\n    name: 'city',\n    label: t('cityInputLabel')\n  });\n};\n\nconst StateField$2 = () => {\n  const t = useT('profile_EditAddress');\n  return React.createElement(Field, {\n    autoComplete: 'address-level1',\n    name: 'state',\n    label: t('stateInputLabel')\n  });\n};\n\nconst PostcodeField$2 = () => {\n  const t = useT('profile_EditAddress');\n  return React.createElement(Field, {\n    autoComplete: 'postal-code',\n    name: 'postCode',\n    label: t('postCodeInputLabel')\n  });\n};\n\nconst EditNameForm = props => {\n  const t = useT('profile_EditAddress');\n  const user = useAuthUser();\n  const {\n    saveProfile\n  } = useProfileActions();\n  const initialValues = react.exports.useMemo(() => ({\n    address1: getUserMetadata(user, 'address.address1'),\n    address2: getUserMetadata(user, 'address.address2'),\n    city: getUserMetadata(user, 'address.city'),\n    state: getUserMetadata(user, 'address.state'),\n    postCode: getUserMetadata(user, 'address.postCode'),\n    country: getUserMetadata(user, 'address.country')\n  }), [user]);\n  const validationSchema = react.exports.useMemo(() => validateSchema({\n    address1: validateNotEmpty(t('address1IsRequired')),\n    city: validateNotEmpty(t('cityIsRequired')),\n    postCode: validationPostCodeOptional(t('postCodeIsInvalid')),\n    country: validateNotEmpty(t('countryIsRequired'))\n  }), [t]);\n  const formikProps = {\n    onSubmit: values => new Promise((resolve, reject) => {\n      const metadata = addUserMetadata(user, {\n        address: values\n      });\n      const callback = callbackToPromise(() => {\n        props.onClose();\n        resolve();\n      }, reject);\n      saveProfile({\n        metadata,\n        callback\n      });\n    }),\n    initialValues,\n    validationSchema\n  };\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(CustomCountryField$2, null), React.createElement(Address1Field$2, null), React.createElement(Address2Field$2, null), React.createElement(CityField$2, null), React.createElement(StateField$2, null), React.createElement(PostcodeField$2, null)), React.createElement(Dialog$1.Footer, null, React.createElement(Button$1, {\n      \"data-test-id\": \"cancelBtn\",\n      color: 'inherit',\n      variant: 'text',\n      type: 'reset',\n      onClick: props.onClose\n    }, t('cancel')), React.createElement(Button$1, {\n      \"data-test-id\": \"saveBtn\",\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: 'primary',\n      type: 'submit'\n    }, t('save'))));\n  });\n};\n\nconst EditAddressDialog$1 = props => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('profile_EditAddress');\n  return React.createElement(Dialog$1, Object.assign({\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    title: t('title')\n  }), React.createElement(EditNameForm, Object.assign({}, props)));\n};\n\nconst PageWrapper = styled(Box)(({\n  theme\n}) => {\n  var _a;\n\n  return Object.assign({\n    flex: 1,\n    overflow: 'auto',\n    transform: 'translate3d(0,0,0)'\n  }, (_a = theme === null || theme === void 0 ? void 0 : theme.pages) === null || _a === void 0 ? void 0 : _a.content);\n});\nPageWrapper.defaultProps = {\n  pt: 4,\n  pb: 4,\n  pl: 6,\n  pr: 6\n};\n\nconst ProfilePage$1 = () => {\n  const t = useT('profile');\n  const user = useAuthUser();\n  reloadProfileIfNeeded();\n  const [editNameDialog, handleCloseEditName, handleOpenEditName] = useDialogState();\n  const [editPhoneNumberDialog, handleCloseEditPhoneNumber, handleOpenEditPhoneNumber] = useDialogState();\n  const [editJobTitleDialog, handleCloseEditJobTitle, handleOpenEditJobTitle] = useDialogState();\n  const [editAddressDialog, handleCloseEditAddress, handleOpenEditAddress] = useDialogState();\n  const items = react.exports.useMemo(() => [{\n    id: 'email',\n    title: t('email'),\n    value: user.email,\n    onEditClick: null,\n    testId: 'email-field'\n  }, {\n    id: 'name',\n    title: t('name'),\n    value: getUserFullName(user),\n    onEditClick: handleOpenEditName,\n    testId: 'name-field'\n  }, {\n    id: 'phone',\n    title: t('phone'),\n    value: getUserMetadata(user, 'phoneNumber'),\n    onEditClick: handleOpenEditPhoneNumber,\n    testId: 'phone-field'\n  }, {\n    id: 'metadata.address',\n    title: t('address'),\n    value: getUserAddress(user),\n    onEditClick: handleOpenEditAddress,\n    testId: 'address-field'\n  }, {\n    id: 'metadata.jobTitle',\n    title: t('jobTitle'),\n    value: getUserMetadata(user, 'jobTitle'),\n    onEditClick: handleOpenEditJobTitle,\n    testId: 'jobTitle-field'\n  }], [user, t, handleOpenEditName, handleOpenEditPhoneNumber, handleOpenEditJobTitle, handleOpenEditAddress]);\n  return React.createElement(PageWrapper, {\n    \"data-test-id\": 'profile-page-wrapper'\n  }, React.createElement(ProfileHeader, null), React.createElement(SettingsList, {\n    title: t('informationTitle'),\n    items: items\n  }), React.createElement(EditNameDialog, {\n    open: editNameDialog,\n    onClose: handleCloseEditName\n  }), React.createElement(EditPhoneDialog, {\n    open: editPhoneNumberDialog,\n    onClose: handleCloseEditPhoneNumber\n  }), React.createElement(EditJobTitleDialog, {\n    open: editJobTitleDialog,\n    onClose: handleCloseEditJobTitle\n  }), React.createElement(EditAddressDialog$1, {\n    open: editAddressDialog,\n    onClose: handleCloseEditAddress\n  }));\n};\n\nvar ProfilePage$2 = ProfilePage$1;\nvar ProfilePage = wrapPage(ProfilePage$2, 'profile');\nconst CurrentPasswordField = react.exports.memo(() => {\n  const t = useT('privacy_ChangePassword');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('password');\n  return React.createElement(InputPassword$1, Object.assign({}, fieldProps, {\n    autoFocus: true,\n    label: t('currentPasswordInputLabel'),\n    error: !!error,\n    errorMessage: error && touched ? error : undefined,\n    \"data-test-id\": \"currentPasswordBox\",\n    autoComplete: 'current-password'\n  }));\n});\nconst NewPasswordField = react.exports.memo(() => {\n  const t = useT('privacy_ChangePassword');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('newPassword');\n  return React.createElement(InputPassword$1, Object.assign({}, fieldProps, {\n    label: t('newPasswordInputLabel'),\n    error: !!error && touched,\n    \"aria-autocomplete\": 'none',\n    \"data-test-id\": \"newPasswordBox\",\n    autoComplete: 'new-password'\n  }));\n});\nconst ConfirmPasswordField = react.exports.memo(() => {\n  const t = useT('privacy_ChangePassword');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('confirmPassword');\n  return React.createElement(InputPassword$1, Object.assign({}, fieldProps, {\n    label: t('confirmPasswordInputLabel'),\n    error: !!error && touched,\n    errorMessage: error,\n    \"aria-autocomplete\": 'none',\n    \"data-test-id\": \"confirmPasswordBox\",\n    autoComplete: 'new-password'\n  }));\n});\n\nconst PasswordStrength = props => {\n  const [{\n    value\n  }] = useField('newPassword');\n  const globalT = useGlobalT();\n  return React.createElement(PasswordStrengthChecker, Object.assign({\n    t: globalT,\n    value: value,\n    isTouched: value !== ''\n  }, props));\n};\n\nconst ChangePasswordForm = props => {\n  const t = useT('privacy_ChangePassword');\n  const user = useAuthUser();\n  const {\n    changePassword\n  } = useProfileActions();\n  const {\n    loading,\n    passwordConfig: passwordServerConfig,\n    defaultPasswordConfig\n  } = usePasswordConfig(user.id, false);\n  const initialValues = react.exports.useMemo(() => ({\n    password: '',\n    newPassword: '',\n    confirmPassword: ''\n  }), []);\n  const passwordConfig = loading || !passwordServerConfig ? defaultPasswordConfig : passwordServerConfig;\n  const validationSchema = react.exports.useMemo(() => {\n    return validateSchema({\n      password: validateNotEmpty(t('currentPasswordIsRequired')),\n      newPassword: validatePasswordUsingOWASP(t('newPasswordIsRequired')),\n      confirmPassword: validateConfirmPassword(t('confirmPasswordIsRequired'), t('confirmPasswordMustMatch'), 'newPassword')\n    });\n  }, [t, passwordConfig]);\n  const formikProps = {\n    onSubmit: ({\n      password,\n      newPassword\n    }) => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, reject, props.onClose);\n      changePassword({\n        password,\n        newPassword,\n        callback\n      });\n    }),\n    initialValues,\n    validationSchema\n  };\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit,\n    formError\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(CurrentPasswordField, null), React.createElement(NewPasswordField, null), React.createElement(PasswordStrength, {\n      passwordConfig: passwordConfig,\n      loading: loading || !passwordConfig\n    }), React.createElement(ConfirmPasswordField, null), React.createElement(FormErrorDialogMessage, {\n      fieldName: 'changePassword',\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n      flex: 1\n    }), React.createElement(Button$1, {\n      \"data-test-id\": \"cancelBtn\",\n      color: 'inherit',\n      variant: 'text',\n      type: 'reset',\n      onClick: props.onClose\n    }, t('cancel')), React.createElement(Button$1, {\n      \"data-test-id\": \"changePasswordBtn\",\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: 'primary',\n      type: 'submit'\n    }, t('changePassword'))));\n  });\n};\n\nconst ChangePasswordDialog = props => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('privacy_ChangePassword');\n  return React.createElement(Dialog$1, Object.assign({\n    \"data-test-id\": \"changePasswordDialog\",\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    dialogTitleDataTestId: 'changePasswordHeader',\n    title: t('title')\n  }, props, {\n    size: 'sm'\n  }), React.createElement(ChangePasswordForm, Object.assign({}, props)));\n};\n\nconst PulseSvgIcon = styled(react.exports.forwardRef((props, ref) => React.createElement(SvgIcon, Object.assign({\n  ref: ref\n}, props))))`\n  & {\n    animation: svg-pulse 1.5s ease-in-out 0.5s infinite;\n    color: #E7E7E7;\n  }\n\n  @keyframes svg-pulse {\n    0% {\n      opacity: 1\n    }\n    50% {\n      opacity: 0.4\n    }\n    100% {\n      opacity: 1\n    }\n  }\n`;\nconst QrCodeSkeleton = react.exports.forwardRef((_, ref) => {\n  const dots = [[90, 0], [120, 0], [110, 10], [120, 10], [120, 20], [90, 30], [90, 40], [120, 40], [80, 50], [100, 50], [110, 50], [120, 50], [80, 60], [100, 60], [120, 60], [110, 70], [120, 70], [0, 80], [30, 80], [50, 80], [60, 80], [80, 80], [90, 80], [130, 80], [150, 80], [40, 90], [100, 90], [140, 90], [150, 90], [180, 90], [190, 90], [200, 90], [0, 100], [10, 100], [20, 100], [60, 100], [70, 100], [90, 100], [100, 100], [120, 100], [130, 100], [170, 100], [200, 100], [10, 110], [20, 110], [70, 110], [90, 110], [110, 110], [160, 110], [170, 110], [190, 110], [200, 110], [0, 120], [10, 120], [20, 120], [30, 120], [40, 120], [50, 120], [60, 120], [70, 120], [90, 120], [100, 120], [120, 120], [140, 120], [150, 120], [160, 120], [190, 120], [80, 130], [90, 130], [100, 130], [110, 130], [150, 130], [170, 130], [200, 130], [130, 140], [150, 140], [160, 140], [180, 140], [190, 140], [80, 150], [100, 150], [110, 150], [120, 150], [130, 150], [150, 150], [160, 150], [200, 150], [90, 160], [100, 160], [110, 160], [140, 160], [150, 160], [160, 160], [200, 160], [80, 170], [110, 170], [150, 170], [160, 170], [170, 170], [190, 170], [200, 170], [100, 180], [120, 180], [150, 180], [160, 180], [180, 180], [200, 180], [130, 190], [140, 190], [160, 190], [80, 200], [90, 200], [100, 200], [110, 200], [120, 200], [170, 200], [190, 200]];\n  const largeDots = [[20, 20], [160, 20], [20, 160]];\n  const corners = [[0, 0], [140, 0], [0, 140]];\n  return React.createElement(PulseSvgIcon, {\n    viewBox: '0 0 250 250',\n    ref: ref\n  }, React.createElement(\"g\", {\n    transform: \"translate(20,20)\"\n  }, dots.map((dot, index) => React.createElement(\"g\", {\n    key: index,\n    transform: `translate(${dot[0]},${dot[1]}) scale(0.1,0.1)`\n  }, React.createElement(\"rect\", {\n    width: \"100\",\n    height: \"100\"\n  }))), largeDots.map((dot, index) => React.createElement(\"g\", {\n    key: index,\n    transform: `translate(${dot[0]},${dot[1]}) scale(0.3,0.3)`\n  }, React.createElement(\"rect\", {\n    width: \"100\",\n    height: \"100\"\n  }))), corners.map((corner, index) => React.createElement(\"g\", {\n    key: index,\n    transform: `translate(${corner[0]},${corner[1]}) scale(0.7, 0.7)`\n  }, React.createElement(\"rect\", {\n    x: '15',\n    y: '15',\n    fill: 'none',\n    width: '70',\n    height: '70'\n  }), React.createElement(\"path\", {\n    d: \"M85,0H15H0v15v70v15h15h70h15V85V15V0H85z M85,85H15V15h70V85z\"\n  })))));\n});\nconst GoogleAuthenticatorLink = react.exports.memo(() => {\n  return React.createElement(Link$1, {\n    href: 'https://www.google.com/search?q=google+authenticator',\n    target: '_blank'\n  }, ` Google Authenticator `);\n});\nconst QrCodeContainer = styled(Grid)(({\n  theme\n}) => ({\n  height: '12rem',\n  width: '12rem',\n  border: `1px solid ${theme.palette.grey[300]}`,\n  borderRadius: '0.5rem',\n  position: 'relative',\n  padding: theme.spacing(10),\n  justifyContent: 'center',\n  alignItems: 'center',\n  margin: '2rem auto',\n  'img, svg': {\n    top: '0.5rem',\n    left: '0.5rem',\n    position: 'absolute',\n    width: 'calc(100% - 1rem)',\n    height: 'calc(100% - 1rem)'\n  }\n}));\n\nconst QrCodeComponent = () => {\n  const {\n    loading,\n    qrCode\n  } = useMfaState();\n  const displaySkeleton = !qrCode && loading;\n  return React.createElement(QrCodeContainer, {\n    container: true\n  }, React.createElement(Grid, {\n    item: true\n  }, React.createElement(Fade, {\n    in: displaySkeleton\n  }, React.createElement(QrCodeSkeleton, null)), React.createElement(Fade, {\n    in: !displaySkeleton\n  }, React.createElement(\"img\", {\n    \"data-test-id\": \"qrCode\",\n    alt: 'qr-code',\n    src: qrCode !== null && qrCode !== void 0 ? qrCode : ''\n  }))));\n};\n\nconst TokenInput$1 = react.exports.memo(() => {\n  const t = useT('privacy_EnableMfa');\n  const {\n    submitCount,\n    dirty\n  } = useFormikContext();\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('token');\n  return React.createElement(Input$1$1, Object.assign({}, fieldProps, {\n    autoFocus: true,\n    \"data-test-id\": \"6DigitsCode\",\n    inputMode: 'numeric',\n    label: t('codeInputLabel'),\n    placeholder: t('codeInputPlaceholder'),\n    error: !!error && (touched && !!submitCount || dirty),\n    errorMessage: error,\n    autoComplete: 'one-time-code'\n  }));\n});\nconst VerifyMfaForm = react.exports.forwardRef((props, ref) => {\n  const t = useT('privacy_EnableMfa');\n  const {\n    verifyMfa\n  } = useMfaActions();\n  const initialValues = react.exports.useMemo(() => ({\n    token: ''\n  }), []);\n  const validationSchema = react.exports.useMemo(() => validateSchema({\n    token: validateMinLength(6, t('codeIsRequired'), t('codeLengthAtLeast6'))\n  }), [t]);\n  const formikProps = {\n    onSubmit: values => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, reject);\n      verifyMfa({\n        token: values.token,\n        callback\n      });\n    }),\n    initialValues,\n    validationSchema\n  };\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit,\n    formError\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, {\n      ref: ref\n    }, React.createElement(Box, {\n      mb: 8\n    }, React.createElement(Typography$1, {\n      variant: 'subtitle2'\n    }, t('subtitle'))), React.createElement(Typography$1, {\n      variant: 'body1'\n    }, t('scanDescription1'), \" \", React.createElement(GoogleAuthenticatorLink, null), \" \", t('scanDescription2')), React.createElement(QrCodeComponent, null), React.createElement(TokenInput$1, null), React.createElement(FormErrorDialogMessage, {\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n      flex: 1\n    }), React.createElement(Button$1, {\n      \"data-test-id\": \"cancelBtn\",\n      color: 'inherit',\n      variant: 'text',\n      type: 'reset',\n      onClick: props.onClose\n    }, t('cancel')), React.createElement(Button$1, {\n      \"data-test-id\": \"verifyBtn\",\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: 'primary',\n      type: 'submit'\n    }, t('verify'))));\n  });\n});\nconst RecoveryMfaForm = react.exports.forwardRef((props, ref) => {\n  const t = useT('privacy_EnableMfa');\n  const {\n    recoveryCode = ''\n  } = useMfaState();\n  return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, {\n    ref: ref\n  }, React.createElement(Typography$1, {\n    variant: 'subtitle1'\n  }, t('recoveryCodeTitle')), React.createElement(Box, {\n    mt: 8\n  }, React.createElement(InputCopy$1, {\n    label: t('recoveryCodeLabel'),\n    value: recoveryCode\n  })), React.createElement(Box, {\n    mt: 8\n  }, React.createElement(Alert$1, {\n    severity: 'info'\n  }, t('recoveryCodeInstructions')))), React.createElement(Dialog$1.Footer, null, React.createElement(Button$1, {\n    \"data-test-id\": \"cancelBtn\",\n    color: 'inherit',\n    variant: 'text',\n    type: 'reset',\n    onClick: props.onClose\n  }, t('cancel')), React.createElement(Button$1, {\n    \"data-test-id\": \"closeBtn\",\n    color: \"inherit\",\n    onClick: props.onClose\n  }, t('close'))));\n});\n\nconst EnableMfaStepper = props => {\n  const {\n    step\n  } = useMfaState();\n  const {\n    enrollMfa,\n    resetMfaState\n  } = useMfaActions();\n  react.exports.useEffect(() => {\n    enrollMfa();\n    return resetMfaState;\n  }, [enrollMfa, resetMfaState]);\n  react.exports.useEffect(() => {\n    if (step !== MFAStep.verify && step !== MFAStep.recoveryCode) {\n      props.onClose();\n    }\n  }, [step, props]);\n  return React.createElement(React.Fragment, null, React.createElement(Slide$1, {\n    in: step === MFAStep.verify,\n    appear: false,\n    exit: false,\n    unmountOnExit: true,\n    direction: step === MFAStep.verify ? 'left' : 'right'\n  }, React.createElement(VerifyMfaForm, Object.assign({}, props))), React.createElement(Slide$1, {\n    in: step === MFAStep.recoveryCode,\n    mountOnEnter: true,\n    unmountOnExit: true,\n    direction: step === MFAStep.recoveryCode ? 'left' : 'right'\n  }, React.createElement(RecoveryMfaForm, Object.assign({}, props))));\n};\n\nconst EnableMfaDialog = props => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('privacy_EnableMfa');\n  return React.createElement(Dialog$1, Object.assign({\n    \"data-test-id\": \"enableMfa\",\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    title: t('title'),\n    size: 'sm'\n  }), React.createElement(EnableMfaStepper, Object.assign({}, props)));\n};\n\nconst TokenInput = react.exports.memo(() => {\n  const t = useT('privacy_DisableMfa');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('token');\n  return React.createElement(Input$1$1, Object.assign({}, fieldProps, {\n    autoFocus: true,\n    inputMode: 'numeric',\n    \"data-test-id\": \"6DigitsCode\",\n    label: t('tokenInputLabel'),\n    placeholder: t('tokenInputLabelPlaceholder'),\n    error: !!error && touched,\n    errorMessage: error,\n    autoComplete: 'one-time-code'\n  }));\n});\n\nconst DisableMfaForm = props => {\n  const t = useT('privacy_DisableMfa');\n  const {\n    disableMfa,\n    resetMfaState\n  } = useMfaActions();\n  react.exports.useEffect(() => resetMfaState, [resetMfaState]);\n  const initialValues = react.exports.useMemo(() => ({\n    token: ''\n  }), []);\n  const validationSchema = react.exports.useMemo(() => validateSchema({\n    token: validateMinLength(6, t('codeIsRequired'), t('codeLengthAtLeast6'))\n  }), [t]);\n  const formikProps = {\n    onSubmit: ({\n      token\n    }, {\n      setErrors\n    }) => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, e => {\n        setErrors({\n          token: e.message\n        });\n        reject();\n      }, props.onClose);\n      disableMfa({\n        token,\n        callback\n      });\n    }),\n    initialValues,\n    validationSchema\n  };\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(Box, {\n      \"data-test-id\": \"disableMfabtn\",\n      mb: 4,\n      component: Typography$1,\n      variant: 'subtitle2'\n    }, t('description')), React.createElement(TokenInput, null)), React.createElement(Dialog$1.Footer, null, React.createElement(Button$1, {\n      \"data-test-id\": \"cancel\",\n      color: 'inherit',\n      variant: 'text',\n      type: 'reset',\n      onClick: props.onClose\n    }, t('cancel')), React.createElement(Button$1, {\n      \"data-test-id\": \"submit\",\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: 'danger',\n      type: 'submit'\n    }, t('disable'))));\n  });\n};\n\nconst DisableMfaDialog = props => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('privacy_DisableMfa');\n  return React.createElement(Dialog$1, Object.assign({\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    title: t('title'),\n    size: 'sm'\n  }), React.createElement(DisableMfaForm, Object.assign({}, props)));\n};\n\nconst getIpMetadata = ip => __awaiter(void 0, void 0, void 0, function* () {\n  try {\n    return yield fetch.Get(`/metadata/ip/${ip}`);\n  } catch (e) {\n    throw new Error(`ip metadata not found`);\n  }\n});\n\nconst getFilterType = type => {\n  switch (type) {\n    case 'Timestamp':\n      return 'select';\n\n    case 'Severity':\n      return 'select';\n\n    default:\n      return 'input';\n  }\n};\n\nconst capitalize = s => {\n  // noinspection SuspiciousTypeOfGuard\n  if (typeof s !== 'string') return `${s}`;\n  return s.charAt(0).toUpperCase() + s.slice(1);\n};\n\nconst getFilterName = name => {\n  switch (name) {\n    case 'createdAt':\n      return 'Time';\n\n    default:\n      return capitalize(name);\n  }\n}; //TODO: wrong items order in selector\n\n\nconst timeOptions = [{\n  label: 'Last Day',\n  value: 'last_day'\n}, {\n  label: 'Last Week',\n  value: 'last_week'\n}, {\n  label: 'Last Month',\n  value: 'last_month'\n}, {\n  label: 'Last Year',\n  value: 'last_year'\n}];\nconst severityOptions = [{\n  label: 'Info',\n  value: 'Info'\n}, {\n  label: 'Medium',\n  value: 'Medium'\n}, {\n  label: 'High',\n  value: 'High'\n}, {\n  label: 'Critical',\n  value: 'Critical'\n}];\n\nconst getTimeDiff = time => {\n  const diff = differenceInDays(new Date(), parseISO(time));\n  return diff <= 1 ? 'last_day' : diff <= 7 ? 'last_week' : diff <= 30 ? 'last_month' : 'last_year';\n};\n\nconst getFilterTime = time => {\n  let value;\n  const date = new Date();\n\n  switch (time) {\n    case 'last_day':\n      value = subDays(date, 1).toISOString();\n      break;\n\n    case 'last_week':\n      value = subDays(date, 7).toISOString();\n      break;\n\n    case 'last_month':\n      value = subMonths(date, 1).toISOString();\n      break;\n\n    case 'last_year':\n      value = subYears(date, 1).toISOString();\n      break;\n\n    default:\n      value = date.toISOString();\n  }\n\n  return {\n    $gt: value\n  };\n};\n\nconst getSeverityByName = severity => {\n  switch (severity === null || severity === void 0 ? void 0 : severity.toLowerCase()) {\n    case 'info':\n      return 'info';\n\n    case 'error':\n      return 'error';\n\n    case 'attention':\n      return 'warning';\n\n    case 'high':\n      return 'warning';\n\n    default:\n      return 'info';\n  }\n};\n\nconst str2bool = str => {\n  var _a;\n\n  const value = (_a = str === null || str === void 0 ? void 0 : str.toLowerCase) === null || _a === void 0 ? void 0 : _a.call(str);\n\n  if (!value) {\n    return false;\n  }\n\n  switch (value) {\n    case 'yes':\n    case 'always':\n      return true;\n\n    default:\n      return false;\n  }\n};\n\nconst UserSessionsTableColumns = ({\n  t\n}) => [{\n  Header: t('deviceHeader'),\n  accessor: ({\n    userAgent,\n    current\n  }) => ({\n    userAgent,\n    current,\n    endAdornment: current ? React.createElement(Chip, {\n      label: t('currentSessionChip'),\n      sx: {\n        backgroundColor: 'success.light',\n        color: 'success.main'\n      }\n    }) : undefined\n  }),\n  minWidth: 280,\n  maxWidth: 280,\n  Cell: TableUserAgentCell\n}, {\n  Header: t('locationHeader'),\n  accessor: ({\n    ipAddress\n  }) => ({\n    ip: ipAddress,\n    getIpMetadata\n  }),\n  Cell: TableLocationCell,\n  width: 200,\n  maxWidth: 200\n}, {\n  Header: t('ipAddressHeader'),\n  accessor: ({\n    ipAddress\n  }) => ({\n    description: ipAddress\n  }),\n  minWidth: 200,\n  maxWidth: 200,\n  Cell: TableTextCell\n}, {\n  Header: t('timeHeader'),\n  accessor: ({\n    createdAt\n  }) => ({\n    date: createdAt,\n    withAgo: true\n  }),\n  minWidth: 200,\n  maxWidth: 200,\n  Cell: TableDateCell\n}, {\n  Header: () => React.createElement(Box, {\n    width: '1rem'\n  }),\n  id: `logOut`,\n  accessor: ({\n    id,\n    current\n  }) => ({\n    id,\n    current,\n    actionText: t('logout')\n  }),\n  minWidth: 180,\n  maxWidth: 180,\n  Cell: TableLogoutCell\n}];\n\nconst DeleteDialogBody = ({\n  error,\n  description,\n  loading,\n  onDelete,\n  onClose,\n  deleteButtonText,\n  cancelButtonText\n}) => {\n  //TODO change data test id cancelBtn to cancel-btn\n  //TODO change data test id deleteBtn to delete-btn\n  return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(Typography$1, {\n    variant: \"subtitle2Light\"\n  }, description), React.createElement(FormErrorDialogMessage, {\n    message: error\n  })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n    flex: 1\n  }), cancelButtonText && React.createElement(Button$1, {\n    \"data-test-id\": \"cancel-btn\",\n    color: \"inherit\",\n    variant: \"text\",\n    onClick: onClose\n  }, cancelButtonText), React.createElement(Button$1, {\n    \"data-test-id\": \"delete-btn\",\n    loading: loading,\n    color: \"danger\",\n    onClick: onDelete\n  }, deleteButtonText)));\n};\n\nconst DeleteDialog = _a => {\n  var {\n    onClose,\n    title,\n    open,\n    dataTestId\n  } = _a,\n      props = __rest(_a, [\"onClose\", \"title\", \"open\", \"dataTestId\"]);\n\n  const {\n    injector\n  } = useShadowDom();\n  return React.createElement(Dialog$1, {\n    \"data-test-id\": dataTestId,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    open: open,\n    onClose: onClose,\n    title: title\n  }, React.createElement(DeleteDialogBody, Object.assign({}, props, {\n    onClose: onClose\n  })));\n};\n\nconst LogOutAllDialog = ({\n  onClose,\n  open\n}) => {\n  const t = useT('privacy_UserSessions');\n  const [submitted, setSubmitted] = react.exports.useState(false);\n  const {\n    loading,\n    error\n  } = useSessionsState();\n  const {\n    deleteAllUserSessions\n  } = useSessionsActions();\n  react.exports.useEffect(() => {\n    if (submitted && !error && !loading) {\n      onClose();\n    }\n  }, [submitted, error, loading, onClose]);\n  const handleLogoutAll = react.exports.useCallback(() => {\n    deleteAllUserSessions();\n    setSubmitted(true);\n  }, [setSubmitted, deleteAllUserSessions]);\n  return React.createElement(DeleteDialog, {\n    dataTestId: 'logoutAllDialog',\n    title: t('logoutAllDialogTitle'),\n    deleteButtonText: t('logoutAllDialogAcceptButton'),\n    description: t('logoutAllDialogText'),\n    open: open,\n    error: error,\n    onClose: onClose,\n    loading: !!loading,\n    onDelete: handleLogoutAll\n  });\n};\n\nconst useUserSessionsData = () => {\n  const {\n    sessions\n  } = useSessionsState();\n  return react.exports.useMemo(() => sessions.filter(({\n    userAgent\n  }) => !(userAgent === null || userAgent === void 0 ? void 0 : userAgent.toLowerCase().includes('axios'))).sort((a, b) => Number(b.current) - Number(a.current)), [sessions]);\n};\n\nconst UsersSessionsTableHeader = () => {\n  const t = useT('privacy_UserSessions');\n  const [isLogoutAllDialogOpen, handleCloseLogOutAllDialog, handleOpenLogOutAllDialog] = useDialogState();\n  const sessions = useUserSessionsData();\n  const isLogoutButtonVisible = react.exports.useMemo(() => (sessions === null || sessions === void 0 ? void 0 : sessions.length) > 1, [sessions]);\n  return React.createElement(React.Fragment, null, React.createElement(Grid, {\n    container: true,\n    display: 'flex',\n    alignItems: 'center',\n    mb: 2\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    md: 4\n  }, React.createElement(Typography$1, {\n    variant: 'subtitle1'\n  }, \" \", t('loginSessionsTitle'))), React.createElement(Grid, {\n    item: true,\n    xs: true\n  }), React.createElement(Grid, {\n    item: true\n  }, isLogoutButtonVisible && React.createElement(Button$1, {\n    \"data-test-id\": \"delete-sessions-btn\",\n    color: 'inherit',\n    onClick: handleOpenLogOutAllDialog\n  }, t('logoutAllButtonText')))), React.createElement(LogOutAllDialog, {\n    onClose: handleCloseLogOutAllDialog,\n    open: isLogoutAllDialogOpen\n  }));\n};\n\nconst UserSessionsTable = () => {\n  const t = useT('privacy_UserSessions');\n  const {\n    loadUserSessions\n  } = useSessionsActions();\n  const {\n    loading\n  } = useSessionsState();\n  const rows = useUserSessionsData();\n  react.exports.useEffect(() => {\n    loadUserSessions();\n  }, [loadUserSessions]);\n  const columns = react.exports.useMemo(() => UserSessionsTableColumns({\n    t\n  }), [t]);\n  return React.createElement(Box, {\n    mt: 6,\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(UsersSessionsTableHeader, null), React.createElement(Table, {\n    \"data-test-id\": \"table\",\n    columns: columns,\n    data: rows,\n    loading: !!loading\n  }));\n};\n\nconst PrivacyPage$1 = () => {\n  const t = useT('privacy');\n  const [changePasswordDialog, handleCloseChangePassword, handleOpenChangePassword] = useDialogState();\n  const [enableMfaDialog, handleCloseEnableMfaDialog, handleOpenEnableMfaDialog] = useDialogState();\n  const [disableMfaDialog, handleCloseDisableMfaDialog, handleOpenDisableMfaDialog] = useDialogState();\n  const user = useAuthUser();\n  const {\n    policy,\n    loading: loadingPolicy\n  } = usePublicPolicySettings();\n  const mfaPolicy = useMfaPolicySettings();\n  usePasswordConfig(user.id);\n  const isMfaForced = mfaPolicy.policy && mfaPolicy.policy.enforceMFAType !== 'DontForce';\n  const items = react.exports.useMemo(() => [...(!loadingPolicy && (policy === null || policy === void 0 ? void 0 : policy.authStrategy) === 'EmailAndPassword' ? [{\n    id: 'password',\n    title: t('passwordTitle'),\n    value: '',\n    onEditClick: handleOpenChangePassword\n  }] : []), {\n    id: 'multiFactorAuthentication',\n    title: t('mfaTitle'),\n    value: mfaPolicy.loading ? React.createElement(Skeleton, {\n      width: 80,\n      height: 18\n    }) : isMfaForced ? React.createElement(Typography$1, {\n      variant: 'label'\n    }, t('mfaRequired'), React.createElement(HelpMessage, {\n      message: t('mfaHelpMessage')\n    })) : user.mfaEnrolled ? t('mfaEnabled') : t('mfaDisabled'),\n    actions: React.createElement(Switch$1, {\n      \"data-test-id\": \"Switch\",\n      disabled: isMfaForced,\n      checked: !mfaPolicy.loading && (isMfaForced || user.mfaEnrolled),\n      onChange: e => {\n        if (e.target.checked) {\n          handleOpenEnableMfaDialog();\n        } else {\n          handleOpenDisableMfaDialog();\n        }\n      }\n    })\n  }], [user, t, handleOpenChangePassword, handleOpenEnableMfaDialog, handleOpenDisableMfaDialog, mfaPolicy.loading, isMfaForced, policy, loadingPolicy]);\n  return React.createElement(PageWrapper, {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(SettingsList, {\n    title: t('basicSettings'),\n    items: items\n  }), React.createElement(Box, {\n    mt: 6,\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(UserSessionsTable, null)), React.createElement(ChangePasswordDialog, {\n    open: changePasswordDialog,\n    onClose: handleCloseChangePassword\n  }), React.createElement(EnableMfaDialog, {\n    open: enableMfaDialog,\n    onClose: handleCloseEnableMfaDialog\n  }), React.createElement(DisableMfaDialog, {\n    open: disableMfaDialog,\n    onClose: handleCloseDisableMfaDialog\n  }));\n};\n\nvar PrivacyPage$2 = PrivacyPage$1;\nvar PrivacyPage = wrapPage(PrivacyPage$2, 'privacy');\n\nconst TimezoneField = () => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('accountSettings_EditTimezone');\n  const [search, setSearch] = react.exports.useState('');\n  const [fieldProps, {\n    error,\n    touched\n  }, {\n    setValue\n  }] = useField('timezone');\n  const handleSearchChanged = react.exports.useCallback(str => __awaiter(void 0, void 0, void 0, function* () {\n    return setSearch((str !== null && str !== void 0 ? str : '').toLowerCase().trim());\n  }), [setSearch]);\n  const options = react.exports.useMemo(() => {\n    let data = getOptions();\n\n    if (search) {\n      return data.filter(({\n        label\n      }) => label.toLowerCase().indexOf(search) !== -1);\n    }\n\n    return data;\n  }, [search]);\n  return React.createElement(Select$1$1, {\n    value: fieldProps.value,\n    \"data-test-id\": \"timezone-dropdown\",\n    onChange: value => setValue(value, true),\n    errorMessage: touched ? error : undefined,\n    options: options,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    label: t('timezoneInputLabel'),\n    onSearch: handleSearchChanged\n  });\n};\n\nconst EditTimezoneForm = props => {\n  const t = useT('accountSettings_EditTimezone');\n  const {\n    saveAccountSettings\n  } = useAuthActions();\n  const {\n    accountSettingsState: settings\n  } = useAuth();\n  const initialValues = react.exports.useMemo(() => {\n    var _a;\n\n    return {\n      timezone: (_a = settings.timezone) !== null && _a !== void 0 ? _a : ''\n    };\n  }, [settings.timezone]);\n  const validationSchema = react.exports.useMemo(() => validateSchema({}), []);\n  const formikProps = {\n    onSubmit: values => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, reject, props.onClose);\n      saveAccountSettings(Object.assign(Object.assign(Object.assign({}, settings), values), {\n        callback\n      }));\n    }),\n    initialValues,\n    validationSchema\n  };\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit,\n    formError\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(TimezoneField, null), React.createElement(FormErrorDialogMessage, {\n      fieldName: \"timezone\",\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n      flex: 1\n    }), React.createElement(Button$1, {\n      \"data-test-id\": \"cancelBtn\",\n      color: 'inherit',\n      variant: 'text',\n      type: 'reset',\n      onClick: props.onClose\n    }, t('cancel')), React.createElement(Button$1, {\n      \"data-test-id\": \"saveBtn\",\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: 'primary',\n      type: 'submit'\n    }, t('save'))));\n  });\n};\n\nconst EditTimezoneDialog = props => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('accountSettings_EditTimezone');\n  return React.createElement(Dialog$1, Object.assign({\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    title: t('title'),\n    size: 'sm'\n  }), React.createElement(EditTimezoneForm, Object.assign({}, props)));\n};\n\nconst EditCompanyNameDialog = props => {\n  const t = useT('accountSettings_EditCompanyName');\n  const {\n    saveAccountSettings\n  } = useAuthActions();\n  const {\n    accountSettingsState: settings\n  } = useAuth();\n  const {\n    loadTenants\n  } = useTenantsActions();\n  const validationSchema = react.exports.useMemo(() => validateSchema({\n    companyName: validateNotEmpty(t('companyNameIsRequired'))\n  }), [t]);\n  const submitHandler = react.exports.useCallback(values => new Promise((resolve, reject) => {\n    const callback = callbackToPromise(resolve, reject, () => {\n      loadTenants();\n      props.onClose();\n    });\n    saveAccountSettings(Object.assign(Object.assign({}, settings), {\n      name: values.companyName,\n      callback\n    }));\n  }), [props, saveAccountSettings, settings, loadTenants]);\n  return React.createElement(EditSingleInputDialog, {\n    title: t('title'),\n    onClose: props.onClose,\n    open: props.open,\n    validationSchema: validationSchema,\n    inputName: 'companyName',\n    inputLabel: t('companyNameLabel'),\n    submitButton: t('save'),\n    cancelButton: 'cancel',\n    initialValues: {\n      companyName: settings.name\n    },\n    // TODO: changed test-id from editName to companyName-box\n    onSubmit: submitHandler\n  });\n};\n\nconst getAccountAddress = (address, key) => {\n  let parsedAddress = {};\n\n  try {\n    parsedAddress = JSON.parse(address);\n  } catch (e) {// ignore address data parse error\n  }\n\n  return key ? getValue$1(parsedAddress, key) : parsedAddress;\n};\n\nconst addAddress = (address, newAddress) => {\n  let parsedAddress = {};\n\n  try {\n    parsedAddress = JSON.parse(address);\n  } catch (e) {// ignore address data parse error\n  }\n\n  return JSON.stringify(Object.assign(Object.assign({}, parsedAddress), newAddress));\n};\n\nconst CustomCountryField$1 = () => {\n  const t = useT('accountSettings_EditAddress');\n  return React.createElement(CountryField, {\n    label: t('countryInputLabel'),\n    placeholder: t('countryInputPlaceholder')\n  });\n};\n\nconst Address1Field$1 = () => {\n  const t = useT('accountSettings_EditAddress');\n  return React.createElement(Field, {\n    autoComplete: 'street-address',\n    name: 'address1',\n    label: t('address1InputLabel')\n  });\n};\n\nconst Address2Field$1 = () => {\n  const t = useT('accountSettings_EditAddress');\n  return React.createElement(Field, {\n    autoComplete: 'address-level3',\n    name: 'address2',\n    label: t('address2InputLabel')\n  });\n};\n\nconst CityField$1 = () => {\n  const t = useT('accountSettings_EditAddress');\n  return React.createElement(Field, {\n    autoComplete: 'address-level2',\n    name: 'city',\n    label: t('cityInputLabel')\n  });\n};\n\nconst StateField$1 = () => {\n  const t = useT('accountSettings_EditAddress');\n  return React.createElement(Field, {\n    autoComplete: 'address-level1',\n    name: 'state',\n    label: t('stateInputLabel')\n  });\n}; //TODO change postCode to postcode\n\n\nconst PostcodeField$1 = () => {\n  const t = useT('accountSettings_EditAddress');\n  return React.createElement(Field, {\n    autoComplete: 'postal-code',\n    name: 'postCode',\n    label: t('postCodeInputLabel')\n  });\n};\n\nconst EditAddressForm = props => {\n  const t = useT('accountSettings_EditAddress');\n  const {\n    saveAccountSettings\n  } = useAuthActions();\n  const {\n    accountSettingsState: settings\n  } = useAuth();\n  const initialValues = react.exports.useMemo(() => {\n    var _a, _b, _c, _d, _e;\n\n    return {\n      address1: (_a = getAccountAddress(settings.address, 'address1')) !== null && _a !== void 0 ? _a : '',\n      address2: (_b = getAccountAddress(settings.address, 'address2')) !== null && _b !== void 0 ? _b : '',\n      city: (_c = getAccountAddress(settings.address, 'city')) !== null && _c !== void 0 ? _c : '',\n      state: (_d = getAccountAddress(settings.address, 'state')) !== null && _d !== void 0 ? _d : '',\n      postCode: (_e = getAccountAddress(settings.address, 'postCode')) !== null && _e !== void 0 ? _e : '',\n      country: getAccountAddress(settings.address, 'country')\n    };\n  }, [settings.address]);\n  const validationSchema = react.exports.useMemo(() => validateSchema({\n    address1: validateNotEmpty(t('address1IsRequired')),\n    city: validateNotEmpty(t('cityIsRequired')),\n    postCode: validationPostCodeOptional(t('postCodeIsInvalid')),\n    country: validateNotEmpty(t('countryIsRequired'))\n  }), [t]);\n  const formikProps = {\n    onSubmit: values => new Promise((resolve, reject) => {\n      const newAddress = addAddress(settings.address, values);\n      const callback = callbackToPromise(resolve, reject, props.onClose);\n      saveAccountSettings(Object.assign(Object.assign({}, settings), {\n        address: newAddress,\n        callback\n      }));\n    }),\n    initialValues,\n    validationSchema\n  };\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit,\n    formError\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(CustomCountryField$1, null), React.createElement(Address1Field$1, null), React.createElement(Address2Field$1, null), React.createElement(CityField$1, null), React.createElement(StateField$1, null), React.createElement(PostcodeField$1, null), React.createElement(FormErrorDialogMessage, {\n      fieldName: \"address\",\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n      flex: 1\n    }), React.createElement(Button$1, {\n      \"data-test-id\": \"cancelBtn\",\n      color: 'inherit',\n      variant: 'text',\n      type: 'reset',\n      onClick: props.onClose\n    }, t('cancel')), React.createElement(Button$1, {\n      \"data-test-id\": \"saveBtn\",\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: 'primary',\n      type: 'submit'\n    }, t('save'))));\n  });\n};\n\nconst EditAddressDialog = props => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('accountSettings_EditAddress');\n  return React.createElement(Dialog$1, Object.assign({\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    title: t('title')\n  }), React.createElement(EditAddressForm, Object.assign({}, props)));\n};\n\nconst EditWebsiteDialog = props => {\n  var _a;\n\n  const t = useT('accountSettings_EditWebsite');\n  const {\n    saveAccountSettings\n  } = useAuthActions();\n  const {\n    accountSettingsState: settings\n  } = useAuth();\n  const submitHandler = react.exports.useCallback(values => new Promise((resolve, reject) => {\n    const callback = callbackToPromise(resolve, reject, props.onClose);\n    saveAccountSettings(Object.assign(Object.assign(Object.assign({}, settings), values), {\n      callback\n    }));\n  }), [props.onClose, saveAccountSettings, settings]);\n  return React.createElement(EditSingleInputDialog, {\n    title: t('title'),\n    onClose: props.onClose,\n    open: props.open,\n    inputName: 'website',\n    inputLabel: t('websiteInputLabel'),\n    submitButton: t('save'),\n    cancelButton: 'cancel',\n    inputAutoComplete: 'organization-title',\n    initialValues: {\n      website: (_a = settings.website) !== null && _a !== void 0 ? _a : ' '\n    },\n    onSubmit: submitHandler,\n    \"data-test-id\": \"website-box\"\n  });\n};\n\nconst currencies = [{\n  label: 'USD',\n  value: 'USD'\n}, {\n  label: 'EUR',\n  value: 'EUR'\n}];\n\nconst CurrencyField = () => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('accountSettings_EditCurrency');\n  const [fieldProps, {\n    error,\n    touched\n  }, {\n    setValue\n  }] = useField('currency');\n  return React.createElement(Select$1$1, {\n    value: fieldProps.value,\n    \"data-test-id\": \"currency-dropdown\",\n    onChange: value => setValue(value, true),\n    errorMessage: touched ? error : undefined,\n    options: currencies,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    label: t('currencyLabel')\n  });\n};\n\nconst EditCurrencyForm = props => {\n  const t = useT('accountSettings_EditCurrency');\n  const {\n    saveAccountSettings\n  } = useAuthActions();\n  const {\n    accountSettingsState: settings\n  } = useAuth();\n  const initialValues = react.exports.useMemo(() => ({\n    currency: settings.currency\n  }), [settings.currency]);\n  const formikProps = {\n    onSubmit: values => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, reject, props.onClose);\n      saveAccountSettings(Object.assign(Object.assign(Object.assign({}, settings), values), {\n        callback\n      }));\n    }),\n    initialValues\n  };\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit,\n    formError\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(CurrencyField, null), React.createElement(FormErrorDialogMessage, {\n      fieldName: \"currency\",\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n      flex: 1\n    }), React.createElement(Button$1, {\n      \"data-test-id\": \"cancelBtn\",\n      color: 'inherit',\n      variant: 'text',\n      type: 'reset',\n      onClick: props.onClose\n    }, t('cancel')), React.createElement(Button$1, {\n      \"data-test-id\": \"saveBtn\",\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: 'primary',\n      type: 'submit'\n    }, t('save'))));\n  });\n};\n\nconst EditCurrencyDialog = props => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('accountSettings_EditCurrency');\n  return React.createElement(Dialog$1, Object.assign({\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    title: t('title'),\n    size: 'sm'\n  }), React.createElement(EditCurrencyForm, Object.assign({}, props)));\n};\n\nconst SettingsRowValue = ({\n  value,\n  noValueText,\n  dataTestId,\n  onClick\n}) => {\n  const t = useT('accountSettings');\n\n  if (value) {\n    return React.createElement(Typography$1, {\n      variant: 'body1',\n      \"data-test-id\": `${dataTestId}-value`,\n      component: 'span'\n    }, value);\n  }\n\n  if (noValueText) {\n    return React.createElement(Typography$1, {\n      variant: 'body1Bold'\n    }, React.createElement(Link$1, {\n      \"data-test-id\": `add-${dataTestId}`,\n      onClick: onClick\n    }, t(noValueText)));\n  }\n\n  return null;\n};\n\nconst AccountDetailsPage$1 = () => {\n  const t = useT('accountSettings');\n  const {\n    loadAccountSettings\n  } = useAuthActions();\n  const {\n    accountSettingsState: settings\n  } = useAuth();\n  react.exports.useEffect(() => loadAccountSettings(), [loadAccountSettings]);\n  const [editCompanyName, handleCloseCompanyName, handleOpenCompanyName] = useDialogState();\n  const [editAddress, handleCloseAddress, handleOpenAddress] = useDialogState();\n  const [editWebsite, handleCloseWebsite, handleOpenWebsite] = useDialogState();\n  const [editTimezone, handleCloseTimezone, handleOpenTimezone] = useDialogState();\n  const [editCurrency, handleCloseCurrency, handleOpenCurrency] = useDialogState();\n  const user = useAuthUserOrNull();\n  const tenantsState = useTenantsState();\n  const tenants = tenantsState.tenants;\n  const tenantName = react.exports.useMemo(() => {\n    var _a, _b;\n\n    return (_b = (_a = tenants.find(({\n      tenantId\n    }) => tenantId === (user === null || user === void 0 ? void 0 : user.tenantId))) === null || _a === void 0 ? void 0 : _a.name) !== null && _b !== void 0 ? _b : '';\n  }, [tenants, user === null || user === void 0 ? void 0 : user.tenantId]);\n  const items = react.exports.useMemo(() => {\n    var _a, _b;\n\n    const companyAddress = formatAddress(getAccountAddress(settings.address));\n    const companyTimezone = (_b = (_a = getOptions().find(s => s.value === settings.timezone)) === null || _a === void 0 ? void 0 : _a.label) !== null && _b !== void 0 ? _b : '';\n    return [{\n      id: 'companyName',\n      title: t('companyName'),\n      value: React.createElement(SettingsRowValue, {\n        value: settings.name || tenantName,\n        onClick: handleOpenCompanyName,\n        dataTestId: 'companyName',\n        noValueText: 'addCompanyButton'\n      }),\n      onEditClick: settings.name ? handleOpenCompanyName : undefined,\n      testId: 'account-details-companyName-list-item'\n    }, {\n      id: 'address',\n      title: t('address'),\n      value: React.createElement(SettingsRowValue, {\n        value: companyAddress,\n        onClick: handleOpenAddress,\n        dataTestId: \"address\",\n        noValueText: 'addAddressButton'\n      }),\n      onEditClick: companyAddress ? handleOpenAddress : undefined,\n      testId: 'account-details-address-list-item'\n    }, {\n      id: 'website',\n      title: t('website'),\n      value: React.createElement(SettingsRowValue, {\n        value: settings.website,\n        onClick: handleOpenWebsite,\n        dataTestId: \"website\",\n        noValueText: 'addWebsiteButton'\n      }),\n      onEditClick: settings.website ? handleOpenWebsite : undefined,\n      testId: 'account-details-website-list-item'\n    }, {\n      id: 'timezone',\n      title: t('timezone'),\n      value: React.createElement(SettingsRowValue, {\n        value: companyTimezone,\n        onClick: handleOpenTimezone,\n        dataTestId: \"timezone\",\n        noValueText: 'setTimezoneButton'\n      }),\n      onEditClick: companyTimezone ? handleOpenTimezone : undefined,\n      testId: 'account-details-timezone-list-item'\n    }, {\n      id: 'currency',\n      title: t('currency'),\n      value: React.createElement(SettingsRowValue, {\n        value: settings.currency,\n        onClick: handleOpenCurrency,\n        dataTestId: 'currency',\n        noValueText: 'setCurrencyButton'\n      }),\n      onEditClick: settings.currency ? handleOpenCurrency : undefined,\n      testId: 'account-details-currency-list-item'\n    }];\n  }, [t, handleOpenAddress, handleOpenCompanyName, handleOpenCurrency, handleOpenTimezone, handleOpenWebsite, settings.address, settings.currency, settings.name, settings.timezone, settings.website, tenantName]);\n  return React.createElement(PageWrapper, null, React.createElement(SettingsList, {\n    title: t('subtitle'),\n    items: items\n  }), React.createElement(EditCurrencyDialog, {\n    \"data-test-id\": \"editCurrency\",\n    open: editCurrency,\n    onClose: handleCloseCurrency\n  }), React.createElement(EditTimezoneDialog, {\n    \"data-test-id\": \"editTimezone\",\n    open: editTimezone,\n    onClose: handleCloseTimezone\n  }), React.createElement(EditCompanyNameDialog, {\n    \"data-test-id\": \"editCompanyName\",\n    open: editCompanyName,\n    onClose: handleCloseCompanyName\n  }), React.createElement(EditAddressDialog, {\n    \"data-test-id\": \"editAddress\",\n    open: editAddress,\n    onClose: handleCloseAddress\n  }), React.createElement(EditWebsiteDialog, {\n    \"data-test-id\": \"editWebsite\",\n    open: editWebsite,\n    onClose: handleCloseWebsite\n  }));\n};\n\nvar AccountDetailsPage$2 = AccountDetailsPage$1;\nvar AccountDetailsPage = wrapPage(AccountDetailsPage$2, 'accountSettings');\n\nconst UsersHeader = ({\n  handleOpenInviteUser,\n  isInviteWithEmailEnabled,\n  isInviteLinkEnabled\n}) => {\n  const t = useT('users');\n  const {\n    onSearch\n  } = useTableSearch();\n  const [search, setSearch] = react.exports.useState('');\n  const debounceSearch = useDebounce(search);\n  const canInviteUser = usePermission('fe.secure.write.users') && (isInviteWithEmailEnabled || isInviteLinkEnabled);\n  const {\n    events\n  } = useShadowDom();\n  const {\n    email\n  } = useAuthUser();\n  const handleClickOnInviteUser = react.exports.useCallback(() => {\n    var _a;\n\n    handleOpenInviteUser === null || handleOpenInviteUser === void 0 ? void 0 : handleOpenInviteUser();\n    (_a = events === null || events === void 0 ? void 0 : events.inviteMemberClicked) === null || _a === void 0 ? void 0 : _a.call(events, {\n      email\n    });\n  }, []);\n  useAsyncEffect(() => onSearch(debounceSearch), [debounceSearch]);\n  return React.createElement(Grid, {\n    container: true,\n    spacing: 4\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    md: 4\n  }, React.createElement(Box, null, React.createElement(Input$1$1, {\n    \"data-test-id\": \"searchBox\",\n    endAdornment: React.createElement(SearchIcon, null),\n    onChange: e => setSearch(e.target.value),\n    placeholder: t('searchInputPlaceholder')\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: true\n  }), canInviteUser && React.createElement(Grid, {\n    item: true\n  }, React.createElement(Button$1, {\n    \"data-test-id\": \"invite-user-btn\",\n    onClick: handleClickOnInviteUser\n  }, t('inviteUserButton'))));\n};\n\nconst usersTableColumns = ({\n  t,\n  user,\n  rolesMap,\n  container\n}) => [{\n  Header: () => React.createElement(Box, {\n    width: '2rem'\n  }),\n  accessor: ({\n    name,\n    profileImageUrl,\n    profilePictureUrl\n  }) => ({\n    name,\n    picture: profilePictureUrl !== null && profilePictureUrl !== void 0 ? profilePictureUrl : profileImageUrl\n  }),\n  width: '2rem',\n  id: 'id',\n  Cell: TableAvatarCell\n}, Object.assign(Object.assign({\n  Header: t('userHeader'),\n  accessor: ({\n    id,\n    name,\n    email\n  }) => ({\n    title: `${name} ${id === user.id ? `(${t('meTooltip')})` : ''}`,\n    description: email\n  })\n}, rolesMap && Object.keys(rolesMap).length > 0 ? {\n  width: 260,\n  maxWidth: 260\n} : {\n  minWidth: 260\n}), {\n  Cell: TableTextCell\n}), rolesMap && Object.keys(rolesMap).length > 0 && {\n  Header: t('rolesHeader'),\n  accessor: ({\n    roleIds\n  }) => ({\n    items: roleIds.map(v => ({\n      text: rolesMap[v]\n    })),\n    max: 2,\n    container\n  }),\n  minWidth: 300,\n  Cell: TableChipsCell\n}, {\n  Header: t('joinedHeader'),\n  accessor: ({\n    createdAt,\n    verified,\n    activatedForTenant\n  }) => ({\n    date: createdAt,\n    verified,\n    activatedForTenant\n  }),\n  width: 160,\n  maxWidth: 160,\n  Cell: props => {\n    return !props.value.activatedForTenant ? React.createElement(Chip, {\n      color: \"secondary\",\n      label: t('pendingApprovalStatus')\n    }) : !props.value.verified ? React.createElement(Chip, {\n      color: \"secondary\",\n      label: t('pendingActivationStatus')\n    }) : React.createElement(TableDateCell, Object.assign({}, props));\n  }\n}, {\n  Header: t('lastSeenHeader'),\n  accessor: ({\n    lastLogin\n  }) => ({\n    date: lastLogin\n  }),\n  width: 160,\n  maxWidth: 160,\n  Cell: TableDateCell\n}].filter(notNull);\n\nconst LEAVE_TEAM_OPTION = false;\n\nconst useUsersTableRowActions$1 = ({\n  container,\n  resendActivationLink,\n  resendInvitationLink,\n  handleOpenDeleteUser,\n  handleOpenEditUserRoles,\n  revokeUserSessions,\n  currentTenantId,\n  subTenants\n}) => {\n  const t = useT('users');\n  const user = useAuthUserOrNull();\n  const canEditRoles = usePermission('fe.secure.write.users');\n  const canDeleteUser = usePermission('fe.secure.delete.users');\n  const canRevokeUserSessions = usePermission('fe.secure.delete.sessions'); //TODO: add virified type to ITeamUser\n\n  return react.exports.useMemo(() => row => {\n    var _a;\n\n    const items = [];\n\n    const handleEditRole = () => {\n      handleOpenEditUserRoles(row);\n    };\n\n    const handleSendActivationLink = () => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, reject);\n      resendActivationLink({\n        userId: row.id,\n        callback\n      });\n    });\n\n    const handleRevokeUserSessions = () => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, reject);\n      revokeUserSessions({\n        userId: row.id,\n        callback\n      });\n    });\n\n    const handleSendInvitationLink = () => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, reject);\n\n      const invitationData = __rest(row, [\"id\"]);\n\n      resendInvitationLink(Object.assign(Object.assign({}, invitationData), {\n        callback\n      }));\n    });\n\n    const handleDeleteUser = () => {\n      handleOpenDeleteUser(row);\n    };\n\n    const isMe = row.id === (user === null || user === void 0 ? void 0 : user.id);\n    const canEditSubTenantUser = !(subTenants === null || subTenants === void 0 ? void 0 : subTenants.length) || ((_a = row.tenants) === null || _a === void 0 ? void 0 : _a.find(tenant => tenant.tenantId === currentTenantId));\n\n    if (!isMe && canEditRoles && canEditSubTenantUser) {\n      items.push({\n        icon: React.createElement(EditIcon, {\n          \"data-test-id\": \"editBtn\"\n        }),\n        onClick: handleEditRole,\n        text: t('editRolesAction')\n      });\n    }\n\n    if (canEditSubTenantUser) {\n      if (!row.activatedForTenant) {\n        // add to tenant by addUser\n        items.push({\n          icon: React.createElement(ResendIcon, {\n            \"data-test-id\": \"resendInvitationBtn\"\n          }),\n          onClick: handleSendInvitationLink,\n          text: t('resendInvitationAction')\n        });\n      } else if (!row.verified) {\n        items.push({\n          icon: React.createElement(ResendIcon, {\n            \"data-test-id\": \"resendBtn\"\n          }),\n          onClick: handleSendActivationLink,\n          text: t('resendActivationAction')\n        });\n      }\n    }\n\n    if (!isMe && row.activatedForTenant && canRevokeUserSessions) {\n      items.push({\n        icon: React.createElement(CloseIcon, {\n          \"data-test-id\": \"revokeBtn\"\n        }),\n        onClick: handleRevokeUserSessions,\n        text: t('logOutUserSessionsActions')\n      });\n    }\n\n    if ((!isMe || LEAVE_TEAM_OPTION) && canDeleteUser && canEditSubTenantUser) {\n      items.push({\n        icon: React.createElement(DeleteIcon, {\n          \"data-test-id\": \"deleteBtn\"\n        }),\n        onClick: handleDeleteUser,\n        text: isMe ? t('leaveTeamAction') : t('deleteUserAction'),\n        negative: true\n      });\n    }\n\n    return {\n      items,\n      container\n    };\n  }, [t, user, container, canEditRoles, canDeleteUser, canRevokeUserSessions, revokeUserSessions, resendActivationLink, resendInvitationLink, handleOpenDeleteUser, handleOpenEditUserRoles, subTenants, currentTenantId]);\n};\n\nconst usersTableColumnsOrganization = ({\n  t,\n  user,\n  subTenants,\n  forcePermissions,\n  container,\n  currentTenantName,\n  currentTenantId\n}) => [{\n  Header: () => React.createElement(Box, {\n    width: '2rem'\n  }),\n  accessor: ({\n    name,\n    profileImageUrl,\n    profilePictureUrl\n  }) => ({\n    name,\n    picture: profilePictureUrl !== null && profilePictureUrl !== void 0 ? profilePictureUrl : profileImageUrl\n  }),\n  width: '2rem',\n  id: 'id',\n  Cell: TableAvatarCell\n}, Object.assign(Object.assign({\n  Header: t('userHeader'),\n  accessor: ({\n    id,\n    name,\n    email\n  }) => ({\n    title: `${name} ${id === user.id ? `(${t('meTooltip')})` : ''}`,\n    description: email\n  })\n}, forcePermissions ? {\n  width: 260,\n  maxWidth: 260\n} : {\n  minWidth: 260\n}), {\n  Cell: TableTextCell\n}), subTenants && {\n  Header: t('organizationHeader'),\n  accessor: ({\n    tenants\n  }) => {\n    var _a;\n\n    const items = (_a = tenants === null || tenants === void 0 ? void 0 : tenants.map(tenant => {\n      var _a;\n\n      let text = (_a = subTenants.find(subTenant => subTenant.tenantId === tenant.tenantId)) === null || _a === void 0 ? void 0 : _a.tenantName;\n\n      if (!text && tenant.tenantId === currentTenantId) {\n        text = currentTenantName;\n      }\n\n      const subItems = forcePermissions ? tenant.roles.map(role => role.name) : [];\n      return {\n        text,\n        subItems\n      };\n    })) !== null && _a !== void 0 ? _a : [];\n    return {\n      items: items.filter(item => item.text),\n      max: 1,\n      container\n    };\n  },\n  minWidth: 300,\n  Cell: TableChipsCell\n}, {\n  Header: t('joinedHeader'),\n  accessor: ({\n    createdAt,\n    verified,\n    activatedForTenant\n  }) => ({\n    date: createdAt,\n    verified,\n    activatedForTenant\n  }),\n  width: 160,\n  maxWidth: 160,\n  Cell: props => {\n    return !props.value.activatedForTenant ? React.createElement(Chip, {\n      color: \"secondary\",\n      label: t('pendingApprovalStatus')\n    }) : !props.value.verified ? React.createElement(Chip, {\n      color: \"secondary\",\n      label: t('pendingActivationStatus')\n    }) : React.createElement(TableDateCell, Object.assign({}, props));\n  }\n}, {\n  Header: t('lastSeenHeader'),\n  accessor: ({\n    lastLogin\n  }) => ({\n    date: lastLogin\n  }),\n  width: 160,\n  maxWidth: 160,\n  Cell: TableDateCell\n}].filter(notNull);\n\nconst RolesField$3 = () => {\n  const t = useT('users_EditUserRoles');\n  const {\n    injector\n  } = useShadowDom();\n  const [fieldProps, {\n    error,\n    touched\n  }, {\n    setValue\n  }] = useField('roleIds');\n  const roles = useAuthTeamState(state => state.roles);\n  const currentUserRoleLevel = getUserMaxRoleLevel(roles);\n  const options = react.exports.useMemo(() => (roles !== null && roles !== void 0 ? roles : []).filter(role => {\n    var _a;\n\n    if (currentUserRoleLevel > ((_a = role.permissionLevel) !== null && _a !== void 0 ? _a : Infinity)) {\n      return fieldProps.value.indexOf(role.id) !== -1;\n    }\n\n    return true;\n  }).map(role => {\n    var _a;\n\n    return {\n      label: role.name,\n      value: role.id,\n      withCheckbox: true,\n      disabled: currentUserRoleLevel > ((_a = role.permissionLevel) !== null && _a !== void 0 ? _a : Infinity)\n    };\n  }), [roles, currentUserRoleLevel, fieldProps.value]);\n  return React.createElement(Select$1$1, {\n    label: t('selectRolesLabel'),\n    \"data-test-id\": \"editRoleDropdown\",\n    name: 'roleIds',\n    multi: true,\n    placeholder: t('selectRolesPlaceholder'),\n    value: fieldProps.value,\n    onChange: value => setValue(value, true),\n    errorMessage: touched ? error : undefined,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    options: options\n  });\n};\n\nconst EditUserRolesForm = props => {\n  const t = useT('users_EditUserRoles');\n  const {\n    updateUser\n  } = useAuthTeamActions();\n  const user = useMemoProps(props, 'user');\n  const initialValues = react.exports.useMemo(() => ({\n    fullName: user.name,\n    email: user.email,\n    roleIds: user.roleIds\n  }), [user]);\n  const formikProps = {\n    onSubmit: ({\n      email,\n      roleIds\n    }) => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, reject, props.onClose);\n      updateUser({\n        id: user.id,\n        email,\n        roleIds,\n        callback\n      });\n    }),\n    initialValues\n  };\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit,\n    formError\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(RolesField$3, null), React.createElement(FormErrorDialogMessage, {\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n      flex: 1\n    }), React.createElement(Button$1, {\n      \"data-test-id\": \"cancelBtn\",\n      color: 'inherit',\n      variant: 'text',\n      type: 'reset',\n      onClick: props.onClose\n    }, t('cancel')), React.createElement(Button$1, {\n      \"data-test-id\": \"updateBtn\",\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: 'primary',\n      type: 'submit'\n    }, t('update'))));\n  });\n};\n\nconst EditUserRolesDialog = props => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('users_EditUserRoles');\n  return React.createElement(Dialog$1, Object.assign({\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    title: t('title')\n  }), React.createElement(EditUserRolesForm, Object.assign({}, props)));\n};\n\nconst DeleteUserDialog$1 = ({\n  onClose,\n  open,\n  user\n}) => {\n  const t = useT('users_DeleteUser');\n  const [loading, setLoading] = react.exports.useState(false);\n  const [error, setError] = react.exports.useState(null);\n  const {\n    deleteUser\n  } = useAuthTeamActions();\n  const callback = react.exports.useCallback((success, error) => {\n    if (error) {\n      setError(error);\n    } else {\n      onClose();\n    }\n\n    setLoading(false);\n  }, [setLoading, setError, onClose]);\n  const handleDeleteUser = react.exports.useCallback(() => {\n    setLoading(true);\n    setError(null);\n    deleteUser({\n      userId: user === null || user === void 0 ? void 0 : user.id,\n      callback\n    });\n  }, [user === null || user === void 0 ? void 0 : user.id, callback, setLoading, setError, deleteUser]);\n  return React.createElement(DeleteDialog, {\n    dataTestId: 'deleteUserBtn',\n    title: t('title'),\n    cancelButtonText: t('cancel'),\n    deleteButtonText: t('delete'),\n    description: React.createElement(React.Fragment, null, t('areYouSureDeleteUser1'), \" \", React.createElement(\"strong\", null, user === null || user === void 0 ? void 0 : user.name), \"? \", t('areYouSureDeleteUser2')),\n    open: open,\n    error: error,\n    onClose: onClose,\n    loading: !!loading,\n    onDelete: handleDeleteUser\n  });\n};\n\nconst UsersTable = () => {\n  const t = useT('users');\n  const {\n    injector\n  } = useShadowDom();\n  const container = injector === null || injector === void 0 ? void 0 : injector.adminPortalEl;\n  const user = useAuthUser();\n  const {\n    revokeUserSessions\n  } = useSessionsActions();\n  const {\n    loaders,\n    users,\n    roles,\n    permissions,\n    totalPages,\n    pageOffset,\n    filter\n  } = useAuthTeamState();\n  const {\n    resendActivationLink,\n    loadUsers,\n    resendInvitationLink\n  } = useAuthTeamActions();\n  const [deleteUserDialog, handleCloseDeleteUser, handleOpenDeleteUser, deleteUserData] = useDialogState();\n  const [editUserRolesDialog, handleCloseEditUserRoles, handleOpenEditUserRoles, editUserRolesData] = useDialogState();\n  const {\n    policy,\n    loading: loadingPolicy\n  } = usePublicPolicySettings();\n  const rolesUse = useRolesMap(roles);\n  const rolesMap = react.exports.useMemo(() => !loadingPolicy && (policy === null || policy === void 0 ? void 0 : policy.forcePermissions) ? rolesUse : undefined, [policy, rolesUse, loadingPolicy]);\n  const {\n    tenants,\n    subTenants\n  } = useTenantsState();\n  const tenantName = react.exports.useMemo(() => {\n    var _a, _b;\n\n    return (_b = (_a = tenants.find(({\n      tenantId\n    }) => tenantId === user.tenantId)) === null || _a === void 0 ? void 0 : _a.name) !== null && _b !== void 0 ? _b : '';\n  }, [tenants, user.tenantId]);\n  const isPermissionsAndRolesEnabled = react.exports.useMemo(() => !loadingPolicy && (policy === null || policy === void 0 ? void 0 : policy.forcePermissions), [loadingPolicy, policy]);\n  const columns = react.exports.useMemo(() => {\n    if (subTenants.length > 0) {\n      return usersTableColumnsOrganization({\n        t,\n        user,\n        subTenants,\n        forcePermissions: isPermissionsAndRolesEnabled,\n        container,\n        currentTenantName: tenantName,\n        currentTenantId: user.tenantId\n      });\n    } else {\n      return usersTableColumns({\n        t,\n        user,\n        rolesMap,\n        container\n      });\n    }\n  }, [t, user, subTenants, isPermissionsAndRolesEnabled, container, rolesMap, tenantName, user.tenantId]);\n  const {\n    searching\n  } = useTableSearch();\n  const getRowActions = useUsersTableRowActions$1({\n    roles,\n    subTenants,\n    permissions,\n    container,\n    resendActivationLink,\n    resendInvitationLink,\n    handleOpenDeleteUser,\n    handleOpenEditUserRoles,\n    revokeUserSessions,\n    currentTenantId: user.tenantId\n  });\n  const onPageChange = react.exports.useCallback((event, page) => {\n    loadUsers({\n      pageOffset: page - 1\n    });\n  }, [loadUsers]);\n  const loading = !!loaders.USERS;\n  const tablePlaceholderProps = react.exports.useMemo(() => {\n    if (loading || searching) {\n      return null;\n    } else if (filter.length === 0 && users.length === 0) {\n      return {\n        show: true,\n        icon: React.createElement(GroupUsersIcon, null),\n        title: t('noUsersYet'),\n        description: t('noUsersYetDescription')\n      };\n    } else if (filter.length > 0 && users.length === 0) {\n      return {\n        show: true,\n        icon: React.createElement(SearchBigIcon, null),\n        title: t('noResultFound'),\n        description: t('noResultFoundDescription')\n      };\n    }\n\n    return null;\n  }, [t, loading, searching, filter.length, users.length]);\n  return React.createElement(React.Fragment, null, React.createElement(Table, {\n    forwardedKey: 'users-table',\n    columns: columns,\n    data: users,\n    getRowActions: getRowActions,\n    loading: loading,\n    searching: searching,\n    loadingText: searching ? t('searchingPlaceholder') : undefined,\n    totalPages: totalPages,\n    pageOffset: pageOffset,\n    onPageChange: onPageChange\n  }, tablePlaceholderProps && React.createElement(TablePlaceholder, Object.assign({}, tablePlaceholderProps))), React.createElement(DeleteUserDialog$1, {\n    open: deleteUserDialog,\n    onClose: handleCloseDeleteUser,\n    user: deleteUserData\n  }), React.createElement(EditUserRolesDialog, {\n    open: editUserRolesDialog,\n    onClose: handleCloseEditUserRoles,\n    user: editUserRolesData,\n    roles: roles\n  }));\n};\n\nconst countDifferenceInDays = expirationDate => {\n  const exp = parseISO(expirationDate);\n  const differenceMinutes = differenceInMinutes(exp, new Date());\n  const differenceDays = differenceInDays(exp, new Date());\n\n  if (differenceMinutes < 0) {\n    return -1;\n  }\n\n  return differenceDays + 1;\n};\n\nconst daysInMinutes = {\n  one: 1430,\n  seven: 10070,\n  thirty: 43190\n};\nconst expirationPeriodsOptions = [{\n  label: '1 day',\n  value: daysInMinutes.one\n}, {\n  label: '7 days',\n  value: daysInMinutes.seven\n}, {\n  label: '30 days',\n  value: daysInMinutes.thirty\n}];\nvar EditInviteUserActiveDialog;\n\n(function (EditInviteUserActiveDialog) {\n  EditInviteUserActiveDialog[\"EDIT_LINK\"] = \"EDIT_LINK\";\n  EditInviteUserActiveDialog[\"INVITATION_FORM\"] = \"INVITATION_FORM\";\n})(EditInviteUserActiveDialog || (EditInviteUserActiveDialog = {}));\n\nconst CopiedLinkIcon = styled(CheckIcon$1)`\n  &.MuiSvgIcon-root {\n    width: 13px;\n  }\n`;\nconst CopyLinkIcon = styled(LinkIcon)`\n  &.MuiSvgIcon-root {\n    width: 16px;\n    margin-bottom: -1px;\n  }\n`;\nconst EditInviteLinkSettingsButton = styled(Box)`\n  cursor: pointer;\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst CopyInviteLink = ({\n  setActiveDialog,\n  isEmailInviteShown\n}) => {\n  const t = useT('users_EditInvitationLink');\n  const [isLinkCopied, setIslinkCopied] = useBooleanToggle();\n  const routes = useAuthRoutes();\n  const {\n    inviteTokenState\n  } = useAuthTeamState();\n  const {\n    createInvitationLink,\n    getInvitationLink,\n    deleteInvitationLink\n  } = useAuthTeamActions();\n  const {\n    token,\n    expires,\n    tenantInvitationsAllowed\n  } = inviteTokenState !== null && inviteTokenState !== void 0 ? inviteTokenState : {};\n  const {\n    hostedLoginBox\n  } = useShadowDom();\n  const canCopyInviteLink = usePermission('fe.secure.write.tenantInvites');\n  const {\n    baseUrl\n  } = ContextHolder.getContext();\n  react.exports.useEffect(() => {\n    if (!token) {\n      getInvitationLink();\n    }\n\n    if (expires && countDifferenceInDays(expires) < 0) {\n      deleteInvitationLink();\n    }\n  }, [getInvitationLink, deleteInvitationLink, expires]);\n  const createSignupUrl = react.exports.useCallback(token => {\n    if (hostedLoginBox) {\n      return `${baseUrl}/oauth/prelogin?redirectUrl=${window.location.origin}&invitationToken=${token}`;\n    } else {\n      return `${window.location.origin}${routes.signUpUrl}?invitationToken=${token}`;\n    }\n  }, [hostedLoginBox, baseUrl]);\n  const handleCreateInvitationLink = react.exports.useCallback(() => {\n    if (!token) {\n      createInvitationLink({\n        callback: token => {\n          copy(token ? createSignupUrl(token) : '');\n          setIslinkCopied(true);\n        }\n      });\n    } else {\n      copy(createSignupUrl(token));\n      setIslinkCopied(true);\n    }\n  }, [createInvitationLink, token, createSignupUrl]);\n  const handleSetActiveDialog = react.exports.useCallback(() => {\n    setActiveDialog(EditInviteUserActiveDialog.EDIT_LINK);\n  }, [setActiveDialog]);\n  const linkExpiredAt = react.exports.useMemo(() => countDifferenceInDays(expires), [expires]);\n  const showInviteLink = tenantInvitationsAllowed && canCopyInviteLink;\n  return !showInviteLink ? React.createElement(React.Fragment, null) : React.createElement(React.Fragment, null, isEmailInviteShown && React.createElement(Box, {\n    mb: 6,\n    mt: 8\n  }, React.createElement(Divider, null)), React.createElement(Box, null, React.createElement(Grid, {\n    container: true,\n    justifyContent: 'space-between'\n  }, React.createElement(Grid, {\n    item: true\n  }, React.createElement(Typography$1, {\n    mb: 2,\n    variant: 'dialogTitle'\n  }, t('inviteWithLinkTitle')), expires && React.createElement(Typography$1, {\n    mb: 3,\n    variant: 'body1'\n  }, t('linkExpiration', {\n    days: linkExpiredAt\n  }), \" \", t(linkExpiredAt > 1 ? 'days' : 'day')), React.createElement(Button$1, {\n    \"data-test-id\": 'copy-invite-btn',\n    type: 'button',\n    color: 'secondary',\n    onClick: handleCreateInvitationLink,\n    startIcon: isLinkCopied ? React.createElement(CopiedLinkIcon, null) : React.createElement(CopyLinkIcon, null)\n  }, t('copyInviteLink'))), token && React.createElement(Grid, {\n    item: true\n  }, React.createElement(EditInviteLinkSettingsButton, {\n    onClick: handleSetActiveDialog\n  }, React.createElement(Typography$1, {\n    \"data-test-id\": 'editBtn',\n    variant: 'body1'\n  }, t('edit')))))));\n};\n\nconst DeactivateInviteLinkDialog = ({\n  onClose,\n  open\n}) => {\n  const t = useT('users_DeactivateInvitationLink');\n  const [loading, setLoading] = react.exports.useState(false);\n  const [error, setError] = react.exports.useState(null);\n  const {\n    deleteInvitationLink\n  } = useAuthTeamActions();\n  const callback = react.exports.useCallback((success, error) => {\n    if (error) {\n      setLoading(false);\n      setError(error);\n    } else {\n      onClose(true);\n    }\n  }, [setLoading, setError, onClose]);\n  const handleDeleteLink = react.exports.useCallback(() => {\n    setLoading(true);\n    setError(null);\n    deleteInvitationLink({\n      callback\n    });\n  }, [callback, setLoading, setError, deleteInvitationLink]);\n  return React.createElement(DeleteDialog, {\n    dataTestId: 'deactivateBtn',\n    title: t('title'),\n    cancelButtonText: t('cancel'),\n    deleteButtonText: t('deactivate'),\n    description: t('areYouSureDeleteInviteLink'),\n    open: open,\n    error: error,\n    onClose: onClose,\n    loading: !!loading,\n    onDelete: handleDeleteLink\n  });\n};\n\nconst DeactivateLinkButton = styled(Box)`\n  cursor: pointer;\n`;\n\nconst SendEmailField = () => {\n  const t = useT('users_EditInvitationLink');\n  const [{\n    value\n  },, {\n    setValue,\n    setTouched\n  }] = useField('sendNotification');\n  return React.createElement(Grid, {\n    container: true,\n    ml: -2,\n    alignItems: 'center'\n  }, React.createElement(Checkbox$1, {\n    size: 'small',\n    name: 'sendNotification',\n    checked: value,\n    onChange: () => {\n      setValue(!value, true);\n      setTouched(true);\n    }\n  }), React.createElement(Typography$1, {\n    variant: 'body1'\n  }, t('sendMeNotification')));\n};\n\nconst ExpirationField = () => {\n  const t = useT('users_EditInvitationLink');\n  const {\n    injector\n  } = useShadowDom();\n  const [{\n    value\n  }, {\n    error,\n    touched\n  }, {\n    setValue,\n    setTouched\n  }] = useField('expiration');\n  return React.createElement(Select$1$1, {\n    \"data-test-id\": \"expirationDropdown\",\n    label: t('expirationInputLabel'),\n    name: 'expiration',\n    value: value,\n    placeholder: t('expirationInputPlaceholder'),\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    options: expirationPeriodsOptions,\n    onChange: value => {\n      setValue(value, true);\n      setTouched(true);\n    },\n    error: !!error && touched,\n    errorMessage: error\n  });\n};\n\nconst EditInviteLinkDialog = ({\n  setActiveDialog\n}) => {\n  const t = useT('users_EditInvitationLink');\n  const {\n    updateInvitationLink\n  } = useAuthTeamActions();\n  const {\n    inviteTokenState\n  } = useAuthTeamState();\n  const {\n    expires,\n    emailsEnabled,\n    shouldSendEmail\n  } = inviteTokenState !== null && inviteTokenState !== void 0 ? inviteTokenState : {};\n  const [deactivateLinkDialog, handleCloseDeactivateLink, handleOpenDeactivateLink] = useDialogState();\n  const canDeleteInviteLink = usePermission('fe.secure.delete.tenantInvites');\n  const initialValues = react.exports.useMemo(() => ({\n    sendNotification: shouldSendEmail !== null && shouldSendEmail !== void 0 ? shouldSendEmail : true\n  }), [shouldSendEmail]);\n  const handleSetActiveDialogToInvitationForm = react.exports.useCallback(() => {\n    setActiveDialog(EditInviteUserActiveDialog.INVITATION_FORM);\n  }, []);\n  const formikProps = {\n    onSubmit: ({\n      sendNotification,\n      expiration\n    }) => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, reject, handleSetActiveDialogToInvitationForm);\n      updateInvitationLink({\n        shouldSendEmail: sendNotification,\n        expiresInMinutes: expiration,\n        callback\n      });\n    }),\n    initialValues\n  };\n  const handleCloseDeactivateInvitationLinkDialog = react.exports.useCallback(success => {\n    if (success) {\n      handleSetActiveDialogToInvitationForm();\n    }\n\n    handleCloseDeactivateLink();\n  }, [handleCloseDeactivateLink, handleSetActiveDialogToInvitationForm]);\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit,\n    formError\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(ExpirationField, null), emailsEnabled && React.createElement(React.Fragment, null, React.createElement(Box, {\n      mb: 6,\n      mt: 8\n    }, React.createElement(Divider, null)), React.createElement(Typography$1, {\n      \"data-test-id\": \"notificationBtn\",\n      variant: 'dialogTitle',\n      mb: 3\n    }, t('notification')), React.createElement(SendEmailField, null)), React.createElement(FormErrorDialogMessage, {\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, canDeleteInviteLink && React.createElement(DeactivateLinkButton, {\n      onClick: handleOpenDeactivateLink\n    }, React.createElement(Typography$1, {\n      \"data-test-id\": \"deactivateLinkBtn\",\n      variant: 'body1',\n      color: 'error'\n    }, t('deactivateLink'))), React.createElement(Box, {\n      flex: 1\n    }), React.createElement(Button$1, {\n      \"data-test-id\": 'backBtn',\n      color: 'inherit',\n      variant: 'text',\n      type: 'reset',\n      onClick: handleSetActiveDialogToInvitationForm\n    }, t('back')), React.createElement(Button$1, {\n      \"data-test-id\": 'inviteBtn',\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: 'primary',\n      type: 'submit'\n    }, t('save'))), React.createElement(DeactivateInviteLinkDialog, {\n      open: deactivateLinkDialog,\n      onClose: handleCloseDeactivateInvitationLinkDialog\n    }));\n  });\n};\n\nconst FirstNameField$1 = () => {\n  const t = useT('users_InviteUser');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('firstName');\n  return React.createElement(Input$1$1, Object.assign({\n    label: t('firstNameInputLabel')\n  }, fieldProps, {\n    autoFocus: true,\n    error: !!error && touched,\n    errorMessage: error,\n    \"data-test-id\": \"nameBox\",\n    autoComplete: 'given-name'\n  }));\n};\n\nconst LastNameField = () => {\n  const t = useT('users_InviteUser');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('lastName');\n  return React.createElement(Input$1$1, Object.assign({\n    label: t('lastNameInputLabel')\n  }, fieldProps, {\n    error: !!error && touched,\n    errorMessage: error,\n    \"data-test-id\": \"lastNameBox\",\n    autoComplete: 'family-name'\n  }));\n};\n\nconst PhoneField = () => {\n  const t = useT('users_InviteUser');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('phone');\n  return React.createElement(Input$1$1, Object.assign({\n    label: t('phoneInputLabel')\n  }, fieldProps, {\n    error: !!error && touched,\n    errorMessage: error,\n    \"data-test-id\": \"phoneBox\",\n    autoComplete: 'tel'\n  }));\n};\n\nconst EmailField$2 = () => {\n  const t = useT('users_InviteUser');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('email');\n  return React.createElement(Input$1$1, Object.assign({\n    label: t('emailInputLabel')\n  }, fieldProps, {\n    error: !!error && touched,\n    errorMessage: error,\n    \"data-test-id\": \"emailBox\",\n    autoComplete: 'email'\n  }));\n};\n\nconst RolesField$2 = ({\n  roles\n}) => {\n  const t = useT('users_InviteUser');\n  const {\n    injector\n  } = useShadowDom();\n  const [fieldProps, {\n    error,\n    touched\n  }, {\n    setValue,\n    setTouched\n  }] = useField('roleIds');\n  const options = react.exports.useMemo(() => (roles !== null && roles !== void 0 ? roles : []).map(role => ({\n    label: role.name,\n    value: role.id,\n    withCheckbox: true\n  })), [roles]);\n  return React.createElement(Select$1$1, {\n    label: t('rolesInputLabel'),\n    name: 'roleIds',\n    multi: true,\n    placeholder: t('rolesInputPlaceholder'),\n    value: fieldProps.value,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    options: options,\n    onChange: value => {\n      setValue(value, true);\n      setTouched(true);\n    },\n    error: !!error && touched,\n    errorMessage: error\n  });\n};\n\nconst InviteUserForm$1 = _a => {\n  var _b, _c;\n\n  var {\n    setActiveDialog,\n    hideInviteWithEmail\n  } = _a,\n      props = __rest(_a, [\"setActiveDialog\", \"hideInviteWithEmail\"]);\n\n  const t = useT('users_InviteUser');\n  const {\n    addUser\n  } = useAuthTeamActions();\n  const user = useAuthUserOrNull();\n  const allRoles = useAuthTeamState(state => state.roles);\n  const {\n    injector\n  } = useShadowDom();\n  const metadata = (_c = (_b = Metadata.getInstance(injector.name).navigation.users) === null || _b === void 0 ? void 0 : _b.inviteDialog) !== null && _c !== void 0 ? _c : {};\n  const initialValues = react.exports.useMemo(() => ({\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: '',\n    roleIds: []\n  }), []);\n  const {\n    policy\n  } = usePublicPolicySettings();\n  const validationSchema = react.exports.useMemo(() => validateSchema({\n    firstName: validateNotEmpty(t('firstNameIsRequired')),\n    lastName: validateNotEmpty(t('lastNameIsRequired')),\n    email: validateEmail(t('emailMustBeValid'), t('emailIsRequired')),\n    phone: metadata.phoneNumberField === 'mandatory' ? validationPhone(t('phoneIsRequired'), t('phoneIsInvalid')) : validationPhoneOptional(t('phoneIsInvalid')),\n    roleIds: create().min((policy === null || policy === void 0 ? void 0 : policy.forcePermissions) ? 1 : 0, t('rolesIsRequired'))\n  }), [t, metadata.phoneNumberField, policy === null || policy === void 0 ? void 0 : policy.forcePermissions]);\n  const {\n    events\n  } = useShadowDom();\n  const {\n    email: userEmail\n  } = useAuthUser();\n  const formikProps = {\n    onSubmit: ({\n      firstName,\n      lastName,\n      email,\n      phone,\n      roleIds\n    }) => new Promise((resolve, reject) => {\n      var _a;\n\n      const name = [firstName, lastName].filter(notNull).join(' ');\n      const callback = callbackToPromise(resolve, reject, props.onClose);\n      addUser({\n        name,\n        email,\n        roleIds,\n        phone: phone ? '+' + phone.replace('+', '') : undefined,\n        callback\n      });\n      (_a = events === null || events === void 0 ? void 0 : events.inviteMemberSubmit) === null || _a === void 0 ? void 0 : _a.call(events, {\n        email: userEmail,\n        invitedUserFirstName: firstName,\n        invitedUserLastName: lastName,\n        invitedUserEmail: email,\n        invitedUserPhoneNumber: phone,\n        invitedUserRoles: roleIds\n      });\n    }),\n    initialValues,\n    validationSchema\n  };\n  const roles = checkRoleAccess(allRoles, user);\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit,\n    formError\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, !hideInviteWithEmail && React.createElement(React.Fragment, null, React.createElement(Grid, {\n      container: true,\n      spacing: 4\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6\n    }, React.createElement(FirstNameField$1, null)), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6\n    }, React.createElement(LastNameField, null))), !!metadata.phoneNumberField && React.createElement(PhoneField, null), React.createElement(EmailField$2, null), (policy === null || policy === void 0 ? void 0 : policy.forcePermissions) && roles.length > 0 && React.createElement(RolesField$2, {\n      roles: roles\n    })), React.createElement(CopyInviteLink, {\n      setActiveDialog: setActiveDialog,\n      isEmailInviteShown: !hideInviteWithEmail\n    }), React.createElement(FormErrorDialogMessage, {\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n      flex: 1\n    }), React.createElement(Button$1, {\n      \"data-test-id\": \"cancelBtn\",\n      color: 'inherit',\n      variant: 'text',\n      type: 'reset',\n      onClick: props.onClose\n    }, t('cancel')), !hideInviteWithEmail && React.createElement(Button$1, {\n      \"data-test-id\": \"inviteBtn\",\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: 'primary',\n      type: 'submit'\n    }, t('invite'))));\n  });\n};\n\nconst InviteUserDialog$1 = _a => {\n  var {\n    onClose,\n    hideInviteWithEmail\n  } = _a,\n      props = __rest(_a, [\"onClose\", \"hideInviteWithEmail\"]);\n\n  const t = useT('users_InviteUser');\n  const [activeDialog, setActiveDialog] = react.exports.useState(EditInviteUserActiveDialog.INVITATION_FORM);\n  const {\n    injector\n  } = useShadowDom();\n  const handleClose = react.exports.useCallback(() => {\n    onClose();\n    setActiveDialog(EditInviteUserActiveDialog.INVITATION_FORM);\n  }, [setActiveDialog, onClose]);\n  return React.createElement(Dialog$1, Object.assign({\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    onClose: handleClose,\n    title: t(activeDialog === EditInviteUserActiveDialog.INVITATION_FORM ? 'title' : 'inviteWithLinkSettings')\n  }), activeDialog === EditInviteUserActiveDialog.INVITATION_FORM ? React.createElement(InviteUserForm$1, Object.assign({}, props, {\n    onClose: handleClose,\n    setActiveDialog: setActiveDialog,\n    hideInviteWithEmail: hideInviteWithEmail\n  })) : React.createElement(EditInviteLinkDialog, {\n    setActiveDialog: setActiveDialog\n  }));\n};\n\nconst UsersPage$1 = () => {\n  var _a, _b, _c;\n\n  const [searching, setSearching] = react.exports.useState(false);\n  const [searchQuery, onSearch] = react.exports.useState('');\n  const themeOptions = useTheme();\n  const hideInviteWithEmail = (_c = (_b = (_a = themeOptions === null || themeOptions === void 0 ? void 0 : themeOptions.adminPortal) === null || _a === void 0 ? void 0 : _a.pages) === null || _b === void 0 ? void 0 : _b.users) === null || _c === void 0 ? void 0 : _c.hideInviteWithEmail;\n  const {\n    users,\n    roles,\n    inviteTokenState\n  } = useAuthTeamState();\n  const {\n    loadUsers,\n    getInvitationLink\n  } = useAuthTeamActions();\n  const {\n    loadSubTenants\n  } = useTenantsActions();\n  const [inviteUserDialog, handleCloseInviteUser, handleOpenInviteUser] = useDialogState();\n  const {\n    tenantInvitationsAllowed\n  } = inviteTokenState !== null && inviteTokenState !== void 0 ? inviteTokenState : {};\n  const canCopyInviteLink = usePermission('fe.secure.write.tenantInvites');\n  react.exports.useEffect(() => {\n    getInvitationLink();\n    loadSubTenants();\n    const queryObject = {\n      pageOffset: 0,\n      pageSize: 10,\n      filter: [],\n      silentLoading: users.length > 0\n    };\n    loadUsers(queryObject);\n    return () => loadUsers(queryObject); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loadUsers, getInvitationLink]);\n  useEffectAfterMount(() => {\n    loadUsers({\n      filter: searchQuery ? [{\n        id: 'searchFilter',\n        value: searchQuery\n      }] : [],\n      pageOffset: 0,\n      callback: () => setSearching(false)\n    });\n  }, [searchQuery, loadUsers]);\n  return React.createElement(PageWrapper, {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(TableSearchContext.Provider, {\n    value: {\n      searching,\n      searchQuery,\n      onSearch,\n      setSearching\n    }\n  }, React.createElement(UsersHeader, {\n    handleOpenInviteUser: handleOpenInviteUser,\n    isInviteWithEmailEnabled: !hideInviteWithEmail,\n    isInviteLinkEnabled: canCopyInviteLink && tenantInvitationsAllowed\n  }), React.createElement(Box, {\n    mt: 6,\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(UsersTable, null)), React.createElement(InviteUserDialog$1, {\n    open: inviteUserDialog,\n    onClose: handleCloseInviteUser,\n    roles: roles,\n    hideInviteWithEmail: hideInviteWithEmail\n  })));\n};\n\nvar UsersPage$2 = UsersPage$1;\nvar UsersPage = wrapPage(UsersPage$2, 'users');\n\nconst RolesHeader = ({\n  handleOpenAddRole\n}) => {\n  const t = useT('roles');\n  const {\n    onSearch\n  } = useTableSearch();\n  const [search, setSearch] = react.exports.useState('');\n  const debounceSearch = useDebounce(search);\n  const canAddRole = usePermission('fe.secure.write.roles');\n  useAsyncEffect(() => onSearch(debounceSearch), [debounceSearch]);\n  return React.createElement(Grid, {\n    container: true,\n    spacing: 4\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    md: 4\n  }, React.createElement(Box, null, React.createElement(Input$1$1, {\n    \"data-test-id\": \"searchBox\",\n    endAdornment: React.createElement(SearchIcon, null),\n    onChange: e => setSearch(e.target.value),\n    placeholder: t('searchInputPlaceholder')\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: true\n  }), canAddRole && React.createElement(Grid, {\n    item: true\n  }, React.createElement(Button$1, {\n    \"data-test-id\": \"addRoleBtn\",\n    onClick: handleOpenAddRole\n  }, t('addNewRoleButton'))));\n};\n\nconst RoleName = react.exports.memo(() => {\n  const t = useT('roles_AddRole');\n  const {\n    values,\n    setFieldValue\n  } = useFormikContext();\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('name');\n  return React.createElement(Input$1$1, Object.assign({\n    label: t('nameInputLabel')\n  }, fieldProps, {\n    onChange: e => {\n      fieldProps.onChange(e);\n\n      if (values.shouldChangeKey) {\n        setFieldValue('key', e.target.value.toLowerCase().replace(/ /g, '-'), true);\n      }\n    },\n    autoFocus: true,\n    error: !!error && touched,\n    errorMessage: error,\n    \"data-test-id\": \"roleNameBox\"\n  }));\n});\nconst RoleKey = react.exports.memo(() => {\n  const t = useT('roles_AddRole');\n  const {\n    setFieldValue\n  } = useFormikContext();\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('key');\n  return React.createElement(Input$1$1, Object.assign({\n    label: t('keyInputLabel')\n  }, fieldProps, {\n    onChange: e => {\n      fieldProps.onChange(e);\n      setFieldValue('shouldChangeKey', e.target.value.length === 0, false);\n    },\n    error: !!error && touched,\n    \"data-test-id\": \"roleKeyBox\",\n    errorMessage: error\n  }));\n});\nconst RoleDescription = react.exports.memo(() => {\n  const t = useT('roles_AddRole');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('description');\n  return React.createElement(Input$1$1, Object.assign({\n    label: t('descriptionInputLabel')\n  }, fieldProps, {\n    error: !!error && touched,\n    errorMessage: error,\n    \"data-test-id\": \"roleDescriptionBox\"\n  }));\n});\nconst RoleInherit = react.exports.memo(() => {\n  const t = useT('roles_AddRole');\n  const {\n    injector\n  } = useShadowDom();\n  const {\n    roles\n  } = useRolesState();\n  const [fieldProps, {\n    error,\n    touched\n  }, {\n    setValue\n  }] = useField('inherit');\n  const options = react.exports.useMemo(() => (roles !== null && roles !== void 0 ? roles : []).map(role => ({\n    label: role.name,\n    value: role.id\n  })), [roles]);\n  return React.createElement(Select$1$1, {\n    label: t('inheritPermissionInputLabel'),\n    name: 'inherit',\n    placeholder: t('inheritPermissionInputPlaceholder'),\n    value: fieldProps.value,\n    onChange: value => setValue(value, true),\n    errorMessage: touched ? error : undefined,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    options: options\n  });\n});\nconst AddRoleForm = react.exports.forwardRef((props, ref) => {\n  const t = useT('roles_AddRole');\n  const {\n    addRole\n  } = useRolesActions();\n  const {\n    roles\n  } = useRolesState();\n  const initialValues = react.exports.useMemo(() => {\n    var _a;\n\n    return {\n      key: '',\n      name: '',\n      description: '',\n      inherit: (_a = roles[0]) === null || _a === void 0 ? void 0 : _a.id,\n      shouldChangeKey: true\n    };\n  }, [roles]);\n  const validationSchema = react.exports.useMemo(() => validateSchema({\n    name: validateNotEmpty(t('nameIsRequired')),\n    key: validateNotEmpty(t('keyIsRequired'))\n  }), [t]);\n  const formikProps = {\n    onSubmit: ({\n      key,\n      name,\n      description,\n      inherit\n    }) => new Promise((resolve, reject) => {\n      var _a;\n\n      const inheritedRole = roles.find(({\n        id\n      }) => id === inherit);\n      const callback = callbackToPromise(resolve, reject);\n      addRole({\n        key,\n        name,\n        description,\n        permissions: (_a = inheritedRole === null || inheritedRole === void 0 ? void 0 : inheritedRole.permissions) !== null && _a !== void 0 ? _a : [],\n        isDefault: false,\n        level: 0,\n        callback\n      });\n    }),\n    initialValues,\n    validationSchema\n  };\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit,\n    formError\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, {\n      ref: ref\n    }, React.createElement(Grid, {\n      container: true,\n      spacing: 4,\n      mb: 4\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 6\n    }, React.createElement(RoleName, null)), React.createElement(Grid, {\n      item: true,\n      xs: 6\n    }, React.createElement(RoleKey, null))), React.createElement(RoleDescription, null), React.createElement(RoleInherit, null), React.createElement(FormErrorDialogMessage, {\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n      flex: 1\n    }), React.createElement(Button$1, {\n      \"data-test-id\": \"cancelBtn\",\n      color: 'inherit',\n      variant: 'text',\n      type: 'reset',\n      onClick: props.onClose\n    }, t('cancel')), React.createElement(Button$1, {\n      \"data-test-id\": \"createBtn\",\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: 'primary',\n      type: 'submit'\n    }, t('create'))));\n  });\n});\n\nconst AddRoleDialog = props => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('roles_AddRole');\n  return React.createElement(Dialog$1, Object.assign({\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    title: t('title'),\n    size: 'sm'\n  }), React.createElement(AddRoleForm, Object.assign({}, props)));\n};\n\nconst rolesTableColumns = params => {\n  const {\n    t,\n    roles\n  } = params;\n  return [{\n    id: 'actions',\n    Header: t('actionsHeader'),\n    accessor: ({\n      name,\n      description\n    }) => ({\n      title: name,\n      description,\n      multiLineDescription: true\n    }),\n    minWidth: 400,\n    width: 400,\n    maxWidth: 400,\n    pivot: true,\n    sortable: true,\n    Cell: TableTextCell\n  }, ...roles.map((role, index) => {\n    return {\n      id: role.id,\n      Header: React.createElement(Typography$1, {\n        variant: 'tableSmallHeader'\n      }, role.name),\n      accessor: ({\n        id\n      }) => ({\n        checked: role.permissions.includes(id),\n        containerStyle: {\n          marginLeft: index === roles.length - 1 ? '.75rem' : undefined\n        }\n      }),\n      width: 160,\n      maxWidth: 160,\n      Cell: TableSwitchCell\n    };\n  })].filter(notNull);\n};\n\nconst RolesTable = () => {\n  const t = useT('roles');\n  const {\n    searching,\n    searchQuery\n  } = useTableSearch();\n  const {\n    loading,\n    roles,\n    permissions,\n    permissionCategories\n  } = useRolesState();\n  const columns = react.exports.useMemo(() => rolesTableColumns({\n    t,\n    roles,\n    permissions\n  }), [t, roles, permissions]);\n  const rows = react.exports.useMemo(() => {\n    if (!!searchQuery) {\n      return permissions.filter(permission => {\n        var _a;\n\n        return permission.name.toLowerCase().indexOf(searchQuery.toLowerCase()) !== -1 || ((_a = permission.description) !== null && _a !== void 0 ? _a : '').toLowerCase().indexOf(searchQuery.toLowerCase()) !== -1 || permission.key.toLowerCase().indexOf(searchQuery.toLowerCase()) !== -1;\n      });\n    }\n\n    return permissions;\n  }, [permissions, searchQuery]);\n  const categoriesRows = react.exports.useMemo(() => {\n    const mapped = rows.reduce((p, n) => Object.assign(Object.assign({}, p), {\n      [n.id]: n\n    }), {});\n    return permissionCategories.concat().sort((a, b) => a.name.localeCompare(b.name)).map(category => {\n      const fPermissions = category.permissionIds.map(permissionId => mapped[permissionId]).filter(notNull);\n\n      if (fPermissions.length === 0) {\n        return [];\n      }\n\n      return [{\n        __type: 'categoryRow',\n        id: category.id,\n        title: category.name\n      }, ...fPermissions.sort((a, b) => a.name.localeCompare(b.name))];\n    }).reduce((p, n) => [...p, ...n], []);\n  }, [rows, permissionCategories]);\n  const tablePlaceholderProps = react.exports.useMemo(() => {\n    if (loading) {\n      return null;\n    } else if (searchQuery && rows.length === 0) {\n      return {\n        show: true,\n        icon: React.createElement(SearchBigIcon, null),\n        title: t('noResultFound'),\n        description: t('noResultFoundDescription')\n      };\n    }\n\n    return null;\n  }, [t, loading, searchQuery, rows.length]);\n  return React.createElement(React.Fragment, null, React.createElement(Table, {\n    forwardedKey: 'roles-table',\n    columns: columns,\n    data: categoriesRows,\n    loading: loading,\n    searching: searching,\n    loadingText: searching ? t('searchingPlaceholder') : undefined\n  }, tablePlaceholderProps && React.createElement(TablePlaceholder, Object.assign({}, tablePlaceholderProps))));\n};\n\nconst RolesPage$1 = () => {\n  const [searching, setSearching] = react.exports.useState(false);\n  const [searchQuery, onSearch] = react.exports.useState('');\n  const {\n    roles\n  } = useRolesState();\n  const {\n    loadRolesAndPermissions\n  } = useRolesActions();\n  react.exports.useEffect(() => {\n    loadRolesAndPermissions({\n      silentLoading: roles.length > 0\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loadRolesAndPermissions]);\n  const [addRoleDialog, handleCloseAddRole, handleOpenAddRole] = useDialogState();\n  return React.createElement(PageWrapper, {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(TableSearchContext.Provider, {\n    value: {\n      searching,\n      searchQuery,\n      onSearch,\n      setSearching\n    }\n  }, React.createElement(RolesHeader, {\n    handleOpenAddRole: handleOpenAddRole\n  }), React.createElement(Box, {\n    mt: 6,\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(RolesTable, null)), React.createElement(AddRoleDialog, {\n    open: addRoleDialog,\n    onClose: handleCloseAddRole\n  })));\n};\n\nvar RolesPage$2 = RolesPage$1;\nvar RolesPage = wrapPage(RolesPage$2, 'roles');\nconst AttemptsInput = react.exports.memo(() => {\n  const t = useT('security_EditLockoutPolicy');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('maxAttempts');\n  return React.createElement(Input$1$1, Object.assign({}, fieldProps, {\n    autoFocus: true,\n    inputMode: 'decimal',\n    label: t('attemptsInputLabel'),\n    placeholder: t('attemptsInputPlaceholder'),\n    error: !!error && touched,\n    \"data-test-id\": \"userLockoutBox\",\n    errorMessage: error\n  }));\n});\n\nconst EditMfaPolicyForm$1 = props => {\n  const t = useT('security_EditLockoutPolicy');\n  const {\n    policy,\n    saveSecurityPolicyLockout\n  } = useLockoutPolicySettings();\n  const initialValues = react.exports.useMemo(() => {\n    var _a, _b;\n\n    return {\n      id: policy === null || policy === void 0 ? void 0 : policy.id,\n      enabled: (_a = policy === null || policy === void 0 ? void 0 : policy.enabled) !== null && _a !== void 0 ? _a : true,\n      maxAttempts: (_b = policy === null || policy === void 0 ? void 0 : policy.maxAttempts) !== null && _b !== void 0 ? _b : 0\n    };\n  }, [policy]);\n  const formikProps = {\n    onSubmit: ({\n      id,\n      maxAttempts,\n      enabled\n    }) => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, reject, props.onClose);\n      saveSecurityPolicyLockout({\n        callback,\n        id,\n        maxAttempts: Number(maxAttempts),\n        enabled\n      });\n    }),\n    initialValues,\n    validationSchema: validateSchema({\n      maxAttempts: validatePositiveNumber(t('attemptsInputErrorMessage'))\n    })\n  };\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit,\n    formError\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(AttemptsInput, null), React.createElement(FormErrorDialogMessage, {\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n      flex: 1\n    }), React.createElement(Button$1, {\n      \"data-test-id\": \"cancelBtn\",\n      color: 'inherit',\n      variant: 'text',\n      type: 'reset',\n      onClick: props.onClose\n    }, t('cancel')), React.createElement(Button$1, {\n      \"data-test-id\": \"saveBtn\",\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: 'primary',\n      type: 'submit'\n    }, t('save'))));\n  });\n};\n\nconst EditLockoutPolicyDialog = props => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('security_EditLockoutPolicy');\n  return React.createElement(Dialog$1, Object.assign({\n    \"data-test-id\": \"edit-user-lockout-dialog\",\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    dialogTitleDataTestId: \"user-lockout-header\",\n    title: t('title'),\n    size: 'sm'\n  }), React.createElement(EditMfaPolicyForm$1, Object.assign({}, props)));\n};\n\nconst MfaPolicySelect = react.exports.memo(() => {\n  const t = useT('security_EditMfaPolicy');\n  const [fieldProps,, {\n    setValue\n  }] = useField('enforceMFAType');\n  const activeMfaTypes = useOptionalEnforceMfaTypes();\n  const options = react.exports.useMemo(() => {\n    return [{\n      'data-test-id': 'DontForce',\n      label: t('dontForceTitle'),\n      value: MfaTypeEnum.DontForce,\n      description: t('dontForceDescription')\n    }, {\n      'data-test-id': 'Force',\n      label: t('forceTitle'),\n      value: MfaTypeEnum.Force,\n      description: t('forceDescription')\n    }, {\n      'data-test-id': 'ForceExceptSAML',\n      label: t('forceExceptSAMLTitle'),\n      value: MfaTypeEnum.ForceExceptSAML,\n      description: t('forceExceptSAMLDescription')\n    }].filter(({\n      value\n    }) => activeMfaTypes.includes(value));\n  }, [t, activeMfaTypes]);\n  return React.createElement(RadioList, {\n    items: options,\n    name: fieldProps.name,\n    value: fieldProps.value,\n    onChange: (_e, value) => setValue(value, true)\n  });\n});\n\nconst EditMfaPolicyForm = props => {\n  const t = useT('security_EditMfaPolicy');\n  const {\n    policy,\n    saveSecurityPolicyMfa\n  } = useMfaPolicySettings();\n  const vendorMfaPolicy = useVendorMfaPolicySettings();\n  const initialValues = react.exports.useMemo(() => {\n    var _a, _b, _c;\n\n    return {\n      id: policy === null || policy === void 0 ? void 0 : policy.id,\n      enforceMFAType: (_c = (_a = policy === null || policy === void 0 ? void 0 : policy.enforceMFAType) !== null && _a !== void 0 ? _a : (_b = vendorMfaPolicy.policy) === null || _b === void 0 ? void 0 : _b.enforceMFAType) !== null && _c !== void 0 ? _c : MfaTypeEnum.DontForce\n    };\n  }, [policy]);\n  const formikProps = {\n    onSubmit: ({\n      id,\n      enforceMFAType\n    }) => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, reject, props.onClose);\n      saveSecurityPolicyMfa({\n        callback,\n        id,\n        enforceMFAType\n      });\n    }),\n    initialValues\n  };\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit,\n    formError\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, {\n      noPadding: true\n    }, React.createElement(MfaPolicySelect, null), React.createElement(FormErrorDialogMessage, {\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n      flex: 1\n    }), React.createElement(Button$1, {\n      \"data-test-id\": \"cancelBtn\",\n      color: 'inherit',\n      variant: 'text',\n      type: 'reset',\n      onClick: props.onClose\n    }, t('cancel')), React.createElement(Button$1, {\n      \"data-test-id\": \"saveBtn\",\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: 'primary',\n      type: 'submit'\n    }, t('save'))));\n  });\n};\n\nconst EditMfaPolicyDialog = props => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('security_EditMfaPolicy');\n  return React.createElement(Dialog$1, Object.assign({\n    \"data-test-id\": \"edit-MFA-dialog\",\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    dialogTitleDataTestId: \"mfa-policy-header\",\n    title: t('title'),\n    size: 'sm'\n  }), React.createElement(EditMfaPolicyForm, Object.assign({}, props)));\n};\n\nconst HistorySizeInput = react.exports.memo(() => {\n  const t = useT('security_EditPasswordHistoryPolicy');\n  const [fieldProps, {\n    error\n  }] = useField('historySize');\n  return React.createElement(Input$1$1, Object.assign({}, fieldProps, {\n    autoFocus: true,\n    inputMode: 'decimal',\n    label: t('sizeInputLabel'),\n    placeholder: t('sizeInputPlaceholder'),\n    error: !!error,\n    \"data-test-id\": \"userPasswordHistoryBox\",\n    errorMessage: error\n  }));\n});\n\nconst EditPasswordHistoryPolicyForm = props => {\n  const t = useT('security_EditPasswordHistoryPolicy');\n  const {\n    policy,\n    saveSecurityPolicyPasswordHistory\n  } = usePasswordHistoryPolicySettings();\n  const initialValues = react.exports.useMemo(() => {\n    var _a, _b;\n\n    return {\n      id: policy === null || policy === void 0 ? void 0 : policy.id,\n      enabled: (_a = policy === null || policy === void 0 ? void 0 : policy.enabled) !== null && _a !== void 0 ? _a : true,\n      historySize: (_b = policy === null || policy === void 0 ? void 0 : policy.historySize) !== null && _b !== void 0 ? _b : 0\n    };\n  }, [policy]);\n  const formikProps = {\n    onSubmit: ({\n      id,\n      historySize,\n      enabled\n    }) => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, reject, props.onClose);\n      saveSecurityPolicyPasswordHistory({\n        callback,\n        id,\n        historySize: Number(historySize),\n        enabled\n      });\n    }),\n    initialValues,\n    validationSchema: validateSchema({\n      historySize: validateHistorySize(t('sizeIsRequired'), t('sizeMustBeNumber'), t('sizeMustBeGt0'), t('sizeMustBelt10'))\n    })\n  };\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit,\n    formError\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(HistorySizeInput, null), React.createElement(FormErrorDialogMessage, {\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n      flex: 1\n    }), React.createElement(Button$1, {\n      \"data-test-id\": \"cancelBtn\",\n      color: 'inherit',\n      variant: 'text',\n      type: 'reset',\n      onClick: props.onClose\n    }, t('cancel')), React.createElement(Button$1, {\n      \"data-test-id\": \"saveBtn\",\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: 'primary',\n      type: 'submit'\n    }, t('save'))));\n  });\n};\n\nconst EditPasswordHistoryPolicyDialog = props => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('security_EditPasswordHistoryPolicy');\n  return React.createElement(Dialog$1, Object.assign({\n    \"data-test-id\": 'password-history-dialog',\n    dialogTitleDataTestId: 'password-history-header',\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    title: t('title'),\n    size: 'sm'\n  }), React.createElement(EditPasswordHistoryPolicyForm, Object.assign({}, props)));\n};\n\nconst MfaSecurityPolicyValue = () => {\n  const t = useT('security');\n  const {\n    loading,\n    policy\n  } = useMfaPolicySettings();\n  const {\n    vendorMfaPolicy\n  } = useSecurityPolicyState();\n  const activeMFATypes = useOptionalEnforceMfaTypes();\n  const activeMFAPolicy = react.exports.useMemo(() => {\n    var _a;\n\n    return (policy === null || policy === void 0 ? void 0 : policy.enforceMFAType) && activeMFATypes.includes(policy.enforceMFAType) ? policy.enforceMFAType : (_a = vendorMfaPolicy.policy) === null || _a === void 0 ? void 0 : _a.enforceMFAType;\n  }, [vendorMfaPolicy, policy, activeMFATypes]);\n  let description;\n\n  switch (activeMFAPolicy) {\n    case 'Force':\n      description = t('mfaPolicyForceDescription');\n      break;\n\n    case 'ForceExceptSAML':\n      description = t('mfaPolicyForceExceptSAMLDescription');\n      break;\n\n    default:\n      description = t('mfaPolicyDontForceDescription');\n  }\n\n  return loading && !policy ? React.createElement(Skeleton, {\n    width: 80,\n    height: 18\n  }) : React.createElement(Typography$1, {\n    \"data-test-id\": \"mfa-description\",\n    variant: 'body1'\n  }, description);\n};\n\nconst LockoutSecurityPolicyValue = () => {\n  const t = useT('security');\n  const {\n    loading,\n    policy\n  } = useLockoutPolicySettings();\n\n  if (loading && !policy) {\n    return React.createElement(Skeleton, {\n      width: 80,\n      height: 18\n    });\n  }\n\n  if (!policy) {\n    return React.createElement(Typography$1, {\n      variant: 'body1'\n    }, t('lockoutNotConfigured'));\n  }\n\n  if (policy.enabled) {\n    return React.createElement(Typography$1, {\n      variant: 'body1'\n    }, t('lockoutEnabledMaxAttempts1'), \" \", React.createElement(\"b\", null, policy.maxAttempts), \" \", t('lockoutEnabledMaxAttempts2'));\n  }\n\n  return React.createElement(Typography$1, {\n    variant: 'body1'\n  }, t('lockoutDisabled'));\n};\n\nconst PasswordHistorySecurityPolicyValue = () => {\n  const t = useT('security');\n  const {\n    loading,\n    policy\n  } = usePasswordHistoryPolicySettings();\n\n  if (loading && !policy) {\n    return React.createElement(Skeleton, {\n      width: 80,\n      height: 18\n    });\n  }\n\n  if (!policy) {\n    return React.createElement(Typography$1, {\n      variant: 'body1'\n    }, t('passwordHistoryNotConfigured'));\n  }\n\n  if (policy.enabled) {\n    return React.createElement(Typography$1, {\n      variant: 'body1'\n    }, t('passwordHistoryEnabledHistorySize1'), \" \", React.createElement(\"b\", null, policy.historySize), \" \", t('passwordHistoryEnabledHistorySize2'));\n  }\n\n  return React.createElement(Typography$1, {\n    variant: 'body1'\n  }, t('passwordHistoryDisabled'));\n};\n\nconst getLockoutSecurityPolicyActions = (policy, save) => {\n  if (policy) {\n    return React.createElement(Switch$1$1, {\n      checked: policy.enabled,\n      onChange: (_, value) => save(Object.assign(Object.assign({}, policy), {\n        enabled: value\n      }))\n    });\n  }\n\n  return undefined;\n};\n\nconst getPasswordHistorySecurityPolicyActions = (policy, save) => {\n  if (policy) {\n    return React.createElement(Switch$1$1, {\n      \"data-test-id\": \"switch\",\n      checked: policy.enabled,\n      onChange: (_, value) => save(Object.assign(Object.assign({}, policy), {\n        enabled: value\n      }))\n    });\n  }\n\n  return undefined;\n};\n\nconst BasicSettingsList = () => {\n  const t = useT('security');\n  const {\n    loading: mfaLoading,\n    policy: mfaPolicy\n  } = useMfaPolicySettings(true);\n  const {\n    loading: lockoutLoading,\n    policy: lockoutPolicy,\n    saveSecurityPolicyLockout\n  } = useLockoutPolicySettings(true);\n  const {\n    loading: passwordHistoryLoading,\n    policy: passwordHistoryPolicy,\n    saveSecurityPolicyPasswordHistory\n  } = usePasswordHistoryPolicySettings(true);\n  const [editMfaPolicyDialog, handleCloseMfaPolicyDialog, handleOpenMfaPolicyDialog] = useDialogState();\n  const [editLockoutPolicyDialog, handleCloseLockoutPolicyDialog, handleOpenLockoutPolicyDialog] = useDialogState();\n  const [editPasswordHistoryPolicyDialog, handleClosePasswordHistoryPolicyDialog, handleOpenPasswordHistoryPolicyDialog] = useDialogState();\n  const {\n    loading: vendorMfaPolicyLoading\n  } = useVendorMfaPolicySettings();\n  const activeMfaTypes = useOptionalEnforceMfaTypes();\n  const isMfaDisabled = react.exports.useMemo(() => {\n    if (vendorMfaPolicyLoading) {\n      return true;\n    }\n\n    if (mfaLoading && !mfaPolicy) {\n      return true;\n    }\n\n    if (activeMfaTypes.length <= 1) {\n      return true;\n    }\n\n    return false;\n  }, [activeMfaTypes, mfaLoading, mfaPolicy]);\n  const canEditSecurityPolicy = usePermission('fe.secure.write.securityPolicy');\n  const items = react.exports.useMemo(() => [{\n    id: 'mfa',\n    title: t('mfaTitle'),\n    value: React.createElement(MfaSecurityPolicyValue, null),\n    disabled: isMfaDisabled,\n    onEditClick: handleOpenMfaPolicyDialog,\n    disabledRow: !canEditSecurityPolicy\n  }, {\n    id: 'lockout',\n    title: t('lockoutTitle'),\n    value: React.createElement(LockoutSecurityPolicyValue, null),\n    actions: getLockoutSecurityPolicyActions(lockoutPolicy, saveSecurityPolicyLockout),\n    disabled: lockoutLoading && !lockoutPolicy,\n    onEditClick: handleOpenLockoutPolicyDialog,\n    disabledRow: !canEditSecurityPolicy\n  }, {\n    id: 'passwordHistory',\n    title: t('passwordHistoryTitle'),\n    value: React.createElement(PasswordHistorySecurityPolicyValue, null),\n    actions: getPasswordHistorySecurityPolicyActions(passwordHistoryPolicy, saveSecurityPolicyPasswordHistory),\n    disabled: passwordHistoryLoading && !passwordHistoryPolicy,\n    onEditClick: handleOpenPasswordHistoryPolicyDialog,\n    disabledRow: !canEditSecurityPolicy\n  }], [t, lockoutPolicy, passwordHistoryPolicy, lockoutLoading, passwordHistoryLoading, saveSecurityPolicyLockout, saveSecurityPolicyPasswordHistory, handleOpenMfaPolicyDialog, handleOpenLockoutPolicyDialog, handleOpenPasswordHistoryPolicyDialog, canEditSecurityPolicy, isMfaDisabled]);\n  return React.createElement(React.Fragment, null, React.createElement(SettingsList, {\n    title: t('subtitle'),\n    items: items\n  }), React.createElement(EditMfaPolicyDialog, {\n    open: editMfaPolicyDialog,\n    onClose: handleCloseMfaPolicyDialog\n  }), React.createElement(EditLockoutPolicyDialog, {\n    open: editLockoutPolicyDialog,\n    onClose: handleCloseLockoutPolicyDialog\n  }), React.createElement(EditPasswordHistoryPolicyDialog, {\n    open: editPasswordHistoryPolicyDialog,\n    onClose: handleClosePasswordHistoryPolicyDialog\n  }));\n};\n\nvar BasicSettingsList$1 = BasicSettingsList;\nvar ETimeFormat;\n\n(function (ETimeFormat) {\n  ETimeFormat[\"DAYS\"] = \"days\";\n  ETimeFormat[\"HOURS\"] = \"hours\";\n  ETimeFormat[\"MINUTES\"] = \"minutes\";\n})(ETimeFormat || (ETimeFormat = {}));\n\nconst TimeFormatLocalizedTitles = {\n  [ETimeFormat.DAYS]: {\n    plural: 'days',\n    singular: 'day'\n  },\n  [ETimeFormat.HOURS]: {\n    plural: 'hours',\n    singular: 'hour'\n  },\n  [ETimeFormat.MINUTES]: {\n    plural: 'minutes',\n    singular: 'minute'\n  }\n};\nconst TimeFormatMultiplier = {\n  [ETimeFormat.DAYS]: 60 * 60 * 24,\n  [ETimeFormat.HOURS]: 60 * 60,\n  [ETimeFormat.MINUTES]: 60\n};\n\nconst calculateTime = (time, timeFormat) => time * TimeFormatMultiplier[timeFormat];\n\nconst useTimeOptions = count => {\n  const t = useT('security_SessionManagement');\n  return react.exports.useMemo(() => Object.values(ETimeFormat).map(time => ({\n    label: t(TimeFormatLocalizedTitles[time][count > 1 ? 'plural' : 'singular']),\n    value: time\n  })), [t, count]);\n};\n\nconst getTimeAndFormat = timeInSeconds => {\n  for (const format of Object.values(ETimeFormat)) {\n    if (timeInSeconds % TimeFormatMultiplier[format] === 0) {\n      return {\n        timeout: timeInSeconds / TimeFormatMultiplier[format],\n        timeFormat: format\n      };\n    }\n  }\n\n  return {\n    timeout: timeInSeconds / TimeFormatMultiplier[ETimeFormat.MINUTES],\n    timeFormat: ETimeFormat.MINUTES\n  };\n};\n\nconst sessionManagementFormValidation = t => {\n  return create$1({\n    sessionTimeoutConfiguration: create$1().shape({\n      timeout: create$2().typeError(t('sessionTimeoutErrorMessage')).test('test calculated value', t('sessionTimeoutErrorMessage'), (_, {\n        parent\n      }) => {\n        return TimeFormatMultiplier[parent.timeFormat] * parent.timeout >= 60 * 60 * 24; // 1 day in secs\n      })\n    }),\n    sessionIdleTimeoutConfiguration: create$1().shape({\n      timeout: create$2().typeError(t('idleSessionTimeoutErrorMessage')).test('test calculated value', t('idleSessionTimeoutErrorMessage'), (_, {\n        parent\n      }) => {\n        return TimeFormatMultiplier[parent.timeFormat] * parent.timeout >= 60 * 5; // 5 minutes in secs\n      })\n    }),\n    sessionConcurrentConfiguration: create$1().shape({\n      maxSessions: validateNumber(t('concurrentSessionsTimeoutErrorMessage'), t('concurrentSessionsTimeoutErrorMessage')).min(1, t('concurrentSessionsTimeoutErrorMessage'))\n    })\n  });\n};\n\nconst ConfirmDialogBody = ({\n  error,\n  description,\n  loading,\n  onConfirm,\n  onClose,\n  confirmButtonText,\n  cancelButtonText\n}) => {\n  return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(Typography$1, {\n    variant: \"subtitle2Light\"\n  }, description), React.createElement(FormErrorDialogMessage, {\n    message: error\n  })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n    flex: 1\n  }), cancelButtonText && React.createElement(Button$1, {\n    \"data-test-id\": \"cancel-btn\",\n    color: \"inherit\",\n    variant: \"text\",\n    onClick: onClose\n  }, cancelButtonText), React.createElement(Button$1, {\n    \"data-test-id\": \"delete-btn\",\n    loading: loading,\n    color: \"primary\",\n    onClick: onConfirm\n  }, confirmButtonText)));\n};\n\nconst ConfirmDialog = _a => {\n  var {\n    onClose,\n    title,\n    open,\n    dataTestId\n  } = _a,\n      props = __rest(_a, [\"onClose\", \"title\", \"open\", \"dataTestId\"]);\n\n  const {\n    injector\n  } = useShadowDom();\n  return React.createElement(Dialog$1, {\n    dataTestId: dataTestId,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    open: open,\n    onClose: onClose,\n    title: title\n  }, React.createElement(ConfirmDialogBody, Object.assign({}, props, {\n    onClose: onClose\n  })));\n};\n\nconst EnforceSessionPolicyDialog = ({\n  onClose,\n  open,\n  onConfirm\n}) => {\n  const t = useT('security_SessionManagementDialog');\n  const [submitted, setSubmitted] = react.exports.useState(false);\n  const {\n    loading,\n    error\n  } = useSessionsPolicyState();\n  react.exports.useEffect(() => {\n    if (submitted && !error && !loading) {\n      onClose();\n    }\n  }, [submitted, error, loading, onClose]);\n  const handleConfirm = react.exports.useCallback(() => {\n    setSubmitted(true);\n    onConfirm();\n  }, [onConfirm, setSubmitted]);\n  return React.createElement(ConfirmDialog, {\n    dataTestId: 'confirm_timeout_dialog',\n    title: t('title'),\n    confirmButtonText: t('confirm'),\n    cancelButtonText: t('cancel'),\n    description: t('description'),\n    open: open,\n    error: error,\n    onClose: onClose,\n    loading: !!loading,\n    onConfirm: handleConfirm\n  });\n};\n\nconst RowSkeleton$1 = () => React.createElement(Skeleton, {\n  height: 120,\n  width: '100%'\n});\n\nconst SessionsSettingsListSkeleton = () => {\n  const t = useT('security_SessionManagement');\n  return React.createElement(Grid, {\n    container: true,\n    direction: 'column'\n  }, React.createElement(Typography$1, {\n    mt: 2,\n    variant: 'subtitle1'\n  }, t('sectionTitle')), React.createElement(RowSkeleton$1, null), React.createElement(RowSkeleton$1, null), React.createElement(RowSkeleton$1, null));\n};\n\nconst ConfigBox = styled(Box)(({\n  theme\n}) => ({\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'baseline',\n  justifyContent: 'flex-start',\n  gap: theme.spacing(4),\n  padding: theme.spacing(0, 9, 4, 9)\n}));\nconst ErrorBox = styled(Box)(({\n  theme\n}) => ({\n  padding: theme.spacing(0, 9, 2, 9),\n  marginTop: theme.spacing(-3)\n}));\nconst TimeoutInput = styled(Input$1$1)(() => ({\n  width: '6rem',\n  margin: 0\n}));\nconst TimeFormatSelect = styled(Select$1$1)(() => ({\n  width: '12rem'\n}));\n\nconst ConfigBoxWrapper = ({\n  FormComponent,\n  errorMessage,\n  showError\n}) => {\n  return React.createElement(Grid, {\n    container: true,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(Grid, {\n    item: true\n  }, React.createElement(ConfigBox, null, FormComponent)), showError && React.createElement(Grid, {\n    item: true\n  }, React.createElement(ErrorBox, null, React.createElement(FormHelperText, {\n    error: true\n  }, errorMessage))));\n};\n\nconst SessionTimeoutConfigurationRow = ({\n  configKey,\n  disabled\n}) => {\n  const {\n    injector\n  } = useShadowDom();\n  const [timeFormatFieldProps, {\n    value: timeFormatFieldValue\n  }] = useField(`${configKey}.timeFormat`);\n  const [timeoutFieldProps, {\n    value: timeoutFieldValue,\n    error,\n    touched\n  }, {\n    setValue: setTimeoutValue,\n    setTouched: setTimeoutTouched\n  }] = useField(`${configKey}.timeout`);\n  const [, {\n    value: fieldValue\n  }, {\n    setValue: setFieldValues\n  }] = useField(configKey);\n  const timeOptions = useTimeOptions(timeoutFieldValue);\n  const onTimeoutChange = react.exports.useCallback(e => {\n    setTimeoutValue(e.currentTarget.value);\n    setTimeoutTouched(true);\n  }, [setTimeoutValue, setTimeoutTouched, timeFormatFieldValue]);\n  const onTimeFormatChange = react.exports.useCallback(newFormat => {\n    setFieldValues(Object.assign(Object.assign({}, fieldValue), {\n      timeFormat: newFormat\n    }));\n    setTimeoutTouched(true);\n  }, [setFieldValues, setTimeoutTouched, fieldValue]);\n  return React.createElement(ConfigBoxWrapper, {\n    FormComponent: React.createElement(React.Fragment, null, React.createElement(TimeoutInput, Object.assign({}, timeoutFieldProps, {\n      error: !!error && touched,\n      onChange: onTimeoutChange,\n      disabled: disabled,\n      \"data-test-id\": `${configKey}_timeout_input`\n    })), React.createElement(TimeFormatSelect, Object.assign({}, timeFormatFieldProps, {\n      sx: {\n        margin: 0\n      },\n      onChange: onTimeFormatChange,\n      container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n      options: timeOptions,\n      disabled: disabled,\n      \"data-test-id\": `${configKey}_timeformat_input`\n    }))),\n    showError: !!error && touched,\n    errorMessage: error\n  });\n};\n\nconst SessionConcurrentConfigurationRow = ({\n  disabled\n}) => {\n  const [maxSessionFieldProps, {\n    error,\n    touched\n  }, {\n    setValue: setMaxSessions\n  }] = useField(`sessionConcurrentConfiguration.maxSessions`);\n  const onMaxSessionsChange = react.exports.useCallback(e => {\n    const formValue = Number(e.currentTarget.value);\n    setMaxSessions(formValue, true);\n  }, [setMaxSessions]);\n  return React.createElement(ConfigBoxWrapper, {\n    FormComponent: React.createElement(TimeoutInput, Object.assign({}, maxSessionFieldProps, {\n      disabled: disabled,\n      onChange: onMaxSessionsChange\n    })),\n    showError: !!error && touched,\n    errorMessage: error\n  });\n};\n\nconst defaultValues = {\n  sessionConcurrentConfiguration: {\n    isActive: false,\n    maxSessions: 10\n  },\n  sessionIdleTimeoutConfiguration: {\n    isActive: false,\n    timeout: 5,\n    timeFormat: ETimeFormat.MINUTES\n  },\n  sessionTimeoutConfiguration: {\n    isActive: false,\n    timeout: 14,\n    timeFormat: ETimeFormat.DAYS\n  }\n};\n\nconst SessionsSettingsList = () => {\n  const t = useT('security_SessionManagement');\n  const [, {\n    value: isSessionTimeoutActive\n  }, {\n    setValue: setSessionTimeoutToggled,\n    setTouched: setSessionTimeoutToggleTouched\n  }] = useField('sessionTimeoutConfiguration.isActive');\n  const [, {\n    value: isIdleSessionTimeoutActive\n  }, {\n    setValue: setIdleTimeoutToggled,\n    setTouched: setIdleTimeoutToggleTouched\n  }] = useField('sessionIdleTimeoutConfiguration.isActive');\n  const [, {\n    value: isConcurrentSessionActive\n  }, {\n    setValue: setConcurrentSessionToggled,\n    setTouched: setConcurrentSessionToggleTouched\n  }] = useField('sessionConcurrentConfiguration.isActive');\n  const {\n    loading\n  } = useSessionPolicySettings();\n  const {\n    isSubmitting,\n    isValid,\n    dirty\n  } = useFormikContext();\n  const haveSecurityPolicyWritePermission = usePermission('fe.secure.write.securityPolicy');\n  const isSaveButtonDisabled = react.exports.useMemo(() => !haveSecurityPolicyWritePermission || isSubmitting || loading || !isValid || !dirty, [isSubmitting, loading, isValid, dirty, haveSecurityPolicyWritePermission]);\n  const onTimeoutToggle = react.exports.useCallback((_, toggled) => {\n    setSessionTimeoutToggled(toggled);\n    setSessionTimeoutToggleTouched(true);\n  }, [setSessionTimeoutToggled, setSessionTimeoutToggleTouched]);\n  const onIdleToggle = react.exports.useCallback((_, toggled) => {\n    setIdleTimeoutToggled(toggled);\n    setIdleTimeoutToggleTouched(true);\n  }, [setIdleTimeoutToggled, setIdleTimeoutToggleTouched]);\n  const onConcurrentToggle = react.exports.useCallback((_, toggled) => {\n    setConcurrentSessionToggled(toggled);\n    setConcurrentSessionToggleTouched(true);\n  }, [setConcurrentSessionToggled, setConcurrentSessionToggleTouched]);\n  const isFormDisabled = react.exports.useMemo(() => loading || isSubmitting || !haveSecurityPolicyWritePermission, [loading, isSubmitting, haveSecurityPolicyWritePermission]);\n  const expandableItems = react.exports.useMemo(() => [{\n    id: 'idle-row',\n    title: t('idleSessionTimeoutTitle'),\n    description: t('idleSessionTimeoutDescription'),\n    actions: React.createElement(Switch$1$1, {\n      checked: isIdleSessionTimeoutActive,\n      onChange: onIdleToggle,\n      disabled: isFormDisabled\n    }),\n    expandedRow: {\n      expanded: isIdleSessionTimeoutActive,\n      expandableRowComponent: React.createElement(SessionTimeoutConfigurationRow, {\n        configKey: 'sessionIdleTimeoutConfiguration',\n        disabled: isFormDisabled\n      })\n    }\n  }, {\n    id: 'timeout-row',\n    title: t('sessionTimeoutTitle'),\n    description: t('sessionTimeoutDescription'),\n    actions: React.createElement(Switch$1$1, {\n      checked: isSessionTimeoutActive,\n      onChange: onTimeoutToggle,\n      disabled: isFormDisabled\n    }),\n    expandedRow: {\n      expanded: isSessionTimeoutActive,\n      expandableRowComponent: React.createElement(SessionTimeoutConfigurationRow, {\n        configKey: 'sessionTimeoutConfiguration',\n        disabled: isFormDisabled\n      })\n    }\n  }, {\n    id: 'concurrent-row',\n    title: t('concurrentSessionsTitle'),\n    description: t('concurrentSessionsDescription'),\n    actions: React.createElement(Switch$1$1, {\n      checked: isConcurrentSessionActive,\n      onChange: onConcurrentToggle,\n      disabled: isFormDisabled\n    }),\n    expandedRow: {\n      expanded: isConcurrentSessionActive,\n      expandableRowComponent: React.createElement(SessionConcurrentConfigurationRow, {\n        disabled: isFormDisabled\n      })\n    }\n  }], [onTimeoutToggle, onConcurrentToggle, onIdleToggle, isConcurrentSessionActive, isIdleSessionTimeoutActive, isSessionTimeoutActive, t]);\n  return React.createElement(SettingsList, {\n    title: t('sectionTitle'),\n    expandableItems: expandableItems,\n    action: React.createElement(Button$1$1, {\n      \"data-test-id\": \"save-sessions-policy-btn\",\n      color: 'primary',\n      disabled: isSaveButtonDisabled,\n      type: 'submit'\n    }, t('saveButton'))\n  });\n};\n\nconst SessionsSettings = () => {\n  const t = useT('security_SessionManagement');\n  const [showConfirmPolicyDialog, handleClosePolicyDialog, handleOpenPolicyDialog] = useDialogState();\n  const {\n    configurations,\n    loading,\n    createOrUpdateSessionsPolicy\n  } = useSessionPolicySettings(true);\n  const {\n    loadCurrentUserSession\n  } = useSessionsActions();\n  const {\n    logout\n  } = useLoginActions();\n  const {\n    currentSession\n  } = useSessionsState();\n  react.exports.useEffect(() => loadCurrentUserSession(), []);\n  const initialValues = react.exports.useMemo(() => {\n    var _a, _b, _c, _d, _e, _f, _g;\n\n    const idleTimeoutCalculated = !!((_a = configurations.sessionIdleTimeoutConfiguration) === null || _a === void 0 ? void 0 : _a.timeout) && getTimeAndFormat(configurations.sessionIdleTimeoutConfiguration.timeout);\n    const sessionTimeoutCalculated = !!((_b = configurations.sessionTimeoutConfiguration) === null || _b === void 0 ? void 0 : _b.timeout) && getTimeAndFormat(configurations.sessionTimeoutConfiguration.timeout);\n    return {\n      sessionIdleTimeoutConfiguration: {\n        isActive: !!((_c = configurations.sessionIdleTimeoutConfiguration) === null || _c === void 0 ? void 0 : _c.isActive),\n        timeout: idleTimeoutCalculated ? idleTimeoutCalculated.timeout : defaultValues.sessionIdleTimeoutConfiguration.timeout,\n        timeFormat: idleTimeoutCalculated ? idleTimeoutCalculated.timeFormat : defaultValues.sessionIdleTimeoutConfiguration.timeFormat\n      },\n      sessionTimeoutConfiguration: {\n        isActive: !!((_d = configurations.sessionTimeoutConfiguration) === null || _d === void 0 ? void 0 : _d.isActive),\n        timeout: sessionTimeoutCalculated ? sessionTimeoutCalculated.timeout : defaultValues.sessionTimeoutConfiguration.timeout,\n        timeFormat: sessionTimeoutCalculated ? sessionTimeoutCalculated.timeFormat : defaultValues.sessionTimeoutConfiguration.timeFormat\n      },\n      sessionConcurrentConfiguration: {\n        isActive: !!((_e = configurations.sessionConcurrentConfiguration) === null || _e === void 0 ? void 0 : _e.isActive),\n        maxSessions: (_g = (_f = configurations.sessionConcurrentConfiguration) === null || _f === void 0 ? void 0 : _f.maxSessions) !== null && _g !== void 0 ? _g : defaultValues.sessionConcurrentConfiguration.maxSessions\n      }\n    };\n  }, [configurations]);\n  const submitForm = react.exports.useCallback((values, callback) => {\n    const calculatedValues = {\n      sessionConcurrentConfiguration: {\n        isActive: values.sessionConcurrentConfiguration.isActive,\n        maxSessions: values.sessionConcurrentConfiguration.maxSessions\n      },\n      sessionIdleTimeoutConfiguration: {\n        isActive: values.sessionIdleTimeoutConfiguration.isActive,\n        timeout: calculateTime(values.sessionIdleTimeoutConfiguration.timeout, values.sessionIdleTimeoutConfiguration.timeFormat)\n      },\n      sessionTimeoutConfiguration: {\n        isActive: values.sessionTimeoutConfiguration.isActive,\n        timeout: calculateTime(values.sessionTimeoutConfiguration.timeout, values.sessionTimeoutConfiguration.timeFormat)\n      }\n    };\n    createOrUpdateSessionsPolicy(Object.assign(Object.assign({}, calculatedValues), {\n      callback: callback\n    }));\n  }, [createOrUpdateSessionsPolicy, logout]);\n  const handleSubmit = react.exports.useCallback((values, {\n    setSubmitting,\n    setTouched\n  }) => {\n    const currentSessionWillExpireDate = (currentSession === null || currentSession === void 0 ? void 0 : currentSession.createdAt) && new Date(new Date(currentSession.createdAt).getTime() + calculateTime(values.sessionTimeoutConfiguration.timeout * 1000, values.sessionTimeoutConfiguration.timeFormat));\n    const willSessionExpireAfterConfirm = currentSessionWillExpireDate && currentSessionWillExpireDate < new Date(Date.now());\n\n    if (willSessionExpireAfterConfirm) {\n      handleOpenPolicyDialog();\n    } else {\n      submitForm(values, () => {\n        setTouched({});\n        setSubmitting(false);\n      });\n    }\n  }, [currentSession, submitForm, handleOpenPolicyDialog]);\n  const validationSchema = react.exports.useCallback(() => sessionManagementFormValidation(t), [t]);\n  return React.createElement(Formik, {\n    enableReinitialize: true,\n    initialValues: initialValues,\n    onSubmit: handleSubmit,\n    validationSchema: validationSchema\n  }, ({\n    values,\n    setSubmitting,\n    submitCount\n  }) => loading && submitCount === 0 ? React.createElement(SessionsSettingsListSkeleton, null) : React.createElement(React.Fragment, null, React.createElement(Form, null, React.createElement(SessionsSettingsList, null)), React.createElement(EnforceSessionPolicyDialog, {\n    onClose: () => {\n      handleClosePolicyDialog();\n      setSubmitting(false);\n    },\n    onConfirm: () => {\n      submitForm(values, () => logout());\n    },\n    open: showConfirmPolicyDialog\n  })));\n};\n\nvar SessionsSettingsList$1 = SessionsSettings;\n\nconst SecurityPage$1 = () => {\n  return React.createElement(PageWrapper, {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(Box, {\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(BasicSettingsList$1, null)), React.createElement(Box, {\n    mt: 6,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(SessionsSettingsList$1, null)));\n};\n\nvar SecurityPage$2 = SecurityPage$1;\nvar SecurityPage = wrapPage(SecurityPage$2, 'security');\n\nconst SsoHeader = ({\n  handleOpenNewConfiguration\n}) => {\n  const t = useT('sso_Header');\n  const canCreateNewConfiguration = usePermission('fe.secure.write.samlConfiguration');\n  return React.createElement(Grid, {\n    container: true,\n    spacing: 4,\n    alignItems: 'center'\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    md: 4\n  }, React.createElement(Box, null, t('title'))), React.createElement(Grid, {\n    item: true,\n    xs: true\n  }), canCreateNewConfiguration && React.createElement(Grid, {\n    item: true\n  }, React.createElement(Button$1, {\n    \"data-test-id\": \"CreateNewSsoConfigBtn\",\n    onClick: handleOpenNewConfiguration\n  }, t('addNew'))));\n};\n\nvar SamlVendors;\n\n(function (SamlVendors) {\n  SamlVendors[\"Saml\"] = \"saml\";\n  SamlVendors[\"Oidc\"] = \"oidc\";\n})(SamlVendors || (SamlVendors = {}));\n\nvar ConfigSaml;\n\n(function (ConfigSaml) {\n  ConfigSaml[\"manual\"] = \"manual\";\n  ConfigSaml[\"auto\"] = \"auto\";\n})(ConfigSaml || (ConfigSaml = {}));\n\nconst IDPS = [{\n  value: SamlVendors.Saml,\n  label: 'SAML'\n}, {\n  value: SamlVendors.Oidc,\n  label: 'Open ID Connect'\n}];\nconst defaultSamlVendor = SamlVendors.Saml;\n\nconst SsoTableColumns = ({\n  onChangeStatus,\n  rolesMap,\n  container,\n  t,\n  hasWritePermission,\n  forcePermissions,\n  showConfigureSSOMessage\n}) => {\n  return [{\n    Header: t('domainsColumnName'),\n    Cell: TableTextCell,\n    accessor: ({\n      domains\n    }) => ({\n      description: domains === null || domains === void 0 ? void 0 : domains.map(({\n        domain\n      }) => domain).join(', ')\n    }),\n    minWidth: forcePermissions ? 280 : 180\n  }, {\n    Header: t('idpColumnName'),\n    Cell: TableTextCell,\n    accessor: ({\n      type\n    }) => {\n      var _a;\n\n      return {\n        description: (_a = IDPS.find(idp => idp.value === type)) === null || _a === void 0 ? void 0 : _a.label\n      };\n    }\n  }, forcePermissions && {\n    Header: t('rolesColumnName'),\n    Cell: TableChipsCell,\n    accessor: ({\n      roleIds\n    }) => {\n      var _a;\n\n      return {\n        items: (_a = roleIds === null || roleIds === void 0 ? void 0 : roleIds.map(v => ({\n          text: rolesMap[v]\n        }))) !== null && _a !== void 0 ? _a : [],\n        max: 2,\n        container\n      };\n    },\n    minWidth: 280\n  }, {\n    id: 'status',\n    Header: t('statusColumnName'),\n    Cell: TableSwitchCellLeft,\n    accessor: ssoConfig => {\n      const isStep1Checked = !!ssoConfig.publicCertificate || !!ssoConfig.oidcClientId;\n      const isStep2Checked = ssoConfig.domains.some(({\n        validated\n      }) => validated);\n      const isStep3Checked = !!ssoConfig.roleIds.length;\n      const canEnableDisableSSO = hasWritePermission && isStep1Checked && isStep2Checked && (isStep3Checked || !forcePermissions);\n      return {\n        checked: canEnableDisableSSO && ssoConfig.enabled,\n        onChange: () => {\n          if (canEnableDisableSSO) {\n            onChangeStatus(ssoConfig);\n          } else {\n            showConfigureSSOMessage();\n          }\n        }\n      };\n    },\n    maxWidth: 100,\n    minWidth: 100\n  }].filter(notNull);\n};\n\nconst useSSOTableRowActions = ({\n  container,\n  handleOpenDeleteConfig,\n  handleOpenEditConfig,\n  hasWritePermission,\n  hasDeletePermission\n}) => {\n  const t = useT('sso_Table');\n  return react.exports.useMemo(() => row => {\n    const items = [];\n\n    const handleEditConfig = () => {\n      handleOpenEditConfig(row);\n    };\n\n    const handleDeleteConfig = () => {\n      handleOpenDeleteConfig(row);\n    };\n\n    if (hasWritePermission) {\n      items.push({\n        text: t('editSSOConfig'),\n        onClick: handleEditConfig,\n        icon: React.createElement(EditIcon, {\n          \"data-test-id\": 'editBtn'\n        })\n      });\n    }\n\n    if (hasDeletePermission) {\n      items.push({\n        negative: true,\n        text: t('deleteSSOConfig'),\n        onClick: handleDeleteConfig,\n        icon: React.createElement(DeleteIcon, {\n          \"data-test-id\": 'deleteBtn'\n        })\n      });\n    }\n\n    return {\n      items,\n      container\n    };\n  }, [container, handleOpenDeleteConfig, handleOpenEditConfig, hasDeletePermission, hasWritePermission, t]);\n};\n\nconst DeleteSSOConfigurationForm = ({\n  onClose,\n  ssoConfig\n}) => {\n  const t = useT('sso_Table');\n  const {\n    deleteSSOConfiguration\n  } = useSSOActions();\n  const {\n    loaders: {\n      DELETE_SSO_CONFIGURATION: loading\n    },\n    errors: {\n      DELETE_SSO_CONFIGURATION: error\n    }\n  } = useSSOState();\n  const handleDeleteSSOConfig = react.exports.useCallback(() => {\n    const callback = success => {\n      if (success) {\n        onClose();\n      }\n    };\n\n    deleteSSOConfiguration({\n      ssoConfigId: ssoConfig.id,\n      callback\n    });\n  }, [deleteSSOConfiguration, onClose]);\n  return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(Typography$1, {\n    variant: 'subtitle2Light'\n  }, t('areYouSureDeleteSSOConfig')), React.createElement(FormErrorDialogMessage, {\n    message: error\n  })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n    flex: 1\n  }), React.createElement(Button$1, {\n    \"data-test-id\": \"cancelBtn\",\n    color: \"inherit\",\n    variant: \"text\",\n    onClick: onClose\n  }, t('cancel')), React.createElement(Button$1, {\n    \"data-test-id\": \"deleteBtn\",\n    loading: loading,\n    color: \"danger\",\n    onClick: handleDeleteSSOConfig\n  }, t('deleteSSOConfig'))));\n};\n\nconst DeleteSSOConfigurationDialog = _a => {\n  var {\n    ssoConfig\n  } = _a,\n      props = __rest(_a, [\"ssoConfig\"]);\n\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('sso_Table');\n  return React.createElement(Dialog$1, Object.assign({\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    title: t('deleteSSOConfigTitle')\n  }), React.createElement(DeleteSSOConfigurationForm, Object.assign({\n    ssoConfig: ssoConfig\n  }, props)));\n};\n\nconst SSODialogContext = react.exports.createContext({\n  stepNumber: 0,\n  handleClose: () => {},\n  handleOpen: () => {},\n  handleNextStep: () => {},\n  handlePrevStep: () => {},\n  currentSSOConfiguration: {},\n  setCurrentSSOConfigurationId: id => {},\n  isFirstStep: true,\n  isLastStep: false,\n  steps: []\n});\n\nconst useSSODialog = () => react.exports.useContext(SSODialogContext);\n\nconst SSODialogProvider = ({\n  children,\n  steps,\n  handleClose,\n  handleOpen,\n  initialSSOConfigurationId\n}) => {\n  const [stepNumber, setStepNumber] = react.exports.useState(0);\n  const [currentSSOConfigurationId, setCurrentSSOConfigurationId] = react.exports.useState(initialSSOConfigurationId);\n  const {\n    ssoConfigurations\n  } = useSSOState();\n  const {\n    isLastStep,\n    isFirstStep\n  } = react.exports.useMemo(() => ({\n    isLastStep: stepNumber === steps.length - 1,\n    isFirstStep: stepNumber === 0\n  }), [stepNumber, steps]);\n  const handleNextStep = react.exports.useCallback(() => {\n    if (!isLastStep) {\n      setStepNumber(step => step + 1);\n    } else {\n      handleClose();\n    }\n  }, [setStepNumber, isLastStep]);\n  const handlePrevStep = react.exports.useCallback(() => {\n    if (!isFirstStep) {\n      setStepNumber(step => step - 1);\n    } else {\n      handleClose();\n    }\n  }, [setStepNumber, isFirstStep]);\n  return React.createElement(SSODialogContext.Provider, {\n    value: react.exports.useMemo(() => ({\n      stepNumber,\n      handleClose,\n      handleOpen,\n      handlePrevStep,\n      handleNextStep,\n      currentSSOConfiguration: ssoConfigurations.find(config => config.id === currentSSOConfigurationId),\n      setCurrentSSOConfigurationId,\n      isFirstStep,\n      isLastStep,\n      steps\n    }), [setCurrentSSOConfigurationId, stepNumber, handleClose, handleOpen, handlePrevStep, handleNextStep, setStepNumber, currentSSOConfigurationId, ssoConfigurations, isFirstStep, isLastStep, steps])\n  }, children);\n};\n\nconst ssoConfigureIdpFormValidation = ({\n  t\n}) => {\n  return create$1().shape({\n    configFile: create$3().when('samlVendor', {\n      is: SamlVendors.Saml,\n      then: create$3().when('configSaml', {\n        is: 'auto',\n        then: validateFile(t('metadataFileIsRequired'))\n      })\n    }),\n    ssoEndpoint: create$3().when('configSaml', {\n      is: 'manual',\n      then: create$3().when('samlVendor', {\n        is: SamlVendors.Saml,\n        then: validateUrl(t('endpointIsRequired'), t('endpointUrlIsInvalid')),\n        otherwise: validateUrl(t('issuerUrlIsRequired'), t('issuerUrlIsInvalid'))\n      })\n    }),\n    publicCertificate: create$3().when('configSaml', {\n      is: 'manual',\n      then: create$3().when('samlVendor', {\n        is: SamlVendors.Saml,\n        then: validateNotEmpty(t('publicCertificateIsRequired'))\n      })\n    }),\n    oidcClientId: create$3().when('configSaml', {\n      is: 'manual',\n      then: create$3().when('samlVendor', {\n        is: SamlVendors.Oidc,\n        then: validateNotEmpty(t('clientIdIsRequired'))\n      })\n    }),\n    oidcSecret: create$3().when('configSaml', {\n      is: 'manual',\n      then: create$3().when('samlVendor', {\n        is: SamlVendors.Oidc,\n        then: validateNotEmpty(t('secretIsRequired'))\n      })\n    })\n  });\n};\n\nconst ssoManageAuthorizationValidation = t => {\n  return create$1().shape({\n    roleIds: create().min(1, t('rolesIsRequired')),\n    rolesGroups: create().of(create$1().shape({\n      group: create$4().required(),\n      roleIds: create().of(create$4()).min(1)\n    })),\n    addedGroups: create().of(create$1().shape({\n      group: create$4().required(),\n      roleIds: create().of(create$4()).min(1)\n    }))\n  });\n};\n\nconst SsoFooter = props => {\n  const t = useT('sso_Table');\n  const {\n    isValid,\n    isSubmitting,\n    onCancel,\n    onNext,\n    showSkipButton,\n    onSkip,\n    approveButtonText\n  } = props;\n  const {\n    handlePrevStep,\n    isFirstStep,\n    isLastStep\n  } = useSSODialog();\n  const handleCancelButton = react.exports.useCallback(() => {\n    if (onCancel) {\n      onCancel();\n    } else {\n      handlePrevStep();\n    }\n  }, [onCancel, handlePrevStep]);\n  return React.createElement(React.Fragment, null, React.createElement(Button$1, {\n    \"data-test-id\": \"cancelBtn\",\n    color: \"inherit\",\n    variant: \"text\",\n    type: \"reset\",\n    onClick: handleCancelButton\n  }, isFirstStep ? t('cancel') : t('back')), React.createElement(Box, {\n    flex: 1\n  }), React.createElement(Box, {\n    display: 'flex'\n  }, showSkipButton && React.createElement(Button$1, {\n    \"data-test-id\": 'skipBtn',\n    onClick: onSkip,\n    color: 'inherit',\n    variant: \"text\"\n  }, t('skip')), React.createElement(Button$1, {\n    \"data-test-id\": 'approveBtn',\n    disabled: !isValid,\n    loading: isSubmitting,\n    color: \"primary\",\n    type: \"submit\",\n    onClick: onNext\n  }, approveButtonText !== null && approveButtonText !== void 0 ? approveButtonText : isLastStep ? t('done') : t('proceed'))));\n};\n\nconst useValidateWellKnownDebounced = ({\n  value,\n  setError\n}) => {\n  const t = useT('sso_ConfigureIdp');\n  const debouncedValue = useDebounce(value, 500);\n  const wellKnownError = t('ssoWellKnownError');\n  useAsyncEffect(() => {\n    if (!value) {\n      setError(t('issuerUrlIsRequired'));\n    } else {\n      setError(wellKnownError);\n    }\n  }, [value, setError, wellKnownError, t]);\n  react.exports.useEffect(() => {\n    const controller = new AbortController();\n    const abortSignal = controller.signal;\n\n    if (debouncedValue) {\n      validateWellKnown(debouncedValue, abortSignal).then(verified => setError(verified ? '' : wellKnownError));\n    }\n\n    return () => controller.abort(); // eslint-disable-next-line\n  }, [debouncedValue]);\n};\n\nconst IssuerUrlInput = styled(Input$1$1)`\n  .MuiInputBase-adornedEnd {\n    .MuiSvgIcon-root {\n      ${({\n  theme,\n  error\n}) => error && `color: ${theme.palette.error.main}`};\n      ${({\n  theme,\n  success\n}) => success && `color: ${theme.palette.success.main}`};\n    }\n  }\n`;\n\nconst AcsUrlField = () => {\n  const t = useT('sso_ConfigureIdp');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('acsUrl');\n  return React.createElement(Input$1$1, Object.assign({\n    label: t('acsUrlInputLabel')\n  }, fieldProps, {\n    errorMessage: error,\n    error: !!error && touched,\n    disabled: true\n  }));\n};\n\nconst EntityIdField = () => {\n  const t = useT('sso_ConfigureIdp');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('spEntityId');\n  return React.createElement(Input$1$1, Object.assign({\n    label: t('entityIdInputLabel')\n  }, fieldProps, {\n    errorMessage: error,\n    error: !!error && touched,\n    disabled: true\n  }));\n};\n\nconst SsoEndpointField = () => {\n  const t = useT('sso_ConfigureIdp');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('ssoEndpoint');\n  return React.createElement(Input$1$1, Object.assign({\n    \"data-tets-id\": \"ssoEndPointBox\",\n    label: t('endpointInputLabel')\n  }, fieldProps, {\n    errorMessage: error,\n    error: !!error && touched,\n    placeholder: t('endpointInputPlaceholder')\n  }));\n};\n\nconst IssuerUrlField = ({\n  setError,\n  error\n}) => {\n  const [fieldProps, {\n    touched,\n    error: formikError\n  }] = useField({\n    name: 'ssoEndpoint'\n  });\n  const t = useT('sso_ConfigureIdp');\n  useValidateWellKnownDebounced({\n    setError,\n    value: fieldProps.value\n  });\n  return React.createElement(IssuerUrlInput, Object.assign({\n    \"data-test-id\": \"issuerUrlBox\",\n    endAdornment: touched && !!error ? React.createElement(CheckCircleFilledIcon, null) : React.createElement(WarningIcon, null),\n    label: t('issuerUrlInputLabel'),\n    errorMessage: touched && formikError || error,\n    error: !!(touched && formikError || error),\n    success: !(formikError || error),\n    tip: t('issuerUrlInputHelpMessage')\n  }, fieldProps));\n};\n\nconst RedirectUriField = () => {\n  var _a;\n\n  const t = useT('sso_ConfigureIdp');\n  const {\n    oidcRedirectUrl\n  } = useAuthRoutes();\n  const {\n    origin\n  } = window.location;\n  const defaultRedirectUri = `${origin}${oidcRedirectUrl}`;\n  const {\n    oidcConfiguration\n  } = useSSOState();\n  return React.createElement(Input$1$1, {\n    label: t('redirectUriInputLabel'),\n    value: (_a = oidcConfiguration === null || oidcConfiguration === void 0 ? void 0 : oidcConfiguration.redirectUri) !== null && _a !== void 0 ? _a : defaultRedirectUri,\n    disabled: true\n  });\n};\n\nconst OidcClientIdField = () => {\n  const t = useT('sso_ConfigureIdp');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('oidcClientId');\n  return React.createElement(Input$1$1, Object.assign({\n    \"data-test-id\": \"clientIDBox\",\n    label: t('clientIdInputLabel')\n  }, fieldProps, {\n    errorMessage: error,\n    error: !!error && touched,\n    placeholder: t('clientIdInputPlaceholder')\n  }));\n};\n\nconst PublicSertificateField = () => {\n  const t = useT('sso_ConfigureIdp');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('publicCertificate');\n  return React.createElement(Input$1$1, Object.assign({\n    \"data-tets-id\": \"publicCertificateBox\",\n    multiline: true,\n    rows: 4,\n    label: t('publicCertificateInputLabel')\n  }, fieldProps, {\n    errorMessage: error,\n    error: !!error && touched,\n    placeholder: t('publicCertificateInputPlaceholder')\n  }));\n};\n\nconst OidcSecretField = () => {\n  const t = useT('sso_ConfigureIdp');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('oidcSecret');\n  return React.createElement(InputPassword$1, Object.assign({\n    \"data-test-id\": \"secretBox\",\n    label: t('secretInputLabel')\n  }, fieldProps, {\n    errorMessage: error,\n    error: !!error && touched,\n    placeholder: t('secretInputPlaceholder')\n  }));\n};\n\nconst IdpField = () => {\n  const t = useT('sso_ConfigureIdp');\n  const {\n    injector\n  } = useShadowDom();\n  const [fieldProps, {\n    error,\n    touched\n  }, {\n    setValue\n  }] = useField('samlVendor');\n  const [,, {\n    setValue: setConfigSaml\n  }] = useField('configSaml');\n  const handleOnChange = react.exports.useCallback(value => {\n    setValue(value, true);\n    setConfigSaml(ConfigSaml.manual);\n  }, [setValue, setConfigSaml]);\n  return React.createElement(Select$1$1, {\n    \"data-test-id\": \"ssoSelectIdpDrop\",\n    label: t('idpSelectLabel'),\n    name: fieldProps.name,\n    value: fieldProps.value,\n    onChange: handleOnChange,\n    errorMessage: touched ? error : undefined,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    options: IDPS\n  });\n};\n\nconst ConfigSamlField = () => {\n  const t = useT('sso_ConfigureIdp');\n  const [fieldProps,, {\n    setValue\n  }] = useField('configSaml');\n  const handleSetValue = react.exports.useCallback(() => {\n    const value = fieldProps.value === ConfigSaml.manual ? ConfigSaml.auto : ConfigSaml.manual;\n    setValue(value);\n  }, [fieldProps, setValue]);\n  return React.createElement(Box, {\n    mb: 4\n  }, React.createElement(RadioGroup, {\n    row: true,\n    defaultValue: \"manual\",\n    onChange: handleSetValue\n  }, React.createElement(FormControlLabel, {\n    \"data-test-id\": \"autoBtn\",\n    value: \"auto\",\n    control: React.createElement(Radio, null),\n    label: t('radioAutomaticLabel')\n  }), React.createElement(FormControlLabel, {\n    \"data-test-id\": \"menualBtn\",\n    value: \"manual\",\n    control: React.createElement(Radio, null),\n    label: t('radioManualLabel')\n  })));\n};\n\nconst DropZoneField = () => {\n  const t = useT('sso_ConfigureIdp');\n  const [fieldProps, {\n    error,\n    touched\n  }, {\n    setValue,\n    setError,\n    setTouched\n  }] = useField('configFile');\n  const handleSetValue = react.exports.useCallback(files => {\n    setTouched(true);\n\n    if (!files.length) {\n      setError(t('metadataFileTypeErrorMessage'));\n    } else {\n      setError(null);\n      setValue(files);\n    }\n  }, [setValue]);\n  return React.createElement(React.Fragment, null, React.createElement(Box, {\n    \"data-test-id\": \"metadataFileBox\",\n    marginBottom: \"8px\"\n  }, React.createElement(Typography$1, {\n    color: touched && !!error ? 'error' : undefined,\n    variant: \"label\"\n  }, t('metadataFileLabel'))), React.createElement(DropZoneElement, {\n    \"data-test-id\": \"metadataFileBox\",\n    fileType: \".xml\",\n    value: fieldProps.value,\n    onDrop: handleSetValue,\n    description: t('metadataFileDescription')\n  }), touched && !!error && React.createElement(FormErrorDialogMessage, {\n    message: error\n  }));\n};\n\nconst SsoConfigureIdpBottomInputs = React.memo(({\n  samlVendor,\n  setIssuerUrlError,\n  issuerUrlError\n}) => {\n  return samlVendor === SamlVendors.Oidc ? React.createElement(React.Fragment, null, React.createElement(IssuerUrlField, {\n    error: issuerUrlError,\n    setError: setIssuerUrlError\n  }), React.createElement(OidcClientIdField, null), React.createElement(OidcSecretField, null), React.createElement(RedirectUriField, null)) : React.createElement(React.Fragment, null, React.createElement(SsoEndpointField, null), React.createElement(PublicSertificateField, null));\n});\n\nconst SsoConfigureIdpForm = () => {\n  const t = useT('sso_ConfigureIdp');\n  const {\n    saveSSOConfigurationV2,\n    updateSSOConfiguration,\n    saveSSOConfigurationByMetadata,\n    updateSSOConfigurationByMetadata\n  } = useSSOActions();\n  const {\n    currentSSOConfiguration,\n    setCurrentSSOConfigurationId,\n    handleNextStep\n  } = useSSODialog();\n  const {\n    samlMetadata\n  } = useSSOState();\n  const [issuerUrlError, setIssuerUrlError] = react.exports.useState('');\n  const initialSamlVendor = react.exports.useMemo(() => Object.values(SamlVendors).includes(currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.type) ? currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.type : defaultSamlVendor, [currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.type]);\n  const validationSchema = react.exports.useMemo(() => ssoConfigureIdpFormValidation({\n    t\n  }), [t]);\n  const initialValues = react.exports.useMemo(() => {\n    var _a, _b, _c, _d;\n\n    return Object.assign(Object.assign({\n      samlVendor: initialSamlVendor,\n      configFile: undefined,\n      configSaml: ConfigSaml.manual\n    }, currentSSOConfiguration), {\n      acsUrl: (_a = currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.acsUrl) !== null && _a !== void 0 ? _a : (_b = samlMetadata === null || samlMetadata === void 0 ? void 0 : samlMetadata.configuration) === null || _b === void 0 ? void 0 : _b.acsUrl,\n      spEntityId: (_c = currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.spEntityId) !== null && _c !== void 0 ? _c : (_d = samlMetadata === null || samlMetadata === void 0 ? void 0 : samlMetadata.configuration) === null || _d === void 0 ? void 0 : _d.spEntityId\n    });\n  }, [currentSSOConfiguration, samlMetadata, initialSamlVendor]);\n  const formikProps = {\n    onSubmit: values => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, reject, data => {\n        setCurrentSSOConfigurationId(data.id);\n        handleNextStep();\n      });\n      const isEditMode = !!currentSSOConfiguration;\n      const {\n        samlVendor,\n        configSaml\n      } = values;\n      const isOidcConfiguration = samlVendor === SamlVendors.Oidc;\n\n      if (configSaml === 'auto' && !isOidcConfiguration) {\n        const payload = {\n          configFile: values.configFile[0],\n          callback\n        };\n\n        if (isEditMode) {\n          updateSSOConfigurationByMetadata(Object.assign({\n            ssoConfigId: currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.id\n          }, payload));\n        } else {\n          saveSSOConfigurationByMetadata(payload);\n        }\n      } else {\n        const {\n          ssoEndpoint,\n          publicCertificate,\n          oidcClientId,\n          oidcSecret\n        } = values;\n        const payload = {\n          ssoEndpoint,\n          type: samlVendor,\n          publicCertificate: isOidcConfiguration ? undefined : publicCertificate,\n          oidcClientId: isOidcConfiguration ? oidcClientId : undefined,\n          oidcSecret: isOidcConfiguration ? oidcSecret : undefined,\n          callback\n        };\n\n        if (isEditMode) {\n          updateSSOConfiguration(Object.assign(Object.assign({}, payload), {\n            ssoConfigId: currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.id\n          }));\n        } else {\n          saveSSOConfigurationV2(Object.assign(Object.assign({}, payload), {\n            enabled: false\n          }));\n        }\n      }\n    }),\n    initialValues,\n    validationSchema,\n    validateOnMount: true\n  };\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    values,\n    isValid,\n    formError,\n    isSubmitting\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(Box, null, React.createElement(IdpField, null), values.samlVendor !== SamlVendors.Oidc && React.createElement(React.Fragment, null, React.createElement(AcsUrlField, null), React.createElement(EntityIdField, null), React.createElement(ConfigSamlField, null)), values.configSaml === ConfigSaml.auto && values.samlVendor === SamlVendors.Saml ? React.createElement(DropZoneField, null) : React.createElement(SsoConfigureIdpBottomInputs, {\n      samlVendor: values.samlVendor,\n      issuerUrlError: issuerUrlError,\n      setIssuerUrlError: setIssuerUrlError\n    })), React.createElement(FormErrorDialogMessage, {\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(SsoFooter, {\n      isValid: isValid && (values.samlVendor !== SamlVendors.Oidc || !issuerUrlError),\n      isSubmitting: isSubmitting\n    })));\n  });\n};\n\nconst DomainFields = ({\n  ssoDomain\n}) => {\n  const t = useT('sso_ClaimDomain');\n  const [fieldProps, {\n    error,\n    touched,\n    value\n  }] = useField('domain');\n  const {\n    currentSSOConfiguration\n  } = useSSODialog();\n  const recordValue = react.exports.useMemo(() => currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.generatedVerification, [currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.generatedVerification]);\n  const recordName = react.exports.useMemo(() => `_saml-domain-challenge.${value}`, [value]);\n  return React.createElement(React.Fragment, null, React.createElement(Input$1$1, Object.assign({\n    label: t('domainInputLabel')\n  }, fieldProps, {\n    \"data-test-id\": \"domainNameBox\",\n    errorMessage: error,\n    error: !!error && touched,\n    placeholder: t('domainInputPlaceholder')\n  })), React.createElement(Collapse$1, {\n    in: (ssoDomain === null || ssoDomain === void 0 ? void 0 : ssoDomain.domain) === value,\n    mountOnEnter: true,\n    unmountOnExit: true\n  }, React.createElement(Typography$1, {\n    variant: \"subtitle2\"\n  }, t('claimDomainText')), React.createElement(\"br\", null), React.createElement(InputCopy$1, {\n    \"data-test-id\": \"ssoRecordNameLabel\",\n    label: t('recordNameLabel'),\n    readOnly: true,\n    value: recordName !== null && recordName !== void 0 ? recordName : ''\n  }), React.createElement(InputCopy$1, {\n    \"data-test-id\": \"ssoRecordValueLabel\",\n    label: t('recordValueLabel'),\n    readOnly: true,\n    value: recordValue !== null && recordValue !== void 0 ? recordValue : ''\n  })));\n};\n\nconst AddDomainButton = styled(Button$1)`\n  align-self: flex-start;\n`;\nconst DomainInput = styled(Input$1$1)`\n  margin-bottom: 0;\n  margin-right: 0.5rem;\n  flex: 1;\n  .MuiInputBase-adornedEnd {\n    .MuiSvgIcon-root {\n      ${({\n  theme,\n  error\n}) => error && `color: ${theme.palette.error.main}`};\n      ${({\n  theme,\n  success\n}) => success && `color: ${theme.palette.success.main}`};\n    }\n  }\n`;\nconst DeleteIconStyle = styled(DeleteIcon)(({\n  theme\n}) => ({\n  color: theme.palette.grey[500],\n  width: '1rem',\n  height: '1rem'\n}));\nconst EditIconStyle = styled(EditIcon)(({\n  theme\n}) => ({\n  color: theme.palette.grey[500],\n  width: '1rem',\n  height: '1rem'\n}));\nconst IconButtonStyle = styled(IconButton)`\n  width: 2rem;\n  height: 2rem;\n`;\nconst DomainListContainer = styled(Box)(({\n  theme\n}) => ({\n  paddingBottom: theme.spacing(2),\n  marginBottom: theme.spacing(4),\n  borderBottom: `1px solid ${theme.palette.grey[300]}`\n}));\n\nconst SSOClaimDomainList = ({\n  onAddDomain,\n  onEditDomain,\n  hideDomainList\n}) => {\n  var _a;\n\n  const {\n    currentSSOConfiguration,\n    handlePrevStep\n  } = useSSODialog();\n  const {\n    deleteSSODomain\n  } = useSSOActions();\n  const hasWritePermission = usePermission('fe.secure.write.samlConfiguration');\n  const hasDeletePermission = usePermission('fe.secure.delete.samlConfiguration');\n  const handleDeleteDomain = react.exports.useCallback(domainId => {\n    const callback = () => {\n      if ((currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.domains.length) === 1) {\n        handlePrevStep();\n      }\n    };\n\n    deleteSSODomain({\n      ssoConfigId: currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.id,\n      domainId,\n      callback\n    });\n  }, [deleteSSODomain, currentSSOConfiguration]);\n  return React.createElement(React.Fragment, null, React.createElement(DomainListContainer, null, (_a = currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.domains) === null || _a === void 0 ? void 0 : _a.map(ssoDomain => React.createElement(Box, {\n    key: ssoDomain.id,\n    mb: 2,\n    display: 'flex',\n    alignItems: 'center'\n  }, React.createElement(DomainInput, {\n    \"data-test-id\": ssoDomain.domain,\n    endAdornment: ssoDomain.validated ? React.createElement(CheckCircleFilledIcon, null) : React.createElement(WarningIcon, null),\n    error: !ssoDomain.validated,\n    success: ssoDomain.validated,\n    value: ssoDomain.domain,\n    disabled: true\n  }), hasWritePermission && hasDeletePermission && React.createElement(IconButtonStyle, {\n    onClick: () => onEditDomain(ssoDomain)\n  }, React.createElement(EditIconStyle, null)), hasDeletePermission && React.createElement(IconButtonStyle, {\n    onClick: () => handleDeleteDomain(ssoDomain.id)\n  }, React.createElement(DeleteIconStyle, null))))), React.createElement(AddDomainButton, {\n    \"data-test-id\": \"addGroupBtn\",\n    onClick: onAddDomain,\n    type: 'button',\n    size: 'small',\n    color: 'secondary'\n  }, \"Add another domain\"));\n};\n\nconst SsoClaimDomainForm = props => {\n  const t = useT('sso_ClaimDomain');\n  const [ssoDomain, setSSODomain] = react.exports.useState(props.domain);\n  const {\n    saveSSODomain,\n    validateSSODomainV2,\n    deleteSSODomain\n  } = useSSOActions();\n  const {\n    currentSSOConfiguration,\n    handleNextStep\n  } = useSSODialog();\n  const [isDomainListShown, setIsDomainListShown] = react.exports.useState((currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.domains.length) > 0);\n  const initialValues = react.exports.useMemo(() => ({\n    domain: (ssoDomain === null || ssoDomain === void 0 ? void 0 : ssoDomain.domain) || ''\n  }), [ssoDomain]);\n  const validationSchema = react.exports.useMemo(() => validateSchema({\n    domain: validateDomain(t('domainIsRequired'), t('domainMustBeValid'))\n  }), [t]);\n  const formikProps = {\n    onSubmit: ({\n      domain\n    }) => new Promise((resolve, reject) => __awaiter(void 0, void 0, void 0, function* () {\n      const callback = callbackToPromise(resolve, reject, showDomainList);\n\n      const saveDomain = () => {\n        saveSSODomain({\n          ssoConfigId: currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.id,\n          domain,\n          callback: (data, error) => {\n            if (error) {\n              reject(error);\n              return;\n            } else if (data) {\n              setSSODomain(data);\n              resolve();\n            }\n          }\n        });\n      };\n\n      if (ssoDomain && ssoDomain.domain === domain) {\n        validateSSODomainV2({\n          callback,\n          domainId: ssoDomain.id,\n          ssoConfigId: currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.id\n        });\n      } else if (ssoDomain) {\n        deleteSSODomain({\n          ssoConfigId: currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.id,\n          domainId: ssoDomain.id,\n          callback: saveDomain\n        });\n      } else {\n        saveDomain();\n      }\n    })),\n    enableReinitialize: true,\n    initialValues,\n    validationSchema: isDomainListShown ? undefined : validationSchema\n  };\n  const showDomainList = react.exports.useCallback(() => {\n    setIsDomainListShown(true);\n  }, []);\n  const hideDomainList = react.exports.useCallback(() => {\n    setIsDomainListShown(false);\n  }, []);\n  const handleEditDomain = react.exports.useCallback(ssoDomain => {\n    hideDomainList();\n    setSSODomain(ssoDomain);\n  }, [hideDomainList, setSSODomain]);\n  const handleAddDomain = react.exports.useCallback(() => {\n    hideDomainList();\n    setSSODomain(undefined);\n  }, [hideDomainList, setSSODomain]);\n\n  if (isDomainListShown) {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(SSOClaimDomainList, {\n      hideDomainList: hideDomainList,\n      onAddDomain: handleAddDomain,\n      onEditDomain: handleEditDomain\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(SsoFooter, {\n      isValid: true,\n      isSubmitting: false,\n      onNext: handleNextStep\n    })));\n  }\n\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    formError,\n    isSubmitting,\n    values\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(DomainFields, {\n      ssoDomain: ssoDomain\n    }), React.createElement(FormErrorDialogMessage, {\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(SsoFooter, {\n      onCancel: (currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.domains.length) > 1 ? showDomainList : undefined,\n      isValid: true,\n      isSubmitting: isSubmitting,\n      showSkipButton: (ssoDomain === null || ssoDomain === void 0 ? void 0 : ssoDomain.domain) === values.domain,\n      onSkip: showDomainList,\n      approveButtonText: (ssoDomain === null || ssoDomain === void 0 ? void 0 : ssoDomain.domain) === values.domain ? t('validate') : t('proceed')\n    })));\n  });\n};\n\nconst ArrowsIconStyled = styled(DoubleArrowRightIcon)(({\n  theme\n}) => ({\n  width: '0.5rem',\n  height: '0.5rem',\n  color: theme.palette.grey[500]\n}));\nconst GroupNameField = react.exports.memo(({\n  error,\n  errorMessage,\n  group,\n  handleGroupChange\n}) => {\n  return React.createElement(Input$1$1, {\n    error: error,\n    errorMessage: errorMessage,\n    value: group,\n    onChange: handleGroupChange\n  });\n}, shallowEqual$1('error', 'errorMessage', 'group', 'handleGroupChange'));\nconst RolesField$1 = react.exports.memo(({\n  roles,\n  handleRolesChange,\n  groupId,\n  error\n}) => {\n  const t = useT('sso_ManageAuthorization');\n  const {\n    injector\n  } = useShadowDom();\n  const user = useAuthUser();\n  const allRoles = useAuthTeamState(state => state.roles);\n  const accessRoles = checkRoleAccess(allRoles, user);\n  const options = react.exports.useMemo(() => (accessRoles !== null && accessRoles !== void 0 ? accessRoles : []).map(role => ({\n    label: role.name,\n    value: role.id,\n    withCheckbox: true\n  })), [accessRoles]);\n  return React.createElement(Select$1$1, {\n    error: error,\n    errorMessage: t('rolesGroupsMappingError'),\n    name: `${groupId}_roleIds`,\n    multi: true,\n    oneLineMulti: true,\n    placeholder: t('rolesInputPlaceholder'),\n    value: roles,\n    onChange: handleRolesChange,\n    options: options,\n    optionType: \"tree\",\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  });\n}, shallowEqual$1('roles', 'handleRolesChange', 'groupId', 'error'));\nconst DeleteGroupButton = react.exports.memo(({\n  onDelete\n}) => {\n  return React.createElement(IconButton, {\n    onClick: () => onDelete()\n  }, React.createElement(Box, {\n    component: DeleteIcon,\n    width: \"1rem\",\n    height: \"1rem\",\n    color: \"#ADBCD2\"\n  }));\n}, shallowEqual$1('onDelete'));\n\nconst RolesGroup = ({\n  groupId\n}) => {\n  var _a, _b;\n\n  const t = useT('sso_ManageAuthorization');\n  const {\n    values,\n    setFieldValue,\n    setFieldError\n  } = useFormikContext();\n  const fieldValue = react.exports.useMemo(() => values.rolesGroups.find(group => group.id === groupId), [values.rolesGroups, groupId]);\n  const isGroupNameUnique = react.exports.useMemo(() => values.rolesGroups.filter(({\n    group\n  }) => group === (fieldValue === null || fieldValue === void 0 ? void 0 : fieldValue.group)).length < 2, [values.rolesGroups, fieldValue]);\n  react.exports.useEffect(() => {\n    if (!isGroupNameUnique) {\n      setFieldError('rolesGroups', t('rolesGroupsNameDuplicateError'));\n    }\n  }, [isGroupNameUnique, setFieldError, t]);\n  const handleGroupNameChange = react.exports.useCallback(e => {\n    const groupIdx = values.rolesGroups.findIndex(group => group.id === groupId);\n    const newRolesGroupsArray = values.rolesGroups.map((oldValue, currIdx) => currIdx === groupIdx ? Object.assign(Object.assign({}, oldValue), {\n      group: e.target.value\n    }) : oldValue);\n    setFieldValue('rolesGroups', newRolesGroupsArray);\n  }, [setFieldValue, values.rolesGroups, groupId]);\n  const handleRolesChange = react.exports.useCallback(newValue => {\n    const changedGroups = [];\n    const groupIdx = values.rolesGroups.findIndex(group => group.id === groupId);\n    const newrolesGroups = values.rolesGroups.map((oldValue, currIdx) => {\n      let rolesGroup = oldValue;\n\n      if (currIdx === groupIdx) {\n        rolesGroup = Object.assign(Object.assign({}, oldValue), {\n          roleIds: newValue\n        });\n        changedGroups.push(rolesGroup);\n      }\n\n      return rolesGroup;\n    });\n    setFieldValue('rolesGroups', newrolesGroups);\n    setFieldValue('changedGroups', changedGroups);\n  }, [setFieldValue, values.rolesGroups, values.changedGroups, groupId]);\n  const deleteGroup = react.exports.useCallback(() => {\n    const newDeletedGroupsArr = [...values.deletedGroups, groupId];\n    const newGroupsArr = values.rolesGroups.filter(group => !newDeletedGroupsArr.includes(group.id));\n    setFieldValue('deletedGroups', newDeletedGroupsArr);\n    setFieldValue('rolesGroups', newGroupsArr);\n  }, [setFieldValue, groupId, values.rolesGroups, values.deletedGroups]);\n  return React.createElement(Grid, {\n    container: true,\n    alignItems: 'baseline',\n    justifyContent: \"space-between\",\n    spacing: 2\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 5\n  }, React.createElement(GroupNameField, {\n    group: (_a = fieldValue === null || fieldValue === void 0 ? void 0 : fieldValue.group) !== null && _a !== void 0 ? _a : '',\n    handleGroupChange: handleGroupNameChange,\n    error: !isGroupNameUnique || !!fieldValue && fieldValue.group.length < 1,\n    errorMessage: isGroupNameUnique ? t('rolesGroupsNameEmptyError') : t('rolesGroupsNameDuplicateError')\n  })), React.createElement(Grid, {\n    item: true,\n    xs: 1,\n    display: \"flex\",\n    justifyContent: \"center\"\n  }, React.createElement(ArrowsIconStyled, null)), React.createElement(Grid, {\n    item: true,\n    xs: 5\n  }, React.createElement(RolesField$1, {\n    roles: (_b = fieldValue === null || fieldValue === void 0 ? void 0 : fieldValue.roleIds) !== null && _b !== void 0 ? _b : [],\n    error: fieldValue && fieldValue.roleIds.length < 1,\n    handleRolesChange: handleRolesChange,\n    groupId: groupId\n  })), React.createElement(Grid, {\n    item: true,\n    xs: 1,\n    display: \"flex\",\n    justifyContent: \"center\"\n  }, React.createElement(DeleteGroupButton, {\n    onDelete: deleteGroup\n  })));\n};\n\nconst NewRolesGroup = ({\n  idx\n}) => {\n  var _a, _b;\n\n  const t = useT('sso_ManageAuthorization');\n  const {\n    values,\n    setFieldValue,\n    setFieldError\n  } = useFormikContext();\n  const fieldValue = react.exports.useMemo(() => values.addedGroups[idx], [idx, values.addedGroups]);\n  const isGroupNameUnique = react.exports.useMemo(() => [...values.rolesGroups, ...values.addedGroups].filter(({\n    group\n  }) => group === (fieldValue === null || fieldValue === void 0 ? void 0 : fieldValue.group)).length < 2, [values, fieldValue]);\n  react.exports.useEffect(() => {\n    if (!isGroupNameUnique) {\n      setFieldError('addedGroups', 'Group name must be unique');\n    }\n  }, [isGroupNameUnique, setFieldError]);\n  const handleGroupNameChange = react.exports.useCallback(e => {\n    const newRolesGroupsArray = values.addedGroups.map((oldValue, currIdx) => currIdx === idx ? Object.assign(Object.assign({}, oldValue), {\n      group: e.target.value\n    }) : oldValue);\n    setFieldValue('addedGroups', newRolesGroupsArray);\n  }, [setFieldValue, values.addedGroups, idx]);\n  const handleRolesChange = react.exports.useCallback(newValue => {\n    const newrolesGroups = values.addedGroups.map((oldValue, currIdx) => currIdx === idx ? Object.assign(Object.assign({}, oldValue), {\n      roleIds: newValue\n    }) : oldValue);\n    setFieldValue('addedGroups', newrolesGroups);\n  }, [setFieldValue, values.addedGroups, idx]);\n  const deleteGroup = react.exports.useCallback(() => {\n    const newGroupsArr = values.addedGroups.filter((group, index) => idx !== index);\n    setFieldValue('addedGroups', newGroupsArr);\n  }, [setFieldValue, idx, values.addedGroups]);\n  return React.createElement(Grid, {\n    container: true,\n    alignItems: 'baseline',\n    justifyContent: \"space-between\",\n    spacing: 2\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 5\n  }, React.createElement(GroupNameField, {\n    group: (_a = fieldValue === null || fieldValue === void 0 ? void 0 : fieldValue.group) !== null && _a !== void 0 ? _a : '',\n    handleGroupChange: handleGroupNameChange,\n    error: !isGroupNameUnique || !!fieldValue && fieldValue.group.length < 1,\n    errorMessage: isGroupNameUnique ? t('rolesGroupsNameEmptyError') : t('rolesGroupsNameDuplicateError')\n  })), React.createElement(Grid, {\n    item: true,\n    xs: 1,\n    display: \"flex\",\n    justifyContent: \"center\"\n  }, React.createElement(ArrowsIconStyled, null)), React.createElement(Grid, {\n    item: true,\n    xs: 5\n  }, React.createElement(RolesField$1, {\n    roles: (_b = fieldValue === null || fieldValue === void 0 ? void 0 : fieldValue.roleIds) !== null && _b !== void 0 ? _b : [],\n    error: fieldValue && fieldValue.roleIds.length < 1,\n    handleRolesChange: handleRolesChange,\n    groupId: `${idx}`\n  })), React.createElement(Grid, {\n    item: true,\n    xs: 1,\n    display: \"flex\",\n    justifyContent: \"center\"\n  }, React.createElement(DeleteGroupButton, {\n    onDelete: deleteGroup\n  })));\n};\n\nconst AddMappingButton = styled(Button$1)`\n  &.MuiButton-root {\n    justify-content: space-between;\n    height: 2rem;\n    margin-top: 1rem;\n    display: flex;\n    padding: 1rem;\n    align-self: flex-start;\n    .MuiSvgIcon-root {\n      padding-right: .5rem;\n    }\n  }\n`;\nconst TableHeadRowGrid = styled(Grid)`\n  background-color: #F5F6F8;\n  padding: 0.75rem 2rem;\n  border-bottom: 1px solid #E5EAF3;\n`;\nconst TableBodyGrid = styled(Grid)`\n  padding: 1rem 1rem 1rem 2rem;\n`;\nconst AddIconStyle = styled(AddIcon)`\n  width: 0.75rem;\n  height: 0.75rem,\n`;\nconst AddIconButton = styled(Button$1)`\n  margin-bottom: 1rem;\n  margin-left: 2rem;\n  minWidth: 0;\n  width: fit-content;\n  padding: 0.75rem;\n  color: #ADBCD2;\n`;\nconst GroupsTable = react.exports.memo(({\n  addGroup\n}) => {\n  var _a;\n\n  const {\n    values\n  } = useFormikContext();\n  const t = useT('sso_ManageAuthorization');\n  return React.createElement(Box, {\n    mt: 3,\n    flex: 1,\n    border: '1px solid #E5EAF3',\n    borderRadius: '0.25rem',\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(TableHeadRowGrid, {\n    container: true\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 6\n  }, React.createElement(Typography$1, {\n    variant: 'label'\n  }, \" \", t('group'))), React.createElement(Grid, {\n    item: true,\n    xs: 6\n  }, React.createElement(Typography$1, {\n    marginLeft: '0.75rem',\n    variant: 'label'\n  }, \" \", t('roles')))), React.createElement(TableBodyGrid, {\n    container: true\n  }, values.rolesGroups.map(g => React.createElement(RolesGroup, {\n    \"data-test-id\": \"groupBox\",\n    groupId: g.id\n  })), (_a = values.addedGroups) === null || _a === void 0 ? void 0 : _a.map((g, idx) => React.createElement(NewRolesGroup, {\n    idx: idx\n  }))), React.createElement(AddIconButton, {\n    \"data-test-id\": \"addGroupBtn\",\n    onClick: addGroup,\n    type: 'button',\n    size: 'small',\n    color: 'secondary'\n  }, React.createElement(AddIconStyle, null)));\n}, shallowEqual$1('addGroup'));\n\nconst findNewGroups = (existingGroups, newGroups) => {\n  const existingGroupsIds = existingGroups.map(({\n    id\n  }) => id);\n  const groupsToAdd = newGroups.filter(g => !existingGroupsIds.includes(g.id));\n  return groupsToAdd;\n};\n\nconst RolesGroupsTable = () => {\n  const t = useT('sso_ManageAuthorization');\n  const {\n    rolesGroups\n  } = useSSOState();\n  const {\n    values,\n    setFieldValue\n  } = useFormikContext();\n  react.exports.useEffect(() => {\n    const existingGroupsIds = [...values.rolesGroups.map(({\n      id\n    }) => id), ...values.deletedGroups];\n    const isNewGroupAdded = rolesGroups === null || rolesGroups === void 0 ? void 0 : rolesGroups.some(({\n      id\n    }) => !existingGroupsIds.includes(id));\n\n    if (isNewGroupAdded) {\n      const newGroup = findNewGroups(values.rolesGroups, rolesGroups !== null && rolesGroups !== void 0 ? rolesGroups : []);\n      let newFieldValue = [...values.rolesGroups];\n\n      if (newGroup) {\n        newFieldValue = newFieldValue.concat(newGroup);\n      }\n\n      setFieldValue('rolesGroups', newFieldValue.filter(group => !values.deletedGroups.includes(group.id)));\n    }\n  }, [values, rolesGroups, setFieldValue]);\n  const shouldShowTable = react.exports.useMemo(() => [...values.addedGroups, ...values.rolesGroups].length > 0, [values]);\n  const addGroup = react.exports.useCallback(() => {\n    const newAddedGroupsValue = [...values.addedGroups];\n    newAddedGroupsValue.push({\n      group: '',\n      roleIds: []\n    });\n    setFieldValue('addedGroups', newAddedGroupsValue);\n  }, [values.addedGroups, setFieldValue]);\n  return React.createElement(React.Fragment, null, React.createElement(Typography$1, {\n    marginTop: '2rem',\n    fontSize: '1rem',\n    variant: 'label'\n  }, t('rolesGroupsMappingTitle')), React.createElement(Typography$1, {\n    fontWeight: '600',\n    color: 'GrayText',\n    variant: 'subtitle2Light'\n  }, t('rolesGroupsMappingDescription')), shouldShowTable ? React.createElement(GroupsTable, {\n    addGroup: addGroup\n  }) : React.createElement(AddMappingButton, {\n    \"data-test-id\": \"addMappingBtn\",\n    color: 'secondary',\n    onClick: addGroup,\n    type: 'button',\n    size: 'small'\n  }, t('ssoAddMapping')));\n};\n\nconst isAllGroupNamesUnique = values => {\n  const uniquedValues = values.rolesGroups.reduce((acc, {\n    group\n  }) => acc.includes(group) ? acc : [...acc, group], []);\n  return uniquedValues.length === values.rolesGroups.length;\n};\n\nconst InputTipIcon = styled(InfoIcon)`\n  &.MuiSvgIcon-root {\n    width: 0.75rem !important;\n    height: 0.75rem !important;\n    fill: #ADBCD2;\n  }\n`;\n\nconst SsoManageAuthorizationForm = () => {\n  const t = useT('sso_ManageAuthorization');\n  const {\n    setSSODefaultRoles,\n    setSSOGroups,\n    updateSSOGroups\n  } = useSSOActions();\n  const {\n    currentSSOConfiguration,\n    handleNextStep\n  } = useSSODialog();\n  const {\n    injector\n  } = useShadowDom();\n  const initialValues = react.exports.useMemo(() => {\n    var _a, _b;\n\n    return {\n      roleIds: (_a = currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.roleIds) !== null && _a !== void 0 ? _a : [],\n      rolesGroups: (_b = currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.groups) !== null && _b !== void 0 ? _b : [],\n      deletedGroups: [],\n      addedGroups: [],\n      changedGroups: []\n    };\n  }, []);\n  const formikProps = {\n    onSubmit: values => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, reject, handleNextStep);\n      setSSOGroups({\n        ssoConfigId: currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.id,\n        groupsToAdd: values.addedGroups,\n        groupsToDelete: values.deletedGroups,\n        callback: (data, error) => {\n          if (error) {\n            reject(error);\n            return;\n          } else if (data) {\n            updateSSOGroups({\n              ssoConfigId: currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.id,\n              changedGroups: values.changedGroups\n            });\n            setSSODefaultRoles({\n              ssoConfigId: currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.id,\n              roleIds: values === null || values === void 0 ? void 0 : values.roleIds,\n              callback\n            });\n          }\n        }\n      });\n    }),\n    initialValues,\n    validationSchema: ssoManageAuthorizationValidation(t),\n    validateOnMount: true\n  };\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    formError,\n    isSubmitting,\n    isValid,\n    values\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, {\n      style: {\n        maxHeight: '55vh'\n      }\n    }, React.createElement(React.Fragment, null, React.createElement(Box, {\n      display: \"flex\",\n      alignItems: \"center\",\n      width: \"fit-content\"\n    }, React.createElement(Typography$1, {\n      variant: \"label\",\n      paddingBottom: \"0.25rem\"\n    }, t('selectRolesLabel')), React.createElement(Popup$1, {\n      action: \"hover\",\n      mountNode: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n      placement: \"right\",\n      arrow: true,\n      trigger: React.createElement(Box, {\n        display: \"flex\",\n        marginLeft: \"0.5rem\",\n        marginBottom: \"0.25rem\"\n      }, React.createElement(InputTipIcon, null))\n    }, React.createElement(Typography$1, {\n      color: \"#3C4A5A\",\n      variant: \"subtitle2Light\"\n    }, t('selectRolesHelpMessage')))), React.createElement(RolesField$4, {\n      label: \"\",\n      placeholder: t('rolesInputPlaceholder')\n    }), (currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.type) === SamlVendors.Saml && React.createElement(RolesGroupsTable, null), React.createElement(FormErrorDialogMessage, {\n      message: formError\n    }))), React.createElement(Dialog$1.Footer, null, React.createElement(SsoFooter, {\n      isValid: isValid || !isAllGroupNamesUnique(values),\n      isSubmitting: isSubmitting\n    })));\n  });\n};\n\nconst StepperStyle = styled(Stepper$1)`\n  padding: ${({\n  theme\n}) => theme.spacing(4)};\n`;\n\nconst MultiStepForm = () => {\n  const {\n    stepNumber,\n    steps\n  } = useSSODialog();\n  return React.createElement(React.Fragment, null, React.createElement(StepperStyle, {\n    activeStep: stepNumber\n  }, steps.map(({\n    label\n  }) => React.createElement(Step$1, {\n    key: label\n  }, React.createElement(StepLabel$1, null, label)))), steps[stepNumber].component);\n};\n\nconst SsoConfigurationDialogForm = ({\n  open,\n  handleOpen,\n  handleClose,\n  initialSSOConfigurationId\n}) => {\n  const {\n    injector\n  } = useShadowDom();\n  const {\n    policy\n  } = usePublicPolicySettings();\n  const t = useT('sso');\n  const steps = react.exports.useMemo(() => {\n    return [{\n      component: React.createElement(SsoConfigureIdpForm, null),\n      label: t('stepOneTitle')\n    }, {\n      component: React.createElement(SsoClaimDomainForm, null),\n      label: t('stepTwoTitle')\n    }, ...((policy === null || policy === void 0 ? void 0 : policy.forcePermissions) ? [{\n      component: React.createElement(SsoManageAuthorizationForm, null),\n      label: t('stepThreeTitle')\n    }] : [])];\n  }, [policy === null || policy === void 0 ? void 0 : policy.forcePermissions]);\n  return React.createElement(Dialog$1, {\n    topGravity: false,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    title: 'Configure SSO',\n    open: open,\n    onClose: handleClose\n  }, React.createElement(SSODialogProvider, {\n    steps: steps,\n    handleOpen: handleOpen,\n    handleClose: handleClose,\n    initialSSOConfigurationId: initialSSOConfigurationId\n  }, React.createElement(MultiStepForm, null)));\n};\n\nconst SsoTable = ({\n  showConfigureSSOMessage\n}) => {\n  var _a;\n\n  const t = useT('sso_Table');\n  const {\n    injector\n  } = useShadowDom();\n  const {\n    roles\n  } = useAuthTeamState();\n  const rolesMap = useRolesMap(roles);\n  const {\n    ssoConfigurations: ssoConfigurationsData,\n    loaders: {\n      LOAD_SSO_CONFIGURATIONS: loading\n    }\n  } = useSSOState();\n  const {\n    updateSSOConfiguration\n  } = useSSOActions();\n  const {\n    policy,\n    loading: loadingPolicy\n  } = usePublicPolicySettings();\n  const [deleteConfigDialog, handleCloseDeleteSSOConfig, handleOpenDeleteSSOConfig, ssoConfigToDelete] = useDialogState();\n  const [editSSOConfigDialogOpen, handleCloseEditSSOConfig, handleOpenEditSSOConfig, ssoConfigToEdit] = useDialogState();\n  const hasWritePermission = usePermission('fe.secure.write.samlConfiguration');\n  const hasDeletePermission = usePermission('fe.secure.delete.samlConfiguration');\n  const handleChangeStatus = react.exports.useCallback(ssoConfig => {\n    updateSSOConfiguration({\n      ssoConfigId: ssoConfig.id,\n      enabled: !ssoConfig.enabled\n    });\n  }, [updateSSOConfiguration]);\n  const columns = react.exports.useMemo(() => SsoTableColumns({\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    forcePermissions: !loadingPolicy && (policy === null || policy === void 0 ? void 0 : policy.forcePermissions),\n    onChangeStatus: handleChangeStatus,\n    rolesMap,\n    hasWritePermission,\n    showConfigureSSOMessage,\n    t\n  }), [t, handleChangeStatus, showConfigureSSOMessage, rolesMap, injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, policy, loadingPolicy, hasWritePermission]);\n  const getRowActions = useSSOTableRowActions({\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    handleOpenEditConfig: handleOpenEditSSOConfig,\n    handleOpenDeleteConfig: handleOpenDeleteSSOConfig,\n    hasWritePermission,\n    hasDeletePermission\n  });\n  const tablePlaceholderProps = react.exports.useMemo(() => {\n    if (loading) {\n      return null;\n    }\n\n    if (!ssoConfigurationsData.length) {\n      return {\n        show: true,\n        icon: React.createElement(SSOIcon, null),\n        title: t('noSSOConfigsYet'),\n        description: t('noSSOConfigsYetDescription')\n      };\n    }\n\n    return null;\n  }, [loading, ssoConfigurationsData, t]);\n  return React.createElement(React.Fragment, null, React.createElement(Table, {\n    loading: !!loading,\n    container: (_a = injector === null || injector === void 0 ? void 0 : injector.adminPortalEl) !== null && _a !== void 0 ? _a : document.body,\n    columns: columns,\n    data: ssoConfigurationsData,\n    getRowActions: getRowActions\n  }, tablePlaceholderProps && React.createElement(TablePlaceholder, Object.assign({}, tablePlaceholderProps))), React.createElement(DeleteSSOConfigurationDialog, {\n    open: deleteConfigDialog,\n    onClose: handleCloseDeleteSSOConfig,\n    ssoConfig: ssoConfigToDelete\n  }), React.createElement(SsoConfigurationDialogForm, {\n    open: editSSOConfigDialogOpen,\n    handleClose: handleCloseEditSSOConfig,\n    handleOpen: handleOpenEditSSOConfig,\n    initialSSOConfigurationId: ssoConfigToEdit === null || ssoConfigToEdit === void 0 ? void 0 : ssoConfigToEdit.id\n  }));\n};\n\nconst SsoPage = () => {\n  const {\n    loadRoles\n  } = useAuthTeamActions();\n  const [isConfigureSSOMessage, setIsConfigureSSOMessage] = react.exports.useState(false);\n  const [addSSOConfigDialogOpen, handleCloseAddSSOConfig, handleOpenAddSSOConfig] = useDialogState();\n  const t = useT('sso');\n  const showConfigureSSOMessage = react.exports.useCallback(() => {\n    setIsConfigureSSOMessage(true);\n  }, [setIsConfigureSSOMessage]);\n  const hideConfigureSSOMessage = react.exports.useCallback(() => {\n    setIsConfigureSSOMessage(false);\n  }, [setIsConfigureSSOMessage]);\n  react.exports.useEffect(() => {\n    loadRoles();\n  }, [loadRoles]);\n  return React.createElement(PageWrapper, {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(Collapse$1, {\n    in: isConfigureSSOMessage\n  }, React.createElement(Box, {\n    mb: 8\n  }, React.createElement(Alert$1$1, {\n    onClose: hideConfigureSSOMessage,\n    severity: 'warning'\n  }, t('enableAlert')))), React.createElement(SsoHeader, {\n    handleOpenNewConfiguration: handleOpenAddSSOConfig\n  }), React.createElement(Box, {\n    mt: 9,\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(SsoTable, {\n    showConfigureSSOMessage: showConfigureSSOMessage\n  })), React.createElement(SsoConfigurationDialogForm, {\n    open: addSSOConfigDialogOpen,\n    handleOpen: handleOpenAddSSOConfig,\n    handleClose: handleCloseAddSSOConfig\n  }));\n};\n\nvar SsoPage$1 = SsoPage;\nvar MultipleSsoPage = wrapPage(SsoPage$1, 'sso');\n\nclass UserMapCache {\n  constructor() {\n    this.mapIds = {};\n    this.mapEmails = {};\n  }\n\n  static getInstance() {\n    if (!UserMapCache.instance) {\n      UserMapCache.instance = new UserMapCache();\n    }\n\n    return UserMapCache.instance;\n  }\n\n  static getUserById(userId, users) {\n    const map = this.getInstance().mapIds;\n\n    if (!map[userId]) {\n      map[userId] = {\n        data: null,\n        loading: true\n      };\n      map[userId].promise = new Promise(resolve => {\n        const userFromTeams = users === null || users === void 0 ? void 0 : users.find(u => u.id === userId);\n\n        if (userFromTeams) {\n          map[userId].data = Object.assign(Object.assign({}, userFromTeams), {\n            profilePictureUrl: userFromTeams.profileImageUrl\n          });\n          map[userId].loading = false;\n          map[userId].promise = undefined;\n          this.getInstance().mapEmails[userFromTeams.email] = map[userId];\n          resolve(userFromTeams);\n          return;\n        }\n\n        api.auth.getUserById({\n          userId\n        }).then(user => {\n          map[userId].data = user;\n          map[userId].loading = false;\n          map[userId].promise = undefined;\n          this.getInstance().mapEmails[user.email] = map[userId];\n          resolve(user);\n        }).catch(e => {\n          map[userId].data = null;\n          map[userId].loading = false;\n          map[userId].promise = undefined;\n          resolve(null);\n        });\n      });\n    }\n\n    const {\n      loading,\n      promise,\n      data\n    } = map[userId];\n\n    if (loading && promise != null) {\n      return promise;\n    }\n\n    return new Promise(resolve => resolve(data));\n  }\n\n  static getUserByEmail(email, users) {\n    const map = this.getInstance().mapEmails;\n\n    if (!map[email]) {\n      map[email] = {\n        data: null,\n        loading: true\n      };\n      map[email].promise = new Promise(resolve => {\n        const userFromTeams = users === null || users === void 0 ? void 0 : users.find(u => u.email === email);\n\n        if (userFromTeams) {\n          map[email].data = Object.assign(Object.assign({}, userFromTeams), {\n            profilePictureUrl: userFromTeams.profileImageUrl\n          });\n          map[email].loading = false;\n          map[email].promise = undefined;\n          this.getInstance().mapIds[userFromTeams.id] = map[email];\n          resolve(userFromTeams);\n          return;\n        }\n\n        api.teams.loadUsers({\n          filter: [{\n            id: 'searchFilter',\n            value: email\n          }],\n          pageSize: 1,\n          pageOffset: 0\n        }).then(users => {\n          if (users.items.length > 0) {\n            const user = users.items[0];\n            map[email].data = Object.assign(Object.assign({}, user), {\n              profilePictureUrl: user.profileImageUrl\n            });\n            map[email].loading = false;\n            map[email].promise = undefined;\n            this.getInstance().mapIds[user.id] = map[email];\n            resolve(user);\n          } else {\n            map[email].data = null;\n            map[email].loading = false;\n            map[email].promise = undefined;\n            resolve(null);\n          }\n        }).catch(e => {\n          map[email].data = null;\n          map[email].loading = false;\n          map[email].promise = undefined;\n          resolve(null);\n        });\n      });\n    }\n\n    const {\n      loading,\n      promise,\n      data\n    } = map[email];\n\n    if (loading && promise != null) {\n      return promise;\n    }\n\n    return new Promise(resolve => resolve(data));\n  }\n\n}\n\nconst TableUserCell = react.exports.memo(({\n  value: {\n    userId,\n    email,\n    name\n  }\n}) => {\n  const [currentUser, setCurrentUser] = react.exports.useState(null);\n  const users = useAuthTeamState(state => state.users);\n  react.exports.useEffect(() => {\n    if (userId) {\n      UserMapCache.getUserById(userId, users).then(setCurrentUser);\n    } else if (email) {\n      UserMapCache.getUserByEmail(email, users).then(setCurrentUser);\n    }\n  }, [userId, email, users, setCurrentUser]);\n  return React.createElement(TableUserAvatarCell, {\n    value: currentUser !== null && currentUser !== void 0 ? currentUser : {\n      name: name !== null && name !== void 0 ? name : 'Unknown',\n      email: email !== null && email !== void 0 ? email : ''\n    }\n  });\n}, shallowEqual$1('value.userId', 'value.email'));\n\nconst ApiTokensTableColumns = ({\n  t,\n  container,\n  rolesMap,\n  isPermissionsAndRolesDisabled\n}) => [{\n  Header: t('clientIdHeader'),\n  accessor: ({\n    clientId,\n    description\n  }) => ({\n    title: description,\n    description: clientId,\n    copyValue: clientId\n  }),\n  minWidth: 370,\n  maxWidth: 370,\n  Cell: TableCopyCell\n}, ...(isPermissionsAndRolesDisabled ? [] : [{\n  Header: t('rolesHeader'),\n  accessor: ({\n    roleIds\n  }) => {\n    var _a;\n\n    return {\n      items: (_a = roleIds === null || roleIds === void 0 ? void 0 : roleIds.map(v => ({\n        text: rolesMap[v]\n      }))) !== null && _a !== void 0 ? _a : [],\n      max: 1,\n      container\n    };\n  },\n  minWidth: 200,\n  Cell: TableChipsCell\n}]), {\n  Header: t('createdOnHeader'),\n  accessor: ({\n    createdAt\n  }) => ({\n    date: createdAt\n  }),\n  width: 140,\n  maxWidth: 140,\n  Cell: TableDateCell\n}, {\n  Header: t('createdByHeader'),\n  accessor: ({\n    createdByUserId\n  }) => ({\n    userId: createdByUserId\n  }),\n  minWidth: 260,\n  Cell: TableUserCell\n}];\n\nconst ApiTokenTableRowActions = ({\n  t,\n  container,\n  handleOpenDeleteToken\n}) => row => {\n  const items = [{\n    icon: React.createElement(DeleteIcon, {\n      \"data-test-id\": \"deleteApiBtn\"\n    }),\n    onClick: () => handleOpenDeleteToken(row.clientId),\n    text: t('deleteApiTokenAction'),\n    negative: true\n  }];\n  return {\n    items,\n    container\n  };\n};\n\nconst DeleteApiTokenDialog$1 = ({\n  onClose,\n  open,\n  token = ''\n}) => {\n  const t = useT('apiTokens_DeleteToken');\n  const [submitted, setSubmitted] = react.exports.useState(false);\n  const {\n    loaders: {\n      DELETE_API_TOKEN: loading\n    },\n    errors: {\n      DELETE_API_TOKEN: error\n    }\n  } = useApiTokensState();\n  const {\n    deleteTenantApiToken,\n    setApiTokensError,\n    setApiTokensLoader\n  } = useApiTokensActions();\n  react.exports.useEffect(() => {\n    setApiTokensError({\n      key: ApiStateKeys.DELETE_API_TOKEN,\n      value: false\n    });\n    setApiTokensLoader({\n      key: ApiStateKeys.DELETE_API_TOKEN,\n      value: false\n    });\n  }, [setApiTokensError, setApiTokensLoader]);\n  react.exports.useEffect(() => {\n    if (submitted && !error && !loading) {\n      onClose();\n    }\n  }, [submitted, error, loading, onClose]);\n  const handleDeleteApiToken = react.exports.useCallback(() => {\n    deleteTenantApiToken(token);\n    setSubmitted(true);\n  }, [token, setSubmitted, deleteTenantApiToken]);\n  return React.createElement(DeleteDialog, {\n    dataTestId: 'deleteApiBtn',\n    title: t('title'),\n    cancelButtonText: t('cancel'),\n    deleteButtonText: t('delete'),\n    description: React.createElement(React.Fragment, null, t('areYouSureDeleteApiToken1'), \" \", React.createElement(\"strong\", null, \"(Token: \", token, \")\"), \"? \", t('areYouSureDeleteApiToken2')),\n    open: open,\n    error: error,\n    onClose: onClose,\n    loading: !!loading,\n    onDelete: handleDeleteApiToken\n  });\n};\n\nconst ApiTokensTable = () => {\n  const t = useT('apiTokens');\n  const {\n    injector\n  } = useShadowDom();\n  const container = injector === null || injector === void 0 ? void 0 : injector.adminPortalEl;\n  const {\n    roles\n  } = useAuthTeamState();\n  const {\n    apiTokensDataTenant: tokensData,\n    searchValue,\n    loaders: {\n      LOAD_API_TOKENS: loading\n    }\n  } = useApiTokensState();\n  const rolesMap = useRolesMap(roles);\n  const {\n    policy,\n    loading: loadingPolicy\n  } = usePublicPolicySettings();\n  const isPermissionsAndRolesDisabled = react.exports.useMemo(() => !loadingPolicy && !(policy === null || policy === void 0 ? void 0 : policy.forcePermissions), [loadingPolicy, policy]);\n  const [deleteTokenDialog, handleCloseDeleteToken, handleOpenDeleteToken, deleteApiTokenData] = useDialogState();\n  const rows = react.exports.useMemo(() => {\n    if (!!searchValue) {\n      return tokensData.filter(token => token.description.indexOf(searchValue) !== -1 || token.clientId.indexOf(searchValue) !== -1);\n    }\n\n    return tokensData;\n  }, [tokensData, searchValue]);\n  const columns = react.exports.useMemo(() => ApiTokensTableColumns({\n    t,\n    rolesMap,\n    container,\n    isPermissionsAndRolesDisabled\n  }), [container, rolesMap, t, isPermissionsAndRolesDisabled]);\n  const getRowActions = react.exports.useMemo(() => ApiTokenTableRowActions({\n    t,\n    container,\n    handleOpenDeleteToken\n  }), [t, container, handleOpenDeleteToken]);\n  const tablePlaceholderProps = react.exports.useMemo(() => {\n    if (loading) {\n      return null;\n    } else if (!searchValue && rows.length === 0) {\n      return {\n        show: true,\n        icon: React.createElement(APITokenIcon, null),\n        title: t('noApiTokensYet'),\n        description: t('noApiTokensYetDescription')\n      };\n    } else if (searchValue && rows.length === 0) {\n      return {\n        show: true,\n        icon: React.createElement(SearchBigIcon, null),\n        title: t('noResultFound'),\n        description: t('noResultFoundDescription')\n      };\n    }\n\n    return null;\n  }, [t, loading, searchValue, rows.length]);\n  return React.createElement(React.Fragment, null, React.createElement(Table, {\n    \"data-test-id\": \"table\",\n    columns: columns,\n    data: rows,\n    getRowActions: getRowActions,\n    loading: !!loading\n  }, tablePlaceholderProps && React.createElement(TablePlaceholder, Object.assign({}, tablePlaceholderProps))), React.createElement(DeleteApiTokenDialog$1, {\n    \"data-test-id\": \"deleteTokenBox\",\n    open: deleteTokenDialog,\n    onClose: handleCloseDeleteToken,\n    token: deleteApiTokenData\n  }));\n};\n\nconst ApiTokensHeader = ({\n  handleOpenAddToken\n}) => {\n  const t = useT('apiTokens');\n  const {\n    setApiTokensState\n  } = useApiTokensActions();\n  const handleSearchChanged = react.exports.useCallback(e => setApiTokensState({\n    searchValue: e.target.value\n  }), [setApiTokensState]);\n  const canAddTenantToken = usePermission('fe.secure.write.tenantApiTokens');\n  return React.createElement(Grid, {\n    container: true,\n    spacing: 4\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    md: 4\n  }, React.createElement(Box, null, React.createElement(Input$1$1, {\n    \"data-test-id\": \"serachBox\",\n    endAdornment: React.createElement(SearchIcon, null),\n    onChange: handleSearchChanged,\n    placeholder: t('searchInputPlaceholder')\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: true\n  }), canAddTenantToken && React.createElement(Grid, {\n    item: true\n  }, React.createElement(Button$1, {\n    \"data-test-id\": \"generateTokenBtn\",\n    onClick: handleOpenAddToken\n  }, t('generateTokenButton'))));\n};\n\nconst AddTokenSuccessForm$1 = react.exports.forwardRef((props, ref) => {\n  const t = useT('apiTokens_AddToken');\n  const {\n    successDialog: {\n      clientId,\n      secret\n    }\n  } = useApiTokensState();\n  return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, {\n    ref: ref\n  }, React.createElement(Alert$1, {\n    sx: {\n      marginBottom: 4\n    },\n    color: \"info\"\n  }, t('copyAndSaveId')), React.createElement(InputCopyField, {\n    label: t('clientId'),\n    value: clientId !== null && clientId !== void 0 ? clientId : ''\n  }), React.createElement(InputCopyField, {\n    label: t('secretKey'),\n    value: secret !== null && secret !== void 0 ? secret : ''\n  })), React.createElement(Dialog$1.Footer, null, React.createElement(Button$1, {\n    \"data-test-id\": \"doneBtn\",\n    color: 'secondary',\n    onClick: props.onClose,\n    type: 'reset'\n  }, t('done'))));\n});\nconst DescriptionField$1 = react.exports.memo(() => {\n  const t = useT('apiTokens_AddToken');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('description');\n  return React.createElement(Input$1$1, Object.assign({\n    label: t('descriptionInputLabel'),\n    \"data-test-id\": \"descriptionBox\"\n  }, fieldProps, {\n    autoFocus: true,\n    error: !!error && touched,\n    errorMessage: error,\n    autoComplete: 'description'\n  }));\n});\nconst AddTokenForm$1 = react.exports.forwardRef((props, ref) => {\n  const t = useT('apiTokens_AddToken');\n  const {\n    addTenantApiToken\n  } = useApiTokensActions();\n  const {\n    policy\n  } = usePublicPolicySettings();\n  const initialValues = react.exports.useMemo(() => ({\n    description: '',\n    roleIds: []\n  }), []);\n  const validationSchema = react.exports.useMemo(() => validateSchema({\n    description: validateNotEmpty(t('descriptionIsRequired')),\n    roleIds: create().min((policy === null || policy === void 0 ? void 0 : policy.forcePermissions) ? 1 : 0, t('rolesIsRequired'))\n  }), [t, policy === null || policy === void 0 ? void 0 : policy.forcePermissions]);\n  const formikProps = {\n    onSubmit: ({\n      description,\n      roleIds\n    }) => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, reject);\n      addTenantApiToken({\n        description,\n        roleIds,\n        callback\n      });\n    }),\n    initialValues,\n    validationSchema\n  };\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit,\n    formError\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, {\n      ref: ref\n    }, React.createElement(DescriptionField$1, null), (policy === null || policy === void 0 ? void 0 : policy.forcePermissions) && React.createElement(RolesField$4, {\n      label: t('rolesInputLabel'),\n      placeholder: t('rolesInputPlaceholder')\n    }), React.createElement(FormErrorDialogMessage, {\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n      flex: 1\n    }), React.createElement(Button$1, {\n      \"data-test-id\": \"cancelBtn\",\n      color: 'inherit',\n      variant: 'text',\n      type: 'reset',\n      onClick: props.onClose\n    }, t('cancel')), React.createElement(Button$1, {\n      \"data-test-id\": \"createBtn\",\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: 'primary',\n      type: 'submit'\n    }, t('create'))));\n  });\n});\n\nconst AddTokenSteper$1 = props => {\n  const {\n    successDialog: {\n      open\n    }\n  } = useApiTokensState();\n  return React.createElement(React.Fragment, null, React.createElement(Slide$1, {\n    in: !open,\n    appear: false,\n    exit: false,\n    unmountOnExit: true,\n    direction: !open ? 'left' : 'right'\n  }, React.createElement(AddTokenForm$1, Object.assign({}, props))), React.createElement(Slide$1, {\n    in: open,\n    mountOnEnter: true,\n    unmountOnExit: true,\n    direction: open ? 'left' : 'right'\n  }, React.createElement(AddTokenSuccessForm$1, Object.assign({}, props))));\n};\n\nconst AddTokenDialog$1 = props => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('apiTokens_AddToken');\n  const {\n    successDialog: {\n      open\n    }\n  } = useApiTokensState();\n  const title = open ? t('successTitle') : t('title');\n  return React.createElement(Dialog$1, Object.assign({\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    title: title,\n    size: 'sm'\n  }), React.createElement(AddTokenSteper$1, Object.assign({}, props)));\n};\n\nconst ApiTokensPage$1 = () => {\n  const {\n    loadRoles\n  } = useAuthTeamActions();\n  const {\n    loadApiTokens,\n    setApiTokensState\n  } = useApiTokensActions();\n  const {\n    apiTokensDataTenant\n  } = useApiTokensState();\n  const [addTokenDialog, handleCloseAddToken, handleOpenAddToken] = useDialogState();\n  react.exports.useEffect(() => {\n    const queryObject = {\n      pageOffset: 0,\n      filter: [],\n      silentLoading: apiTokensDataTenant.length > 0\n    };\n    loadRoles();\n    loadApiTokens(queryObject);\n    return () => loadApiTokens(queryObject); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loadApiTokens, loadRoles]);\n  const onDialogCloseHandler = react.exports.useCallback(() => {\n    handleCloseAddToken();\n    setTimeout(() => setApiTokensState({\n      successDialog: {\n        clientId: '',\n        secret: '',\n        open: false\n      }\n    }), 400);\n  }, [handleCloseAddToken, setApiTokensState]);\n  return React.createElement(PageWrapper, {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(ApiTokensHeader, {\n    handleOpenAddToken: handleOpenAddToken\n  }), React.createElement(Box, {\n    mt: 6,\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(ApiTokensTable, null)), React.createElement(AddTokenDialog$1, {\n    open: addTokenDialog,\n    onClose: onDialogCloseHandler\n  }));\n};\n\nvar ApiTokensPage$2 = ApiTokensPage$1;\nvar ApiTokensPage = wrapPage(ApiTokensPage$2, 'apiTokens');\n\nconst AuditLogsHeader = () => {\n  const t = useT('auditLogs');\n  const prevSearch = react.exports.useRef({\n    search: null\n  });\n  const [search, setSearch] = react.exports.useState('');\n  const {\n    loadAuditLogs,\n    exportAuditsCsv\n  } = useAuditsActions();\n  const {\n    filter: filters,\n    sort\n  } = useAuditLogsState();\n  const searchValue = useDebounce(search, 500);\n  const filterOnly = react.exports.useMemo(() => {\n    var _a;\n\n    return (_a = filters === null || filters === void 0 ? void 0 : filters.filter(f => f.id !== 'filter')) !== null && _a !== void 0 ? _a : [];\n  }, [filters]);\n  const handlerOnSetFilter = react.exports.useCallback(values => {\n    loadAuditLogs({\n      pageOffset: 0,\n      sort,\n      filter: values\n    });\n  }, [loadAuditLogs, sort]);\n  const AuditsDownloadIcon = styled(default_1)(({\n    theme\n  }) => ({\n    color: theme.palette.grey[500]\n  }));\n  const handlerSearch = react.exports.useCallback(e => {\n    setSearch(e.target.value);\n  }, [setSearch]);\n  react.exports.useEffect(() => {\n    prevSearch.current.search !== null && prevSearch.current.search !== searchValue && handlerOnSetFilter([...filterOnly, {\n      id: 'filter',\n      value: searchValue.toLowerCase()\n    }]);\n    prevSearch.current.search = searchValue;\n  }, [searchValue, handlerOnSetFilter, filterOnly, prevSearch]);\n  return React.createElement(Grid, {\n    container: true,\n    spacing: 4,\n    justifyContent: \"space-between\"\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 8,\n    sm: 6,\n    md: 4\n  }, React.createElement(Box, null, React.createElement(Input$1$1, {\n    \"data-test-id\": \"Search\",\n    endAdornment: React.createElement(SearchIcon, null),\n    onChange: handlerSearch,\n    placeholder: t('searchInputPlaceholder')\n  }))), React.createElement(Grid, {\n    item: true\n  }, React.createElement(Button$1, {\n    \"data-test-id\": \"Download\",\n    size: \"small\",\n    color: \"inherit\",\n    onClick: () => exportAuditsCsv()\n  }, React.createElement(Box, {\n    component: AuditsDownloadIcon,\n    sx: {\n      height: '0.75rem',\n      width: '0.75rem',\n      marginRight: '0.75rem',\n      marginTop: '0.125rem'\n    }\n  }), t('downloadCsvPrimaryButton'))));\n};\n\nconst FilterBody = styled(Box)(({\n  theme\n}) => ({\n  margin: '8px -16px 16px -16px',\n  padding: '15px 16px',\n  borderBottom: `1px solid ${theme.palette.grey[300]}`,\n  borderTop: `1px solid ${theme.palette.grey[300]}`\n}));\nconst Selector = styled(Select$1$1)({\n  '& .MuiOutlinedInput-root': {\n    minWidth: '100%'\n  }\n});\n\nconst AlphaNumericFilter = ({\n  value,\n  onChange\n}) => {\n  const [inputState, setInputState] = react.exports.useState(`${value !== null && value !== void 0 ? value : ''}`);\n  return React.createElement(Input$1$1, {\n    autoFocus: true,\n    fullWidth: true,\n    onChange: e => {\n      setInputState(e.target.value);\n      onChange(e.target.value);\n    },\n    value: inputState\n  });\n};\n\nconst SeverityFilter = ({\n  value,\n  onChange\n}) => {\n  const [selectState, setSelectState] = react.exports.useState(severityOptions[0].value);\n  const {\n    injector\n  } = useShadowDom();\n  react.exports.useEffect(() => {\n    onChange(selectState);\n\n    if (value) {\n      setSelectState(severityOptions.filter(o => o.value === value)[0].value);\n    } // eslint-disable-next-line\n\n  }, []);\n  const handleSelect = react.exports.useCallback(value => {\n    setSelectState(value);\n    onChange(value);\n  }, [setSelectState, onChange]);\n  return React.createElement(Selector, {\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    fullWidth: true,\n    size: \"small\",\n    placeholder: \"select\",\n    value: selectState,\n    onChange: value => handleSelect(value),\n    options: severityOptions\n  });\n};\n\nconst TimeStampFilter = ({\n  value,\n  onChange\n}) => {\n  const [selectState, setSelectState] = react.exports.useState(value ? timeOptions.filter(f => f.value === getTimeDiff(value))[0].value : timeOptions[0].value);\n  const {\n    injector\n  } = useShadowDom();\n  const handleSelect = react.exports.useCallback(value => {\n    setSelectState(value);\n    onChange(value);\n  }, [onChange, setSelectState]);\n  return React.createElement(Selector, {\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    fullWidth: true,\n    size: \"small\",\n    placeholder: \"select\",\n    value: selectState,\n    onChange: handleSelect,\n    options: timeOptions\n  });\n};\n\nconst Filter = ({\n  closePopup,\n  value,\n  setFilterValue,\n  type,\n  name\n}) => {\n  const t = useT('auditLogs');\n  const [state, setState] = react.exports.useState('');\n  const filter = react.exports.useMemo(() => {\n    switch (type) {\n      case 'Timestamp':\n        return React.createElement(TimeStampFilter, {\n          value: value === null || value === void 0 ? void 0 : value.$gt,\n          onChange: value => setState(value)\n        });\n\n      case 'Severity':\n        return React.createElement(SeverityFilter, {\n          value: value,\n          onChange: value => setState(value)\n        });\n\n      default:\n        return React.createElement(AlphaNumericFilter, {\n          value: value,\n          onChange: value => setState(value)\n        });\n    }\n  }, [type, value, setState]);\n  const handleFilter = react.exports.useCallback(e => {\n    e.preventDefault();\n    getFilterType(type) === 'input' ? !!state.trim() && setFilterValue(state) : setFilterValue(type === 'Timestamp' ? getFilterTime(state) : state);\n  }, [type, state, setFilterValue]);\n  const FilterFooter = react.exports.useCallback(() => {\n    return React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      paddingBottom: 1\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 6\n    }, React.createElement(Button$1, {\n      \"data-test-id\": \"cancelBtn\",\n      type: \"button\",\n      color: \"inherit\",\n      size: \"small\",\n      fullWidth: true,\n      onClick: () => {\n        !!value && setFilterValue(null);\n        closePopup === null || closePopup === void 0 ? void 0 : closePopup();\n      }\n    }, value ? t('clear') : t('cancel'))), React.createElement(Grid, {\n      item: true,\n      xs: 6\n    }, React.createElement(Button$1, {\n      \"data-test-id\": \"submit-btn\",\n      size: \"small\",\n      type: \"submit\",\n      fullWidth: true,\n      color: \"primary\"\n    }, t('filter'))));\n  }, [setFilterValue, closePopup, t, value]);\n  return React.createElement(Box, null, React.createElement(\"form\", {\n    onSubmit: e => {\n      handleFilter(e);\n      closePopup === null || closePopup === void 0 ? void 0 : closePopup();\n    }\n  }, React.createElement(Typography$1, {\n    variant: \"tableFilterTitle\"\n  }, t('filterBy'), \" \", getFilterName(name)), React.createElement(FilterBody, null, filter), React.createElement(FilterFooter, null)));\n};\n\nconst AuditLogsTableColumns = ({\n  columnsMetadata,\n  container\n}) => {\n  return columnsMetadata.filter(c => c.showInTable).map(c => {\n    switch (c.type) {\n      case 'Timestamp':\n        return {\n          id: c.name,\n          Header: c.displayName,\n          accessor: row => ({\n            date: row[c.name]\n          }),\n          Cell: TableDateCell,\n          Filter: c.filterable ? ({\n            value,\n            setFilterValue,\n            closePopup\n          }) => React.createElement(Filter, {\n            name: c.name,\n            value: value,\n            setFilterValue: setFilterValue,\n            closePopup: closePopup,\n            type: c.type\n          }) : undefined,\n          width: 160,\n          maxWidth: 160,\n          sortable: c.sortable\n        };\n\n      case 'Email':\n        return {\n          id: c.name,\n          Header: c.displayName,\n          accessor: row => ({\n            email: row[c.name],\n            name: row['user']\n          }),\n          Cell: TableUserCell,\n          Filter: c.filterable ? ({\n            value,\n            setFilterValue,\n            closePopup\n          }) => React.createElement(Filter, {\n            name: c.name,\n            value: value,\n            setFilterValue: setFilterValue,\n            closePopup: closePopup,\n            type: c.type\n          }) : undefined,\n          width: 280,\n          maxWidth: 280,\n          sortable: c.sortable\n        };\n\n      case 'IpAddress':\n        return {\n          id: c.name,\n          Header: c.displayName,\n          accessor: row => ({\n            ip: row[c.name],\n            container,\n            getIpMetadata\n          }),\n          Cell: TableIpCell,\n          Filter: c.filterable ? ({\n            value,\n            setFilterValue,\n            closePopup\n          }) => React.createElement(Filter, {\n            name: c.name,\n            value: value,\n            setFilterValue: setFilterValue,\n            closePopup: closePopup,\n            type: c.type\n          }) : undefined,\n          width: 280,\n          maxWidth: 280,\n          sortable: c.sortable\n        };\n\n      case 'Json':\n        return {\n          id: c.name,\n          Header: c.displayName,\n          accessor: row => ({\n            json: Array.isArray(row[c.name]) ? row[c.name] : [row[c.name]],\n            container\n          }),\n          Cell: TableJsonCell,\n          width: 150,\n          maxWidth: 150,\n          sortable: c.sortable\n        };\n\n      case 'Severity':\n        return {\n          id: c.name,\n          Header: c.displayName,\n          accessor: row => ({\n            label: row[c.name],\n            severity: getSeverityByName(row[c.name])\n          }),\n          Cell: TableSeverityCell,\n          Filter: c.filterable ? ({\n            value,\n            setFilterValue,\n            closePopup\n          }) => React.createElement(Filter, {\n            name: c.name,\n            value: value,\n            setFilterValue: setFilterValue,\n            closePopup: closePopup,\n            type: c.type\n          }) : undefined,\n          width: 150,\n          maxWidth: 150,\n          sortable: c.sortable\n        };\n\n      default:\n        return {\n          id: c.name,\n          Header: c.displayName,\n          accessor: row => ({\n            description: row[c.name],\n            container\n          }),\n          Cell: TableTextCell,\n          Filter: c.filterable ? ({\n            value,\n            setFilterValue,\n            closePopup\n          }) => React.createElement(Filter, {\n            name: c.name,\n            value: value,\n            setFilterValue: setFilterValue,\n            closePopup: closePopup,\n            type: c.type\n          }) : undefined,\n          minWidth: 220,\n          sortable: c.sortable\n        };\n    }\n  }).filter(c => !!c);\n};\n\nconst AuditLogsTable = () => {\n  var _a, _b;\n\n  const t = useT('auditLogs');\n  const {\n    injector\n  } = useShadowDom();\n  const {\n    searching\n  } = useTableSearch();\n  const {\n    loadAuditLogs\n  } = useAuditsActions();\n  const {\n    columns: columnsMetadata\n  } = useAuditsMetadataState();\n\n  const _c = useAuditLogsState(),\n        {\n    loading,\n    totalPages,\n    pageOffset,\n    pageSize,\n    sort,\n    filter: filters\n  } = _c,\n        auditLogsState = __rest(_c, [\"loading\", \"totalPages\", \"pageOffset\", \"pageSize\", \"sort\", \"filter\"]);\n\n  const logs = (_a = auditLogsState === null || auditLogsState === void 0 ? void 0 : auditLogsState.logs) !== null && _a !== void 0 ? _a : [];\n  const columns = react.exports.useMemo(() => {\n    var _a;\n\n    return AuditLogsTableColumns({\n      columnsMetadata: columnsMetadata !== null && columnsMetadata !== void 0 ? columnsMetadata : [],\n      container: (_a = injector === null || injector === void 0 ? void 0 : injector.adminPortalEl) !== null && _a !== void 0 ? _a : document.body\n    });\n  }, [t, columnsMetadata, injector === null || injector === void 0 ? void 0 : injector.adminPortalEl]);\n  const onPageChange = react.exports.useCallback((_, page) => {\n    loadAuditLogs({\n      pageOffset: pageSize * (page - 1)\n    });\n  }, [loadAuditLogs, pageSize]);\n  const handlerSortChange = react.exports.useCallback(sortBy => {\n    loadAuditLogs({\n      pageOffset: 0,\n      sort: sortBy,\n      filter: filters\n    });\n  }, [loadAuditLogs, filters]);\n  const handlerFilterChange = react.exports.useCallback(_filters => {\n    loadAuditLogs({\n      pageOffset: 0,\n      sort,\n      filter: _filters\n    });\n  }, [loadAuditLogs, sort]);\n  const tablePlaceholderProps = react.exports.useMemo(() => {\n    if (loading) {\n      return null;\n    } else if (logs.length === 0) {\n      return {\n        show: true,\n        icon: React.createElement(SearchBigIcon, null),\n        title: t('noResultFound'),\n        description: t('noResultFoundDescription')\n      };\n    }\n\n    return null;\n  }, [t, loading, logs.length]);\n  const moreInfoColumns = columnsMetadata === null || columnsMetadata === void 0 ? void 0 : columnsMetadata.filter(c => str2bool(c.showInMoreInfo));\n  const TableExpandRow = react.exports.useCallback(row => {\n    const rowToDisplay = {};\n    moreInfoColumns === null || moreInfoColumns === void 0 ? void 0 : moreInfoColumns.filter(c => !!row.original[c.name]).forEach(c => {\n      if (c.type === 'Timestamp') {\n        const date = new Date(row.original[c.name]);\n\n        if (!isValid$2(date)) {\n          return rowToDisplay[c.displayName] = '-';\n        }\n\n        return rowToDisplay[c.displayName] = format$1(date, 'dd/MM/yyyy hh:mm:ss bb');\n      }\n\n      return rowToDisplay[c.displayName] = row.original[c.name];\n    });\n    return React.createElement(TableExpandableRow, {\n      row: rowToDisplay\n    });\n  }, [moreInfoColumns]);\n  return React.createElement(React.Fragment, null, React.createElement(Table, {\n    container: (_b = injector === null || injector === void 0 ? void 0 : injector.adminPortalEl) !== null && _b !== void 0 ? _b : document.body,\n    columns: columns,\n    data: logs,\n    loading: loading,\n    searching: searching,\n    loadingText: searching ? t('searchingPlaceholder') : undefined,\n    totalPages: totalPages,\n    pageOffset: Math.floor(pageOffset / pageSize),\n    sortBy: sort,\n    filters: filters,\n    onSortChange: handlerSortChange,\n    onFilterChange: handlerFilterChange,\n    renderExpandedComponent: !(moreInfoColumns === null || moreInfoColumns === void 0 ? void 0 : moreInfoColumns.length) ? undefined : TableExpandRow,\n    onPageChange: onPageChange\n  }, tablePlaceholderProps && React.createElement(TablePlaceholder, Object.assign({}, tablePlaceholderProps))));\n};\n\nconst SubHeaderChip = styled(Chip)({\n  marginRight: '0.75rem'\n});\nconst ChipsContainer = styled(Box)({\n  marginTop: '1rem'\n});\n\nconst AuditLogsSubHeader = () => {\n  const {\n    sort,\n    filter\n  } = useAuditLogsState();\n  const {\n    loadAuditLogs\n  } = useAuditsActions();\n  const handleFilterDelete = react.exports.useCallback(id => {\n    loadAuditLogs({\n      pageOffset: 0,\n      sort,\n      filter: filter.filter(f => f.id !== id)\n    });\n  }, [loadAuditLogs, sort, filter]);\n  const chipLabel = react.exports.useCallback((id, value) => {\n    if (typeof value === 'object') {\n      return React.createElement(Box, {\n        display: 'flex',\n        alignItems: 'center'\n      }, getFilterName(id), \": \", React.createElement(Typography$1, {\n        variant: 'tableFilterChipInfo',\n        marginLeft: '5px'\n      }, format$1(new Date(Date.parse(value.$gt)), 'yyyy/MM/dd h:mm a')));\n    }\n\n    return React.createElement(Box, {\n      display: 'flex',\n      alignItems: 'center'\n    }, getFilterName(id), \": \", React.createElement(Typography$1, {\n      variant: 'tableFilterChipInfo',\n      marginLeft: '5px'\n    }, value));\n  }, []);\n  return React.createElement(ChipsContainer, null, filter.filter(f => f.id !== 'filter').map(f => React.createElement(SubHeaderChip, {\n    label: chipLabel(f.id, f.value),\n    key: f.value,\n    onDelete: () => handleFilterDelete(f.id),\n    deleteIcon: React.createElement(CrossBtnIcon, null)\n  })));\n};\n\nconst AuditLogsPage$1 = () => {\n  var _a;\n\n  const [searching, setSearching] = react.exports.useState(false);\n  const [searchQuery, onSearch] = react.exports.useState('');\n  const auditLogsState = useAuditLogsState();\n  const logs = (_a = auditLogsState === null || auditLogsState === void 0 ? void 0 : auditLogsState.logs) !== null && _a !== void 0 ? _a : [];\n  const {\n    loadAuditLogs\n  } = useAuditLogsActions();\n  react.exports.useEffect(() => {\n    const queryObject = {\n      pageOffset: 0,\n      sort: [{\n        id: 'createdAt',\n        desc: true\n      }],\n      silentLoading: logs.length > 0\n    };\n    loadAuditLogs(queryObject);\n    return () => loadAuditLogs(queryObject); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loadAuditLogs]);\n  return React.createElement(PageWrapper, {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(TableSearchContext.Provider, {\n    value: {\n      searching,\n      searchQuery,\n      onSearch,\n      setSearching\n    }\n  }, React.createElement(AuditLogsHeader, null), React.createElement(AuditLogsSubHeader, null), React.createElement(Box, {\n    mt: 1,\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(AuditLogsTable, null))));\n};\n\nvar AuditLogsPage$2 = AuditLogsPage$1;\nvar AuditLogsPage = wrapPage(AuditLogsPage$2, 'auditLogs'); //TODO change data test id from doneBtn to done-btn\n//TODO change data test id from clientId to copy-client-id-box moved it to the component\n//TODO change data test id from secretKey to copy-secret-key-box moved it to the component\n\nconst AddTokenSuccessForm = react.exports.forwardRef((props, ref) => {\n  const t = useT('personalTokens_AddToken');\n  const {\n    successDialog: {\n      clientId,\n      secret\n    }\n  } = useApiTokensState();\n  return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, {\n    ref: ref\n  }, React.createElement(Alert$1, {\n    sx: {\n      marginBottom: 4\n    },\n    color: \"info\"\n  }, t('copyAndSaveId')), React.createElement(InputCopyField, {\n    testId: \"copy-client-id\",\n    label: t('clientId'),\n    value: clientId !== null && clientId !== void 0 ? clientId : ''\n  }), React.createElement(InputCopyField, {\n    testId: \"copy-secret-key\",\n    label: t('secretKey'),\n    value: secret !== null && secret !== void 0 ? secret : ''\n  })), React.createElement(Dialog$1.Footer, null, React.createElement(Button$1, {\n    \"data-test-id\": \"done-btn\",\n    color: 'secondary',\n    onClick: props.onClose,\n    type: 'reset'\n  }, t('done'))));\n}); //TODO change data test id from descriptionBox to description-box\n\nconst DescriptionField = react.exports.memo(() => {\n  const t = useT('personalTokens_AddToken');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('description');\n  return React.createElement(Input$1$1, Object.assign({\n    label: t('descriptionInputLabel'),\n    \"data-test-id\": \"description-box\"\n  }, fieldProps, {\n    autoFocus: true,\n    error: !!error && touched,\n    errorMessage: error,\n    autoComplete: 'description'\n  }));\n});\nconst AddTokenForm = react.exports.forwardRef((props, ref) => {\n  const t = useT('personalTokens_AddToken');\n  const {\n    addUserApiToken\n  } = useApiTokensActions();\n  const initialValues = react.exports.useMemo(() => ({\n    description: ''\n  }), []);\n  const validationSchema = react.exports.useMemo(() => validateSchema({\n    description: validateNotEmpty(t('descriptionIsRequired'))\n  }), [t]);\n  const formikProps = {\n    onSubmit: ({\n      description\n    }) => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, reject);\n      addUserApiToken({\n        description,\n        callback\n      });\n    }),\n    initialValues,\n    validationSchema\n  }; //TODO change data test id from cancelBtn to cancel-btn\n  //TODO change data test id from createBtn to create-btn\n\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit,\n    formError\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, {\n      ref: ref\n    }, React.createElement(DescriptionField, null), React.createElement(FormErrorDialogMessage, {\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n      flex: 1\n    }), React.createElement(Button$1, {\n      \"data-test-id\": \"cancel-btn\",\n      color: 'inherit',\n      variant: 'text',\n      type: 'reset',\n      onClick: props.onClose\n    }, t('cancel')), React.createElement(Button$1, {\n      \"data-test-id\": \"create-btn\",\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: 'primary',\n      type: 'submit'\n    }, t('create'))));\n  });\n});\n\nconst AddTokenSteper = props => {\n  const {\n    successDialog: {\n      open\n    }\n  } = useApiTokensState();\n  return React.createElement(React.Fragment, null, React.createElement(Slide$1, {\n    in: !open,\n    appear: false,\n    exit: false,\n    unmountOnExit: true,\n    direction: !open ? 'left' : 'right'\n  }, React.createElement(AddTokenForm, Object.assign({}, props))), React.createElement(Slide$1, {\n    in: open,\n    mountOnEnter: true,\n    unmountOnExit: true,\n    direction: open ? 'left' : 'right'\n  }, React.createElement(AddTokenSuccessForm, Object.assign({}, props))));\n};\n\nconst AddTokenDialog = props => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('personalTokens_AddToken');\n  const {\n    successDialog: {\n      open\n    }\n  } = useApiTokensState();\n  const title = open ? t('successTitle') : t('title');\n  return React.createElement(Dialog$1, Object.assign({\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    title: title,\n    size: 'sm'\n  }), React.createElement(AddTokenSteper, Object.assign({}, props)));\n};\n\nconst PersonalTokensHeader = ({\n  handleOpenAddToken\n}) => {\n  const t = useT('personalTokens');\n  const {\n    setApiTokensState\n  } = useApiTokensActions();\n  const handleSearchChanged = react.exports.useCallback(e => setApiTokensState({\n    searchValue: e.target.value\n  }), [setApiTokensState]); //TODO change data test id from searchBox to search-box\n  //TODO change data test id from generateToken to generate-token\n\n  return React.createElement(Grid, {\n    container: true,\n    spacing: 4\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    md: 4\n  }, React.createElement(Box, null, React.createElement(Input$1$1, {\n    \"data-test-id\": \"search-box\",\n    endAdornment: React.createElement(SearchIcon, null),\n    onChange: handleSearchChanged,\n    placeholder: t('searchInputPlaceholder')\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: true\n  }), React.createElement(Grid, {\n    item: true\n  }, React.createElement(Button$1, {\n    \"data-test-id\": \"generate-token\",\n    onClick: handleOpenAddToken\n  }, t('generateTokenButton'))));\n};\n\nconst PersonalTokensTableColumns = ({\n  t\n}) => [{\n  Header: t('clientIdHeader'),\n  accessor: ({\n    clientId,\n    description\n  }) => ({\n    title: description,\n    description: clientId,\n    copyValue: clientId,\n    testId: 'client-id'\n  }),\n  minWidth: 400,\n  Cell: TableCopyCell\n}, {\n  Header: t('createdOnHeader'),\n  accessor: ({\n    createdAt\n  }) => ({\n    date: createdAt\n  }),\n  width: 250,\n  maxWidth: 250,\n  Cell: TableDateCell\n}];\n\nconst PersonalTokenTableRowActions = ({\n  t,\n  container,\n  handleOpenDeleteToken\n}) => row => {\n  const items = [{\n    icon: React.createElement(DeleteIcon, {\n      \"data-test-id\": \"delete-token\"\n    }),\n    onClick: () => handleOpenDeleteToken(row.clientId),\n    text: t('deleteApiTokenAction'),\n    negative: true\n  }];\n  return {\n    items,\n    container\n  };\n};\n\nconst DeleteApiTokenDialog = ({\n  onClose,\n  open,\n  token = ''\n}) => {\n  const t = useT('personalTokens_DeleteToken');\n  const [submitted, setSubmitted] = react.exports.useState(false);\n  const {\n    loaders: {\n      DELETE_API_TOKEN: loading\n    },\n    errors: {\n      DELETE_API_TOKEN: error\n    }\n  } = useApiTokensState();\n  const {\n    deleteUserApiToken,\n    setApiTokensError,\n    setApiTokensLoader\n  } = useApiTokensActions();\n  react.exports.useEffect(() => {\n    setApiTokensError({\n      key: ApiStateKeys.DELETE_API_TOKEN,\n      value: false\n    });\n    setApiTokensLoader({\n      key: ApiStateKeys.DELETE_API_TOKEN,\n      value: false\n    });\n  }, [setApiTokensError, setApiTokensLoader]);\n  react.exports.useEffect(() => {\n    if (submitted && !error && !loading) {\n      onClose();\n    }\n  }, [submitted, error, loading, onClose]);\n  const handleDeleteApiToken = react.exports.useCallback(() => {\n    deleteUserApiToken(token);\n    setSubmitted(true);\n  }, [token, setSubmitted, deleteUserApiToken]);\n  return React.createElement(DeleteDialog, {\n    dataTestId: 'deleteApiBtn',\n    title: t('title'),\n    cancelButtonText: t('cancel'),\n    deleteButtonText: t('delete'),\n    description: React.createElement(React.Fragment, null, t('areYouSureDeleteApiToken1'), \" \", React.createElement(\"strong\", null, \"(Token: \", token, \")\"), \"? \", t('areYouSureDeleteApiToken2')),\n    open: open,\n    error: error,\n    onClose: onClose,\n    loading: !!loading,\n    onDelete: handleDeleteApiToken\n  });\n};\n\nconst PersonalTokensTable = () => {\n  const t = useT('personalTokens');\n  const {\n    injector\n  } = useShadowDom();\n  const container = injector === null || injector === void 0 ? void 0 : injector.adminPortalEl;\n  const {\n    apiTokensDataUser: tokensData,\n    searchValue,\n    loaders: {\n      LOAD_API_TOKENS: loading\n    }\n  } = useApiTokensState();\n  const [deleteTokenDialog, handleCloseDeleteToken, handleOpenDeleteToken, deleteApiTokenData] = useDialogState();\n  const rows = react.exports.useMemo(() => {\n    if (!!searchValue) {\n      return tokensData.filter(token => token.description.indexOf(searchValue) !== -1 || token.clientId.indexOf(searchValue) !== -1);\n    }\n\n    return tokensData;\n  }, [tokensData, searchValue]);\n  const columns = react.exports.useMemo(() => PersonalTokensTableColumns({\n    t\n  }), [t]);\n  const getRowActions = react.exports.useMemo(() => PersonalTokenTableRowActions({\n    t,\n    container,\n    handleOpenDeleteToken\n  }), [t, container, handleOpenDeleteToken]);\n  const tablePlaceholderProps = react.exports.useMemo(() => {\n    if (loading) {\n      return null;\n    } else if (!searchValue && rows.length === 0) {\n      return {\n        show: true,\n        icon: React.createElement(APITokenIcon, null),\n        title: t('noApiTokensYet'),\n        description: t('noApiTokensYetDescription'),\n        testId: 'empty-table-personal-tokens'\n      };\n    } else if (searchValue && rows.length === 0) {\n      return {\n        show: true,\n        icon: React.createElement(SearchBigIcon, null),\n        title: t('noResultFound'),\n        description: t('noResultFoundDescription'),\n        testId: 'empty-search-personal-tokens'\n      };\n    }\n\n    return null;\n  }, [t, loading, searchValue, rows.length]);\n  return React.createElement(React.Fragment, null, React.createElement(Table, {\n    columns: columns,\n    data: rows,\n    getRowActions: getRowActions,\n    loading: !!loading\n  }, tablePlaceholderProps && React.createElement(TablePlaceholder, Object.assign({}, tablePlaceholderProps))), React.createElement(DeleteApiTokenDialog, {\n    open: deleteTokenDialog,\n    onClose: handleCloseDeleteToken,\n    token: deleteApiTokenData\n  }));\n};\n\nconst PersonalTokensPage$1 = () => {\n  const {\n    loadRoles\n  } = useAuthTeamActions();\n  const {\n    loadApiTokens,\n    setApiTokensState\n  } = useApiTokensActions();\n  const {\n    apiTokensDataUser\n  } = useApiTokensState();\n  const [addTokenDialog, handleCloseAddToken, handleOpenAddToken] = useDialogState();\n  react.exports.useEffect(() => {\n    const queryObject = {\n      pageOffset: 0,\n      filter: [],\n      silentLoading: apiTokensDataUser.length > 0\n    };\n    loadRoles();\n    loadApiTokens(queryObject);\n    return () => loadApiTokens(queryObject); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loadApiTokens, loadRoles]);\n  const onDialogCloseHandler = react.exports.useCallback(() => {\n    handleCloseAddToken();\n    setTimeout(() => setApiTokensState({\n      successDialog: {\n        clientId: '',\n        secret: '',\n        open: false\n      }\n    }), 400);\n  }, [handleCloseAddToken, setApiTokensState]);\n  return React.createElement(PageWrapper, {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(PersonalTokensHeader, {\n    handleOpenAddToken: handleOpenAddToken\n  }), React.createElement(Box, {\n    mt: 6,\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(PersonalTokensTable, null)), React.createElement(AddTokenDialog, {\n    open: addTokenDialog,\n    onClose: onDialogCloseHandler\n  }));\n};\n\nvar PersonalTokensPage$2 = PersonalTokensPage$1;\nvar PersonalTokensPage = wrapPage(PersonalTokensPage$2, 'personalTokens');\nstyled(Skeleton)`\n  &.MuiSkeleton-root {\n    height: ${({\n  theme\n}) => theme.spacing(12)};\n    width: 100%;\n    transform: scale(1, 1);\n    margin-bottom: ${({\n  theme\n}) => theme.spacing(2)};\n  }\n`;\nconst BoxSkeleton = styled(Skeleton)`\n  &.MuiSkeleton-root {\n    width: 100%;\n    transform: scale(1, 1);\n    margin-bottom: ${({\n  theme\n}) => theme.spacing(4)};\n  }\n`;\n\nconst CurrentPlanComponentSkeleton = () => {\n  return React.createElement(Grid, {\n    container: true\n  }, React.createElement(Grid, {\n    item: true,\n    xs: true,\n    p: 0\n  }, React.createElement(Skeleton, {\n    height: 52,\n    width: '80%'\n  }), React.createElement(Skeleton, {\n    height: 24,\n    width: '60%'\n  }), React.createElement(Skeleton, {\n    height: 32,\n    width: '100%'\n  })), React.createElement(Grid, {\n    item: true,\n    container: true,\n    xs: true,\n    p: 0,\n    direction: 'column'\n  }, React.createElement(Grid, {\n    container: true,\n    mb: 12,\n    justifyContent: 'flex-end'\n  }, React.createElement(Grid, {\n    item: true,\n    mr: 6\n  }, React.createElement(BoxSkeleton, {\n    height: 40,\n    width: 132\n  })), React.createElement(Grid, {\n    item: true\n  }, React.createElement(BoxSkeleton, {\n    height: 40,\n    width: 132\n  })))));\n};\n\nconst INVOICE_DATE_FORMAT = 'MMM dd, yyyy';\nconst BILLING_INFORMATION_PLAN_DATE_FORMAT = 'MMM dd, yyyy';\nconst DATE_FILENAME_FORMAT = 'ddMMyyyy';\n\nconst useSubscriptionPermissions = permission => {\n  return usePermission(permission || 'fe.subscriptions.write.*');\n};\n\nconst useBillingMetadata = () => {\n  var _a, _b, _c, _d;\n\n  const {\n    summary,\n    plan\n  } = useBillingInformation();\n  const {\n    vendorPublicConfig\n  } = useVendorPublicConfig();\n  const {\n    subscription\n  } = useSubscription();\n  const {\n    plans\n  } = usePlans();\n  const now = Date.now();\n  const {\n    cancellation,\n    status,\n    trialEnd\n  } = subscription || {};\n  const willBeCanceled = (cancellation === null || cancellation === void 0 ? void 0 : cancellation.policy) === ISubscriptionCancellationPolicy.AT_PERIOD_END;\n  const isCanceled = status === ISubscriptionStatus.CANCELED;\n  const isDefaultPlan = (summary === null || summary === void 0 ? void 0 : summary.defaultPlanId) === (summary === null || summary === void 0 ? void 0 : summary.currentPlanId);\n  const isTrialing = status === ISubscriptionStatus.TRIALING;\n  const isInTrialPeriod = trialEnd && new Date(trialEnd).getTime() > now;\n  const isExternallyManaged = (summary === null || summary === void 0 ? void 0 : summary.externallyManaged) || false;\n  const hasPaymentMethod = !!(summary === null || summary === void 0 ? void 0 : summary.paymentMethodId);\n  const isFreePlan = ((_b = (_a = plan === null || plan === void 0 ? void 0 : plan.name) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === null || _b === void 0 ? void 0 : _b.includes('free')) || ((_d = (_c = plan === null || plan === void 0 ? void 0 : plan.description) === null || _c === void 0 ? void 0 : _c.toLowerCase()) === null || _d === void 0 ? void 0 : _d.includes('free'));\n  const plansAmount = plans === null || plans === void 0 ? void 0 : plans.length;\n  const isSingularPlan = plansAmount === 1;\n  const defaultPlanId = summary === null || summary === void 0 ? void 0 : summary.defaultPlanId;\n  const hasTrialEnded = status === ISubscriptionStatus.TRIAL_ENDED;\n  const currentPlanIndex = plans.findIndex(p => p.id === (plan === null || plan === void 0 ? void 0 : plan.id));\n  const canDowngrade = currentPlanIndex <= 0 || (vendorPublicConfig === null || vendorPublicConfig === void 0 ? void 0 : vendorPublicConfig.allowPlanDowngrade);\n  const canUpgrade = currentPlanIndex < plansAmount - 1;\n  const canCancel = !!(vendorPublicConfig === null || vendorPublicConfig === void 0 ? void 0 : vendorPublicConfig.allowPlanCancellation);\n  return react.exports.useMemo(() => ({\n    isCanceled,\n    willBeCanceled,\n    isDefaultPlan,\n    isTrialing,\n    isInTrialPeriod,\n    isExternallyManaged,\n    hasPaymentMethod,\n    isFreePlan,\n    isSingularPlan,\n    defaultPlanId,\n    hasTrialEnded,\n    canDowngrade,\n    canUpgrade,\n    canCancel\n  }), [isCanceled, willBeCanceled, isDefaultPlan, isTrialing, isInTrialPeriod, isExternallyManaged, hasPaymentMethod, isFreePlan, isSingularPlan, defaultPlanId, hasTrialEnded, canDowngrade, canUpgrade, canCancel]);\n};\n\nconst CanceledChip = () => {\n  const t = useT('subscriptions_CurrentPlan');\n  return React.createElement(StatusChip, {\n    status: 'error',\n    withIcons: false,\n    label: t('canceled')\n  });\n};\n\nconst TrialingChip = () => {\n  const t = useT('subscriptions_CurrentPlan');\n  return React.createElement(StatusChip, {\n    status: 'default',\n    withIcons: false,\n    label: t('trialing')\n  });\n};\n\nconst TrialEndedChip = () => {\n  const t = useT('subscriptions_CurrentPlan');\n  return React.createElement(StatusChip, {\n    status: 'error',\n    withIcons: false,\n    label: t('trialEnded')\n  });\n};\n\nconst subscriptionStatusChipMap = {\n  [ISubscriptionStatus.INCOMPLETE]: null,\n  [ISubscriptionStatus.ACTIVE]: null,\n  [ISubscriptionStatus.TRIALING]: TrialingChip,\n  [ISubscriptionStatus.CANCELED]: CanceledChip,\n  [ISubscriptionStatus.TRIAL_ENDED]: TrialEndedChip,\n  [ISubscriptionStatus.EXPIRED]: null\n};\n\nconst PlanDetailsStatusChip = () => {\n  const {\n    subscription\n  } = useSubscription();\n  const {\n    willBeCanceled\n  } = useBillingMetadata();\n  let Component = (subscription === null || subscription === void 0 ? void 0 : subscription.status) && subscriptionStatusChipMap[subscription.status];\n\n  if (willBeCanceled) {\n    Component = subscriptionStatusChipMap[ISubscriptionStatus.CANCELED];\n  }\n\n  if (!Component) {\n    return null;\n  }\n\n  return React.createElement(Component, null);\n};\n\nconst PlanDetails = () => {\n  const t = useT('subscriptions_CurrentPlan');\n  const {\n    plan\n  } = useBillingInformation();\n  const {\n    subscription\n  } = useSubscription();\n  const {\n    isTrialing,\n    isExternallyManaged,\n    isFreePlan,\n    willBeCanceled,\n    hasTrialEnded\n  } = useBillingMetadata();\n  const {\n    name = t('unknownPlan'),\n    price = 0,\n    currency = 'usd',\n    description: priceDescription\n  } = plan || {};\n  const priceString = `${toCurrencySymbol(currency)}${toPriceDisplay(price)}`;\n  let description = '';\n\n  if (!isExternallyManaged) {\n    if (isTrialing && (subscription === null || subscription === void 0 ? void 0 : subscription.trialEnd)) {\n      description = t('yourPlanIsTrialing', {\n        periodEnd: format(new Date(subscription === null || subscription === void 0 ? void 0 : subscription.trialEnd), BILLING_INFORMATION_PLAN_DATE_FORMAT)\n      });\n    } else if ((subscription === null || subscription === void 0 ? void 0 : subscription.currentPeriodEnd) && !isFreePlan && !hasTrialEnded) {\n      description = t(willBeCanceled ? 'yourPlanWillBeCanceled' : 'yourPlanWillBeRenewed', {\n        periodEnd: format(new Date(subscription === null || subscription === void 0 ? void 0 : subscription.currentPeriodEnd), BILLING_INFORMATION_PLAN_DATE_FORMAT)\n      });\n    }\n  }\n\n  return React.createElement(Grid, {\n    container: true,\n    direction: 'column'\n  }, React.createElement(Grid, {\n    item: true,\n    container: true,\n    alignItems: 'center',\n    mb: 4\n  }, React.createElement(Grid, {\n    item: true,\n    pr: 2\n  }, React.createElement(Typography$1, {\n    variant: 'h3'\n  }, name)), React.createElement(Grid, {\n    item: true,\n    pt: 3\n  }, React.createElement(PlanDetailsStatusChip, null))), React.createElement(Grid, {\n    item: true,\n    mb: !description ? 0 : 10\n  }, React.createElement(Typography$1, {\n    variant: 'subtitle1'\n  }, priceDescription ? React.createElement(TextBreakLine, {\n    text: priceDescription\n  }) : t('priceSubtitle', {\n    price: priceString\n  }))), description && React.createElement(Grid, {\n    item: true\n  }, React.createElement(Typography$1, {\n    variant: 'body2'\n  }, description)));\n};\n\nconst RowActionButtons = ({\n  main,\n  secondary\n}) => {\n  return React.createElement(Grid, {\n    item: true,\n    container: true,\n    xs: true,\n    p: 0,\n    direction: 'column'\n  }, React.createElement(Grid, {\n    container: true,\n    mb: 12,\n    justifyContent: 'flex-end'\n  }, React.createElement(Grid, {\n    item: true,\n    mr: 6\n  }, main), React.createElement(Grid, {\n    item: true\n  }, secondary)));\n};\n\nconst SelectPlanButton = ({\n  onClick\n}) => {\n  const t = useT('subscriptions_CurrentPlan');\n  return React.createElement(Button$1, {\n    \"data-test-id\": 'updateButton',\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: onClick\n  }, t('updateButton'));\n};\n\nconst RenewDialogBody = () => {\n  const t = useT('subscriptions_Renewal');\n  const {\n    subscription\n  } = useSubscription();\n  const endDate = (subscription === null || subscription === void 0 ? void 0 : subscription.currentPeriodEnd) ? format(new Date(subscription === null || subscription === void 0 ? void 0 : subscription.currentPeriodEnd), BILLING_INFORMATION_PLAN_DATE_FORMAT) : t('unknownDate');\n  return React.createElement(Typography$1, {\n    variant: 'body1'\n  }, t('description', {\n    renewalDate: endDate\n  }));\n};\n\nconst RenewDialogFooter = ({\n  onClose\n}) => {\n  const {\n    loading,\n    error\n  } = useSubscriptionRenewal();\n  const {\n    renewSubscription\n  } = useBillingInformationActions();\n  return React.createElement(SubscriptionDialogFooter, {\n    cancel: {\n      onClick: onClose,\n      disabled: loading\n    },\n    confirm: {\n      loading,\n      disabled: !!error,\n      onClick: renewSubscription,\n      text: 'confirm'\n    }\n  });\n};\n\nconst RenewDialog = ({\n  open,\n  onClose\n}) => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('subscriptions');\n  return React.createElement(Dialog$1, {\n    open: open,\n    onClose: onClose,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    title: t('dialogRenewalTitle'),\n    size: \"sm\"\n  }, React.createElement(Dialog$1.Body, null, React.createElement(RenewDialogBody, null)), React.createElement(Dialog$1.Footer, null, React.createElement(RenewDialogFooter, {\n    onClose: onClose\n  })));\n};\n\nconst RenewButton = () => {\n  const t = useT('subscriptions_CurrentPlan');\n  const [isOpen, closeDialog, openDialog] = useDialogState();\n  const {\n    loading\n  } = useSubscriptionRenewal();\n  return React.createElement(React.Fragment, null, React.createElement(Button$1, {\n    loading: loading,\n    \"data-test-id\": 'renewButton',\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: openDialog\n  }, t('renewButton')), React.createElement(RenewDialog, {\n    open: isOpen,\n    onClose: closeDialog\n  }));\n};\n\nconst BillingActionMainButton = ({\n  openPlanSelect\n}) => {\n  const {\n    isCanceled,\n    willBeCanceled,\n    canDowngrade,\n    canUpgrade,\n    isTrialing,\n    hasTrialEnded\n  } = useBillingMetadata();\n\n  if (isCanceled || willBeCanceled) {\n    return React.createElement(RenewButton, null);\n  } else if (isTrialing || hasTrialEnded || canDowngrade || canUpgrade) {\n    return React.createElement(SelectPlanButton, {\n      onClick: openPlanSelect\n    });\n  }\n\n  return null;\n};\n\nconst CancelDialogFooter = ({\n  onClose\n}) => {\n  const {\n    loading,\n    error\n  } = useSubscriptionCancellation();\n  const {\n    cancelSubscription\n  } = useBillingInformationActions();\n  const cancel = react.exports.useMemo(() => ({\n    onClick: onClose,\n    disabled: loading\n  }), [onClose, loading]);\n  const confirm = react.exports.useMemo(() => ({\n    onClick: cancelSubscription,\n    disabled: !!error,\n    color: 'danger',\n    text: 'confirm',\n    loading\n  }), [cancelSubscription, error, loading]);\n  return React.createElement(SubscriptionDialogFooter, {\n    cancel: cancel,\n    confirm: confirm\n  });\n};\n\nconst CancelDialogBody = () => {\n  const t = useT('subscriptions_Cancellation');\n  const {\n    subscription\n  } = useSubscription();\n  const {\n    error\n  } = useSubscriptionCancellation();\n  const endDate = (subscription === null || subscription === void 0 ? void 0 : subscription.currentPeriodEnd) ? format(new Date(subscription === null || subscription === void 0 ? void 0 : subscription.currentPeriodEnd), BILLING_INFORMATION_PLAN_DATE_FORMAT) : t('unknownDate');\n  return React.createElement(React.Fragment, null, error && React.createElement(Alert$1, {\n    \"data-test-id\": error,\n    severity: \"error\"\n  }, error), React.createElement(Typography$1, {\n    variant: 'body1'\n  }, t('description', {\n    expirationDate: endDate\n  })));\n};\n\nconst CancelDialog = ({\n  open,\n  onClose\n}) => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('subscriptions');\n  return React.createElement(Dialog$1, {\n    open: open,\n    onClose: onClose,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    title: t('dialogCancellationTitle'),\n    size: \"sm\"\n  }, React.createElement(Dialog$1.Body, null, React.createElement(CancelDialogBody, null)), React.createElement(Dialog$1.Footer, null, React.createElement(CancelDialogFooter, {\n    onClose: onClose\n  })));\n};\n\nconst PlanContainer = styled(Grid)(({\n  theme\n}) => ({\n  padding: theme.spacing(6, 0),\n  borderBottom: `1px solid ${theme.palette.grey[300]}`,\n  '&:last-child': {\n    borderBottom: 'none'\n  },\n  justifyContent: 'space-between',\n  alignContent: 'center',\n  alignItems: 'center'\n}));\nconst PlanTitle = styled(Grid)(({\n  theme\n}) => ({\n  color: theme.palette.grey[800],\n  fontWeight: 'bold',\n  fontSize: theme.typography.pxToRem(16),\n  lineHeight: theme.typography.pxToRem(24),\n  marginBottom: theme.spacing(2)\n}));\nconst PlanPrice = styled(Grid)(({\n  theme\n}) => ({\n  color: theme.palette.grey[700],\n  fontSize: theme.typography.pxToRem(12),\n  lineHeight: theme.typography.pxToRem(16),\n  marginBottom: theme.spacing(2)\n}));\nconst PlanDescription = styled(Grid)(({\n  theme\n}) => ({\n  color: theme.palette.grey[700],\n  fontSize: theme.typography.pxToRem(12),\n  lineHeight: theme.typography.pxToRem(16),\n  marginBottom: theme.spacing(2)\n}));\nconst PlanSelectedCheckedIcon = styled(CheckedIcon)(({\n  theme\n}) => ({\n  color: theme.palette.success.main,\n  fontSize: theme.typography.pxToRem(12),\n  lineHeight: theme.typography.pxToRem(16),\n  marginRight: theme.spacing(2)\n}));\nconst PlanSelectedText = styled('span')(({\n  theme\n}) => ({\n  color: theme.palette.grey[800],\n  fontSize: theme.typography.pxToRem(12),\n  lineHeight: theme.typography.pxToRem(16)\n}));\n\nconst SelectPlanItem = props => {\n  const {\n    isSelected,\n    title,\n    description,\n    price,\n    onClick\n  } = props;\n  const handleClick = react.exports.useCallback(() => onClick(), [onClick]);\n  const t = useT('subscriptions_DialogSelection');\n  return React.createElement(PlanContainer, {\n    container: true\n  }, React.createElement(Grid, {\n    item: true,\n    alignContent: 'center'\n  }, React.createElement(PlanTitle, null, title), React.createElement(PlanPrice, {\n    \"data-test-id\": price\n  }, React.createElement(TextBreakLine, {\n    text: price\n  })), React.createElement(PlanDescription, null, description)), React.createElement(Grid, {\n    item: true\n  }, isSelected ? React.createElement(Grid, {\n    container: true,\n    justifyContent: 'space-between',\n    alignContent: 'center',\n    alignItems: 'center',\n    padding: 4\n  }, React.createElement(PlanSelectedCheckedIcon, null), React.createElement(PlanSelectedText, null, t('currentPlan'))) : React.createElement(Button$1, {\n    \"data-test-id\": 'continueBtn-' + title,\n    type: 'button',\n    color: 'secondary',\n    onClick: handleClick\n  }, t('continue'))));\n};\n\nconst SelectPlan = ({\n  onSelectPlan\n}) => {\n  const t = useT('subscriptions_DialogSelection');\n  const {\n    plans\n  } = usePlans();\n  const {\n    summary\n  } = useBillingInformation();\n  const {\n    isTrialing\n  } = useBillingMetadata();\n  const {\n    currentPlanId: selectedPlanId\n  } = summary || {};\n  const displayPlans = react.exports.useMemo(() => plans.slice(0, 5), [plans]);\n  const planSelectionItems = react.exports.useMemo(() => displayPlans.map(({\n    id,\n    name,\n    description,\n    currency,\n    price,\n    recurringInterval\n  }) => React.createElement(SelectPlanItem, {\n    key: id,\n    isSelected: !!selectedPlanId && id === selectedPlanId && !isTrialing,\n    title: name,\n    description: !!description ? '' : description,\n    price: description || t('selectPlanPricePerRecurringInterval', {\n      price: toPriceDisplay(price),\n      currency: toCurrencySymbol(currency),\n      interval: recurringInterval\n    }),\n    onClick: () => onSelectPlan(id)\n  })), [displayPlans, selectedPlanId, onSelectPlan, t, isTrialing]);\n  return React.createElement(Grid, {\n    container: true,\n    direction: 'column'\n  }, planSelectionItems);\n};\n\nconst SelectDialogFooter = ({\n  onClose\n}) => {\n  return React.createElement(SubscriptionDialogFooter, {\n    cancel: {\n      onClick: onClose\n    }\n  });\n};\n\nconst SelectDialogBody = ({\n  onSelectPlan,\n  onClose\n}) => {\n  const {\n    error,\n    plans,\n    fetching: planFetching\n  } = usePlans();\n  const loading = react.exports.useMemo(() => plans.length === 0 && planFetching, [plans, planFetching]);\n  return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, error && React.createElement(Grid, {\n    p: 4\n  }, React.createElement(Alert$1, {\n    severity: \"error\"\n  }, error)), loading ? React.createElement(BoxLoader, {\n    height: 220\n  }) : React.createElement(SelectPlan, {\n    onSelectPlan: onSelectPlan\n  })), React.createElement(Dialog$1.Footer, null, React.createElement(SelectDialogFooter, {\n    onClose: onClose\n  })));\n};\n\nconst CheckoutDialogContent = ({\n  planId,\n  onClose,\n  onSuccess,\n  onError\n}) => {\n  const {\n    plans\n  } = usePlans();\n  const {\n    isTrialing\n  } = useBillingMetadata();\n  const hasPlanSelection = plans.length > 1 && !isTrialing;\n  const initPlanId = react.exports.useMemo(() => {\n    var _a;\n\n    return planId && ((_a = plans.find(plan => plan.id === planId)) === null || _a === void 0 ? void 0 : _a.id);\n  }, [planId, plans]);\n  const [checkoutPlanId, setCheckoutPlanId] = React.useState(initPlanId || null);\n  react.exports.useEffect(() => {\n    setCheckoutPlanId(initPlanId || null);\n  }, [initPlanId]);\n  const handlePlanSelection = react.exports.useCallback(planId => {\n    setCheckoutPlanId(planId);\n  }, []);\n  const goBack = react.exports.useCallback(() => {\n    if (hasPlanSelection) {\n      setCheckoutPlanId(null);\n    } else {\n      onClose();\n    }\n  }, [hasPlanSelection, onClose]);\n  const handleSuccess = react.exports.useCallback(() => {\n    onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n  }, [onSuccess]);\n  const handleError = react.exports.useCallback(msg => {\n    onError === null || onError === void 0 ? void 0 : onError(msg);\n  }, [onError]);\n\n  if (!checkoutPlanId) {\n    return React.createElement(SelectDialogBody, {\n      onSelectPlan: handlePlanSelection,\n      onClose: onClose\n    });\n  }\n\n  return React.createElement(CheckoutDialogBody, {\n    planId: checkoutPlanId,\n    onClose: goBack,\n    onSuccess: handleSuccess,\n    onError: handleError\n  });\n};\n\nconst CheckoutDialog = _a => {\n  var {\n    planId,\n    open,\n    onClose,\n    onSuccess,\n    onError\n  } = _a,\n      props = __rest(_a, [\"planId\", \"open\", \"onClose\", \"onSuccess\", \"onError\"]);\n\n  const t = useT('subscriptions');\n  const handleSuccess = react.exports.useCallback(() => {\n    onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n  }, [onSuccess]);\n  const handleError = react.exports.useCallback(msg => {\n    onError === null || onError === void 0 ? void 0 : onError(msg);\n  }, [onError]);\n  return React.createElement(Dialog$1, Object.assign({}, props, {\n    open: open,\n    onClose: onClose,\n    title: t('dialogCheckoutTitle'),\n    size: 'sm'\n  }), React.createElement(CheckoutDialogContent, {\n    planId: planId,\n    onSuccess: handleSuccess,\n    onError: handleError,\n    onClose: onClose\n  }));\n};\n\nconst EmailField$1 = () => {\n  const t = useT('subscriptions');\n  return React.createElement(Field, {\n    \"data-test-id\": \"email\",\n    autoComplete: \"street-address\",\n    name: 'email',\n    placeholder: t('emailInputPlaceholder'),\n    label: t('emailInputLabel')\n  });\n};\n\nconst CustomCountryField = () => {\n  const t = useT('subscriptions');\n  return React.createElement(CountryField, {\n    label: t('countryInputLabel'),\n    countryCode: true,\n    placeholder: t('countryInputPlaceholder')\n  });\n};\n\nconst Address1Field = () => {\n  const t = useT('subscriptions');\n  return React.createElement(Field, {\n    \"data-test-id\": \"address1\",\n    autoComplete: \"street-address\",\n    name: 'addressLine1',\n    placeholder: t('address1InputPlaceholder'),\n    label: t('address1InputLabel')\n  });\n};\n\nconst Address2Field = () => {\n  const t = useT('subscriptions');\n  return React.createElement(Field, {\n    \"data-test-id\": \"address2\",\n    autoComplete: \"address-level3\",\n    name: 'addressLine2',\n    placeholder: t('address2InputPlaceholder'),\n    label: t('address2InputLabel')\n  });\n};\n\nconst CityField = () => {\n  const t = useT('subscriptions');\n  return React.createElement(Field, {\n    \"data-test-id\": \"city\",\n    autoComplete: \"address-level2\",\n    name: 'city',\n    placeholder: t('cityInputPlaceholder'),\n    label: t('cityInputLabel')\n  });\n};\n\nconst StateField = () => {\n  const t = useT('subscriptions');\n  return React.createElement(Field, {\n    \"data-test-id\": \"state\",\n    autoComplete: \"address-level1\",\n    name: 'state',\n    placeholder: t('stateInputPlaceholder'),\n    label: t('stateInputLabel')\n  });\n};\n\nconst PostcodeField = () => {\n  const t = useT('subscriptions');\n  return React.createElement(Field, {\n    \"data-test-id\": \"postalCode\",\n    autoComplete: \"postal-code\",\n    name: 'postalCode',\n    placeholder: t('postCodeInputPlaceholder'),\n    label: t('postCodeInputLabel')\n  });\n};\n\nconst SubscriptionUpdateBillingDetailsDialogBody = ({\n  onClose\n}) => {\n  const t = useT('subscriptions');\n  const {\n    profile\n  } = useProfileState();\n  const {\n    paymentMethod,\n    loading,\n    error\n  } = usePaymentMethod();\n  const {\n    updatePaymentMethodBillingDetails,\n    setError\n  } = usePaymentMethodActions();\n  const {\n    billingDetails,\n    id = ''\n  } = paymentMethod !== null && paymentMethod !== void 0 ? paymentMethod : {};\n  const {\n    email = (profile === null || profile === void 0 ? void 0 : profile.email) || '',\n    address\n  } = billingDetails !== null && billingDetails !== void 0 ? billingDetails : {};\n  const {\n    addressLine1 = '',\n    addressLine2 = '',\n    city = '',\n    state = '',\n    postalCode = '',\n    country = ''\n  } = address !== null && address !== void 0 ? address : {};\n  const initialValues = react.exports.useMemo(() => ({\n    email,\n    addressLine1,\n    addressLine2,\n    city,\n    state,\n    postalCode,\n    country\n  }), [email, addressLine1, addressLine2, city, state, postalCode, country]);\n  const validationSchema = react.exports.useMemo(() => validateSchema({\n    email: validateEmail(t('emailMustBeValid'), t('emailIsRequired')),\n    postalCode: validationPostCodeOptional(t('postCodeIsInvalid'))\n  }), [t]);\n  const formikProps = {\n    onSubmit: (_a, {\n      setSubmitting\n    }) => {\n      var {\n        email\n      } = _a,\n          address = __rest(_a, [\"email\"]);\n\n      const callback = success => success ? onClose() : setSubmitting(false);\n\n      updatePaymentMethodBillingDetails({\n        id,\n        email,\n        address,\n        callback\n      });\n    },\n    initialValues,\n    validationSchema\n  };\n  const handleClose = react.exports.useCallback(() => {\n    onClose();\n    setError(null);\n  }, [onClose, setError]);\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, error && React.createElement(Grid, {\n      mb: 5\n    }, React.createElement(Alert$1, {\n      severity: \"error\"\n    }, error)), React.createElement(EmailField$1, null), React.createElement(Address1Field, null), React.createElement(Address2Field, null), React.createElement(Grid, {\n      container: true,\n      spacing: 4,\n      mb: 4\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 6\n    }, React.createElement(CityField, null)), React.createElement(Grid, {\n      item: true,\n      xs: 6\n    }, React.createElement(StateField, null))), React.createElement(Grid, {\n      container: true,\n      spacing: 4\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 6\n    }, React.createElement(PostcodeField, null)), React.createElement(Grid, {\n      item: true,\n      xs: 6\n    }, React.createElement(CustomCountryField, null)))), React.createElement(Dialog$1.Footer, null, React.createElement(SubscriptionDialogFooter, {\n      cancel: {\n        onClick: handleClose,\n        disabled: isSubmitting || loading\n      },\n      confirm: {\n        loading: isSubmitting || loading,\n        disabled: !canSubmit,\n        type: 'submit',\n        text: 'update'\n      }\n    })));\n  });\n};\n\nconst SubscriptionUpdateBillingDetailsDialog = ({\n  open,\n  onClose\n}) => {\n  const t = useT('subscriptions');\n  const {\n    injector\n  } = useShadowDom();\n  return React.createElement(Dialog$1, {\n    open: open,\n    onClose: onClose,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    title: t('dialogUpdateBillingDetailsTitle'),\n    size: \"sm\"\n  }, React.createElement(SubscriptionUpdateBillingDetailsDialogBody, {\n    onClose: onClose\n  }));\n};\n\nconst SubscriptionUpdatePaymentMethodDialogFooter = ({\n  loading,\n  onCancel\n}) => {\n  const {\n    valid,\n    onSubmit\n  } = useSubscriptionFormContext();\n  const handleConfirm = react.exports.useCallback(() => {\n    if (onSubmit) {\n      onSubmit();\n    }\n  }, [onSubmit]);\n  const handleCancel = react.exports.useCallback(() => onCancel(), [onCancel]);\n  return React.createElement(SubscriptionDialogFooter, {\n    cancel: {\n      onClick: handleCancel,\n      disabled: loading\n    },\n    confirm: {\n      onClick: handleConfirm,\n      loading,\n      disabled: !valid,\n      text: 'update'\n    }\n  });\n};\n\nconst SubscriptionUpdatePaymentMethodDialogBody = ({\n  onClose\n}) => {\n  const t = useT('subscriptions');\n  const {\n    loading,\n    error\n  } = usePaymentMethod();\n  const {\n    submitPaymentMethod,\n    submitPaymentMethodError,\n    submitPaymentMethodSuccess\n  } = usePaymentMethodActions();\n  const handleSubmit = react.exports.useCallback(() => {\n    submitPaymentMethod();\n  }, [submitPaymentMethod]);\n  const handleError = react.exports.useCallback(error => {\n    submitPaymentMethodError(error);\n  }, [submitPaymentMethodError]);\n  const handleSuccess = react.exports.useCallback(() => {\n    submitPaymentMethodSuccess();\n    onClose();\n  }, [onClose, submitPaymentMethodSuccess]);\n  return React.createElement(SubscriptionFormContextProvider, null, React.createElement(Dialog$1.Body, {\n    noPadding: true\n  }, error && React.createElement(Grid, {\n    p: 4\n  }, React.createElement(Alert$1, {\n    severity: \"error\"\n  }, error)), React.createElement(DialogSectionBox, {\n    title: t('paymentMethodTitle')\n  }, React.createElement(Grid, {\n    container: true,\n    p: 4\n  }, React.createElement(PaymentMethodForm, {\n    mode: \"update\",\n    onError: handleError,\n    onSubmit: handleSubmit,\n    onSuccess: handleSuccess\n  })))), React.createElement(Dialog$1.Footer, null, React.createElement(SubscriptionUpdatePaymentMethodDialogFooter, {\n    loading: loading,\n    onCancel: onClose\n  })));\n};\n\nconst SubscriptionUpdatePaymentMethodDialog = ({\n  open,\n  onClose\n}) => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('subscriptions');\n  return React.createElement(Dialog$1, {\n    open: open,\n    onClose: onClose,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    title: t('updatePaymentMethod'),\n    size: \"sm\"\n  }, React.createElement(SubscriptionUpdatePaymentMethodDialogBody, {\n    onClose: onClose\n  }));\n};\n\nconst CancelButton = () => {\n  const t = useT('subscriptions_CurrentPlan');\n  const [isOpen, closeDialog, openDialog] = useDialogState();\n  return React.createElement(React.Fragment, null, React.createElement(Button$1, {\n    \"data-test-id\": 'cancelButton',\n    variant: \"contained\",\n    color: \"secondary\",\n    onClick: openDialog\n  }, t('cancelButton')), React.createElement(CancelDialog, {\n    open: isOpen,\n    onClose: closeDialog\n  }));\n};\n\nconst BillingActionSecondaryButton = () => {\n  const {\n    isCanceled,\n    willBeCanceled,\n    isTrialing,\n    hasPaymentMethod,\n    isFreePlan,\n    isSingularPlan,\n    hasTrialEnded,\n    canCancel\n  } = useBillingMetadata();\n\n  if (!canCancel || isSingularPlan || isFreePlan || isTrialing && !hasPaymentMethod || isCanceled || willBeCanceled || hasTrialEnded) {\n    return null;\n  }\n\n  return React.createElement(CancelButton, null);\n};\n\nconst BillingActions = () => {\n  const {\n    injector\n  } = useShadowDom();\n  const {\n    defaultPlanId\n  } = useBillingMetadata();\n  const {\n    confirmed\n  } = useCheckout();\n  const [{\n    isOpen,\n    selectedPlanId\n  }, setState] = react.exports.useState({\n    isOpen: false\n  });\n  react.exports.useEffect(() => {\n    if (confirmed) {\n      setState({\n        isOpen: false,\n        selectedPlanId: defaultPlanId\n      });\n    }\n  }, [confirmed, defaultPlanId]);\n  const handleOpenSelection = react.exports.useCallback(() => {\n    setState({\n      isOpen: true\n    });\n  }, []);\n  const handleOpenCheckout = react.exports.useCallback(() => {\n    setState({\n      isOpen: true,\n      selectedPlanId: defaultPlanId\n    });\n  }, [defaultPlanId]);\n  const handleCloseCheckout = react.exports.useCallback(() => {\n    setState(prevState => Object.assign(Object.assign({}, prevState), {\n      isOpen: false\n    }));\n  }, []);\n  const main = react.exports.useMemo(() => React.createElement(BillingActionMainButton, {\n    openCheckout: handleOpenCheckout,\n    openPlanSelect: handleOpenSelection\n  }), [handleOpenCheckout, handleOpenSelection]);\n  const secondary = react.exports.useMemo(() => React.createElement(BillingActionSecondaryButton, null), []);\n  return React.createElement(React.Fragment, null, React.createElement(RowActionButtons, {\n    main: main,\n    secondary: secondary\n  }), React.createElement(CheckoutDialog, {\n    open: isOpen,\n    onClose: handleCloseCheckout,\n    planId: selectedPlanId,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }));\n};\n\nconst CurrentPlan = () => {\n  const {\n    fetching\n  } = useBillingInformation();\n  const {\n    fetching: fetchingPlans\n  } = usePlans();\n  const hasWritePermission = useSubscriptionPermissions('fe.subscriptions.write.*');\n  const {\n    isExternallyManaged\n  } = useBillingMetadata();\n\n  if (fetching || fetchingPlans) {\n    return React.createElement(CurrentPlanComponentSkeleton, null);\n  } else {\n    return React.createElement(Grid, {\n      container: true,\n      p: 0\n    }, React.createElement(Grid, {\n      item: true,\n      xs: true\n    }, React.createElement(PlanDetails, null)), React.createElement(Grid, {\n      item: true\n    }, hasWritePermission && !isExternallyManaged && React.createElement(BillingActions, null)));\n  }\n};\n\nconst CardNarrow = styled(Card)(({\n  theme\n}) => ({\n  padding: 0,\n  margin: 0\n}));\n\nconst DetailSectionBox = ({\n  title,\n  children\n}) => {\n  return React.createElement(Grid, {\n    mb: 6\n  }, React.createElement(Typography$1, {\n    variant: 'subtitle1',\n    mb: 4\n  }, title), React.createElement(CardNarrow, null, children));\n};\n\nconst CurrentPlanBox = ({\n  children\n}) => {\n  const t = useT('subscriptions_CurrentPlan');\n  return React.createElement(DetailSectionBox, {\n    title: t('title')\n  }, React.createElement(Grid, {\n    container: true,\n    p: 8\n  }, children));\n};\n\nconst CurrentPlanComponent = () => {\n  const {\n    fetching,\n    loading\n  } = useBillingInformation();\n  const isLoading = react.exports.useMemo(() => fetching || loading, [fetching, loading]);\n  return React.createElement(CurrentPlanBox, null, isLoading ? React.createElement(CurrentPlanComponentSkeleton, null) : React.createElement(CurrentPlan, null));\n};\n\nconst RowSkeleton = styled(Skeleton)`\n  &.MuiSkeleton-root {\n    height: ${({\n  theme\n}) => theme.spacing(12)};\n    width: 100%;\n    transform: scale(1, 1);\n    margin-bottom: ${({\n  theme\n}) => theme.spacing(2)};\n  }\n`;\nconst TableSkeleton = react.exports.forwardRef(({\n  title = true,\n  rows = 3,\n  cols = 1\n}, ref) => {\n  const table = react.exports.useMemo(() => {\n    const range = Array.from({\n      length: rows\n    }, (v, i) => i);\n    const colsRange = Array.from({\n      length: cols\n    }, (v, i) => i);\n    return range.map(row => React.createElement(Grid, {\n      container: true,\n      key: row,\n      spacing: 4\n    }, row === 0 ? React.createElement(Grid, {\n      item: true,\n      xs: true\n    }, React.createElement(RowSkeleton, null)) : colsRange.map(col => React.createElement(Grid, {\n      key: col,\n      item: true,\n      xs: true\n    }, React.createElement(RowSkeleton, null)))));\n  }, [rows, cols]);\n  return React.createElement(Box, {\n    ref: ref\n  }, title && React.createElement(Box, {\n    marginBottom: 1\n  }, React.createElement(Skeleton, {\n    width: 200,\n    height: 40\n  })), table);\n});\nTableSkeleton.defaultProps = {\n  title: true\n};\n\nconst InvoicesListComponentSkeleton = () => React.createElement(Box, {\n  p: 4\n}, React.createElement(TableSkeleton, {\n  rows: 5,\n  title: false,\n  cols: 4\n}));\n\nconst InvoicesListBox = ({\n  children\n}) => {\n  const t = useT('subscriptions');\n  return React.createElement(DetailSectionBox, {\n    title: t('invoices')\n  }, children);\n};\n\nconst InvoicesTable = styled(Table)(({\n  theme\n}) => ({}));\n\nconst AmountChipCell = ({\n  value\n}) => {\n  return React.createElement(Box, {\n    maxWidth: '100%'\n  }, React.createElement(Grid, {\n    container: true,\n    alignItems: 'center',\n    justifyItems: 'center'\n  }, React.createElement(Grid, {\n    item: true\n  }, React.createElement(Typography$1, {\n    variant: 'tableTitleCell'\n  }, value.amount)), React.createElement(Grid, {\n    item: true,\n    ml: 4,\n    pt: 2\n  }, value.status === 'paid' && React.createElement(StatusChip, {\n    label: 'Paid',\n    status: 'success',\n    withIcons: false\n  }))));\n};\n\nconst invoicesTableColumns = [{\n  Header: 'Billing Date',\n  id: 'billingDate',\n  accessor: ({\n    billingDate\n  }) => ({\n    date: billingDate,\n    format: INVOICE_DATE_FORMAT,\n    withAgo: false\n  }),\n  Cell: TableDateCell\n}, {\n  Header: 'Amount',\n  id: 'amount',\n  accessor: ({\n    amount,\n    status\n  }) => ({\n    amount,\n    status\n  }),\n  Cell: AmountChipCell\n}];\n\nconst InvoiceList = () => {\n  const t = useT('subscriptions');\n  const {\n    injector\n  } = useShadowDom();\n  const container = injector === null || injector === void 0 ? void 0 : injector.adminPortalEl;\n  const {\n    loading,\n    invoices\n  } = useInvoices();\n  const {\n    downloadInvoice\n  } = useInvoicesActions();\n  const handleInvoiceDownload = react.exports.useCallback(invoice => {\n    downloadInvoice({\n      invoiceId: invoice.id,\n      filename: `invoice_${format$1(invoice.billingDate || new Date(), DATE_FILENAME_FORMAT)}`\n    });\n  }, [downloadInvoice]);\n  const tableData = react.exports.useMemo(() => invoices.map((invoice, index) => ({\n    id: invoice.id,\n    billingDate: invoice.paymentDate,\n    status: invoice.paid ? 'paid' : '',\n    isDefault: index === 0,\n    amount: `$${invoice.totalAmount}`\n  })), [invoices]);\n  return React.createElement(Box, null, React.createElement(InvoicesTable, {\n    inline: true,\n    autoHeight: false,\n    loading: loading,\n    columns: invoicesTableColumns,\n    data: tableData,\n    contentMaxHeight: {\n      maxHeight: '24rem'\n    },\n    getRowActions: row => ({\n      items: [{\n        icon: React.createElement(PdfIcon, {\n          \"data-test-id\": 'DownloadPdf'\n        }),\n        onClick: () => handleInvoiceDownload(row),\n        text: t('downloadPdf'),\n        negative: false\n      }],\n      container\n    })\n  }));\n};\n\nconst InvoicesListComponent = () => {\n  const {\n    fetching,\n    error\n  } = useInvoices();\n  return React.createElement(InvoicesListBox, null, fetching ? React.createElement(InvoicesListComponentSkeleton, null) : error ? React.createElement(Alert$1, {\n    severity: 'error'\n  }, error) : React.createElement(InvoiceList, null));\n};\n\nconst BillingDetailsComponentSkeleton = () => React.createElement(Grid, {\n  container: true,\n  p: 0,\n  m: 0\n}, React.createElement(Skeleton, {\n  height: '32px',\n  width: '100%'\n}));\n\nconst UpdateBillingMethod = styled(Grid)(({\n  theme\n}) => ({\n  display: 'flex',\n  alignItems: 'center',\n  cursor: 'pointer',\n  svg: {\n    marginLeft: theme.spacing(4),\n    width: '0.75rem',\n    height: '0.75rem',\n    color: theme.palette.grey[500]\n  }\n}));\n\nconst BillingDetails = () => {\n  var _a, _b;\n\n  const t = useT('subscriptions_Billing');\n  const [isOpen, closeDialog, openDialog] = useDialogState();\n  const {\n    paymentMethod\n  } = usePaymentMethod();\n  const {\n    email,\n    name\n  } = (_a = paymentMethod === null || paymentMethod === void 0 ? void 0 : paymentMethod.billingDetails) !== null && _a !== void 0 ? _a : {};\n  return React.createElement(Grid, {\n    container: true,\n    p: 0,\n    alignItems: \"center\"\n  }, React.createElement(Grid, {\n    item: true,\n    xs: true\n  }, React.createElement(Typography$1, {\n    variant: \"label\"\n  }, (_b = email !== null && email !== void 0 ? email : name) !== null && _b !== void 0 ? _b : '')), React.createElement(Grid, {\n    item: true\n  }, React.createElement(UpdateBillingMethod, {\n    item: true,\n    onClick: openDialog\n  }, React.createElement(Typography$1, {\n    variant: \"body1\"\n  }, t('title')), React.createElement(EditIcon, null))), React.createElement(SubscriptionUpdateBillingDetailsDialog, {\n    open: isOpen,\n    onClose: closeDialog\n  }));\n};\n\nconst BillingDetailsBox = ({\n  children\n}) => {\n  const t = useT('subscriptions_Billing');\n  return React.createElement(DetailSectionBox, {\n    title: t('title')\n  }, React.createElement(Grid, {\n    container: true,\n    p: 6\n  }, children));\n};\n\nconst BillingDetailsComponent = () => {\n  const {\n    fetching,\n    paymentMethod\n  } = usePaymentMethod();\n\n  if (!fetching && !(paymentMethod === null || paymentMethod === void 0 ? void 0 : paymentMethod.id)) {\n    return null;\n  }\n\n  return React.createElement(BillingDetailsBox, null, fetching ? React.createElement(BillingDetailsComponentSkeleton, null) : React.createElement(BillingDetails, null));\n};\n\nconst PaymentMethodComponentSkeleton = () => React.createElement(Grid, {\n  container: true,\n  p: 0,\n  m: 0\n}, React.createElement(Skeleton, {\n  height: '32px',\n  width: '100%'\n}));\n\nconst PaymentMethodBox = ({\n  children\n}) => {\n  const t = useT('subscriptions');\n  return React.createElement(DetailSectionBox, {\n    title: t('paymentMethodTitle')\n  }, React.createElement(Grid, {\n    container: true,\n    p: 6\n  }, children));\n};\n\nconst PaymentMethodDisplay = () => {\n  const [isOpen, closeDialog, openDialog] = useDialogState();\n  const {\n    paymentMethod\n  } = usePaymentMethod();\n  return React.createElement(React.Fragment, null, React.createElement(PaymentMethodSelect, Object.assign({}, paymentMethod || {}, {\n    onUpdate: openDialog\n  })), React.createElement(SubscriptionUpdatePaymentMethodDialog, {\n    open: isOpen,\n    onClose: closeDialog\n  }));\n};\n\nconst PaymentMethodComponent = () => {\n  const {\n    fetching\n  } = usePaymentMethod();\n  return React.createElement(PaymentMethodBox, null, fetching ? React.createElement(PaymentMethodComponentSkeleton, null) : React.createElement(PaymentMethodDisplay, null));\n};\n\nconst BillingComponent = () => {\n  return React.createElement(React.Fragment, null, React.createElement(PaymentMethodComponent, null), React.createElement(BillingDetailsComponent, null));\n};\n\nconst SubscriptionSections = () => {\n  const {\n    isExternallyManaged,\n    hasPaymentMethod\n  } = useBillingMetadata();\n  const permitted = useSubscriptionPermissions('fe.subscriptions.write.*');\n  const hasBilling = !isExternallyManaged && hasPaymentMethod && permitted;\n  return react.exports.useMemo(() => React.createElement(React.Fragment, null, React.createElement(CurrentPlanComponent, null), hasBilling && React.createElement(React.Fragment, null, React.createElement(BillingComponent, null), React.createElement(InvoicesListComponent, null))), [hasBilling]);\n};\n\nconst SubscriptionPageSkeleton = () => {\n  return React.createElement(PageWrapper, null, React.createElement(CurrentPlanBox, null, React.createElement(CurrentPlanComponentSkeleton, null)));\n};\n\nconst ExternallyManagedAlert = () => {\n  const t = useT('subscriptions');\n  const {\n    summary\n  } = useBillingInformation();\n\n  if (summary === null || summary === void 0 ? void 0 : summary.externallyManaged) {\n    return React.createElement(Box, {\n      mb: 6\n    }, React.createElement(Alert$1, {\n      severity: 'warning'\n    }, t('externallyManaged')));\n  }\n\n  return null;\n};\n\nconst SubscriptionPageContainer = () => {\n  const {\n    loadPaymentMethod\n  } = usePaymentMethodActions();\n  const {\n    loadInvoices\n  } = useInvoicesActions();\n  const {\n    loadPlans\n  } = usePlansActions();\n  const {\n    error: paymentProviderError\n  } = usePaymentProvider();\n  const {\n    error: billingInformationError\n  } = useBillingInformation();\n  const error = react.exports.useMemo(() => paymentProviderError || billingInformationError, [paymentProviderError, billingInformationError]);\n  react.exports.useEffect(() => {\n    loadInvoices();\n    loadPaymentMethod();\n    loadPlans();\n  }, [loadInvoices, loadPaymentMethod, loadPlans]);\n  return React.createElement(PageWrapper, {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  }, error ? React.createElement(Alert$1, {\n    \"data-test-id\": 'subscription-page-error',\n    severity: 'error'\n  }, error) : React.createElement(React.Fragment, null, React.createElement(ExternallyManagedAlert, null), React.createElement(SubscriptionSections, null)));\n};\n\nconst SubscriptionPageBillingWrapper = () => {\n  const {\n    loadBillingInformation\n  } = useBillingInformationActions();\n  const {\n    loadVendorPublicConfiguration\n  } = useVendorPublicConfigActions();\n  const {\n    fetching: fetchingBillingInformation\n  } = useBillingInformation();\n  const {\n    fetching: fetchingVendorPublicConfig\n  } = useVendorPublicConfig();\n  react.exports.useEffect(() => {\n    loadBillingInformation();\n    loadVendorPublicConfiguration();\n  }, [loadBillingInformation, loadVendorPublicConfiguration]);\n\n  if (fetchingBillingInformation || fetchingVendorPublicConfig) {\n    return React.createElement(SubscriptionPageSkeleton, null);\n  }\n\n  return React.createElement(SubscriptionPageContainer, null);\n};\n\nconst SubscriptionPage$1 = () => {\n  const {\n    loadPaymentConfiguration\n  } = usePaymentProviderActions();\n  const {\n    profile\n  } = useProfileState();\n  const {\n    fetching,\n    loading\n  } = usePaymentProvider();\n  react.exports.useEffect(() => {\n    if (profile === null || profile === void 0 ? void 0 : profile.tenantId) {\n      loadPaymentConfiguration();\n    }\n  }, [profile, loadPaymentConfiguration]);\n\n  if (fetching || loading) {\n    return React.createElement(SubscriptionPageSkeleton, null);\n  }\n\n  return React.createElement(SubscriptionPageBillingWrapper, null);\n};\n\nvar SubscriptionPage$2 = SubscriptionPage$1;\nvar SubscriptionPage = wrapPage(SubscriptionPage$2, 'subscriptions');\n\nconst WebhooksHeader = ({\n  handleOpenInviteUser\n}) => {\n  const t = useT('webhooks');\n  const {\n    onSearch\n  } = useTableSearch();\n  const [search, setSearch] = react.exports.useState('');\n  const debounceSearch = useDebounce(search);\n  useAsyncEffect(() => onSearch(debounceSearch), [debounceSearch]);\n  const hasWritePermission = usePermission('fe.connectivity.write.webhook');\n  return React.createElement(Grid, {\n    container: true,\n    spacing: 4\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    md: 4\n  }, React.createElement(Box, null, React.createElement(Input$1$1, {\n    \"data-test-id\": \"search-box\",\n    endAdornment: React.createElement(SearchIcon, null),\n    placeholder: t('searchInputPlaceholder'),\n    onChange: e => setSearch(e.target.value)\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: true\n  }), hasWritePermission && React.createElement(Grid, {\n    item: true\n  }, React.createElement(Button$1, {\n    \"data-test-id\": \"add-webhook-btn\",\n    onClick: handleOpenInviteUser\n  }, t('addWebhook'))));\n};\n\nconst filterCategories = (categories, channelMap) => // eslint-disable-next-line react-hooks/rules-of-hooks\nreact.exports.useMemo(() => {\n  if (categories && channelMap) {\n    return categories.map(cat => {\n      var _a;\n\n      return Object.assign(Object.assign({}, cat), {\n        events: (_a = cat.events) === null || _a === void 0 ? void 0 : _a.filter(({\n          key\n        }) => channelMap.some(({\n          key: eventKey\n        }) => eventKey === key))\n      });\n    }).filter(({\n      events\n    }) => !!(events === null || events === void 0 ? void 0 : events.length)).map((cat, index) => Object.assign(Object.assign({}, cat), {\n      index\n    }));\n  }\n\n  return undefined;\n}, [categories, channelMap]);\n\nconst selectedEvents = createSelector(events => events, events => events === null || events === void 0 ? void 0 : events.reduce((acc, curr) => {\n  if (/\\.\\*$/.test(curr)) {\n    const val = curr.replace(/\\.\\*$/, '');\n    !acc.names.includes(val) && acc.names.push(val);\n  } else if (!acc.eventKeys.includes(curr)) {\n    acc.eventKeys.push(curr);\n  }\n\n  return acc;\n}, {\n  names: [],\n  eventKeys: []\n}));\n\nconst getCategoriesEventsArray = (categories, eventKeys) => {\n  return categories.map(category => {\n    if (category.events && eventKeys.includes(category.id)) {\n      return category.events.map(e => e.id);\n    }\n\n    return undefined;\n  }).flat(1).filter(Boolean);\n};\n\nconst NameField = () => {\n  const t = useT('webhooks_AddEditWebhook');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('name');\n  return React.createElement(Input$1$1, Object.assign({\n    \"data-test-id\": \"webhookNameBox\",\n    label: t('nameInputLabel')\n  }, fieldProps, {\n    autoFocus: true,\n    error: !!error && touched,\n    errorMessage: error,\n    autoComplete: \"given-name\",\n    placeholder: t('nameInputPlaceholder')\n  }));\n};\n\nconst UrlField = () => {\n  const t = useT('webhooks_AddEditWebhook');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('url');\n  return React.createElement(Input$1$1, Object.assign({\n    \"data-test-id\": \"webhookUrlBox\",\n    label: t('urlInputLabel')\n  }, fieldProps, {\n    error: !!error && touched,\n    errorMessage: error,\n    placeholder: t('urlInputPlaceholder')\n  }));\n};\n\nconst SecretKeyField = () => {\n  const t = useT('webhooks_AddEditWebhook');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('secretKey');\n  return React.createElement(Input$1$1, Object.assign({\n    \"data-test-id\": \"secretKeyBox\",\n    label: t('secretKeyInputLabel')\n  }, fieldProps, {\n    error: !!error && touched,\n    errorMessage: error,\n    placeholder: t('secretKeyInputPlaceholder')\n  }));\n};\n\nconst EventsField = () => {\n  var _a;\n\n  const t = useT('webhooks_AddEditWebhook');\n  const {\n    injector\n  } = useShadowDom();\n  const [fieldProps, {\n    error,\n    touched\n  }, {\n    setValue,\n    setTouched\n  }] = useField('events');\n  const {\n    categories\n  } = useConnectivityState();\n  const options = react.exports.useMemo(() => (categories !== null && categories !== void 0 ? categories : []).map(({\n    name,\n    id,\n    events\n  }, categoryIdx) => {\n    const categoryId = id !== null && id !== void 0 ? id : `${name.replace(/\\s/g, '_')}_${categoryIdx}`;\n    return {\n      label: name,\n      value: categoryId,\n      category: true,\n      withCheckbox: true,\n      categoryItems: events.map(({\n        displayName,\n        key,\n        id\n      }, eventIdx) => {\n        return {\n          label: displayName,\n          value: id !== null && id !== void 0 ? id : `${categoryId}_${key}_${eventIdx}`,\n          withCheckbox: true\n        };\n      })\n    };\n  }), [categories]);\n  return React.createElement(SelectTree$1, {\n    \"data-test-id\": 'webhookEvents',\n    label: t('eventsInputLabel'),\n    name: \"events\",\n    clearable: true,\n    placeholder: t('eventsInputPlaceholder'),\n    value: (_a = fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.value) !== null && _a !== void 0 ? _a : [],\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    options: options,\n    onChange: value => {\n      setValue(value, true);\n      setTouched(true);\n    },\n    error: !!error && touched,\n    errorMessage: error\n  });\n};\n\nconst AddWebhookForm = ({\n  onClose\n}) => {\n  const t = useT('webhooks_AddEditWebhook');\n  const {\n    cleanError,\n    postDataAction\n  } = useConnectivityActions();\n  const {\n    categories\n  } = useConnectivityState();\n  const initialValues = react.exports.useMemo(() => ({\n    name: '',\n    url: '',\n    secretKey: '',\n    events: []\n  }), []);\n  const validationSchema = react.exports.useMemo(() => validateSchema({\n    name: validateNotEmpty(t('nameIsRequired')),\n    url: validateUrl(t('urlIsRequired'), t('urlIsInvalid')),\n    secretKey: validateMinLengthOptional(8, t('secretKeyLengthAtLeast8')),\n    events: create().min(1, t('eventsIsRequired'))\n  }), [t]);\n  const formikProps = {\n    onSubmit: ({\n      name,\n      url,\n      secretKey,\n      events\n    }) => new Promise((resolve, reject) => {\n      cleanError();\n      const callback = callbackToPromise(resolve, reject, onClose);\n      const eventsToRemove = getCategoriesEventsArray(categories, events);\n      const eventsToSend = events.filter(e => !eventsToRemove.includes(e));\n      postDataAction({\n        platform: 'webhook',\n        data: {\n          displayName: name,\n          url,\n          secret: !!secretKey ? secretKey : null,\n          eventKeys: eventsToSend,\n          description: '',\n          isActive: false\n        },\n        callback\n      });\n    }),\n    initialValues,\n    validationSchema\n  };\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit,\n    formError\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(Grid, {\n      container: true,\n      spacing: 4,\n      mb: 4\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 12\n    }, React.createElement(NameField, null)), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 12\n    }, React.createElement(UrlField, null))), React.createElement(SecretKeyField, null), React.createElement(EventsField, null), React.createElement(FormErrorDialogMessage, {\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n      flex: 1\n    }), React.createElement(Button$1, {\n      \"data-test-id\": \"cancel-btn\",\n      color: \"inherit\",\n      variant: \"text\",\n      type: \"reset\",\n      onClick: onClose\n    }, t('cancel')), React.createElement(Button$1, {\n      \"data-test-id\": \"form-add-webhook-btn\",\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: \"primary\",\n      type: \"submit\"\n    }, t('create'))));\n  });\n};\n\nconst AddWebhookDialog = props => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('webhooks_AddEditWebhook');\n  return React.createElement(Dialog$1, Object.assign({\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    title: t('addTitle')\n  }), React.createElement(AddWebhookForm, {\n    onClose: props.onClose\n  }));\n};\n\nconst EditWebhookForm = ({\n  onClose,\n  webhook\n}) => {\n  const t = useT('webhooks_AddEditWebhook');\n  const {\n    cleanError,\n    postDataAction\n  } = useConnectivityActions();\n  const {\n    categories\n  } = useConnectivityState();\n  const initialValues = react.exports.useMemo(() => {\n    var _a, _b, _c, _d;\n\n    const eventKeys = (_a = webhook === null || webhook === void 0 ? void 0 : webhook.eventKeys) !== null && _a !== void 0 ? _a : [];\n    const eventsToAdd = getCategoriesEventsArray(categories, eventKeys);\n    const initEventsValue = [...eventKeys, ...eventsToAdd];\n    return {\n      name: (_b = webhook === null || webhook === void 0 ? void 0 : webhook.displayName) !== null && _b !== void 0 ? _b : '',\n      url: (_c = webhook === null || webhook === void 0 ? void 0 : webhook.url) !== null && _c !== void 0 ? _c : '',\n      secretKey: (_d = webhook === null || webhook === void 0 ? void 0 : webhook.secret) !== null && _d !== void 0 ? _d : '',\n      events: initEventsValue !== null && initEventsValue !== void 0 ? initEventsValue : []\n    };\n  }, [categories, webhook]);\n  const validationSchema = react.exports.useMemo(() => validateSchema({\n    name: validateNotEmpty(t('nameIsRequired')),\n    url: validateUrl(t('urlIsRequired'), t('urlIsInvalid')),\n    secretKey: validateMinLengthOptional(8, t('secretKeyLengthAtLeast8')),\n    events: create().min(1, t('eventsIsRequired'))\n  }), [t]);\n  const formikProps = {\n    onSubmit: ({\n      name,\n      url,\n      secretKey = null,\n      events\n    }) => new Promise((resolve, reject) => {\n      cleanError();\n      const callback = callbackToPromise(resolve, reject, onClose);\n      const eventsToRemove = getCategoriesEventsArray(categories, events);\n      const eventsToSend = events.filter(e => !eventsToRemove.includes(e));\n      postDataAction({\n        platform: 'webhook',\n        data: {\n          _id: webhook._id,\n          displayName: name,\n          url,\n          secret: !!secretKey ? secretKey : null,\n          eventKeys: eventsToSend,\n          description: webhook.description,\n          isActive: webhook.isActive\n        },\n        callback\n      });\n    }),\n    initialValues,\n    validationSchema\n  };\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit,\n    formError\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(Grid, {\n      container: true,\n      spacing: 4,\n      mb: 4\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 12\n    }, React.createElement(NameField, null)), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 12\n    }, React.createElement(UrlField, null))), React.createElement(SecretKeyField, null), React.createElement(EventsField, null), React.createElement(FormErrorDialogMessage, {\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n      flex: 1\n    }), React.createElement(Button$1, {\n      \"data-test-id\": \"cancel-btn\",\n      color: \"inherit\",\n      variant: \"text\",\n      type: \"reset\",\n      onClick: onClose\n    }, t('cancel')), React.createElement(Button$1, {\n      \"data-test-id\": 'edit-btn',\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: \"primary\",\n      type: \"submit\"\n    }, t('edit'))));\n  });\n};\n\nconst EditWebhookDialog = props => {\n  const {\n    injector\n  } = useShadowDom();\n  const t = useT('webhooks_AddEditWebhook');\n  return React.createElement(Dialog$1, Object.assign({\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    title: t('editTitle')\n  }), React.createElement(EditWebhookForm, Object.assign({}, props)));\n};\n\nconst DeleteWebhookDialog = ({\n  open,\n  webhook,\n  onClose\n}) => {\n  const t = useT('webhooks_DeleteWebhook');\n  const [loading, setLoading] = react.exports.useState(false);\n  const [error, setError] = react.exports.useState(null);\n  const {\n    deleteWebhookConfigAction\n  } = useConnectivityActions();\n  const callback = react.exports.useCallback((success, error) => {\n    if (error) {\n      setLoading(false);\n      setError(error);\n    } else {\n      setLoading(false);\n      onClose();\n    }\n  }, [setLoading, setError, onClose]);\n  const handleDeleteWebhook = react.exports.useCallback(() => {\n    setLoading(true);\n    setError(null);\n    deleteWebhookConfigAction({\n      webhookId: webhook === null || webhook === void 0 ? void 0 : webhook._id,\n      callback\n    });\n  }, [callback, deleteWebhookConfigAction, webhook === null || webhook === void 0 ? void 0 : webhook._id]);\n  return React.createElement(DeleteDialog, {\n    title: t('title'),\n    cancelButtonText: t('cancel'),\n    deleteButtonText: t('delete'),\n    description: React.createElement(React.Fragment, null, t('areYouSureDeleteWebhook1'), \" \", React.createElement(\"strong\", null, webhook === null || webhook === void 0 ? void 0 : webhook.displayName), \" \", t('areYouSureDeleteWebhook2')),\n    open: open,\n    error: error,\n    onClose: onClose,\n    loading: !!loading,\n    onDelete: handleDeleteWebhook\n  });\n};\n\nconst useWebhooksTableRowActions = ({\n  container,\n  handleOpenDeleteWebhook,\n  handleOpenEditWebhook,\n  hasWritePermission,\n  hasDeletePermission\n}) => {\n  const t = useT('webhooks');\n  return react.exports.useMemo(() => row => {\n    const items = [];\n\n    const handleEditWebhook = () => {\n      handleOpenEditWebhook(row);\n    };\n\n    const handleDeleteWebhook = () => {\n      handleOpenDeleteWebhook(row);\n    }; //TODO change data test id from editBtn to action-edit-btn\n\n\n    if (hasWritePermission) {\n      items.push({\n        text: t('editWebhook'),\n        onClick: handleEditWebhook,\n        icon: React.createElement(EditIcon, {\n          \"data-test-id\": 'action-edit-btn'\n        })\n      });\n    } //TODO change data test id from deleteBtn to delete-btn\n\n\n    if (hasDeletePermission) {\n      items.push({\n        negative: true,\n        text: t('deleteWebhook'),\n        onClick: handleDeleteWebhook,\n        icon: React.createElement(DeleteIcon, {\n          \"data-test-id\": 'action-delete-btn'\n        })\n      });\n    }\n\n    return {\n      items,\n      container\n    };\n  }, [container, handleOpenDeleteWebhook, handleOpenEditWebhook, hasDeletePermission, hasWritePermission, t]);\n};\n\nconst webhooksColumns = ({\n  onChangeStatus,\n  t\n}) => [{\n  accessor: ({\n    url,\n    displayName\n  }) => ({\n    title: displayName,\n    description: url\n  }),\n  Header: t('nameHeader'),\n  Cell: TableTextCell\n}, {\n  accessor: webhook => {\n    var _a;\n\n    return {\n      checked: (_a = webhook === null || webhook === void 0 ? void 0 : webhook.isActive) !== null && _a !== void 0 ? _a : false,\n      onChange: () => webhook && onChangeStatus(webhook)\n    };\n  },\n  Header: t('statusHeader'),\n  Cell: TableSwitchCellLeft,\n  maxWidth: 100,\n  minWidth: 100\n}].filter(notNull);\n\nconst WebhooksTable = () => {\n  var _a;\n\n  const t = useT('webhooks');\n  const {\n    searchQuery\n  } = useTableSearch();\n  const {\n    injector\n  } = useShadowDom();\n  const container = injector === null || injector === void 0 ? void 0 : injector.adminPortalEl;\n  const [editWebhookDialog, handleCloseEditWebhook, handleOpenEditWebhook, editWebhookData] = useDialogState();\n  const [deleteWebhookDialog, handleCloseDeleteWebhook, handleOpenDeleteWebhook, deleteWebhookData] = useDialogState();\n  const {\n    postDataAction\n  } = useConnectivityActions();\n  const {\n    webhook: webhookState,\n    categories,\n    channelMap,\n    isLoading,\n    totalPages\n  } = useConnectivityState();\n  const cleanCategories = filterCategories(categories, channelMap && channelMap.webhook);\n  const hasWritePermission = usePermission('fe.connectivity.write.webhook');\n  const hasDeletePermission = usePermission('fe.connectivity.delete.webhook');\n  const getRowActions = useWebhooksTableRowActions({\n    container,\n    handleOpenEditWebhook,\n    handleOpenDeleteWebhook,\n    hasWritePermission,\n    hasDeletePermission\n  });\n  const preparedWebhookState = (_a = webhookState === null || webhookState === void 0 ? void 0 : webhookState.data) !== null && _a !== void 0 ? _a : webhookState;\n  const webhooks = react.exports.useMemo(() => preparedWebhookState === null || preparedWebhookState === void 0 ? void 0 : preparedWebhookState.map(elm => {\n    var _a;\n\n    const eventObject = selectedEvents(elm.eventKeys);\n    const data = cleanCategories === null || cleanCategories === void 0 ? void 0 : cleanCategories.reduce((acc, cur) => {\n      var _a, _b, _c;\n\n      if (eventObject === null || eventObject === void 0 ? void 0 : eventObject.names.includes(cur.name)) {\n        return [...acc, {\n          name: cur.name,\n          count: (_b = (_a = cur.events) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0\n        }];\n      } else {\n        const evs = (_c = cur.events) === null || _c === void 0 ? void 0 : _c.filter(({\n          key\n        }) => eventObject === null || eventObject === void 0 ? void 0 : eventObject.eventKeys.includes(key));\n\n        if (evs === null || evs === void 0 ? void 0 : evs.length) {\n          return [...acc, {\n            name: cur.name,\n            count: evs.length\n          }];\n        }\n      }\n\n      return acc;\n    }, []);\n    return Object.assign(Object.assign({}, elm), {\n      groupEvents: data !== null && data !== void 0 ? data : [],\n      totalEvents: (_a = data === null || data === void 0 ? void 0 : data.reduce((acc, cur) => acc + (cur.count || 0), 0)) !== null && _a !== void 0 ? _a : 0\n    });\n  }), [preparedWebhookState, cleanCategories]);\n  const filteredWebhooks = react.exports.useMemo(() => {\n    const query = searchQuery.toLocaleLowerCase();\n    return webhooks ? webhooks.filter(w => {\n      const webhookUrl = w.url.toLocaleLowerCase();\n      const webhookName = w.displayName.toLocaleLowerCase();\n      return webhookName.includes(query) || webhookUrl.includes(query);\n    }) : [];\n  }, [searchQuery, webhooks]);\n  const tablePlaceholderProps = react.exports.useMemo(() => {\n    const webhooksLength = webhooks ? webhooks.length : 0;\n\n    if (isLoading) {\n      return null;\n    }\n\n    if (!webhooksLength) {\n      return {\n        show: true,\n        icon: React.createElement(WebhooksIcon, null),\n        title: t('noWebhooksYet'),\n        description: t('noWebhooksYetDescription'),\n        testId: 'webhooks-table-empty-placeholder'\n      };\n    }\n\n    if (filteredWebhooks.length === 0) {\n      return {\n        show: true,\n        icon: React.createElement(SearchBigIcon, null),\n        title: t('noResultFound'),\n        description: t('noResultFoundDescription'),\n        testId: 'webhooks-table-no-results-placeholder'\n      };\n    }\n\n    return null;\n  }, [isLoading, webhooks, filteredWebhooks.length, t]);\n  const onChangeStatus = react.exports.useCallback(data => {\n    postDataAction({\n      platform: 'webhook',\n      data: Object.assign(Object.assign({}, data), {\n        isActive: !data.isActive\n      })\n    });\n  }, [postDataAction]);\n  const columns = react.exports.useMemo(() => webhooksColumns({\n    onChangeStatus,\n    t\n  }), [onChangeStatus, t]);\n  return React.createElement(React.Fragment, null, React.createElement(Table, {\n    forwardedKey: \"webhooks-table\",\n    columns: columns,\n    loading: isLoading,\n    totalPages: totalPages,\n    data: filteredWebhooks !== null && filteredWebhooks !== void 0 ? filteredWebhooks : [],\n    getRowActions: getRowActions\n  }, tablePlaceholderProps && React.createElement(TablePlaceholder, Object.assign({}, tablePlaceholderProps))), React.createElement(EditWebhookDialog, {\n    open: editWebhookDialog,\n    onClose: handleCloseEditWebhook,\n    webhook: editWebhookData\n  }), React.createElement(DeleteWebhookDialog, {\n    open: deleteWebhookDialog,\n    onClose: handleCloseDeleteWebhook,\n    webhook: deleteWebhookData\n  }));\n};\n\nconst WebhooksPage$1 = () => {\n  const [searchQuery, onSearch] = react.exports.useState(\"\");\n  const [searching, setSearching] = react.exports.useState(false);\n  const {\n    loadDataAction\n  } = useConnectivityActions();\n  const [addWebhookDialog, handleCloseAddWebhook, handleOpenAddWebhook] = useDialogState();\n  react.exports.useEffect(() => {\n    loadDataAction();\n  }, [loadDataAction]);\n  return React.createElement(PageWrapper, {\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"column\"\n  }, React.createElement(TableSearchContext.Provider, {\n    value: {\n      searching,\n      searchQuery,\n      onSearch,\n      setSearching\n    }\n  }, React.createElement(WebhooksHeader, {\n    handleOpenInviteUser: handleOpenAddWebhook\n  }), React.createElement(Box, {\n    mt: 6,\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"column\"\n  }, React.createElement(WebhooksTable, null)), React.createElement(AddWebhookDialog, {\n    open: addWebhookDialog,\n    onClose: handleCloseAddWebhook\n  })));\n};\n\nvar WebhooksPage$2 = WebhooksPage$1;\nvar WebhooksPage = wrapPage(WebhooksPage$2, 'webhooks');\n\nconst LoginPage = () => {\n  const {\n    closeAdminBox\n  } = react.exports.useContext(AppDialogContext);\n  const {\n    basename = ''\n  } = useShadowDom();\n  const {\n    loginUrl\n  } = useAuthRoutes();\n  const onRedirectTo = useOnRedirectTo();\n  react.exports.useEffect(() => {\n    closeAdminBox();\n    const calculatedBasename = basename.endsWith('/') ? basename.substring(0, basename.length - 1) : '';\n    window.location.href = calculatedBasename + loginUrl;\n  }, [onRedirectTo, closeAdminBox]);\n  return null;\n};\n\nvar LoginPage$1 = LoginPage;\n\nconst AllUsersHeader = ({\n  handleOpenInviteUser\n}) => {\n  const t = useT('allUsers');\n  const {\n    onSearch\n  } = useTableSearch();\n  const [search, setSearch] = react.exports.useState('');\n  const debounceSearch = useDebounce(search);\n  const canInviteUser = usePermission('fe.secure.write.users');\n  useAsyncEffect(() => onSearch(debounceSearch), [debounceSearch]);\n  return React.createElement(Grid, {\n    container: true,\n    spacing: 4\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    md: 4\n  }, React.createElement(Box, null, React.createElement(Input$1$1, {\n    \"data-test-id\": 'searchBox',\n    endAdornment: React.createElement(SearchIcon, null),\n    onChange: e => setSearch(e.target.value),\n    placeholder: t('searchInputPlaceholder')\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: true\n  }), canInviteUser && React.createElement(Grid, {\n    item: true\n  }, React.createElement(Button$1, {\n    \"data-test-id\": 'invite-user-btn',\n    onClick: handleOpenInviteUser\n  }, t('inviteUserButton'))));\n};\n\nconst useUsersTableRowActions = ({\n  container,\n  resendActivationLink,\n  resendInvitationLink,\n  handleOpenDeleteUser,\n  handleOpenLockUser,\n  handleOpenInviteUser,\n  revokeUserSessions,\n  currentTenantId,\n  subTenants\n}) => {\n  const t = useT('allUsers');\n  const user = useAuthUserOrNull();\n  const canEditRoles = usePermission('fe.secure.write.users');\n  const canDeleteUser = usePermission('fe.secure.delete.users');\n  const canRevokeUserSessions = usePermission('fe.secure.delete.sessions'); //TODO: add virified type to ITeamUser\n\n  return react.exports.useMemo(() => row => {\n    const items = [];\n\n    const handleManageUser = () => {\n      handleOpenInviteUser(row);\n    };\n\n    const handleSendActivationLink = () => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, reject);\n      resendActivationLink({\n        userId: row.id,\n        callback\n      });\n    });\n\n    const handleSendInvitationLink = () => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, reject);\n\n      const invitationData = __rest(row, [\"id\"]);\n\n      resendInvitationLink(Object.assign(Object.assign({}, invitationData), {\n        callback\n      }));\n    });\n\n    const handleDeleteUser = () => {\n      handleOpenDeleteUser(row);\n    };\n\n    const handleRevokeUserSessions = () => new Promise((resolve, reject) => {\n      const callback = callbackToPromise(resolve, reject);\n      revokeUserSessions({\n        userId: row.id,\n        callback\n      });\n    });\n\n    const isMe = row.id === (user === null || user === void 0 ? void 0 : user.id);\n\n    if (!row.verified) {\n      items.push({\n        icon: React.createElement(ResendIcon, {\n          \"data-test-id\": 'resendBtn'\n        }),\n        onClick: handleSendActivationLink,\n        text: t('resendActivationAction')\n      });\n    } else {\n      items.push({\n        icon: React.createElement(ResendIcon, {\n          \"data-test-id\": 'resendInvitationBtn'\n        }),\n        onClick: handleSendInvitationLink,\n        text: t('resendInvitationAction')\n      });\n    }\n\n    if (!isMe) {\n      if (canEditRoles) {\n        items.push({\n          icon: React.createElement(TuneRounded, {\n            \"data-test-id\": 'manageBtn'\n          }),\n          onClick: handleManageUser,\n          text: t('manageAction')\n        });\n      }\n\n      if (canDeleteUser) {\n        items.push({\n          icon: React.createElement(DeleteIcon, {\n            \"data-test-id\": 'deleteBtn'\n          }),\n          onClick: handleDeleteUser,\n          text: t('deleteUserAction')\n        });\n      }\n\n      if (canRevokeUserSessions && row.activatedForTenant) {\n        items.push({\n          icon: React.createElement(CloseIcon, {\n            \"data-test-id\": \"revokeBtn\"\n          }),\n          onClick: handleRevokeUserSessions,\n          text: t('logOutUserSessionsActions')\n        });\n      }\n    }\n\n    return {\n      items,\n      container\n    };\n  }, [t, user, container, canEditRoles, canDeleteUser, canRevokeUserSessions, resendActivationLink, resendInvitationLink, handleOpenDeleteUser, handleOpenLockUser, handleOpenInviteUser, subTenants, currentTenantId]);\n};\n\nconst allUsersTableColumnsOrganization = ({\n  t,\n  user,\n  subTenants,\n  forcePermissions,\n  container,\n  currentTenantName,\n  currentTenantId\n}) => [{\n  Header: () => React.createElement(Box, {\n    width: '2rem'\n  }),\n  accessor: ({\n    name,\n    profileImageUrl,\n    profilePictureUrl\n  }) => ({\n    name,\n    picture: profilePictureUrl !== null && profilePictureUrl !== void 0 ? profilePictureUrl : profileImageUrl\n  }),\n  width: '2rem',\n  id: 'id',\n  Cell: TableAvatarCell\n}, Object.assign(Object.assign({\n  Header: t('userHeader'),\n  accessor: ({\n    id,\n    name,\n    email\n  }) => ({\n    title: `${name} ${id === user.id ? `(${t('meTooltip')})` : ''}`,\n    description: email\n  })\n}, forcePermissions ? {\n  width: 260,\n  maxWidth: 260\n} : {\n  minWidth: 260\n}), {\n  Cell: TableTextCell\n}), {\n  Header: t('accountsHeader'),\n  accessor: ({\n    tenants\n  }) => {\n    var _a;\n\n    const items = (_a = tenants === null || tenants === void 0 ? void 0 : tenants.map(tenant => {\n      var _a;\n\n      let text = (_a = subTenants.find(subTenant => subTenant.tenantId === tenant.tenantId)) === null || _a === void 0 ? void 0 : _a.tenantName;\n\n      if (!text && tenant.tenantId === currentTenantId) {\n        text = currentTenantName;\n      }\n\n      return {\n        text\n      };\n    })) !== null && _a !== void 0 ? _a : [];\n    return {\n      items: items.filter(item => item.text),\n      max: 2,\n      container\n    };\n  },\n  minWidth: 300,\n  Cell: TableChipsCell\n}, {\n  Header: t('joinedHeader'),\n  accessor: ({\n    createdAt,\n    tenants\n  }) => ({\n    date: createdAt,\n    tenants\n  }),\n  width: 160,\n  maxWidth: 160,\n  Cell: props => {\n    const hasOneActivatedTenant = !!(props.value.tenants || []).find(tenant => tenant.activated);\n    return !hasOneActivatedTenant ? React.createElement(Chip, {\n      color: 'secondary',\n      label: t('pendingActivationStatus')\n    }) : React.createElement(TableDateCell, Object.assign({}, props));\n  }\n}, {\n  Header: t('lastSeenHeader'),\n  accessor: ({\n    tenants,\n    tenantId\n  }) => {\n    var _a;\n\n    return {\n      date: (_a = tenants === null || tenants === void 0 ? void 0 : tenants.find(tenant => tenant.tenantId === tenantId)) === null || _a === void 0 ? void 0 : _a.lastLogin\n    };\n  },\n  width: 160,\n  maxWidth: 160,\n  Cell: TableDateCell\n}].filter(notNull);\n\nconst DeleteUserDialog = ({\n  onClose,\n  open,\n  user\n}) => {\n  const t = useT('allUsers_DeleteUser');\n  const [loading, setLoading] = react.exports.useState(false);\n  const [error, setError] = react.exports.useState(null);\n  const {\n    deleteUserFromSubTenants\n  } = useAuthTeamActions();\n  const callback = react.exports.useCallback((success, error) => {\n    if (error) {\n      setError(error);\n    } else {\n      onClose();\n    }\n\n    setLoading(false);\n  }, [setLoading, setError, onClose]);\n  const handleDeleteUser = react.exports.useCallback(() => {\n    setLoading(true);\n    setError(null);\n    deleteUserFromSubTenants({\n      callback,\n      userId: user.id,\n      subTenants: user.tenants.map(tenant => ({\n        tenantId: tenant.tenantId\n      }))\n    });\n  }, [user === null || user === void 0 ? void 0 : user.id, user === null || user === void 0 ? void 0 : user.tenants, setLoading, setError, deleteUserFromSubTenants, callback]);\n  return React.createElement(DeleteDialog, {\n    dataTestId: 'deleteUserBtn',\n    title: t('title', {\n      name: user === null || user === void 0 ? void 0 : user.name\n    }),\n    cancelButtonText: t('cancel'),\n    deleteButtonText: t('delete'),\n    description: React.createElement(React.Fragment, null, t('areYouSureDeleteUser1', {\n      name: user === null || user === void 0 ? void 0 : user.name\n    }), \" \", t('areYouSureDeleteUser2')),\n    open: open,\n    error: error,\n    onClose: onClose,\n    loading: !!loading,\n    onDelete: handleDeleteUser\n  });\n};\n\nconst LockUserDialog = ({\n  onClose,\n  open,\n  user\n}) => {\n  const t = useT('allUsers_LockUser');\n  const [loading, setLoading] = react.exports.useState(false);\n  const [error, setError] = react.exports.useState(null);\n  const {\n    lockUser\n  } = useAuthTeamActions();\n  const callback = react.exports.useCallback((success, error) => {\n    if (error) {\n      setError(error);\n    } else {\n      onClose();\n    }\n\n    setLoading(false);\n  }, [setLoading, setError, onClose]);\n  const handleLockUser = react.exports.useCallback(() => {\n    setLoading(true);\n    setError(null);\n    lockUser({\n      userId: user === null || user === void 0 ? void 0 : user.id,\n      callback\n    });\n  }, [user === null || user === void 0 ? void 0 : user.id, callback, setLoading, setError, lockUser]);\n  return React.createElement(DeleteDialog, {\n    dataTestId: 'lockUserBtn',\n    title: t('title', {\n      name: user === null || user === void 0 ? void 0 : user.name\n    }),\n    cancelButtonText: t('cancel'),\n    deleteButtonText: t('lock'),\n    description: React.createElement(React.Fragment, null, t('areYouSureLockUser1', {\n      name: user === null || user === void 0 ? void 0 : user.name\n    })),\n    open: open,\n    error: error,\n    onClose: onClose,\n    loading: !!loading,\n    onDelete: handleLockUser\n  });\n};\n\nconst AllUsersTable = ({\n  handleOpenInviteUser\n}) => {\n  const t = useT('allUsers');\n  const {\n    injector\n  } = useShadowDom();\n  const container = injector === null || injector === void 0 ? void 0 : injector.adminPortalEl;\n  const user = useAuthUser();\n  const {\n    revokeUserSessions\n  } = useSessionsActions();\n  const {\n    loaders,\n    allUsers,\n    roles,\n    permissions,\n    totalPages,\n    pageOffset,\n    filter\n  } = useAuthTeamState();\n  const {\n    resendActivationLink,\n    loadAllSubTenantsUsers,\n    resendInvitationLinkToAllSubTenants\n  } = useAuthTeamActions();\n  const [deleteUserDialog, handleCloseDeleteUser, handleOpenDeleteUser, deleteUserData] = useDialogState();\n  const [lockUserDialog, handleCloseLockUser, handleOpenLockUser, lockUserData] = useDialogState();\n  const {\n    policy,\n    loading: loadingPolicy\n  } = usePublicPolicySettings();\n  const rolesUse = useRolesMap(roles);\n  const rolesMap = react.exports.useMemo(() => !loadingPolicy && (policy === null || policy === void 0 ? void 0 : policy.forcePermissions) ? rolesUse : undefined, [policy, rolesUse, loadingPolicy]);\n  const {\n    tenants,\n    subTenants\n  } = useTenantsState();\n  const tenantName = react.exports.useMemo(() => {\n    var _a, _b;\n\n    return (_b = (_a = tenants.find(({\n      tenantId\n    }) => tenantId === user.tenantId)) === null || _a === void 0 ? void 0 : _a.name) !== null && _b !== void 0 ? _b : '';\n  }, [tenants, user.tenantId]);\n  const isPermissionsAndRolesEnabled = react.exports.useMemo(() => !loadingPolicy && (policy === null || policy === void 0 ? void 0 : policy.forcePermissions), [loadingPolicy, policy]);\n  const columns = react.exports.useMemo(() => {\n    return allUsersTableColumnsOrganization({\n      t,\n      user,\n      subTenants,\n      forcePermissions: isPermissionsAndRolesEnabled,\n      container,\n      currentTenantName: tenantName,\n      currentTenantId: user.tenantId\n    });\n  }, [t, user, subTenants, isPermissionsAndRolesEnabled, container, rolesMap, tenantName, user.tenantId]);\n  const {\n    searching\n  } = useTableSearch();\n  const getRowActions = useUsersTableRowActions({\n    roles,\n    subTenants,\n    permissions,\n    container,\n    resendActivationLink,\n    resendInvitationLink: resendInvitationLinkToAllSubTenants,\n    handleOpenDeleteUser,\n    handleOpenLockUser,\n    revokeUserSessions,\n    handleOpenInviteUser,\n    currentTenantId: user.tenantId\n  });\n  const onPageChange = react.exports.useCallback((event, page) => {\n    loadAllSubTenantsUsers({\n      _offset: page - 1\n    });\n  }, [loadAllSubTenantsUsers]);\n  const onSortChange = react.exports.useCallback((sortBy = []) => {\n    var _a, _b;\n\n    loadAllSubTenantsUsers({\n      _offset: 0,\n      _sortBy: ((_a = sortBy[0]) === null || _a === void 0 ? void 0 : _a.id) || 'name',\n      _order: ((_b = sortBy[0]) === null || _b === void 0 ? void 0 : _b.desc) ? 'DESC' : 'ASC'\n    });\n  }, [loadAllSubTenantsUsers]);\n  const loading = !!loaders.USERS;\n  const tablePlaceholderProps = react.exports.useMemo(() => {\n    if (loading || searching) {\n      return null;\n    } else if (filter.length === 0 && allUsers.length === 0) {\n      return {\n        show: true,\n        icon: React.createElement(GroupUsersIcon, null),\n        title: t('noUsersYet'),\n        description: t('noUsersYetDescription')\n      };\n    } else if (filter.length > 0 && allUsers.length === 0) {\n      return {\n        show: true,\n        icon: React.createElement(SearchBigIcon, null),\n        title: t('noResultFound'),\n        description: t('noResultFoundDescription')\n      };\n    }\n\n    return null;\n  }, [t, loading, searching, filter.length, allUsers.length]);\n  return React.createElement(React.Fragment, null, React.createElement(Table, {\n    forwardedKey: 'all-users-table',\n    columns: columns,\n    data: allUsers,\n    getRowActions: getRowActions,\n    loading: loading,\n    searching: searching,\n    onSortChange: onSortChange,\n    loadingText: searching ? t('searchingPlaceholder') : undefined,\n    totalPages: totalPages,\n    pageOffset: pageOffset,\n    onPageChange: onPageChange\n  }, tablePlaceholderProps && React.createElement(TablePlaceholder, Object.assign({}, tablePlaceholderProps))), React.createElement(DeleteUserDialog, {\n    open: deleteUserDialog,\n    onClose: handleCloseDeleteUser,\n    user: deleteUserData\n  }), React.createElement(LockUserDialog, {\n    open: lockUserDialog,\n    onClose: handleCloseLockUser,\n    user: lockUserData\n  }));\n};\n\nconst TreeHeader = styled(Grid)`\n  height: 56px;\n  background: #f5f6f8;\n  border: 1px solid #e5eaf3;\n  border-radius: 3px 3px 0 0;\n  flex-direction: row;\n  align-items: center;\n  display: flex;\n  border-bottom-width: 0;\n`;\n\nconst FirstNameField = () => {\n  const t = useT('allUsers_InviteUser');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('fullName');\n  return React.createElement(Input$1$1, Object.assign({\n    label: t('fullNameInputLabel')\n  }, fieldProps, {\n    error: !!error && touched,\n    errorMessage: error,\n    \"data-test-id\": 'nameBox',\n    autoComplete: 'given-name'\n  }));\n};\n\nconst EmailField = ({\n  disabled\n}) => {\n  const t = useT('allUsers_InviteUser');\n  const [fieldProps, {\n    error,\n    touched\n  }] = useField('email');\n  return React.createElement(Input$1$1, Object.assign({\n    label: t('emailInputLabel')\n  }, fieldProps, {\n    error: !!error && touched,\n    errorMessage: error,\n    \"data-test-id\": 'emailBox',\n    autoComplete: 'email',\n    disabled: disabled\n  }));\n};\n\nconst RolesField = ({\n  roles,\n  id\n}) => {\n  const t = useT('allUsers_InviteUser');\n  const {\n    injector\n  } = useShadowDom();\n  const [fieldProps, {\n    error,\n    touched\n  }, {\n    setValue,\n    setTouched\n  }] = useField(`roleIds-${id}`);\n  const options = react.exports.useMemo(() => (roles !== null && roles !== void 0 ? roles : []).map(role => ({\n    label: role.name,\n    value: role.id,\n    withCheckbox: true\n  })), [roles]);\n  return React.createElement(Select$1$1, {\n    name: `roleIds-${id}`,\n    placeholder: t('rolesInputPlaceholder'),\n    value: fieldProps.value,\n    multi: true,\n    oneLineMulti: true,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    options: options,\n    onChange: value => {\n      setValue(value, true);\n      setTouched(true);\n    },\n    error: !!error && touched,\n    errorMessage: error,\n    onClick: e => e.stopPropagation(),\n    sx: {\n      margin: '0 0 0 auto',\n      width: 210\n    }\n  });\n};\n\nconst AssignRolesToAll = ({\n  roles,\n  selectedTenantIds\n}) => {\n  const t = useT('allUsers_InviteUser');\n  const {\n    injector\n  } = useShadowDom();\n  const [fieldProps, {\n    error,\n    touched\n  }, {\n    setValue,\n    setTouched\n  }] = useField('rolesForAllTenants');\n  const options = react.exports.useMemo(() => (roles !== null && roles !== void 0 ? roles : []).map(role => ({\n    label: role.name,\n    value: role.id,\n    withCheckbox: true\n  })), [roles]);\n  const formikContext = useFormikContext();\n\n  const onChange = value => {\n    setValue(value, true);\n    setTouched(true);\n    selectedTenantIds.forEach(id => {\n      formikContext.setFieldValue(`roleIds-${id}`, value);\n    });\n  };\n\n  return React.createElement(Select$1$1, {\n    name: 'rolesForAllTenants',\n    placeholder: t('rolesInputPlaceholder'),\n    value: fieldProps.value,\n    multi: true,\n    oneLineMulti: true,\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n    options: options,\n    onChange: onChange,\n    error: !!error && touched,\n    errorMessage: error,\n    onClick: e => e.stopPropagation(),\n    sx: {\n      marginBottom: 0\n    },\n    customContent: React.createElement(Button$1, {\n      \"data-test-id\": 'assignRolesToAllBtn',\n      size: 'small',\n      color: 'inherit',\n      onClick: e => e.stopPropagation(),\n      type: 'button'\n    }, React.createElement(ManageAccounts, null), \" \", t('assignRole')),\n    minPopperWidth: 240\n  });\n};\n\nconst InviteUserForm = _a => {\n  var props = __rest(_a, []);\n\n  const t = useT('allUsers_InviteUser');\n  const {\n    addUserToSubTenants,\n    setUserRolesForSubTenants,\n    deleteUserFromSubTenants\n  } = useAuthTeamActions();\n  const {\n    tenantTree\n  } = useTenantsState();\n  const userData = react.exports.useMemo(() => props.teamUser, [props.teamUser]);\n  const treeData = react.exports.useMemo(() => {\n    const mapTree = (node, level = 1) => ({\n      id: node.tenantId,\n      name: node.tenantName || '',\n      level,\n      children: node.children.map(child => mapTree(child, level + 1))\n    });\n\n    return tenantTree && mapTree(tenantTree);\n  }, [tenantTree]);\n  const allTenantIds = react.exports.useMemo(() => {\n    const getTenantsIds = node => [node.tenantId, ...node.children.map(child => getTenantsIds(child)).flat()];\n\n    return tenantTree ? getTenantsIds(tenantTree) : [];\n  }, [tenantTree]);\n  const initialValues = react.exports.useMemo(() => {\n    const mapTreeInitialValues = (node, acc = {}) => {\n      var _a;\n\n      if (!node) {\n        return {};\n      }\n\n      if (userData && userData.tenants) {\n        acc[`roleIds-${node.id}`] = ((_a = userData.tenants.find(tenant => tenant.tenantId === node.id)) === null || _a === void 0 ? void 0 : _a.roles.map(role => role.id)) || [];\n      } else {\n        acc[`roleIds-${node.id}`] = [];\n      }\n\n      (node.children || []).forEach(child => mapTreeInitialValues(child, acc));\n      return acc;\n    };\n\n    const tenantsRoles = mapTreeInitialValues(treeData);\n    return Object.assign(Object.assign({}, tenantsRoles), {\n      fullName: (userData === null || userData === void 0 ? void 0 : userData.name) || '',\n      email: (userData === null || userData === void 0 ? void 0 : userData.email) || '',\n      rolesForAllTenants: []\n    });\n  }, [treeData, userData]);\n  const [selectedTenants, setSelectedTenants] = react.exports.useState(((userData === null || userData === void 0 ? void 0 : userData.tenants) || []).map(tenant => tenant.tenantId) || []);\n  const accountsCount = react.exports.useMemo(() => t('accountsCount_one', {\n    count: selectedTenants.length\n  }), [selectedTenants.length, t]);\n  const validationSchema = react.exports.useMemo(() => validateSchema(Object.assign({\n    fullName: validateNotEmpty(t('fullNameIsRequired')),\n    email: validateEmail(t('emailMustBeValid'), t('emailIsRequired'))\n  }, selectedTenants.reduce((previousValue, currentValue) => {\n    return Object.assign(Object.assign({}, previousValue), {\n      [`roleIds-${currentValue}`]: create().min(1, t('rolesIsRequired'))\n    });\n  }, {}))), [t, selectedTenants]);\n  const handleSelectedChange = react.exports.useCallback(ids => setSelectedTenants(ids), [setSelectedTenants]);\n  const cachedRoles = react.exports.useMemo(() => props.roles, [props.roles]);\n  const itemProps = react.exports.useMemo(() => ({\n    roles: cachedRoles\n  }), [cachedRoles]);\n  const checked = react.exports.useMemo(() => selectedTenants.length === (allTenantIds === null || allTenantIds === void 0 ? void 0 : allTenantIds.length), [selectedTenants, allTenantIds]);\n  const indeterminate = react.exports.useMemo(() => !checked && selectedTenants.length > 0, [selectedTenants, checked]);\n  const handleSelectAll = react.exports.useCallback(() => setSelectedTenants(!checked ? allTenantIds : []), [allTenantIds, checked]);\n  const formikProps = react.exports.useMemo(() => ({\n    onSubmit: _a => {\n      var {\n        fullName,\n        email\n      } = _a,\n          rest = __rest(_a, [\"fullName\", \"email\"]);\n\n      return new Promise((resolve, reject) => {\n        const callback = callbackToPromise(resolve, reject, props.onClose);\n\n        if (userData && userData.tenantIds) {\n          const addedTenants = selectedTenants.filter(x => !userData.tenantIds.includes(x));\n          const removedTenants = userData.tenantIds.filter(x => !selectedTenants.includes(x));\n\n          if (addedTenants.length) {\n            addUserToSubTenants({\n              user: {\n                name: userData.name,\n                email: userData.email\n              },\n              subTenants: addedTenants.map(id => ({\n                tenantId: id,\n                roleIds: [...new Set(rest[`roleIds-${id}`])]\n              }))\n            });\n          }\n\n          if (removedTenants.length) {\n            deleteUserFromSubTenants({\n              userId: userData.id,\n              subTenants: removedTenants.map(id => ({\n                tenantId: id\n              }))\n            });\n          }\n\n          setUserRolesForSubTenants({\n            callback,\n            userId: userData.id,\n            subTenantsRoles: selectedTenants.filter(id => !removedTenants.includes(id)).map(id => ({\n              tenantId: id,\n              roleIds: [...new Set(rest[`roleIds-${id}`])]\n            }))\n          });\n        } else {\n          addUserToSubTenants({\n            callback,\n            user: {\n              name: fullName,\n              email\n            },\n            subTenants: selectedTenants.map(id => ({\n              tenantId: id,\n              roleIds: [...new Set(rest[`roleIds-${id}`])]\n            }))\n          });\n        }\n      });\n    },\n    initialValues,\n    validationSchema\n  }), [addUserToSubTenants, deleteUserFromSubTenants, initialValues, props.onClose, selectedTenants, setUserRolesForSubTenants, userData, validationSchema]);\n  return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({\n    isSubmitting,\n    canSubmit,\n    formError\n  }) => {\n    return React.createElement(React.Fragment, null, React.createElement(Dialog$1.Body, null, React.createElement(Grid, {\n      container: true,\n      spacing: 4\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6\n    }, React.createElement(FirstNameField, null)), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6\n    }, React.createElement(EmailField, {\n      disabled: !!(userData === null || userData === void 0 ? void 0 : userData.email)\n    }))), React.createElement(Grid, {\n      container: true,\n      spacing: 4,\n      style: {\n        marginBottom: '8px'\n      },\n      alignItems: 'center'\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 6\n    }, React.createElement(Typography$1, {\n      component: 'div',\n      display: 'inline-flex',\n      marginRight: '1em'\n    }, t('selected')), React.createElement(Chip$1, {\n      label: accountsCount\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 6,\n      sx: {\n        display: 'flex',\n        justifyContent: 'end'\n      }\n    }, React.createElement(AssignRolesToAll, {\n      roles: cachedRoles,\n      selectedTenantIds: selectedTenants\n    }))), treeData && React.createElement(React.Fragment, null, React.createElement(TreeHeader, null, React.createElement(Grid, {\n      item: true,\n      xs: 6\n    }, React.createElement(Typography$1, {\n      component: 'div',\n      display: 'flex',\n      marginLeft: '3.5em',\n      fontWeight: 'bold',\n      alignItems: 'center'\n    }, React.createElement(Checkbox$1, {\n      edge: 'start',\n      checked: checked,\n      onChange: handleSelectAll,\n      tabIndex: -1,\n      indeterminate: indeterminate,\n      disableRipple: true,\n      onClick: e => e.stopPropagation(),\n      size: 'small',\n      sx: {\n        padding: '3px 8px 3px 1em'\n      }\n    }), t('accounts'))), React.createElement(Grid, {\n      item: true,\n      xs: 6\n    }, React.createElement(Typography$1, {\n      component: 'div',\n      display: 'inline-flex',\n      marginLeft: '3.5em',\n      fontWeight: 'bold'\n    }, t('role')))), React.createElement(Tree, {\n      data: treeData,\n      selected: selectedTenants,\n      handleSelectedChange: handleSelectedChange,\n      ItemContent: RolesField,\n      itemProps: itemProps\n    })), React.createElement(FormErrorDialogMessage, {\n      message: formError\n    })), React.createElement(Dialog$1.Footer, null, React.createElement(Box, {\n      flex: 1\n    }), React.createElement(Button$1, {\n      \"data-test-id\": 'cancelBtn',\n      color: 'inherit',\n      variant: 'text',\n      type: 'reset',\n      onClick: props.onClose\n    }, t('cancel')), React.createElement(Button$1, {\n      \"data-test-id\": 'inviteBtn',\n      disabled: !canSubmit,\n      loading: isSubmitting,\n      color: 'primary',\n      type: 'submit'\n    }, !userData ? t('invite') : t('save'))));\n  });\n};\n\nconst InviteUserDialog = _a => {\n  var {\n    onClose\n  } = _a,\n      props = __rest(_a, [\"onClose\"]);\n\n  const t = useT('allUsers_InviteUser');\n  const {\n    injector\n  } = useShadowDom();\n  const handleClose = react.exports.useCallback(() => {\n    onClose();\n  }, [onClose]);\n  return React.createElement(Dialog$1, Object.assign({\n    container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl\n  }, props, {\n    onClose: handleClose,\n    title: t('title')\n  }), React.createElement(InviteUserForm, Object.assign({}, props, {\n    onClose: handleClose\n  })));\n};\n\nconst AllUsersPage$1 = () => {\n  const [searching, setSearching] = react.exports.useState(false);\n  const [searchQuery, onSearch] = react.exports.useState('');\n  const {\n    allUsers,\n    roles\n  } = useAuthTeamState();\n  const {\n    loadAllSubTenantsUsers\n  } = useAuthTeamActions();\n  const {\n    loadSubTenants,\n    loadSubTenantsTree\n  } = useTenantsActions();\n  const [inviteUserDialog, handleCloseInviteUser, handleOpenInviteUser, inviteUserData] = useDialogState();\n  react.exports.useEffect(() => {\n    loadSubTenants();\n    loadSubTenantsTree();\n    const queryObject = {\n      _filter: '',\n      _offset: 0,\n      _limit: 20,\n      _order: 'DESC',\n      _sortBy: 'name',\n      silentLoading: allUsers.length > 0\n    };\n    loadAllSubTenantsUsers(queryObject);\n    return () => loadAllSubTenantsUsers(queryObject); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loadAllSubTenantsUsers]);\n  useEffectAfterMount(() => {\n    loadAllSubTenantsUsers({\n      _filter: searchQuery,\n      _offset: 0,\n      _limit: 20,\n      _order: 'DESC',\n      _sortBy: 'name',\n      callback: () => setSearching(false)\n    });\n  }, [searchQuery, loadAllSubTenantsUsers]);\n  return React.createElement(PageWrapper, {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(TableSearchContext.Provider, {\n    value: {\n      searching,\n      searchQuery,\n      onSearch,\n      setSearching\n    }\n  }, React.createElement(AllUsersHeader, {\n    handleOpenInviteUser: handleOpenInviteUser\n  }), React.createElement(Box, {\n    mt: 6,\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(AllUsersTable, {\n    handleOpenInviteUser: handleOpenInviteUser\n  })), React.createElement(InviteUserDialog, {\n    open: inviteUserDialog,\n    onClose: handleCloseInviteUser,\n    roles: roles,\n    teamUser: inviteUserData\n  })));\n};\n\nvar AllUsersPage$2 = AllUsersPage$1;\nvar AllUsersPage = wrapPage(AllUsersPage$2, 'allUsers');\n\nconst usePreloadRoutes = () => {\n  const {\n    loadProfile,\n    loadAccountSettings,\n    loadSSOConfigurationsV2,\n    loadSecurityPolicy,\n    loadVendorPasswordConfig\n  } = useAuthActions();\n  const {\n    injector\n  } = useShadowDom();\n  const isAuthenticated = useIsAuthenticated();\n  const {\n    policy,\n    loading: loadingPolicy\n  } = usePublicPolicySettings();\n  const shouldLoad = react.exports.useCallback(page => {\n    var _a;\n\n    const metadata = Metadata.getInstance(injector.name).navigation[page];\n\n    if (!metadata) {\n      return false;\n    }\n\n    if (metadata.visibility === 'hidden') {\n      return false;\n    }\n\n    if (metadata.featureFlag) {\n      return false;\n    }\n\n    if ((policy === null || policy === void 0 ? void 0 : policy.forcePermissions) && metadata.visibility === 'byPermissions') {\n      return hasPermission(...((_a = metadata.permissions) !== null && _a !== void 0 ? _a : []));\n    }\n\n    return true;\n  }, [policy === null || policy === void 0 ? void 0 : policy.forcePermissions]);\n  react.exports.useEffect(() => {\n    if (isAuthenticated && !loadingPolicy) {\n      if (shouldLoad('profile')) {\n        loadProfile();\n      }\n\n      if (shouldLoad('privacy')) {\n        loadVendorPasswordConfig();\n      }\n\n      if (shouldLoad('account')) {\n        loadAccountSettings();\n      }\n\n      if (shouldLoad('security')) {\n        loadSecurityPolicy();\n      }\n\n      if (shouldLoad('sso')) {\n        loadSSOConfigurationsV2();\n      }\n    }\n  }, [isAuthenticated, shouldLoad, loadingPolicy]);\n};\n\nconst getRoutes = (appName, user, vendorConfig) => {\n  return [{\n    type: 'nav-header',\n    id: 'profile',\n    path: '/',\n    icon: {\n      xl: React.createElement(ProfileIcon, null),\n      default: React.createElement(UserAvatar, null)\n    },\n    component: ProfilePage\n  }, {\n    type: 'nav-header',\n    id: 'privacy',\n    path: '/privacy',\n    icon: React.createElement(PrivacyIcon, null),\n    component: PrivacyPage\n  }, {\n    type: 'nav-header',\n    id: 'personalApiTokens',\n    path: '/personal-tokens',\n    icon: React.createElement(PersonalTokensIcon, null),\n    component: PersonalTokensPage\n  }, {\n    type: 'nav-body',\n    id: 'usage',\n    path: '/usage',\n    icon: React.createElement(UsageIcon, null),\n    component: ProfilePage\n  }, {\n    type: 'nav-body',\n    id: 'account',\n    path: '/account',\n    icon: React.createElement(AccountDetailsIcon, null),\n    component: AccountDetailsPage\n  }, {\n    type: 'nav-body',\n    id: 'users',\n    path: '/users',\n    icon: React.createElement(UsersIcon, null),\n    component: UsersPage\n  }, {\n    type: 'nav-body',\n    id: 'allUsers',\n    path: '/all-users',\n    icon: React.createElement(UsersIcon, null),\n    component: AllUsersPage\n  }, {\n    type: 'nav-body',\n    id: 'roles',\n    path: '/roles',\n    icon: React.createElement(RolesIcon, null),\n    component: RolesPage\n  }, {\n    type: 'nav-body',\n    id: 'security',\n    path: '/security',\n    icon: React.createElement(SecurityIcon, null),\n    component: SecurityPage\n  }, {\n    type: 'nav-body',\n    id: 'sso',\n    path: '/sso',\n    icon: React.createElement(SSOIcon, null),\n    component: MultipleSsoPage\n  }, {\n    type: 'nav-body',\n    id: 'audits',\n    path: '/audits',\n    icon: React.createElement(AuditLogsIcon, null),\n    component: AuditLogsPage\n  }, {\n    type: 'nav-body',\n    id: 'webhooks',\n    path: '/webhooks',\n    icon: React.createElement(WebhooksIcon, null),\n    component: WebhooksPage\n  }, {\n    type: 'nav-body',\n    id: 'apiTokens',\n    path: '/api-tokens',\n    icon: React.createElement(APITokenIcon, null),\n    component: ApiTokensPage\n  }, {\n    type: 'nav-body',\n    id: 'subscriptions',\n    path: '/subscriptions',\n    icon: React.createElement(SubscriptionIcon, null),\n    component: SubscriptionPage\n  }, {\n    type: 'app-route',\n    id: 'login',\n    path: '/account/login',\n    component: LoginPage$1,\n    publicRoute: true\n  }].filter(route => {\n    var _a;\n\n    if (route.type === 'app-route') {\n      return true;\n    }\n\n    const allMetadata = Metadata.getInstance(appName).navigation;\n    const metadata = allMetadata[route.id];\n\n    if (!metadata) {\n      return false;\n    }\n\n    if (metadata.visibility === 'hidden') {\n      return false;\n    }\n\n    if (metadata.featureFlag) {\n      return false;\n    }\n\n    if ((vendorConfig === null || vendorConfig === void 0 ? void 0 : vendorConfig.forcePermissions) && metadata.visibility === 'byPermissions') {\n      return hasPermission(...((_a = metadata.permissions) !== null && _a !== void 0 ? _a : []));\n    }\n\n    return true;\n  });\n};\n\nconst getPreviewModeRoutes = appName => {\n  return [{\n    type: 'nav-header',\n    id: 'profile',\n    path: '/',\n    icon: {\n      xl: React.createElement(ProfileIcon, null),\n      default: React.createElement(UserAvatar, null)\n    },\n    component: ProfilePage\n  }, {\n    type: 'nav-header',\n    id: 'privacy',\n    path: '/privacy',\n    icon: React.createElement(PrivacyIcon, null),\n    component: PrivacyPage\n  }, {\n    type: 'nav-header',\n    id: 'personalApiTokens',\n    path: '/personal-tokens',\n    icon: React.createElement(PersonalTokensIcon, null),\n    component: PersonalTokensPage\n  }, {\n    type: 'nav-body',\n    id: 'usage',\n    path: '/usage',\n    icon: React.createElement(UsageIcon, null),\n    component: ProfilePage\n  }, {\n    type: 'nav-body',\n    id: 'account',\n    path: '/account',\n    icon: React.createElement(AccountDetailsIcon, null),\n    component: AccountDetailsPage\n  }, {\n    type: 'nav-body',\n    id: 'users',\n    path: '/users',\n    icon: React.createElement(UsersIcon, null),\n    component: UsersPage\n  }, {\n    type: 'nav-body',\n    id: 'allUsers',\n    path: '/all-users',\n    icon: React.createElement(UsersIcon, null),\n    component: AllUsersPage\n  }, {\n    type: 'nav-body',\n    id: 'roles',\n    path: '/roles',\n    icon: React.createElement(RolesIcon, null),\n    component: RolesPage\n  }, {\n    type: 'nav-body',\n    id: 'security',\n    path: '/security',\n    icon: React.createElement(SecurityIcon, null),\n    component: SecurityPage\n  }, {\n    type: 'nav-body',\n    id: 'sso',\n    path: '/sso',\n    icon: React.createElement(SSOIcon, null),\n    component: MultipleSsoPage\n  }, {\n    type: 'nav-body',\n    id: 'audits',\n    path: '/audits',\n    icon: React.createElement(AuditLogsIcon, null),\n    component: AuditLogsPage\n  }, {\n    type: 'nav-body',\n    id: 'webhooks',\n    path: '/webhooks',\n    icon: React.createElement(WebhooksIcon, null),\n    component: WebhooksPage\n  }, {\n    type: 'nav-body',\n    id: 'apiTokens',\n    path: '/api-tokens',\n    icon: React.createElement(APITokenIcon, null),\n    component: ApiTokensPage\n  }, {\n    type: 'nav-body',\n    id: 'subscriptions',\n    path: '/subscriptions',\n    icon: React.createElement(SubscriptionIcon, null),\n    component: SubscriptionPage\n  }, {\n    type: 'app-route',\n    id: 'login',\n    path: '/account/login',\n    component: LoginPage$1,\n    publicRoute: true\n  }].filter(route => {\n    const allMetadata = Metadata.getInstance(appName).navigation;\n    const metadata = allMetadata[route.id];\n\n    if (!metadata) {\n      return false;\n    }\n\n    if (metadata.featureFlag) {\n      return false;\n    }\n\n    return true;\n  }).map(route => {\n    const allMetadata = Metadata.getInstance(appName).navigation;\n    const metadata = allMetadata[route.id];\n\n    if (metadata.visibility === 'hidden') {\n      return Object.assign(Object.assign({}, route), {\n        visibility: 'hidden'\n      });\n    }\n\n    return route;\n  });\n};\n\nconst AppNavigation = () => {\n  const user = useAuthUserOrNull();\n  const t = useT('navigation');\n  const history = useHistory();\n  const {\n    close\n  } = react.exports.useContext(DrawerContext);\n  const location = useLocation();\n  const activeRoute = useRouteMatch(location.pathname);\n  const {\n    policy\n  } = usePublicPolicySettings();\n  const {\n    tenants\n  } = useTenantsState();\n  const {\n    injector\n  } = useShadowDom();\n  const isTenantReseller = react.exports.useMemo(() => {\n    var _a, _b;\n\n    return (_b = (_a = tenants.find(({\n      tenantId\n    }) => tenantId === (user === null || user === void 0 ? void 0 : user.tenantId))) === null || _a === void 0 ? void 0 : _a.isReseller) !== null && _b !== void 0 ? _b : false;\n  }, [tenants, user]);\n  const routes = react.exports.useMemo(() => {\n    return getRoutes(injector.name, user, policy);\n  }, [injector.name, policy, user]);\n  const isRouteActive = react.exports.useCallback(route => {\n    return route.path === (activeRoute === null || activeRoute === void 0 ? void 0 : activeRoute.path);\n  }, [activeRoute]);\n  const {\n    events\n  } = useShadowDom();\n  const {\n    email\n  } = useAuthUser();\n  const onNavigationClicked = react.exports.useCallback(routePath => {\n    var _a, _b;\n\n    const routeId = (_a = routes.find(({\n      path\n    }) => {\n      return path === routePath;\n    })) === null || _a === void 0 ? void 0 : _a.id;\n\n    if (routeId && AdminPortalPages[routeId]) {\n      (_b = events === null || events === void 0 ? void 0 : events.adminBoxMenuClicked) === null || _b === void 0 ? void 0 : _b.call(events, {\n        email,\n        tab: AdminPortalPages[routeId]\n      });\n    }\n\n    history.push(routePath);\n    close();\n  }, [history, close]);\n  const userInfo = react.exports.useMemo(() => user ? {\n    name: getUserFullName(user),\n    email: user.email,\n    profilePictureUrl: user.profilePictureUrl\n  } : null, [user]);\n  const tenantRoutes = routes.filter(route => route.type === 'nav-body');\n  const workspaceRoutes = tenantRoutes.filter(route => route.id !== 'allUsers');\n  const allAccountsRoutes = tenantRoutes.filter(route => route.id === 'allUsers');\n  const items = react.exports.useMemo(() => {\n    return [{\n      items: routes.filter(route => route.type === 'nav-header').map(route => Object.assign(Object.assign({}, route), {\n        title: t(route.id),\n        selected: isRouteActive(route),\n        id: route.id\n      }))\n    }, ...(tenantRoutes.length > 0 ? [{\n      title: t('workspace'),\n      items: workspaceRoutes.map(route => Object.assign(Object.assign({}, route), {\n        title: t(route.id),\n        selected: isRouteActive(route),\n        id: route.id\n      }))\n    }, ...(isTenantReseller ? [{\n      title: t('allAccounts'),\n      items: allAccountsRoutes.map(route => Object.assign(Object.assign({}, route), {\n        title: t(route.id),\n        selected: isRouteActive(route),\n        id: route.id\n      }))\n    }] : [])] : [])];\n  }, [routes, tenantRoutes, workspaceRoutes, allAccountsRoutes, t, isRouteActive, isTenantReseller]);\n  return React.createElement(Navigation, {\n    user: userInfo,\n    items: items,\n    onRedirectTo: onNavigationClicked\n  });\n};\n\nvar AppNavigation$1 = AppNavigation;\n\nconst AppNavigationPreviewMode = () => {\n  const user = useAuthUserOrNull();\n  const t = useT('navigation');\n  const history = useHistory();\n  const {\n    close\n  } = react.exports.useContext(DrawerContext);\n  const location = useLocation();\n  const activeRoute = useRouteMatch(location.pathname);\n  const {\n    injector\n  } = useShadowDom();\n  const {\n    tenants\n  } = useTenantsState();\n  const isTenantReseller = react.exports.useMemo(() => {\n    var _a, _b;\n\n    return (_b = (_a = tenants.find(({\n      tenantId\n    }) => tenantId === (user === null || user === void 0 ? void 0 : user.tenantId))) === null || _a === void 0 ? void 0 : _a.isReseller) !== null && _b !== void 0 ? _b : false;\n  }, [tenants, user]);\n  const previewRoutes = getPreviewModeRoutes(injector.name);\n  const isRouteActive = react.exports.useCallback(route => {\n    return route.path === (activeRoute === null || activeRoute === void 0 ? void 0 : activeRoute.path);\n  }, [activeRoute]);\n  const onNavigationClicked = react.exports.useCallback(path => {\n    history.push(path);\n    close();\n  }, [history, close]);\n  const userInfo = react.exports.useMemo(() => user ? {\n    name: getUserFullName(user),\n    email: user.email,\n    profilePictureUrl: user.profilePictureUrl\n  } : null, [user]);\n  const tenantPreviewRoutes = previewRoutes.filter(route => route.type === 'nav-body');\n  const workspaceRoutes = tenantPreviewRoutes.filter(route => route.id !== 'allUsers');\n  const allAccountsRoutes = tenantPreviewRoutes.filter(route => route.id === 'allUsers');\n  const isAllWorkspaceRouteHidden = tenantPreviewRoutes.every(item => (item === null || item === void 0 ? void 0 : item.visibility) === 'hidden');\n  const items = react.exports.useMemo(() => {\n    return [{\n      items: previewRoutes.filter(route => route.type === 'nav-header').map(route => Object.assign(Object.assign({}, route), {\n        title: t(route.id),\n        selected: isRouteActive(route),\n        id: route.id\n      }))\n    }, ...(tenantPreviewRoutes.length > 0 && !isAllWorkspaceRouteHidden ? [{\n      title: t('workspace'),\n      items: workspaceRoutes.map(route => Object.assign(Object.assign({}, route), {\n        title: t(route.id),\n        selected: isRouteActive(route),\n        id: route.id\n      }))\n    }, ...(isTenantReseller ? [{\n      title: t('allAccounts'),\n      items: allAccountsRoutes.map(route => Object.assign(Object.assign({}, route), {\n        title: t(route.id),\n        selected: isRouteActive(route),\n        id: route.id\n      }))\n    }] : [])] : [])];\n  }, [previewRoutes, tenantPreviewRoutes, workspaceRoutes, allAccountsRoutes, t, isRouteActive]);\n  return React.createElement(Navigation, {\n    user: userInfo,\n    items: items,\n    onRedirectTo: onNavigationClicked\n  });\n};\n\nvar AppNavigationPreviewMode$1 = AppNavigationPreviewMode;\n\nconst ProtectedRoute = props => {\n  const isAuthenticated = useIsAuthenticated();\n\n  if (isAuthenticated) {\n    return React.createElement(Route, Object.assign({}, props));\n  }\n\n  return React.createElement(Redirect, {\n    to: '/account/login'\n  });\n};\n\nconst RoutesLayout = () => {\n  const user = useAuthUserOrNull();\n  const {\n    injector\n  } = useShadowDom();\n  const {\n    policy\n  } = usePublicPolicySettings();\n  const routes = react.exports.useMemo(() => getRoutes(injector.name, user, policy), [user, policy, injector.name]);\n  usePreloadRoutes();\n  const routesComponents = react.exports.useMemo(() => routes.map(({\n    path,\n    exact,\n    component,\n    id,\n    publicRoute\n  }) => {\n    const routeProps = {\n      path,\n      exact: exact !== null && exact !== void 0 ? exact : true,\n      component\n    };\n    return publicRoute ? React.createElement(Route, Object.assign({\n      key: id\n    }, routeProps)) : React.createElement(ProtectedRoute, Object.assign({\n      key: id\n    }, routeProps));\n  }), [routes]);\n  return React.createElement(Switch, null, routesComponents, React.createElement(Redirect, {\n    path: '*',\n    to: routes[0].path\n  }));\n};\n\nconst RoutesLayoutPreviewMode = () => {\n  const {\n    injector\n  } = useShadowDom();\n  const routes = getPreviewModeRoutes(injector.name);\n  usePreloadRoutes();\n  const routesComponents = react.exports.useMemo(() => routes.map(({\n    path,\n    exact,\n    component,\n    id,\n    publicRoute\n  }) => {\n    const routeProps = {\n      path,\n      exact: exact !== null && exact !== void 0 ? exact : true,\n      component\n    };\n    return publicRoute ? React.createElement(Route, Object.assign({\n      key: id\n    }, routeProps)) : React.createElement(ProtectedRoute, Object.assign({\n      key: id\n    }, routeProps));\n  }), [routes]);\n  return React.createElement(Switch, null, routesComponents, React.createElement(Redirect, {\n    path: '*',\n    to: routes[0].path\n  }));\n};\n\nconst PageLayout = () => {\n  const theme = useTheme();\n  const {\n    isLoading\n  } = useAuth(({\n    isLoading\n  }) => ({\n    isLoading\n  }));\n  const {\n    previewMode\n  } = useShadowDom();\n  const displayAsDrawer = useMuiMediaQuery(theme.breakpoints.down('sm'));\n  const {\n    open\n  } = react.exports.useContext(DrawerContext);\n  const {\n    closeAdminBox\n  } = react.exports.useContext(AppDialogContext);\n  const routesLayout = previewMode ? React.createElement(RoutesLayoutPreviewMode, null) : React.createElement(RoutesLayout, null);\n  return React.createElement(Box, {\n    height: '100%',\n    overflow: 'auto',\n    display: 'flex',\n    flexDirection: 'column'\n  }, React.createElement(PageHeaderProvider, null, !isLoading && React.createElement(PageHeader, {\n    onClose: closeAdminBox,\n    openDrawer: displayAsDrawer ? open : undefined\n  }), !isLoading && routesLayout));\n};\n\nvar PageLayout$1 = PageLayout;\nconst LogoContainer = styled('div')(({\n  theme\n}) => ({\n  position: 'absolute',\n  padding: '1.5rem 0',\n  boxSizing: 'border-box',\n  bottom: 0,\n  left: 0,\n  right: 0,\n  color: theme.palette.grey[700],\n  fontSize: '0.75rem',\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'center',\n  justifyContent: 'center',\n  width: '100%',\n  background: theme.navigation.background,\n  '& svg': {\n    width: '4.625rem',\n    marginLeft: '.5rem'\n  }\n}));\n\nconst PoweredByLogo = () => {\n  const t = useT('navigation');\n  return React.createElement(LogoContainer, null, React.createElement(\"span\", null, t('poweredBy')), React.createElement(SvgIcon, {\n    viewBox: '0 0 74 14'\n  }, React.createElement(\"mask\", {\n    id: \"mask0\",\n    mask: \"alpha\",\n    maskUnits: \"userSpaceOnUse\",\n    x: \"0\",\n    y: \"0\",\n    width: \"74\",\n    height: \"14\"\n  }, React.createElement(\"path\", {\n    d: \"M74 0H0V14H74V0Z\",\n    fill: \"white\"\n  })), React.createElement(\"g\", {\n    mask: \"url(#mask0)\"\n  }, React.createElement(\"path\", {\n    d: \"M16.516 11.0457V6.73371H15.6987V5.50009H16.516V4.72148C16.4789 4.05463 16.6813 3.39642 17.0869 2.86486C17.4628 2.41167 18.0293 2.15935 18.6188 2.18263C19.1567 2.18869 19.6864 2.3155 20.1684 2.55363L19.8444 3.76356C19.7087 3.69388 19.5655 3.6397 19.4176 3.60202C19.271 3.5608 19.1195 3.53872 18.9672 3.53633C18.4065 3.53633 18.1261 3.91163 18.1261 4.66225V5.50063H19.6612V6.73425H18.1261V11.0462L16.516 11.0457Z\",\n    fill: \"#8B9DB8\"\n  }), React.createElement(\"path\", {\n    d: \"M25.6353 6.15842C25.1836 6.15833 24.737 6.25434 24.3255 6.44003C23.9604 6.60051 23.666 6.88746 23.4969 7.24772V11.045H21.8867V4.76919H23.3646V6.11049C23.5618 5.7023 23.8518 5.34556 24.2115 5.06857C24.5232 4.81796 24.9103 4.6788 25.3107 4.67334C25.3993 4.67334 25.4652 4.67334 25.5089 4.67926C25.5513 4.68307 25.5935 4.689 25.6353 4.69703V6.15842Z\",\n    fill: \"#8B9DB8\"\n  }), React.createElement(\"path\", {\n    d: \"M30.4891 11.1653C30.0155 11.1727 29.5454 11.0829 29.108 10.9015C28.716 10.7377 28.3621 10.4952 28.0682 10.1891C27.7842 9.89014 27.5618 9.53853 27.4136 9.15419C27.1102 8.35625 27.1102 7.47522 27.4136 6.67727C27.5617 6.2924 27.7841 5.94023 28.0682 5.64073C28.3624 5.33496 28.7162 5.09251 29.108 4.92835C29.5454 4.74718 30.0155 4.65755 30.4891 4.66504C30.9612 4.65706 31.4299 4.74672 31.8654 4.92835C32.6437 5.25767 33.2533 5.88936 33.5534 6.67727C33.8575 7.47508 33.8575 8.35638 33.5534 9.15419C33.4061 9.53785 33.1861 9.8896 32.9052 10.1902C32.6135 10.4971 32.2604 10.7394 31.8687 10.9015C31.4311 11.0829 30.9608 11.1727 30.487 11.1653H30.4891ZM28.8439 7.9195C28.8404 8.17841 28.8832 8.43586 28.9703 8.67981C29.0485 8.89711 29.1666 9.09797 29.3187 9.27212C29.4636 9.4367 29.6415 9.56915 29.841 9.66089C30.2535 9.84417 30.7248 9.84417 31.1373 9.66089C31.3368 9.56915 31.5147 9.4367 31.6596 9.27212C31.8128 9.09617 31.9311 8.89279 32.008 8.67281C32.0948 8.42673 32.1375 8.16739 32.1344 7.90658C32.1367 7.64987 32.0939 7.39475 32.008 7.15273C31.9312 6.93287 31.8129 6.72965 31.6596 6.55396C31.5149 6.3891 31.3369 6.25646 31.1373 6.16466C30.9339 6.07232 30.7127 6.02528 30.4891 6.02681C30.265 6.02515 30.0433 6.07432 29.841 6.17058C29.6419 6.26581 29.4642 6.40026 29.3187 6.56581C29.1655 6.74181 29.0473 6.94518 28.9703 7.16512C28.8843 7.4071 28.8415 7.66225 28.8439 7.91896\",\n    fill: \"#8B9DB8\"\n  }), React.createElement(\"path\", {\n    d: \"M41.8919 11.0458H40.2818V7.52423C40.3123 7.13836 40.2197 6.75274 40.0171 6.42254C39.8456 6.19311 39.5714 6.06309 39.2846 6.07523C39.1159 6.07673 38.9489 6.10922 38.792 6.17108C38.6209 6.23617 38.4608 6.32696 38.3172 6.44031C38.1654 6.55965 38.0301 6.69853 37.9148 6.85331C37.7953 7.01157 37.7056 7.1902 37.6502 7.38047V11.0458H36.0405V4.76947H37.4946V5.93147C37.7311 5.52762 38.0821 5.20256 38.5036 4.99723C38.9662 4.76857 39.477 4.65355 39.9933 4.66177C40.3272 4.64801 40.6589 4.72231 40.9548 4.87716C41.1927 5.01105 41.3914 5.20466 41.5311 5.43877C41.6721 5.68322 41.7678 5.95098 41.8136 6.22923C41.8657 6.52579 41.8919 6.82631 41.8919 7.12739V11.0458Z\",\n    fill: \"#8B9DB8\"\n  }), React.createElement(\"path\", {\n    d: \"M48.2354 10.7221C47.9751 10.8336 47.7084 10.9295 47.4365 11.0091C47.1152 11.106 46.7811 11.1547 46.4454 11.1534C46.2322 11.1546 46.0199 11.1263 45.8145 11.0694C45.6252 11.0171 45.4491 10.9254 45.2981 10.8001C45.1443 10.6699 45.0228 10.5058 44.9432 10.3209C44.849 10.0953 44.8039 9.85228 44.8109 9.60799V6.00029H43.9937V4.76937H44.8109V2.73291H46.4211V4.76937H47.7547V6.00299H46.4211V9.06899C46.402 9.24641 46.4691 9.42223 46.6015 9.54229C46.7259 9.63527 46.8782 9.68365 47.0336 9.6796C47.2015 9.67986 47.3683 9.65164 47.5267 9.59614C47.6861 9.54229 47.8152 9.49222 47.9108 9.45237L48.2354 10.7221Z\",\n    fill: \"#8B9DB8\"\n  }), React.createElement(\"path\", {\n    d: \"M53.1735 11.1651C52.704 11.1717 52.238 11.0842 51.8032 10.9077C51.4111 10.7468 51.0556 10.5087 50.758 10.2077C50.4692 9.91194 50.2426 9.56175 50.0914 9.17759C49.9347 8.78517 49.8551 8.36636 49.857 7.94398C49.8542 7.51244 49.9317 7.08413 50.0855 6.68075C50.2329 6.29252 50.4574 5.93795 50.7455 5.63829C51.0442 5.3324 51.402 5.09006 51.7972 4.9259C52.237 4.74503 52.7092 4.65544 53.1848 4.66259C53.6568 4.65466 54.1252 4.74431 54.5606 4.9259C54.9488 5.09036 55.3002 5.33056 55.5939 5.63236C55.8782 5.92827 56.0987 6.27899 56.2421 6.66298C56.3904 7.05311 56.4658 7.46701 56.4646 7.88421C56.4646 7.98813 56.4646 8.08775 56.4587 8.18359C56.4565 8.26426 56.4464 8.34452 56.4284 8.42321H51.5628C51.5817 8.65193 51.6429 8.87519 51.7432 9.08175C51.9257 9.45269 52.2439 9.73981 52.6323 9.88406C52.8243 9.956 53.0278 9.99249 53.2329 9.99175C53.5505 9.99243 53.8629 9.91197 54.1404 9.75806C54.4013 9.62723 54.6077 9.40894 54.7232 9.14152L56.1043 9.52436C55.8588 10.0184 55.4723 10.4291 54.9933 10.7047C54.4411 11.0231 53.8112 11.1827 53.1735 11.1656V11.1651ZM54.8069 7.38075C54.7859 6.9506 54.5985 6.5453 54.284 6.24998C53.9796 5.96781 53.5767 5.8152 53.1611 5.82459C52.9533 5.8232 52.7471 5.86177 52.554 5.93821C52.3692 6.01193 52.2001 6.11971 52.0554 6.2559C51.9081 6.39653 51.7879 6.563 51.7011 6.74698C51.6067 6.94629 51.5517 7.16181 51.539 7.38182L54.8069 7.38075Z\",\n    fill: \"#ADBCD2\"\n  }), React.createElement(\"path\", {\n    d: \"M61.1155 11.0814C60.7188 11.086 60.3264 11 59.9682 10.8299C59.6243 10.6663 59.3192 10.4315 59.0732 10.1412C58.82 9.84216 58.6246 9.49893 58.4969 9.1289C58.3586 8.73642 58.2891 8.32312 58.2916 7.90713C58.288 7.47451 58.3611 7.04465 58.5077 6.63744C58.6441 6.26089 58.8478 5.91208 59.1089 5.6079C59.6336 4.99625 60.4044 4.64946 61.2117 4.66182C61.6658 4.65112 62.1143 4.76492 62.508 4.99082C62.8756 5.20775 63.186 5.50902 63.4133 5.86959V4.76952H64.8177V10.7464C64.8249 11.1754 64.7369 11.6007 64.56 11.9919C64.3903 12.353 64.1413 12.6713 63.8314 12.9234C63.5032 13.187 63.1278 13.3862 62.7252 13.5104C62.2742 13.6496 61.8042 13.718 61.3321 13.7134C60.7311 13.7329 60.1335 13.6164 59.5842 13.3725C59.1148 13.1444 58.7022 12.815 58.3764 12.4081L59.2536 11.5579C59.4978 11.8562 59.8081 12.094 60.16 12.2525C60.5276 12.4208 60.9277 12.5066 61.3321 12.504C61.5738 12.505 61.8144 12.4707 62.0462 12.4022C62.2663 12.339 62.4709 12.2308 62.6468 12.0845C62.824 11.9351 62.9639 11.7467 63.0557 11.5342C63.1615 11.2841 63.2131 11.0146 63.207 10.7432V9.95544C63.0014 10.3116 62.6967 10.6007 62.3298 10.7879C61.955 10.9828 61.5382 11.0835 61.1155 11.0814ZM61.6686 9.79983C61.8404 9.8005 62.0109 9.77209 62.1731 9.71582C62.3295 9.66179 62.4771 9.58523 62.6112 9.48859C62.7434 9.39258 62.8625 9.27981 62.9655 9.15313C63.0666 9.03049 63.1481 8.89299 63.207 8.74552V7.24859C63.0722 6.89493 62.8385 6.5873 62.5334 6.36229C62.2584 6.14889 61.9209 6.03108 61.5725 6.02682C61.3361 6.0239 61.1026 6.0794 60.893 6.18836C60.6912 6.2947 60.5136 6.44134 60.3712 6.61913C60.2245 6.80318 60.1124 7.01227 60.0406 7.23621C59.9639 7.46795 59.9251 7.71048 59.9256 7.95452C59.9235 8.20039 59.9686 8.44439 60.0585 8.67336C60.1423 8.89028 60.2666 9.08942 60.4247 9.26028C60.5804 9.42765 60.7683 9.56206 60.9772 9.65552C61.1946 9.75247 61.4305 9.80151 61.6686 9.79929\",\n    fill: \"#ADBCD2\"\n  }), React.createElement(\"path\", {\n    d: \"M69.9231 11.0814C69.5265 11.086 69.134 11 68.7759 10.8299C68.4317 10.6663 68.1264 10.4315 67.8803 10.1412C67.6275 9.84191 67.4321 9.49875 67.304 9.12891C67.1658 8.73639 67.0966 8.32309 67.0993 7.90714C67.0956 7.47452 67.1687 7.04466 67.3153 6.63745C67.4515 6.2608 67.6552 5.91195 67.9165 5.60791C68.4411 4.99634 69.2117 4.64955 70.0187 4.66183C70.4729 4.65107 70.9213 4.76488 71.3151 4.99083C71.6819 5.20803 71.9915 5.50928 72.2182 5.8696V4.76952H73.6226V10.7464C73.6296 11.1755 73.5415 11.6008 73.3644 11.9919C73.1956 12.3528 72.9475 12.6712 72.6384 12.9234C72.3105 13.1872 71.9353 13.3863 71.5328 13.5104C71.0816 13.6496 70.6115 13.7181 70.1392 13.7134C69.5382 13.7328 68.9406 13.6163 68.3913 13.3725C67.922 13.1443 67.5094 12.8149 67.1835 12.4081L68.0591 11.5606C68.3035 11.8589 68.6139 12.0967 68.966 12.2552C69.3334 12.4234 69.7333 12.5093 70.1376 12.5067C70.3795 12.5076 70.6202 12.4733 70.8522 12.4049C71.0723 12.3417 71.2769 12.2335 71.4528 12.0872C71.63 11.9378 71.7699 11.7494 71.8617 11.5369C71.9673 11.2868 72.0187 11.0172 72.0124 10.7459V9.95545C71.8068 10.3116 71.5022 10.6007 71.1352 10.7879C70.7607 10.9829 70.344 11.0836 69.9215 11.0814H69.9231ZM70.4741 9.79984C70.646 9.80054 70.8168 9.77214 70.9791 9.71583C71.1354 9.66168 71.283 9.58514 71.4172 9.4886C71.5493 9.39244 71.6684 9.27969 71.7715 9.15314C71.8726 9.03061 71.9539 8.89308 72.0124 8.74552V7.2486C71.8781 6.89488 71.6444 6.58718 71.3394 6.36229C71.0642 6.14886 70.7266 6.03104 70.3779 6.02683C70.1417 6.02391 69.9084 6.07941 69.699 6.18837C69.4971 6.2947 69.3193 6.44133 69.1767 6.61914C69.0301 6.80332 68.9181 7.01237 68.8461 7.23621C68.7698 7.46805 68.7311 7.71054 68.7316 7.95452C68.7295 8.20039 68.7746 8.4444 68.8644 8.67337C68.9481 8.89026 69.0722 9.08941 69.2301 9.26029C69.3861 9.42767 69.5742 9.56207 69.7832 9.65552C70.0004 9.75248 70.2361 9.80153 70.4741 9.79929\",\n    fill: \"#ADBCD2\"\n  }), React.createElement(\"path\", {\n    d: \"M7.44386 1.49391C6.1648 0.107906 4.78202 -0.194171 3.39925 0.790137C2.41553 1.54874 1.64 2.54281 1.14468 3.68006C0.845721 4.30682 0.618683 4.96522 0.467877 5.64275C0.301835 6.38025 0.246138 7.13817 0.302592 7.89191C0.374127 9.24676 0.988291 10.5163 2.00729 11.4156C2.14052 11.5254 2.28051 11.6269 2.42645 11.7193C3.57731 12.3987 4.95184 12.5943 6.24744 12.2631C7.41559 11.9902 8.42156 11.2542 9.03297 10.2251C9.34465 9.67961 9.55507 9.08259 9.65414 8.46268C10.1403 5.5916 8.72293 2.88368 7.44386 1.49606V1.49391ZM4.35153 1.66406C3.03303 2.48844 2.47452 4.12752 2.31626 4.69021C2.28566 4.79969 2.17501 4.86663 2.06347 4.84314C2.00468 4.83116 1.95354 4.79535 1.92229 4.74428C1.89104 4.69322 1.88251 4.6315 1.89872 4.57391C2.01392 4.16654 2.16503 3.77012 2.35029 3.38929C2.73396 2.5402 3.34867 1.8153 4.12467 1.29683C4.19047 1.25643 4.2729 1.2541 4.34089 1.29071C4.40889 1.32732 4.45213 1.39731 4.45432 1.47432C4.45652 1.55133 4.41733 1.62366 4.35153 1.66406Z\",\n    fill: \"#8B9DB8\"\n  }), React.createElement(\"path\", {\n    d: \"M6.06104 13.2896C7.697 14.037 9.61721 13.7896 11.0088 12.6521C13.3508 10.7017 13.9996 6.71767 13.9996 6.71767C13.9996 6.71767 14.4133 4.65375 13.6517 3.46267C12.8901 2.27159 11.0088 2.28183 9.28733 2.87036C10.0566 4.43482 10.4802 6.1456 10.5297 7.88721C10.5079 10.5137 8.64445 12.7664 6.06212 13.288\",\n    fill: \"#ADBCD2\"\n  }))));\n};\n\nconst AppContent = () => {\n  const {\n    isLoading,\n    isAuthenticated\n  } = useAuth(({\n    isLoading,\n    isAuthenticated,\n    tenantsState: {\n      loading,\n      tenants\n    }\n  }) => ({\n    isLoading: isLoading || loading && tenants.length === 0,\n    isAuthenticated\n  }));\n  const {\n    showPoweredByLogo\n  } = useVendorState(({\n    whiteLabelMode\n  }) => ({\n    showPoweredByLogo: !whiteLabelMode\n  }));\n  const {\n    injector,\n    basename = '',\n    urlStrategy,\n    setStaticRouteSetter,\n    staticRoute,\n    previewMode\n  } = useShadowDom();\n  const theme = useTheme();\n  const displayAsDrawer = useMuiMediaQuery(theme.breakpoints.down('sm'));\n  const history = useHistory();\n  const [route, setRoute] = react.exports.useState(staticRoute);\n  setStaticRouteSetter === null || setStaticRouteSetter === void 0 ? void 0 : setStaticRouteSetter(setRoute);\n  react.exports.useEffect(() => {\n    if (route) {\n      history.push(route);\n    }\n  }, [route, history]);\n  const {\n    closeAdminBox\n  } = react.exports.useContext(AppDialogContext);\n  const {\n    loading: loadingPolicy\n  } = usePublicPolicySettings();\n  const [drawerOpened, setDrawerOpened] = react.exports.useState(false);\n  const drawerContextValue = react.exports.useMemo(() => ({\n    opened: drawerOpened,\n    close: () => setDrawerOpened(false),\n    open: () => setDrawerOpened(true)\n  }), [drawerOpened, setDrawerOpened]);\n  const routes = useAuthRoutes();\n  react.exports.useEffect(() => {\n    if (!isLoading && !isAuthenticated) {\n      const calculatedBasename = basename.endsWith('/') ? basename.substring(0, basename.length - 1) : '';\n\n      if (injector) {\n        closeAdminBox();\n      }\n\n      const path = calculatedBasename + routes.loginUrl;\n\n      if (urlStrategy === 'path' && injector) {\n        window.location.href = path;\n      } else {\n        window.location.hash = `#${path}`;\n      }\n    }\n  }, [isLoading, isAuthenticated, routes, injector, urlStrategy, basename, closeAdminBox]);\n  const appNavigation = previewMode ? React.createElement(AppNavigationPreviewMode$1, null) : React.createElement(AppNavigation$1, null);\n  let navigationComponent = React.createElement(Fade, {\n    in: !isLoading\n  }, React.createElement(NavigationGridItem, {\n    withPoweredBy: showPoweredByLogo\n  }, appNavigation, showPoweredByLogo && React.createElement(PoweredByLogo, null)));\n\n  if (displayAsDrawer) {\n    navigationComponent = React.createElement(Drawer$1, {\n      sx: {\n        zIndex: '1300'\n      },\n      open: drawerOpened,\n      container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\n      onBackdropClick: drawerContextValue.close\n    }, React.createElement(Grid, {\n      height: \"100%\",\n      container: true,\n      alignItems: \"stretch\",\n      wrap: \"nowrap\",\n      position: \"relative\"\n    }, React.createElement(NavigationGridItem, null, React.createElement(DrawerContext.Provider, {\n      value: drawerContextValue\n    }, appNavigation), showPoweredByLogo && React.createElement(PoweredByLogo, null))));\n  }\n\n  return React.createElement(React.Fragment, null, (isLoading || loadingPolicy) && React.createElement(AppSkeleton, {\n    absolute: true\n  }), React.createElement(Grid, {\n    height: \"100%\",\n    container: true,\n    alignItems: \"stretch\",\n    wrap: \"nowrap\"\n  }, navigationComponent, React.createElement(PageGridItem, {\n    item: true,\n    xs: true\n  }, React.createElement(DrawerContext.Provider, {\n    value: drawerContextValue\n  }, React.createElement(PageLayout$1, null)))));\n};\n\nconst AppLayout = () => {\n  const {\n    injector\n  } = useShadowDom();\n  return React.createElement(Provider, {\n    context: FronteggStoreContext,\n    store: injector.store\n  }, React.createElement(HashRouter, {\n    basename: \"admin-box\"\n  }, React.createElement(AppContent, null)));\n};\n\nvar AppLayout$1 = AppLayout;\n\nconst App = () => {\n  const {\n    isShadowDom\n  } = useShadowDom();\n  react.exports.useEffect(() => {\n    document.addEventListener('focus', shadowFocusHandler, true);\n    const oldDocumentBodyOverflow = document.body.style.overflow;\n    document.body.style.overflow = 'hidden';\n    return () => {\n      document.removeEventListener('focus', shadowFocusHandler, true);\n      document.body.style.overflow = oldDocumentBodyOverflow;\n      window.history.pushState('', document.title, window.location.pathname);\n    };\n  }, []);\n  const {\n    calculatedTheme,\n    theme,\n    overrides\n  } = initGlobalTheme(true);\n  return React.createElement(I18nProvider$1, null, React.createElement(GlobalThemeProvider, {\n    theme: calculatedTheme,\n    isShadowDom: isShadowDom,\n    module: FronteggModules.adminPortal\n  }, React.createElement(ThemeContext.Provider, {\n    value: {\n      theme,\n      overrides\n    }\n  }, React.createElement(InnerThemeProvider, {\n    themeOptionKey: 'adminPortal'\n  }, React.createElement(AppDialog, null, React.createElement(AppLayout$1, null))))));\n};\n\nvar App$1 = App;\nconst defaultTheme = 'modern';\n\nconst AdminPortal = ({\n  injector,\n  options\n}) => {\n  var _a, _b;\n\n  return React.createElement(ShadowDomContext.Provider, {\n    value: Object.assign(Object.assign({\n      iframeRendering: false\n    }, options), {\n      themeOptions: enhanceAdminBoxTheme((_a = options.metadata) !== null && _a !== void 0 ? _a : {}, (_b = options.themeOptions) !== null && _b !== void 0 ? _b : {}),\n      injector,\n      slotsContainer: injector.adminPortalContainer,\n      rootEl: injector.adminPortalEl\n    })\n  }, React.createElement(App$1, null));\n};\n\nconst AdminPortalPage = ({\n  injector,\n  options,\n  setThemeSetter,\n  staticRoute,\n  setStaticRouteSetter\n}) => {\n  var _a, _b;\n\n  const [themeOptions, setThemeOptions] = react.exports.useState(enhanceAdminBoxTheme((_a = options === null || options === void 0 ? void 0 : options.metadata) !== null && _a !== void 0 ? _a : {}, (_b = options.themeOptions) !== null && _b !== void 0 ? _b : {}));\n\n  const setTheme = theme => {\n    var _a;\n\n    const enhancedTheme = enhanceAdminBoxTheme((_a = options === null || options === void 0 ? void 0 : options.metadata) !== null && _a !== void 0 ? _a : {}, theme !== null && theme !== void 0 ? theme : {});\n    setThemeOptions(enhancedTheme);\n  };\n\n  setThemeSetter === null || setThemeSetter === void 0 ? void 0 : setThemeSetter(setTheme);\n  return React.createElement(ShadowDomContext.Provider, {\n    value: Object.assign(Object.assign({\n      iframeRendering: false\n    }, options), {\n      injector,\n      themeOptions,\n      slotsContainer: injector.adminPortalContainer,\n      rootEl: injector.adminPortalEl,\n      staticRoute,\n      setStaticRouteSetter\n    })\n  }, React.createElement(App$1, null));\n};\n\nexport { AdminPortal, AdminPortalPage, CheckoutDialog$1 as CheckoutDialog, AdminPortal as default, defaultTheme };","map":{"version":3,"sources":["/Users/mashapav/Downloads/WEB-CHAT/Client/node_modules/@frontegg/admin-portal/index-e4d8b997.js"],"names":["r","react","R","React","f","__rest","g","__awaiter","aV","useSelector","aW","shallowEqual","aX","useDispatch","a","createSvgIcon","j","jsxRuntime","aY","easing","aZ","duration","a_","_objectWithoutPropertiesLoose$3","K","useTheme","a$","useForkRef","b0","debounce","b1","ownerWindow","b2","_extends$4","b3","Transition","b4","getTransitionProps","b5","reflow","b6","generateUtilityClass","b7","generateUtilityClasses","k","styled","b8","Modal","b9","rootShouldForwardProp","ba","Paper","bb","capitalize$1","bc","useThemeProps","bd","composeClasses","be","clsx","bf","InputBaseRoot","bg","rootOverridesResolver","bh","InputBaseComponent","bi","inputOverridesResolver","bj","deepmerge","bk","InputBase","bl","isMuiElement","bm","isAdornedStart","bn","isFilled","bo","FormControlContext","bp","useFormControl","bq","formControlState","br","slotShouldForwardProp","bs","useControlled","bt","ownerDocument","bu","formatMuiErrorMessage","bv","MuiMenu","bw","MuiOutlinedInput","aq","SvgIcon","aR","FormHelperText","bx","BaseSchema","by","ValidationError","bz","runTests","bA","isSchema","bB","printValue","bC","array","bD","isAbsent","bE","PropTypes","B","Box","bF","UI","bG","VisaCardIcon","bH","AmericanExpressIcon","bI","MasterCardIcon","bJ","DinersCardIcon","bK","GenericCardIcon","G","Grid","S","ShadowDomContext","bL","enhanceAdminBoxTheme","bM","useMediaQuery","P","useTranslation","x","useShadowDom","bN","Dialog$1","y","initGlobalTheme","z","I18nProvider$1","E","GlobalThemeProvider","H","ThemeContext","J","InnerThemeProvider","U","Provider","V","FronteggStoreContext","N","useAuth","bO","usePublicPolicySettings$1","O","useAuthRoutes","A","Alert$1","W","Loader$1","o","Button$1","D","Divider","T","Typography$1","bP","EditIcon","RenderAsSlot","bQ","_inheritsLoose$2","i","isobject","bR","createSvgIcon$1","bS","interopRequireDefault","bT","MuiDialog","bU","Skeleton","bV","shallowEqual$1","C","Card","bW","Avatar$1","aN","IconButton","aU","InputCopy$1","$","useAuthUserOrNull","bX","useAuthTeamState","az","useField","bY","Select$1$1","aA","InputPassword$1","L","Link$1","u","useFormikContext","I","Input$1$1","ax","useMfaActions","ah","validateSchema","aD","validateMinLength","aw","useMfaState","bZ","CheckIcon$1","b_","LinkIcon","b$","useRolesState","c0","useRolesActions","c1","validateNotEmpty","c2","RadioList","c3","DeleteIcon","c4","DoubleArrowRightIcon","c5","useAuthUser","c6","AddIcon","c7","InfoIcon","c8","TableUserAvatarCell","c9","useApiTokensState","ca","useApiTokensActions","cb","Chip","cc","CheckedIcon","cd","Table","ce","TableDateCell","a2","useSecurityPolicyState","aa","useSecurityPolicyActions","ar","Formik","as","Form","cf","Fade","n","CheckCircleFilledIcon","cg","WarningIcon","a5","useSSOState","ch","StatusChip","ci","validateWellKnown","F","FronteggModules","ap","useVendorState","cj","useTenantsState","ck","ProfileIcon","cl","PrivacyIcon","cm","PersonalTokensIcon","cn","UsageIcon","co","AccountDetailsIcon","cp","UsersIcon","cq","RolesIcon","cr","SecurityIcon","cs","SSOIcon","ct","AuditLogsIcon","cu","WebhooksIcon","cv","APITokenIcon","cw","SubscriptionIcon","cx","Navigation","cy","PageHeaderProvider","cz","PageHeader","cA","Avatar$1$1","cB","PageHeaderUpdater","X","useOnRedirectTo","Z","useAuthActions","_","useIsAuthenticated","cC","HelpMessage","cD","Switch$1","cE","SettingsList","cF","getOptions","cG","useAuthTeamActions","cH","useTenantsActions","aJ","Collapse$1","cI","Alert$1$1","cJ","useProfileState","a4","useForgotPasswordActions","a3","useForgotPasswordState","cK","reloadProfileIfNeeded","cL","useSessionsActions","cM","useSessionsState","cN","TableUserAgentCell","cO","TableLocationCell","cP","TableTextCell","cQ","TableLogoutCell","cR","SearchIcon","cS","TableAvatarCell","cT","TableChipsCell","cU","ResendIcon","cV","CloseIcon","cW","GroupUsersIcon","cX","SearchBigIcon","cY","TablePlaceholder","cZ","TableSwitchCell","a6","useSSOActions","c_","TableSwitchCellLeft","c$","TableCopyCell","d0","TableSeverityCell","d1","TableJsonCell","d2","TableIpCell","d3","isValid$2","d4","format$1","d5","TableExpandableRow","d6","CrossBtnIcon","d7","useProfileActions","d8","UploadIcon","d9","PencilIcon","da","Menu$1","db","UploadPhoto","dc","validationPhoneOptional","ai","validatePasswordUsingOWASP","aj","validateConfirmPassword","dd","validationPostCodeOptional","ak","validateEmail","ao","validationPhone","Y","useLoginActions","de","create$1","df","create$2","dg","validateNumber","dh","create$3","di","validateFile","dj","validateUrl","dk","validateDomain","dl","create$4","dm","Popup$1","dn","validateMinLengthOptional","dp","Chip$1","v","Checkbox$1","dq","Tree","ac","useSessionsPolicyState","ab","useSessionsPolicyActions","aQ","callbackToPromise$1","aB","PasswordStrengthChecker","dr","copy","ds","Switch$1$1","dt","Button$1$1","du","RadioGroup","aP","FormControlLabel","dv","Radio","dw","DropZoneElement","dx","SelectTree$1","dy","validatePositiveNumber","dz","validateHistorySize","dA","PdfIcon","auditsStoreName","bindActionCreators","auditsActions","auditLogsActions","auditLogsReducers","connectivityActions","connectivityStoreName","subscriptionsStoreName","subscriptionActions","PaymentProvider","createSelector","AdminPortalPages","MFAStep","ApiStateKeys","ISubscriptionStatus","api","ContextHolder","fetch","ISubscriptionCancellationPolicy","Metadata","useAuditsActions","dispatch","exports","useMemo","sliceReducerActionsBy","reducer","reducerKeys","Object","keys","reducerActions","map","key","reduce","p","assign","stateHookGenerator","stateMapper","subState","state","_a","reducerActionsGenerator","actions","reducers","useAuditLogsState","useAuditLogsActions","useAuditsMetadataState","useConnectivityState","useConnectivityActions","getSubscriptionState","usePaymentProvider","config","usePaymentProviderActions","usePlans","plans","usePlansActions","useCheckout","checkout","useCheckoutActions","useBillingActions","billingKey","billing","useBillingInformation","information","useBillingInformationActions","usePaymentMethod","paymentMethod","usePaymentMethodActions","useInvoices","invoices","useInvoicesActions","useStripeState","stripe","useStripeActions","useSubscriptionCancellation","subscription","cancellation","useSubscriptionRenewal","renewal","useSubscription","useVendorPublicConfig","vendorPublicConfig","useVendorPublicConfigActions","ArrowDropDownIcon","jsx","d","_excluded$f","getTranslateValue","direction","node","resolvedContainer","rect","getBoundingClientRect","containerRect","containerWindow","transform","fakeTransform","computedStyle","getComputedStyle","getPropertyValue","offsetX","offsetY","transformValues","split","parseInt","right","left","innerWidth","width","bottom","top","innerHeight","height","resolveContainer","containerPropProp","setTranslateValue","containerProp","style","webkitTransform","defaultEasing","enter","easeOut","exit","sharp","defaultTimeout","enteringScreen","leavingScreen","Slide","forwardRef","props","ref","addEndListener","appear","children","container","easingProp","in","inProp","onEnter","onEntered","onEntering","onExit","onExited","onExiting","timeout","TransitionComponent","other","theme","childrenRef","useRef","handleRefIntermediary","handleRef","normalizedTransitionCallback","callback","isAppearing","undefined","current","handleEnter","handleEntering","transitionProps","mode","webkitTransition","transitions","create","transition","handleEntered","handleExiting","handleExit","handleExited","handleAddEndListener","next","updatePosition","useCallback","useEffect","handleResize","addEventListener","clear","removeEventListener","nodeRef","childProps","cloneElement","visibility","Slide$1","getDrawerUtilityClass","slot","_excluded$e","_excluded2$1","overridesResolver","styles","ownerState","root","variant","docked","modal","useUtilityClasses$e","classes","anchor","slots","paper","DrawerRoot","name","zIndex","drawer","DrawerDockedRoot","shouldForwardProp","skipVariantsResolver","flex","DrawerPaper","overflowY","display","flexDirection","WebkitOverflowScrolling","position","outline","maxHeight","borderRight","palette","divider","borderBottom","borderLeft","borderTop","oppositeDirection","isHorizontal","indexOf","getAnchor","defaultTransitionDuration","Drawer","inProps","anchorProp","BackdropProps","className","elevation","hideBackdrop","ModalProps","BackdropPropsProp","onClose","open","PaperProps","SlideProps","transitionDuration","mounted","anchorInvariant","square","slidingDrawer","Drawer$1","getFilledInputUtilityClass","filledInputClasses","filledInputClasses$1","_excluded$d","useUtilityClasses$d","disableUnderline","input","composedClasses","FilledInputRoot","prop","underline","light","bottomLineColor","backgroundColor","borderTopLeftRadius","shape","borderRadius","borderTopRightRadius","shorter","focused","disabled","color","main","content","pointerEvents","error","borderBottomColor","text","primary","borderBottomStyle","startAdornment","paddingLeft","endAdornment","paddingRight","multiline","padding","size","paddingTop","paddingBottom","hiddenLabel","FilledInputInput","WebkitBoxShadow","WebkitTextFillColor","caretColor","FilledInput","components","componentsProps","componentsPropsProp","fullWidth","inputComponent","type","filledInputComponentsProps","Root","Input","muiName","FilledInput$1","getFormControlUtilityClasses","_excluded$c","useUtilityClasses$c","margin","FormControlRoot","minWidth","border","verticalAlign","marginTop","marginBottom","FormControl","component","visuallyFocused","required","adornedStart","setAdornedStart","useState","initialAdornedStart","Children","forEach","child","filled","setFilled","initialFilled","focusedState","setFocused","registerEffect","onFilled","onEmpty","childContext","onBlur","onFocus","value","FormControl$1","getFormLabelUtilityClasses","formLabelClasses","formLabelClasses$1","_excluded$b","useUtilityClasses$b","asterisk","FormLabelRoot","colorSecondary","secondary","typography","body1","lineHeight","AsteriskComponent","FormLabel","muiFormControl","fcs","states","jsxs","FormLabel$1","getInputUtilityClass","inputClasses","inputClasses$1","_excluded$a","useUtilityClasses$a","InputRoot","formControl","InputInput","inputComponentsProps","Input$1","getInputLabelUtilityClasses","_excluded$9","useUtilityClasses$9","shrink","disableAnimation","InputLabelRoot","sizeSmall","animated","transformOrigin","whiteSpace","overflow","textOverflow","maxWidth","InputLabel","shrinkProp","InputLabel$1","getNativeSelectUtilityClasses","nativeSelectClasses","_excluded$8","useUtilityClasses$8","select","icon","nativeSelectSelectStyles","MozAppearance","WebkitAppearance","userSelect","cursor","background","NativeSelectSelect","nativeSelectIconStyles","action","active","NativeSelectIcon","iconOpen","NativeSelectInput","IconComponent","inputRef","Fragment","multiple","NativeSelectInput$1","getSelectUtilityClasses","selectClasses","_excluded$7","SelectSelect","minHeight","SelectIcon","SelectNativeInput","nativeInput","opacity","boxSizing","areEqualValues","b","String","isEmpty","trim","useUtilityClasses$7","SelectInput","ariaDescribedby","ariaLabel","autoFocus","autoWidth","defaultValue","displayEmpty","inputRefProp","labelId","MenuProps","onChange","onOpen","openProp","readOnly","renderValue","SelectDisplayProps","tabIndex","tabIndexProp","valueProp","setValueState","controlled","default","displayRef","displayNode","setDisplayNode","isOpenControlled","menuMinWidthState","setMenuMinWidthState","openState","setOpenState","handleDisplayRef","useImperativeHandle","focus","label","getElementById","handler","getSelection","isCollapsed","update","event","clientWidth","handleMouseDown","button","preventDefault","handleClose","childrenArray","toArray","handleChange","index","target","handleItemClick","newValue","currentTarget","hasAttribute","Array","isArray","slice","itemIndex","push","splice","onClick","nativeEvent","clonedEvent","constructor","defineProperty","writable","handleKeyDown","validKeys","handleBlur","displaySingle","displayMultiple","computeDisplay","items","isValidElement","selected","Error","some","onKeyUp","role","join","menuMinWidth","buttonId","id","filter","Boolean","onKeyDown","onMouseDown","dangerouslySetInnerHTML","__html","anchorEl","anchorOrigin","vertical","horizontal","MenuListProps","disableListWrap","SelectInput$1","_Input","_FilledInput","_excluded$6","_excluded2","useUtilityClasses$6","Select","classesProp","inputProps","native","variantProps","InputComponent","standard","outlined","otherClasses","inputComponentRef","notched","Select$1","StepperContext","createContext","StepperContext$1","StepContext","StepContext$1","getStepUtilityClass","_excluded$5","useUtilityClasses$5","orientation","alternativeLabel","completed","StepRoot","Step","activeProp","completedProp","disabledProp","expanded","last","activeStep","connector","nonLinear","useContext","contextValue","newChildren","Step$1","CheckCircle","Warning","getStepIconUtilityClass","stepIconClasses","stepIconClasses$1","_circle","_excluded$4","useUtilityClasses$4","StepIconRoot","shortest","StepIconText","fill","contrastText","fontSize","caption","fontFamily","StepIcon","classNameProp","textAnchor","StepIcon$1","getStepLabelUtilityClass","stepLabelClasses","stepLabelClasses$1","_excluded$3","useUtilityClasses$3","iconContainer","labelContainer","StepLabelRoot","alignItems","textAlign","StepLabelLabel","body2","fontWeight","StepLabelIconContainer","flexShrink","StepLabelLabelContainer","StepLabel","iconProp","optional","StepIconComponent","StepIconComponentProp","StepIconProps","iconContext","StepLabel$1","getStepConnectorUtilityClass","_excluded$2","useUtilityClasses$2","line","StepConnectorRoot","marginLeft","StepConnectorLine","borderColor","grey","borderTopStyle","borderTopWidth","borderLeftStyle","borderLeftWidth","StepConnector","StepConnector$1","getStepperUtilityClass","_excluded$1","useUtilityClasses$1","StepperRoot","defaultConnector","Stepper","steps","step","length","Stepper$1","getTextFieldUtilityClass","_excluded","variantComponent","useUtilityClasses","TextFieldRoot","TextField","autoComplete","FormHelperTextProps","helperText","InputLabelProps","InputProps","maxRows","minRows","placeholder","rows","SelectProps","InputMore","_InputLabelProps$requ","displayRequired","helperTextId","inputLabelId","InputElement","htmlFor","TextField$1","ManageAccounts","TuneRounded","_extends$3","arguments","source","prototype","hasOwnProperty","call","apply","ArraySchema","innerType","withMutation","values","JSON","parse","err","isType","_typeCheck","_subType","_cast","_value","_opts","isChanged","castArray","idx","castElement","cast","path","_validate","options","_options$abortEarly","_options$recursive","errors","sync","endEarly","abortEarly","spec","recursive","originalValue","isError","tests","item","innerOptions","strict","parent","validate","clone","concat","schema","of","TypeError","message","test","exclusive","params","resolve","min","max","ensure","val","original","compact","rejector","reject","describe","base","nullable","isNullable","defined","msg","_typeof$1","obj","Symbol","iterator","_objectWithoutPropertiesLoose$2","excluded","sourceKeys","_objectWithoutProperties","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_arr","_n","_d","_e","_i","_s","done","minLen","_arrayLikeToArray","toString","from","len","arr2","isUnknownObject","raw","isPromise","then","isStripe","elements","createToken","createPaymentMethod","confirmCardPayment","PLAIN_OBJECT_STR","isEqual","leftArray","rightArray","leftPlainObject","rightPlainObject","leftKeys","rightKeys","keySet","allKeys","l","pred","every","usePrevious","INVALID_STRIPE_ERROR","validateStripe","maybeStripe","parseStripeProp","tag","stripePromise","Promise","ElementsContext","displayName","parseElementsContext","ctx","useCase","Elements","_ref","rawStripeProp","_final","isMounted","parsed","_React$useState","_React$useState2","setContext","prevStripe","prevOptions","console","warn","anyStripe","_registerWrapper","registerAppInfo","version","url","createElement","propTypes","any","object","useElementsContextWithUseCase","useCaseMessage","useElements","_useElementsContextWi","useStripe","_useElementsContextWi2","ElementsConsumer","_ref2","func","isRequired","useCallbackReference","extractUpdateableOptions","paymentRequest","rest","noop$1","noop","capitalized","str","charAt","toUpperCase","createElementComponent","isServer","ClientElement","_ref$options","_ref$onBlur","_ref$onFocus","_ref$onReady","onReady","_ref$onChange","_ref$onEscape","onEscape","_ref$onClick","elementRef","domNode","callOnReady","callOnBlur","callOnFocus","callOnClick","callOnChange","callOnEscape","useLayoutEffect","element","mount","on","updateableOptions","destroy","ServerElement","Element","string","__elementType","window","CardNumberElement","CardExpiryElement","CardCvcElement","pure$1","_typeof","V3_URL","V3_URL_REGEX","EXISTING_SCRIPT_MESSAGE","findScript","scripts","document","querySelectorAll","script","src","injectScript","queryString","advancedFraudSignals","headOrBody","head","body","appendChild","registerWrapper","startTime","loadScript","Stripe","initStripe","args","validateLoadParams","errorMessage","stringify","loadParams","loadStripeCalled","loadStripe","_len","_key","Date","now","setLoadParameters","pure","DrawerContext","opened","close","TableSearchContext","searching","searchQuery","onSearch","setSearching","useT","t","useGlobalT","useTableSearch","context","useMuiMediaQuery","themeBreakpoints","iframeRendering","rootEl","iframeWindowObj","defaultView","mediaQueryOptions","matchMedia","shadowFocusHandler","eventName","composed","bubbles","detail","customEvent","CustomEvent","dispatchEvent","WeakSet","ShadowRoot","focusHandlerSet","_internal","currentFocus","parentNode","has","add","hostEl","host","focusinHandler","ev","blurHandler","delete","composedPath","toCurrencySymbol","currency","toPriceDisplay","price","toFixed","TextBreakLine","prevList","curr","SubscriptionDialogFooter","cancel","confirm","_b","justifyContent","loading","SubscriptionFormContext","valid","setValid","registerSubmit","unregisterSubmit","onSubmit","useSubscriptionFormContext","SubscriptionFormContextProvider","setState","CheckoutDialogFooter","shouldCreatePaymentMethod","onCancel","planId","confirmCheckout","handleConfirmCheckout","paymentMethodId","CheckoutDialogError","severity","SectionTitle","pxToRem","spacing","DialogSectionBox","title","mb","PlanTitle$1","PlanSubtitle","PlanPrice$1","PlanPriceInterval","CheckoutSubscriptionPlanDetails","subTitle","planInterval","mt","CheckoutDialogDetails","plan","find","description","interval","StripeElementProvider","stripeKey","loadStripePromise","StripeFormLabel","StripeTextField","StripeInputWrapper","boxShadow","empty","invalid","StripeForm","cardHolderNameFieldRef","onValidChange","validation","setValidation","cardHolderName","cardNumber","cardExpiryDate","cardCvc","isFormValid","setValidationField","prevState","complete","xs","BoxLoader","alignContent","StripePaymentMethodForm","apiKey","cardSetupIntentSecret","createCardSetupIntentSecret","PaymentMethodForm$1","onError","onSuccess","handleSubmit","getElement","cardNameHolder","setupIntent","confirmCardSetup","payment_method","card","billing_details","code","status","e","debug","handleValidation","PaymentMethodForm","paymentProvider","STRIPE","cardBrandIcons","visa","amex","mastercard","diners","unknown","UpdatePaymentMethod","svg","CardInfo","PaymentMethodSelect","onUpdate","brand","last4","expMonth","expYear","BankIcon","handleUpdate","ml","CheckoutDialogPaymentMethod","handleForcePaymentMethodCreation","errorCheckout","submitCheckout","handleError","handleConfirmPaymentMethod","newPaymentMethodId","pt","pb","CheckoutDialogBody","forceNewPaymentMethod","setForcePaymentMethod","confirmed","loadCheckout","resetCheckout","Body","noPadding","Footer","AuthWrapper","isLoading","isAuthenticated","tenantsState","tenants","loadingPolicy","injector","basename","urlStrategy","routes","calculatedBasename","endsWith","substring","hideCheckoutDialog","loginUrl","location","href","hash","CheckoutDialogSkeleton","PaymentProviderWrapper","fetching","loadPaymentConfiguration","SubscriptionsWrapper","fetchingBillingInformation","fetchingPlans","fetchingPaymentMethod","fetchingVendorPublicConfig","loadBillingInformation","loadPlans","loadPaymentMethod","loadVendorPublicConfiguration","CheckoutDialogAppContent","planSlug","slug","CheckoutDialogApp","hideDialogWithTimeout","setTimeout","handleSuccess","checkoutDialogEl","onBackdropClick","AppWrapper","isShadowDom","oldDocumentBodyOverflow","history","pushState","pathname","calculatedTheme","overrides","themeOptionKey","store","CheckoutDialog$1","_c","dialogProps","themeOptions","metadata","slotsContainer","checkoutDialogContainer","_setPrototypeOf$1","setPrototypeOf","_setPrototypeOf","__proto__","_inheritsLoose$1","subClass","superClass","_extends$2","isAbsolute","spliceOne","list","pop","resolvePathname","to","toParts","fromParts","isToAbs","isFromAbs","mustEndAbs","hasTrailingSlash","up","part","unshift","result","substr","valueOf","valueEqual","aValue","bValue","isProduction","prefix","invariant","condition","addLeadingSlash$1","stripLeadingSlash","hasBasename","toLowerCase","stripBasename$1","stripTrailingSlash","parsePath","search","hashIndex","searchIndex","createPath","createLocation","currentLocation","decodeURI","URIError","locationsAreEqual","createTransitionManager","prompt","setPrompt","nextPrompt","confirmTransitionTo","getUserConfirmation","listeners","appendListener","fn","isActive","listener","notifyListeners","canUseDOM","getConfirmation","supportsHistory","ua","navigator","userAgent","supportsPopStateOnHashChange","supportsGoWithoutReloadUsingHash","isExtraneousPopstateEvent","PopStateEvent","HashChangeEvent","getHistoryState","createBrowserHistory","globalHistory","canUseHistory","needsHashChangeListener","_props","_props$forceRefresh","forceRefresh","_props$getUserConfirm","_props$keyLength","keyLength","getDOMLocation","historyState","_window$location","createKey","Math","random","transitionManager","nextState","handlePopState","handlePop","handleHashChange","forceNextPop","ok","revertPop","fromLocation","toLocation","toIndex","fromIndex","delta","go","initialLocation","createHref","prevIndex","nextKeys","replace","replaceState","goBack","goForward","listenerCount","checkDOMListeners","isBlocked","block","unblock","listen","unlisten","HashChangeEvent$1","HashPathCoders","hashbang","encodePath","decodePath","noslash","slash","stripHash","getHashPath","pushHashPath","replaceHashPath","createHashHistory","_props$hashType","hashType","_HashPathCoders$hashT","ignorePath","locationsAreEqual$$1","encodedPath","prevLocation","allPaths","lastIndexOf","baseTag","querySelector","getAttribute","hashChanged","nextPaths","clamp","lowerBound","upperBound","createMemoryHistory","_props$initialEntries","initialEntries","_props$initialIndex","initialIndex","entries","entry","nextIndex","nextEntries","canGo","MAX_SIGNED_31_BIT_INT","commonjsGlobal","globalThis","global","getUniqueId","objectIs","createEventEmitter","handlers","off","h","get","set","changedBits","onlyChild","createReactContext","calculateChangedBits","_Provider$childContex","_Consumer$contextType","contextProp","_Component","_this","emitter","_proto","getChildContext","componentWillReceiveProps","nextProps","oldValue","render","Component","childContextTypes","Consumer","_Component2","_this2","getValue","observedBits","_proto2","componentDidMount","componentWillUnmount","contextTypes","_extends$1","pathToRegexp$2","isarray$1","isarray","pathToRegexp","compile","tokensToFunction","tokensToRegExp","PATH_REGEXP","RegExp","tokens","defaultDelimiter","delimiter","res","exec","m","escaped","offset","capture","group","modifier","partial","repeat","pattern","escapeGroup","escapeString","encodeURIComponentPretty","encodeURI","c","charCodeAt","encodeAsterisk","matches","flags","opts","data","encode","pretty","encodeURIComponent","token","segment","attachKeys","re","sensitive","regexpToRegexp","groups","match","arrayToRegexp","parts","regexp","stringToRegexp","end","route","endsWithDelimiter","pathToRegexp$1","_objectWithoutPropertiesLoose$1","createNamedContext","historyContext","createNamedContext$1","Router","_React$Component","computeRootMatch","isExact","_isMounted","_pendingLocation","staticContext","MemoryRouter","Lifecycle","onMount","componentDidUpdate","prevProps","onUnmount","cache","cacheLimit","cacheCount","compilePath","generator","generatePath","Redirect","computedMatch","_ref$push","method","self","cache$1","cacheLimit$1","cacheCount$1","compilePath$1","cacheKey","pathCache","matchPath","_options","_options$exact","exact","_options$strict","_options$sensitive","paths","matched","_compilePath","memo","Route","context$1","_this$props","addLeadingSlash","addBasename","stripBasename","createURL","staticHandler","methodName","StaticRouter","handlePush","navigateTo","handleReplace","handleListen","handleBlock","_this$props$basename","_this$props$context","_this$props2","_this$props2$basename","_this$props2$context","_this$props2$location","Switch","useHistory","useLocation","useRouteMatch","_inheritsLoose","_extends","_objectWithoutPropertiesLoose","BrowserRouter","HashRouter","resolveToLocation","normalizeToLocation","forwardRefShim","isModifiedEvent","metaKey","altKey","ctrlKey","shiftKey","LinkAnchor","forwardedRef","innerRef","navigate","_onClick","ex","defaultPrevented","Link","_ref2$component","forwardRefShim$1","forwardRef$1","joinClassnames","classnames","_ref$ariaCurrent","ariaCurrent","_ref$activeClassName","activeClassName","activeStyle","isActiveProp","locationProp","styleProp","escapedPath","isObject","isValidObject","isString","splitChar","separator","joinChar","isValid$1","segs","hasProp","isValid","getValue$1","toInteger","dirtyNumber","NaN","number","Number","isNaN","ceil","floor","requiredArgs","toDate","argument","argStr","getTime","stack","addDays","dirtyDate","dirtyAmount","date","amount","setDate","getDate","addMonths","dayOfMonth","endOfDesiredMonth","setMonth","getMonth","daysInMonth","setFullYear","getFullYear","addMilliseconds","timestamp","MILLISECONDS_IN_MINUTE$2","getDateMillisecondsPart","getTimezoneOffsetInMilliseconds","baseTimezoneOffset","getTimezoneOffset","setSeconds","hasNegativeUTCOffset","millisecondsPartOfTimezoneOffset","startOfDay","setHours","MILLISECONDS_IN_DAY$1","differenceInCalendarDays","dirtyDateLeft","dirtyDateRight","startOfDayLeft","startOfDayRight","timestampLeft","timestampRight","round","addYears","compareLocalAsc","dateLeft","dateRight","diff","getHours","getMinutes","getSeconds","getMilliseconds","differenceInDays","sign","difference","abs","isLastDayNotFull","differenceInMilliseconds","MILLISECONDS_IN_MINUTE$1","differenceInMinutes","formatDistanceLocale","lessThanXSeconds","one","xSeconds","halfAMinute","lessThanXMinutes","xMinutes","aboutXHours","xHours","xDays","aboutXWeeks","xWeeks","aboutXMonths","xMonths","aboutXYears","xYears","overXYears","almostXYears","formatDistance","count","addSuffix","comparison","buildFormatLongFn","dirtyOptions","defaultWidth","format","formats","dateFormats","full","long","medium","short","timeFormats","dateTimeFormats","formatLong","time","dateTime","formatLong$1","formatRelativeLocale","lastWeek","yesterday","today","tomorrow","nextWeek","formatRelative","_date","_baseDate","buildLocalizeFn","dirtyIndex","valuesArray","formattingValues","defaultFormattingWidth","_defaultWidth","_width","argumentCallback","eraValues","narrow","abbreviated","wide","quarterValues","monthValues","dayValues","dayPeriodValues","am","pm","midnight","noon","morning","afternoon","evening","night","formattingDayPeriodValues","ordinalNumber","_dirtyOptions","rem100","localize","era","quarter","month","day","dayPeriod","localize$1","buildMatchPatternFn","dirtyString","matchResult","matchPattern","matchedString","parseResult","parsePattern","valueCallback","buildMatchFn","matchPatterns","defaultMatchWidth","parsePatterns","defaultParseWidth","findIndex","findKey","predicate","matchOrdinalNumberPattern","parseOrdinalNumberPattern","matchEraPatterns","parseEraPatterns","matchQuarterPatterns","parseQuarterPatterns","matchMonthPatterns","parseMonthPatterns","matchDayPatterns","parseDayPatterns","matchDayPeriodPatterns","parseDayPeriodPatterns","match$1","locale","weekStartsOn","firstWeekContainsDate","defaultLocale","subMilliseconds","addLeadingZeros","targetLength","output","formatters$2","signedYear","getUTCFullYear","year","M","getUTCMonth","getUTCDate","dayPeriodEnumValue","getUTCHours","getUTCMinutes","s","getUTCSeconds","numberOfDigits","milliseconds","getUTCMilliseconds","fractionalSeconds","pow","formatters$3","MILLISECONDS_IN_DAY","getUTCDayOfYear","setUTCMonth","setUTCHours","startOfYearTimestamp","startOfUTCISOWeek","getUTCDay","setUTCDate","getUTCISOWeekYear","fourthOfJanuaryOfNextYear","setUTCFullYear","startOfNextYear","fourthOfJanuaryOfThisYear","startOfThisYear","startOfUTCISOWeekYear","fourthOfJanuary","MILLISECONDS_IN_WEEK$1","getUTCISOWeek","startOfUTCWeek","localeWeekStartsOn","defaultWeekStartsOn","RangeError","getUTCWeekYear","localeFirstWeekContainsDate","defaultFirstWeekContainsDate","firstWeekOfNextYear","firstWeekOfThisYear","startOfUTCWeekYear","firstWeek","MILLISECONDS_IN_WEEK","getUTCWeek","dayPeriodEnum","formatters","unit","signedWeekYear","weekYear","twoDigitYear","isoWeekYear","Q","q","w","week","isoWeek","dayOfYear","dayOfWeek","localDayOfWeek","isoDayOfWeek","hours","_localize","originalDate","_originalDate","timezoneOffset","formatTimezoneWithOptionalMinutes","formatTimezone","formatTimezoneShort","dirtyDelimiter","absOffset","minutes","formatters$1","dateLongFormatter","timeLongFormatter","dateTimeLongFormatter","datePattern","timePattern","dateTimeFormat","longFormatters","longFormatters$1","protectedDayOfYearTokens","protectedWeekYearTokens","isProtectedDayOfYearToken","isProtectedWeekYearToken","throwProtectedError","formattingTokensRegExp","longFormattingTokensRegExp","escapedStringRegExp","doubleQuoteRegExp","unescapedLatinCharacterRegExp","dirtyFormatStr","formatStr","utcDate","formatterOptions","firstCharacter","longFormatter","cleanEscapedString","formatter","useAdditionalWeekYearTokens","useAdditionalDayOfYearTokens","subDays","subMonths","MILLISECONDS_IN_HOUR","MILLISECONDS_IN_MINUTE","DEFAULT_ADDITIONAL_DIGITS","patterns","dateTimeDelimiter","timeZoneDelimiter","timezone","dateRegex","timeRegex","timezoneRegex","parseISO","additionalDigits","dateStrings","splitDateString","parseYearResult","parseYear","parseDate","restDateString","parseTime","parseTimezone","dateString","timeString","regex","captures","century","isWeekDate","parseDateUnit","validateWeekDate","dayOfISOWeekYear","validateDate","validateDayOfYearDate","parseTimeUnit","seconds","validateTime","parseFloat","timezoneString","validateTimezone","fourthOfJanuaryDay","daysInMonths","isLeapYearIndex","_year","_hours","subYears","Download","_interopRequireDefault","default_1","_createSvgIcon","_jsxRuntime","_default","AppDialogContext","closeAdminBox","AppDialog","setOpen","builderMode","mediaQueryMdDown","breakpoints","down","fullScreen","adminPortal","layout","fullScreenMode","rootElementStyle","adminPortalEl","SkeletonListItem","defaultProps","sx","SkeletonTenantName","NavSkeleton","PageTitleSkeleton","PageSkeleton","NavigationGridItem","withPoweredBy","navigation","PageGridItem","StyledGrid","typographyStyleOptions","AppSkeleton","absolute","overrideStyle","displayAsDrawer","UserAvatar","user","picture","profilePictureUrl","wrapPage","pageKey","callbackToPromise","closeable","notNull","getUserMetadataTitle","getUserMetadata","addUserMetadata","newMetadata","formatAddress","addressMetadata","address1","address2","city","postCode","country","getUserAddress","getUserFullName","defaultPasswordConfig","allowPassphrases","maxLength","minLength","minOptionalTestsToPass","minPhraseLength","MfaTypeEnum","useOptionalEnforceMfaTypes","vendorMfaPolicy","useVendorMfaPolicySettings","Force","policy","enforceMFAType","DontForce","ForceExceptSAML","usePasswordConfig","userId","loadOnMount","loadPasswordConfig","passwordConfig","passwordServerConfig","strength","useMfaPolicySettings","saving","mfaPolicy","loadSecurityPolicyMfa","saveSecurityPolicyMfa","useSessionPolicySettings","configurations","loadSessionsPolicy","createOrUpdateSessionsPolicy","loadSecurityPolicyVendorMfa","useLockoutPolicySettings","lockoutPolicy","loadSecurityPolicyLockout","saveSecurityPolicyLockout","usePasswordHistoryPolicySettings","passwordHistoryPolicy","loadSecurityPolicyPasswordHistory","saveSecurityPolicyPasswordHistory","usePublicPolicySettings","publicPolicy","loadPublicSecurityPolicy","useDialogState","defaultOpen","setData","handleCloseEditName","handleOpenEditName","useBooleanToggle","delay","bool","setBoolean","useEffectAfterMount","deps","setMounted","useDebounce","debouncedValue","setDebouncedValue","clearTimeout","useAsyncEffect","effectFn","didMountRef","useMemoProps","useRolesMap","roles","FormDialogBody","initialValues","validationSchema","enableReinitialize","validateOnMount","formError","setFormError","formikProps","formikHelpers","canSubmit","isSubmitting","dirty","FormErrorDialogMessage","fieldName","startsWith","RemovePhotoForm","profile","saveProfile","setProfileState","handleRemoveImage","RemovePhotoDialog","HeaderContainer","rightPanel","profileHeader","AvatarContainer","UserEmptyAvatar","EditAvatarButton","DetailsContainer","JobTitleSpan","toBase64","file","reader","FileReader","readAsDataURL","onload","onerror","ProfileHeader","avatarAnchorEl","setAvatarAnchorEl","openDownloadBrowse","setOpenDownloadBrowse","jobTitle","uploadPhotoDialog","handleCloseUploadPhoto","handleOpenUploadPhoto","removePhotoDialog","handleCloseRemovePhoto","handleOpenRemovePhoto","menuItems","negative","onEditAvatarClick","email","uploadProgress","DisplayNameField","firstName","lastName","TitleField","fieldProps","touched","setValue","clearable","FirstNameField$2","LastNameField$1","EditNameForm$1","EditNameDialog","Field$1","SingleInputFormDialog","inputLabel","inputName","inputAutoComplete","cancelButton","submitButton","EditSingleInputDialog","EditPhoneDialog","phoneNumber","phone","EditJobTitleDialog","getRoleLevel","roleId","Infinity","roleSettings","permissionLevel","getMaxRoleLevel","roleIds","levelsArr","getUserMaxRoleLevel","loggedIn","getContext","getUser","currentUserRoleLevel","currentUserRolesIds","currentUserRoles","checkRoleAccess","hasPermission","permissions","userPermissions","permission","userPermission","usePermission","forcePermissions","countries","InputCopyField","testId","RolesField$4","allRoles","setTouched","withCheckbox","multi","Field","CountryField","countryCode","setSearch","handleSearchChanged","CustomCountryField$2","Address1Field$2","Address2Field$2","CityField$2","StateField$2","PostcodeField$2","EditNameForm","address","EditAddressDialog$1","PageWrapper","pages","pl","pr","ProfilePage$1","editNameDialog","editPhoneNumberDialog","handleCloseEditPhoneNumber","handleOpenEditPhoneNumber","editJobTitleDialog","handleCloseEditJobTitle","handleOpenEditJobTitle","editAddressDialog","handleCloseEditAddress","handleOpenEditAddress","onEditClick","ProfilePage$2","ProfilePage","CurrentPasswordField","NewPasswordField","ConfirmPasswordField","PasswordStrength","globalT","isTouched","ChangePasswordForm","changePassword","password","newPassword","confirmPassword","ChangePasswordDialog","dialogTitleDataTestId","PulseSvgIcon","QrCodeSkeleton","dots","largeDots","corners","viewBox","dot","corner","GoogleAuthenticatorLink","QrCodeContainer","QrCodeComponent","qrCode","displaySkeleton","alt","TokenInput$1","submitCount","inputMode","VerifyMfaForm","verifyMfa","RecoveryMfaForm","recoveryCode","EnableMfaStepper","enrollMfa","resetMfaState","verify","unmountOnExit","mountOnEnter","EnableMfaDialog","TokenInput","DisableMfaForm","disableMfa","setErrors","DisableMfaDialog","getIpMetadata","ip","Get","getFilterType","capitalize","getFilterName","timeOptions","severityOptions","getTimeDiff","getFilterTime","toISOString","$gt","getSeverityByName","str2bool","UserSessionsTableColumns","Header","accessor","Cell","ipAddress","createdAt","withAgo","actionText","DeleteDialogBody","onDelete","deleteButtonText","cancelButtonText","DeleteDialog","dataTestId","LogOutAllDialog","submitted","setSubmitted","deleteAllUserSessions","handleLogoutAll","useUserSessionsData","sessions","includes","sort","UsersSessionsTableHeader","isLogoutAllDialogOpen","handleCloseLogOutAllDialog","handleOpenLogOutAllDialog","isLogoutButtonVisible","sm","md","UserSessionsTable","loadUserSessions","columns","PrivacyPage$1","changePasswordDialog","handleCloseChangePassword","handleOpenChangePassword","enableMfaDialog","handleCloseEnableMfaDialog","handleOpenEnableMfaDialog","disableMfaDialog","handleCloseDisableMfaDialog","handleOpenDisableMfaDialog","isMfaForced","authStrategy","mfaEnrolled","checked","PrivacyPage$2","PrivacyPage","TimezoneField","EditTimezoneForm","saveAccountSettings","accountSettingsState","settings","EditTimezoneDialog","EditCompanyNameDialog","loadTenants","companyName","submitHandler","getAccountAddress","parsedAddress","addAddress","newAddress","CustomCountryField$1","Address1Field$1","Address2Field$1","CityField$1","StateField$1","PostcodeField$1","EditAddressForm","EditAddressDialog","EditWebsiteDialog","website","currencies","CurrencyField","EditCurrencyForm","EditCurrencyDialog","SettingsRowValue","noValueText","AccountDetailsPage$1","loadAccountSettings","editCompanyName","handleCloseCompanyName","handleOpenCompanyName","editAddress","handleCloseAddress","handleOpenAddress","editWebsite","handleCloseWebsite","handleOpenWebsite","editTimezone","handleCloseTimezone","handleOpenTimezone","editCurrency","handleCloseCurrency","handleOpenCurrency","tenantName","tenantId","companyAddress","companyTimezone","AccountDetailsPage$2","AccountDetailsPage","UsersHeader","handleOpenInviteUser","isInviteWithEmailEnabled","isInviteLinkEnabled","debounceSearch","canInviteUser","events","handleClickOnInviteUser","inviteMemberClicked","usersTableColumns","rolesMap","profileImageUrl","verified","activatedForTenant","lastLogin","LEAVE_TEAM_OPTION","useUsersTableRowActions$1","resendActivationLink","resendInvitationLink","handleOpenDeleteUser","handleOpenEditUserRoles","revokeUserSessions","currentTenantId","subTenants","canEditRoles","canDeleteUser","canRevokeUserSessions","row","handleEditRole","handleSendActivationLink","handleRevokeUserSessions","handleSendInvitationLink","invitationData","handleDeleteUser","isMe","canEditSubTenantUser","tenant","usersTableColumnsOrganization","currentTenantName","subTenant","subItems","RolesField$3","EditUserRolesForm","updateUser","fullName","EditUserRolesDialog","DeleteUserDialog$1","setLoading","setError","deleteUser","success","UsersTable","loaders","users","totalPages","pageOffset","loadUsers","deleteUserDialog","handleCloseDeleteUser","deleteUserData","editUserRolesDialog","handleCloseEditUserRoles","editUserRolesData","rolesUse","isPermissionsAndRolesEnabled","getRowActions","onPageChange","page","USERS","tablePlaceholderProps","show","forwardedKey","loadingText","countDifferenceInDays","expirationDate","exp","differenceMinutes","differenceDays","daysInMinutes","seven","thirty","expirationPeriodsOptions","EditInviteUserActiveDialog","CopiedLinkIcon","CopyLinkIcon","EditInviteLinkSettingsButton","CopyInviteLink","setActiveDialog","isEmailInviteShown","isLinkCopied","setIslinkCopied","inviteTokenState","createInvitationLink","getInvitationLink","deleteInvitationLink","expires","tenantInvitationsAllowed","hostedLoginBox","canCopyInviteLink","baseUrl","createSignupUrl","origin","signUpUrl","handleCreateInvitationLink","handleSetActiveDialog","EDIT_LINK","linkExpiredAt","showInviteLink","days","startIcon","DeactivateInviteLinkDialog","handleDeleteLink","DeactivateLinkButton","SendEmailField","ExpirationField","EditInviteLinkDialog","updateInvitationLink","emailsEnabled","shouldSendEmail","deactivateLinkDialog","handleCloseDeactivateLink","handleOpenDeactivateLink","canDeleteInviteLink","sendNotification","handleSetActiveDialogToInvitationForm","INVITATION_FORM","expiration","expiresInMinutes","handleCloseDeactivateInvitationLinkDialog","FirstNameField$1","LastNameField","PhoneField","EmailField$2","RolesField$2","InviteUserForm$1","hideInviteWithEmail","addUser","getInstance","inviteDialog","phoneNumberField","userEmail","inviteMemberSubmit","invitedUserFirstName","invitedUserLastName","invitedUserEmail","invitedUserPhoneNumber","invitedUserRoles","InviteUserDialog$1","activeDialog","UsersPage$1","loadSubTenants","inviteUserDialog","handleCloseInviteUser","queryObject","pageSize","silentLoading","UsersPage$2","UsersPage","RolesHeader","handleOpenAddRole","canAddRole","RoleName","setFieldValue","shouldChangeKey","RoleKey","RoleDescription","RoleInherit","AddRoleForm","addRole","inherit","inheritedRole","isDefault","level","AddRoleDialog","rolesTableColumns","multiLineDescription","pivot","sortable","containerStyle","RolesTable","permissionCategories","categoriesRows","mapped","localeCompare","category","fPermissions","permissionIds","permissionId","__type","RolesPage$1","loadRolesAndPermissions","addRoleDialog","handleCloseAddRole","RolesPage$2","RolesPage","AttemptsInput","EditMfaPolicyForm$1","enabled","maxAttempts","EditLockoutPolicyDialog","MfaPolicySelect","activeMfaTypes","EditMfaPolicyForm","EditMfaPolicyDialog","HistorySizeInput","EditPasswordHistoryPolicyForm","historySize","EditPasswordHistoryPolicyDialog","MfaSecurityPolicyValue","activeMFATypes","activeMFAPolicy","LockoutSecurityPolicyValue","PasswordHistorySecurityPolicyValue","getLockoutSecurityPolicyActions","save","getPasswordHistorySecurityPolicyActions","BasicSettingsList","mfaLoading","lockoutLoading","passwordHistoryLoading","editMfaPolicyDialog","handleCloseMfaPolicyDialog","handleOpenMfaPolicyDialog","editLockoutPolicyDialog","handleCloseLockoutPolicyDialog","handleOpenLockoutPolicyDialog","editPasswordHistoryPolicyDialog","handleClosePasswordHistoryPolicyDialog","handleOpenPasswordHistoryPolicyDialog","vendorMfaPolicyLoading","isMfaDisabled","canEditSecurityPolicy","disabledRow","BasicSettingsList$1","ETimeFormat","TimeFormatLocalizedTitles","DAYS","plural","singular","HOURS","MINUTES","TimeFormatMultiplier","calculateTime","timeFormat","useTimeOptions","getTimeAndFormat","timeInSeconds","sessionManagementFormValidation","sessionTimeoutConfiguration","typeError","sessionIdleTimeoutConfiguration","sessionConcurrentConfiguration","maxSessions","ConfirmDialogBody","onConfirm","confirmButtonText","ConfirmDialog","EnforceSessionPolicyDialog","handleConfirm","RowSkeleton$1","SessionsSettingsListSkeleton","ConfigBox","gap","ErrorBox","TimeoutInput","TimeFormatSelect","ConfigBoxWrapper","FormComponent","showError","SessionTimeoutConfigurationRow","configKey","timeFormatFieldProps","timeFormatFieldValue","timeoutFieldProps","timeoutFieldValue","setTimeoutValue","setTimeoutTouched","fieldValue","setFieldValues","onTimeoutChange","onTimeFormatChange","newFormat","SessionConcurrentConfigurationRow","maxSessionFieldProps","setMaxSessions","onMaxSessionsChange","formValue","defaultValues","SessionsSettingsList","isSessionTimeoutActive","setSessionTimeoutToggled","setSessionTimeoutToggleTouched","isIdleSessionTimeoutActive","setIdleTimeoutToggled","setIdleTimeoutToggleTouched","isConcurrentSessionActive","setConcurrentSessionToggled","setConcurrentSessionToggleTouched","haveSecurityPolicyWritePermission","isSaveButtonDisabled","onTimeoutToggle","toggled","onIdleToggle","onConcurrentToggle","isFormDisabled","expandableItems","expandedRow","expandableRowComponent","SessionsSettings","showConfirmPolicyDialog","handleClosePolicyDialog","handleOpenPolicyDialog","loadCurrentUserSession","logout","currentSession","_f","_g","idleTimeoutCalculated","sessionTimeoutCalculated","submitForm","calculatedValues","setSubmitting","currentSessionWillExpireDate","willSessionExpireAfterConfirm","SessionsSettingsList$1","SecurityPage$1","SecurityPage$2","SecurityPage","SsoHeader","handleOpenNewConfiguration","canCreateNewConfiguration","SamlVendors","ConfigSaml","IDPS","Saml","Oidc","defaultSamlVendor","SsoTableColumns","onChangeStatus","hasWritePermission","showConfigureSSOMessage","domains","domain","idp","ssoConfig","isStep1Checked","publicCertificate","oidcClientId","isStep2Checked","validated","isStep3Checked","canEnableDisableSSO","useSSOTableRowActions","handleOpenDeleteConfig","handleOpenEditConfig","hasDeletePermission","handleEditConfig","handleDeleteConfig","DeleteSSOConfigurationForm","deleteSSOConfiguration","DELETE_SSO_CONFIGURATION","handleDeleteSSOConfig","ssoConfigId","DeleteSSOConfigurationDialog","SSODialogContext","stepNumber","handleOpen","handleNextStep","handlePrevStep","currentSSOConfiguration","setCurrentSSOConfigurationId","isFirstStep","isLastStep","useSSODialog","SSODialogProvider","initialSSOConfigurationId","setStepNumber","currentSSOConfigurationId","ssoConfigurations","ssoConfigureIdpFormValidation","configFile","when","is","ssoEndpoint","otherwise","oidcSecret","ssoManageAuthorizationValidation","rolesGroups","addedGroups","SsoFooter","onNext","showSkipButton","onSkip","approveButtonText","handleCancelButton","useValidateWellKnownDebounced","wellKnownError","controller","AbortController","abortSignal","signal","abort","IssuerUrlInput","AcsUrlField","EntityIdField","SsoEndpointField","IssuerUrlField","formikError","tip","RedirectUriField","oidcRedirectUrl","defaultRedirectUri","oidcConfiguration","redirectUri","OidcClientIdField","PublicSertificateField","OidcSecretField","IdpField","setConfigSaml","handleOnChange","manual","ConfigSamlField","handleSetValue","auto","control","DropZoneField","files","fileType","onDrop","SsoConfigureIdpBottomInputs","samlVendor","setIssuerUrlError","issuerUrlError","SsoConfigureIdpForm","saveSSOConfigurationV2","updateSSOConfiguration","saveSSOConfigurationByMetadata","updateSSOConfigurationByMetadata","samlMetadata","initialSamlVendor","configSaml","acsUrl","configuration","spEntityId","isEditMode","isOidcConfiguration","payload","DomainFields","ssoDomain","recordValue","generatedVerification","recordName","AddDomainButton","DomainInput","DeleteIconStyle","EditIconStyle","IconButtonStyle","DomainListContainer","SSOClaimDomainList","onAddDomain","onEditDomain","hideDomainList","deleteSSODomain","handleDeleteDomain","domainId","SsoClaimDomainForm","setSSODomain","saveSSODomain","validateSSODomainV2","isDomainListShown","setIsDomainListShown","showDomainList","saveDomain","handleEditDomain","handleAddDomain","ArrowsIconStyled","GroupNameField","handleGroupChange","RolesField$1","handleRolesChange","groupId","accessRoles","oneLineMulti","optionType","DeleteGroupButton","RolesGroup","setFieldError","isGroupNameUnique","handleGroupNameChange","groupIdx","newRolesGroupsArray","currIdx","changedGroups","newrolesGroups","rolesGroup","deleteGroup","newDeletedGroupsArr","deletedGroups","newGroupsArr","NewRolesGroup","AddMappingButton","TableHeadRowGrid","TableBodyGrid","AddIconStyle","AddIconButton","GroupsTable","addGroup","findNewGroups","existingGroups","newGroups","existingGroupsIds","groupsToAdd","RolesGroupsTable","isNewGroupAdded","newGroup","newFieldValue","shouldShowTable","newAddedGroupsValue","isAllGroupNamesUnique","uniquedValues","acc","InputTipIcon","SsoManageAuthorizationForm","setSSODefaultRoles","setSSOGroups","updateSSOGroups","groupsToDelete","mountNode","placement","arrow","trigger","StepperStyle","MultiStepForm","SsoConfigurationDialogForm","topGravity","SsoTable","ssoConfigurationsData","LOAD_SSO_CONFIGURATIONS","deleteConfigDialog","handleCloseDeleteSSOConfig","handleOpenDeleteSSOConfig","ssoConfigToDelete","editSSOConfigDialogOpen","handleCloseEditSSOConfig","handleOpenEditSSOConfig","ssoConfigToEdit","handleChangeStatus","SsoPage","loadRoles","isConfigureSSOMessage","setIsConfigureSSOMessage","addSSOConfigDialogOpen","handleCloseAddSSOConfig","handleOpenAddSSOConfig","hideConfigureSSOMessage","SsoPage$1","MultipleSsoPage","UserMapCache","mapIds","mapEmails","instance","getUserById","promise","userFromTeams","auth","catch","getUserByEmail","teams","TableUserCell","currentUser","setCurrentUser","ApiTokensTableColumns","isPermissionsAndRolesDisabled","clientId","copyValue","createdByUserId","ApiTokenTableRowActions","handleOpenDeleteToken","DeleteApiTokenDialog$1","DELETE_API_TOKEN","deleteTenantApiToken","setApiTokensError","setApiTokensLoader","handleDeleteApiToken","ApiTokensTable","apiTokensDataTenant","tokensData","searchValue","LOAD_API_TOKENS","deleteTokenDialog","handleCloseDeleteToken","deleteApiTokenData","ApiTokensHeader","handleOpenAddToken","setApiTokensState","canAddTenantToken","AddTokenSuccessForm$1","successDialog","secret","DescriptionField$1","AddTokenForm$1","addTenantApiToken","AddTokenSteper$1","AddTokenDialog$1","ApiTokensPage$1","loadApiTokens","addTokenDialog","handleCloseAddToken","onDialogCloseHandler","ApiTokensPage$2","ApiTokensPage","AuditLogsHeader","prevSearch","loadAuditLogs","exportAuditsCsv","filters","filterOnly","handlerOnSetFilter","AuditsDownloadIcon","handlerSearch","marginRight","FilterBody","Selector","AlphaNumericFilter","inputState","setInputState","SeverityFilter","selectState","setSelectState","handleSelect","TimeStampFilter","Filter","closePopup","setFilterValue","handleFilter","FilterFooter","AuditLogsTableColumns","columnsMetadata","showInTable","filterable","json","AuditLogsTable","auditLogsState","logs","handlerSortChange","sortBy","handlerFilterChange","_filters","moreInfoColumns","showInMoreInfo","TableExpandRow","rowToDisplay","onSortChange","onFilterChange","renderExpandedComponent","SubHeaderChip","ChipsContainer","AuditLogsSubHeader","handleFilterDelete","chipLabel","deleteIcon","AuditLogsPage$1","desc","AuditLogsPage$2","AuditLogsPage","AddTokenSuccessForm","DescriptionField","AddTokenForm","addUserApiToken","AddTokenSteper","AddTokenDialog","PersonalTokensHeader","PersonalTokensTableColumns","PersonalTokenTableRowActions","DeleteApiTokenDialog","deleteUserApiToken","PersonalTokensTable","apiTokensDataUser","PersonalTokensPage$1","PersonalTokensPage$2","PersonalTokensPage","BoxSkeleton","CurrentPlanComponentSkeleton","mr","INVOICE_DATE_FORMAT","BILLING_INFORMATION_PLAN_DATE_FORMAT","DATE_FILENAME_FORMAT","useSubscriptionPermissions","useBillingMetadata","summary","trialEnd","willBeCanceled","AT_PERIOD_END","isCanceled","CANCELED","isDefaultPlan","defaultPlanId","currentPlanId","isTrialing","TRIALING","isInTrialPeriod","isExternallyManaged","externallyManaged","hasPaymentMethod","isFreePlan","plansAmount","isSingularPlan","hasTrialEnded","TRIAL_ENDED","currentPlanIndex","canDowngrade","allowPlanDowngrade","canUpgrade","canCancel","allowPlanCancellation","CanceledChip","withIcons","TrialingChip","TrialEndedChip","subscriptionStatusChipMap","INCOMPLETE","ACTIVE","EXPIRED","PlanDetailsStatusChip","PlanDetails","priceDescription","priceString","periodEnd","currentPeriodEnd","RowActionButtons","SelectPlanButton","RenewDialogBody","endDate","renewalDate","RenewDialogFooter","renewSubscription","RenewDialog","RenewButton","isOpen","closeDialog","openDialog","BillingActionMainButton","openPlanSelect","CancelDialogFooter","cancelSubscription","CancelDialogBody","CancelDialog","PlanContainer","PlanTitle","PlanPrice","PlanDescription","PlanSelectedCheckedIcon","PlanSelectedText","SelectPlanItem","isSelected","handleClick","SelectPlan","onSelectPlan","selectedPlanId","displayPlans","planSelectionItems","recurringInterval","SelectDialogFooter","SelectDialogBody","planFetching","CheckoutDialogContent","hasPlanSelection","initPlanId","checkoutPlanId","setCheckoutPlanId","handlePlanSelection","CheckoutDialog","EmailField$1","CustomCountryField","Address1Field","Address2Field","CityField","StateField","PostcodeField","SubscriptionUpdateBillingDetailsDialogBody","updatePaymentMethodBillingDetails","billingDetails","addressLine1","addressLine2","postalCode","SubscriptionUpdateBillingDetailsDialog","SubscriptionUpdatePaymentMethodDialogFooter","handleCancel","SubscriptionUpdatePaymentMethodDialogBody","submitPaymentMethod","submitPaymentMethodError","submitPaymentMethodSuccess","SubscriptionUpdatePaymentMethodDialog","CancelButton","BillingActionSecondaryButton","BillingActions","handleOpenSelection","handleOpenCheckout","handleCloseCheckout","openCheckout","CurrentPlan","CardNarrow","DetailSectionBox","CurrentPlanBox","CurrentPlanComponent","RowSkeleton","TableSkeleton","cols","table","range","colsRange","col","InvoicesListComponentSkeleton","InvoicesListBox","InvoicesTable","AmountChipCell","justifyItems","invoicesTableColumns","billingDate","InvoiceList","downloadInvoice","handleInvoiceDownload","invoice","invoiceId","filename","tableData","paymentDate","paid","totalAmount","inline","autoHeight","contentMaxHeight","InvoicesListComponent","BillingDetailsComponentSkeleton","UpdateBillingMethod","BillingDetails","BillingDetailsBox","BillingDetailsComponent","PaymentMethodComponentSkeleton","PaymentMethodBox","PaymentMethodDisplay","PaymentMethodComponent","BillingComponent","SubscriptionSections","permitted","hasBilling","SubscriptionPageSkeleton","ExternallyManagedAlert","SubscriptionPageContainer","loadInvoices","paymentProviderError","billingInformationError","SubscriptionPageBillingWrapper","SubscriptionPage$1","SubscriptionPage$2","SubscriptionPage","WebhooksHeader","filterCategories","categories","channelMap","cat","eventKey","selectedEvents","names","eventKeys","getCategoriesEventsArray","flat","NameField","UrlField","SecretKeyField","EventsField","categoryIdx","categoryId","categoryItems","eventIdx","AddWebhookForm","cleanError","postDataAction","secretKey","eventsToRemove","eventsToSend","platform","AddWebhookDialog","EditWebhookForm","webhook","eventsToAdd","initEventsValue","_id","EditWebhookDialog","DeleteWebhookDialog","deleteWebhookConfigAction","handleDeleteWebhook","webhookId","useWebhooksTableRowActions","handleOpenDeleteWebhook","handleOpenEditWebhook","handleEditWebhook","webhooksColumns","WebhooksTable","editWebhookDialog","handleCloseEditWebhook","editWebhookData","deleteWebhookDialog","handleCloseDeleteWebhook","deleteWebhookData","webhookState","cleanCategories","preparedWebhookState","webhooks","elm","eventObject","cur","evs","groupEvents","totalEvents","filteredWebhooks","query","toLocaleLowerCase","webhookUrl","webhookName","webhooksLength","WebhooksPage$1","loadDataAction","addWebhookDialog","handleCloseAddWebhook","handleOpenAddWebhook","WebhooksPage$2","WebhooksPage","LoginPage","onRedirectTo","LoginPage$1","AllUsersHeader","useUsersTableRowActions","handleOpenLockUser","handleManageUser","allUsersTableColumnsOrganization","hasOneActivatedTenant","activated","DeleteUserDialog","deleteUserFromSubTenants","LockUserDialog","lockUser","handleLockUser","AllUsersTable","allUsers","loadAllSubTenantsUsers","resendInvitationLinkToAllSubTenants","lockUserDialog","handleCloseLockUser","lockUserData","_offset","_sortBy","_order","TreeHeader","FirstNameField","EmailField","RolesField","stopPropagation","AssignRolesToAll","selectedTenantIds","formikContext","customContent","minPopperWidth","InviteUserForm","addUserToSubTenants","setUserRolesForSubTenants","tenantTree","userData","teamUser","treeData","mapTree","allTenantIds","getTenantsIds","mapTreeInitialValues","tenantsRoles","rolesForAllTenants","selectedTenants","setSelectedTenants","accountsCount","previousValue","currentValue","handleSelectedChange","ids","cachedRoles","itemProps","indeterminate","handleSelectAll","tenantIds","addedTenants","removedTenants","Set","subTenantsRoles","edge","disableRipple","ItemContent","InviteUserDialog","AllUsersPage$1","loadSubTenantsTree","inviteUserData","_filter","_limit","AllUsersPage$2","AllUsersPage","usePreloadRoutes","loadProfile","loadSSOConfigurationsV2","loadSecurityPolicy","loadVendorPasswordConfig","shouldLoad","featureFlag","getRoutes","appName","vendorConfig","xl","publicRoute","allMetadata","getPreviewModeRoutes","AppNavigation","activeRoute","isTenantReseller","isReseller","isRouteActive","onNavigationClicked","routePath","routeId","adminBoxMenuClicked","tab","userInfo","tenantRoutes","workspaceRoutes","allAccountsRoutes","AppNavigation$1","AppNavigationPreviewMode","previewRoutes","tenantPreviewRoutes","isAllWorkspaceRouteHidden","AppNavigationPreviewMode$1","ProtectedRoute","RoutesLayout","routesComponents","routeProps","RoutesLayoutPreviewMode","PageLayout","previewMode","routesLayout","openDrawer","PageLayout$1","LogoContainer","PoweredByLogo","mask","maskUnits","AppContent","showPoweredByLogo","whiteLabelMode","setStaticRouteSetter","staticRoute","setRoute","drawerOpened","setDrawerOpened","drawerContextValue","appNavigation","navigationComponent","wrap","AppLayout","AppLayout$1","App","module","App$1","defaultTheme","AdminPortal","adminPortalContainer","AdminPortalPage","setThemeSetter","setThemeOptions","setTheme","enhancedTheme"],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","sourcesContent":["import { r as react, R as React, f as __rest, g as __awaiter } from './FronteggApp-3b25e3fb.js';\nimport { aV as useSelector, aW as shallowEqual, aX as useDispatch, a as createSvgIcon, j as jsxRuntime, aY as easing, aZ as duration, a_ as _objectWithoutPropertiesLoose$3, K as useTheme, a$ as useForkRef, b0 as debounce, b1 as ownerWindow, b2 as _extends$4, b3 as Transition, b4 as getTransitionProps, b5 as reflow, b6 as generateUtilityClass, b7 as generateUtilityClasses, k as styled, b8 as Modal, b9 as rootShouldForwardProp, ba as Paper, bb as capitalize$1, bc as useThemeProps, bd as composeClasses, be as clsx, bf as InputBaseRoot, bg as rootOverridesResolver, bh as InputBaseComponent, bi as inputOverridesResolver, bj as deepmerge, bk as InputBase, bl as isMuiElement, bm as isAdornedStart, bn as isFilled, bo as FormControlContext, bp as useFormControl, bq as formControlState, br as slotShouldForwardProp, bs as useControlled, bt as ownerDocument, bu as formatMuiErrorMessage, bv as MuiMenu, bw as MuiOutlinedInput, aq as SvgIcon, aR as FormHelperText, bx as BaseSchema, by as ValidationError, bz as runTests, bA as isSchema, bB as printValue, bC as array, bD as isAbsent, bE as PropTypes, B as Box, bF as UI, bG as VisaCardIcon, bH as AmericanExpressIcon, bI as MasterCardIcon, bJ as DinersCardIcon, bK as GenericCardIcon, G as Grid, S as ShadowDomContext, bL as enhanceAdminBoxTheme, bM as useMediaQuery, P as useTranslation, x as useShadowDom, bN as Dialog$1, y as initGlobalTheme, z as I18nProvider$1, E as GlobalThemeProvider, H as ThemeContext, J as InnerThemeProvider, U as Provider, V as FronteggStoreContext, N as useAuth, bO as usePublicPolicySettings$1, O as useAuthRoutes, A as Alert$1, W as Loader$1, o as Button$1, D as Divider, T as Typography$1, bP as EditIcon, R as RenderAsSlot, bQ as _inheritsLoose$2, i as isobject, bR as createSvgIcon$1, bS as interopRequireDefault, bT as MuiDialog, bU as Skeleton, bV as shallowEqual$1, C as Card, bW as Avatar$1, aN as IconButton, aU as InputCopy$1, $ as useAuthUserOrNull, bX as useAuthTeamState, az as useField, bY as Select$1$1, aA as InputPassword$1, L as Link$1, u as useFormikContext, I as Input$1$1, ax as useMfaActions, ah as validateSchema, aD as validateMinLength, aw as useMfaState, bZ as CheckIcon$1, b_ as LinkIcon, b$ as useRolesState, c0 as useRolesActions, c1 as validateNotEmpty, c2 as RadioList, c3 as DeleteIcon, c4 as DoubleArrowRightIcon, c5 as useAuthUser, c6 as AddIcon, c7 as InfoIcon, c8 as TableUserAvatarCell, c9 as useApiTokensState, ca as useApiTokensActions, cb as Chip, cc as CheckedIcon, cd as Table, ce as TableDateCell, a2 as useSecurityPolicyState, aa as useSecurityPolicyActions, ar as Formik, as as Form, cf as Fade, n as CheckCircleFilledIcon, cg as WarningIcon, a5 as useSSOState, ch as StatusChip, ci as validateWellKnown, F as FronteggModules, ap as useVendorState, cj as useTenantsState, ck as ProfileIcon, cl as PrivacyIcon, cm as PersonalTokensIcon, cn as UsageIcon, co as AccountDetailsIcon, cp as UsersIcon, cq as RolesIcon, cr as SecurityIcon, cs as SSOIcon, ct as AuditLogsIcon, cu as WebhooksIcon, cv as APITokenIcon, cw as SubscriptionIcon, cx as Navigation, cy as PageHeaderProvider, cz as PageHeader, cA as Avatar$1$1, cB as PageHeaderUpdater, X as useOnRedirectTo, Z as useAuthActions, _ as useIsAuthenticated, cC as HelpMessage, cD as Switch$1, cE as SettingsList, cF as getOptions, cG as useAuthTeamActions, cH as useTenantsActions, aJ as Collapse$1, cI as Alert$1$1, cJ as useProfileState, a4 as useForgotPasswordActions, a3 as useForgotPasswordState, cK as reloadProfileIfNeeded, cL as useSessionsActions, cM as useSessionsState, cN as TableUserAgentCell, cO as TableLocationCell, cP as TableTextCell, cQ as TableLogoutCell, cR as SearchIcon, cS as TableAvatarCell, cT as TableChipsCell, cU as ResendIcon, cV as CloseIcon, cW as GroupUsersIcon, cX as SearchBigIcon, cY as TablePlaceholder, cZ as TableSwitchCell, a6 as useSSOActions, c_ as TableSwitchCellLeft, c$ as TableCopyCell, d0 as TableSeverityCell, d1 as TableJsonCell, d2 as TableIpCell, d3 as isValid$2, d4 as format$1, d5 as TableExpandableRow, d6 as CrossBtnIcon, d7 as useProfileActions, d8 as UploadIcon, d9 as PencilIcon, da as Menu$1, db as UploadPhoto, dc as validationPhoneOptional, ai as validatePasswordUsingOWASP, aj as validateConfirmPassword, dd as validationPostCodeOptional, ak as validateEmail, ao as validationPhone, Y as useLoginActions, de as create$1, df as create$2, dg as validateNumber, dh as create$3, di as validateFile, dj as validateUrl, dk as validateDomain, dl as create$4, dm as Popup$1, dn as validateMinLengthOptional, dp as Chip$1, v as Checkbox$1, dq as Tree, ac as useSessionsPolicyState, ab as useSessionsPolicyActions, aQ as callbackToPromise$1, aB as PasswordStrengthChecker, dr as copy, ds as Switch$1$1, dt as Button$1$1, du as RadioGroup, aP as FormControlLabel, dv as Radio, dw as DropZoneElement, dx as SelectTree$1, dy as validatePositiveNumber, dz as validateHistorySize, dA as PdfIcon } from './formik.esm-3ec4824f.js';\nimport { auditsStoreName, bindActionCreators, auditsActions, auditLogsActions, auditLogsReducers, connectivityActions, connectivityStoreName, subscriptionsStoreName, subscriptionActions, PaymentProvider, createSelector, AdminPortalPages, MFAStep, ApiStateKeys } from '@frontegg/redux-store';\nimport { ISubscriptionStatus, api, ContextHolder, fetch, ISubscriptionCancellationPolicy } from '@frontegg/rest-api';\nimport { Metadata } from '@frontegg/types';\nimport './utils.js';\nimport './AppHolder.js';\n\nconst useAuditsActions = () => {\r\n    const dispatch = useDispatch();\r\n    return react.exports.useMemo(() => bindActionCreators(auditsActions, dispatch), [auditsActions]);\r\n};\r\n/**\r\n * hooks helpers\r\n */\r\nconst sliceReducerActionsBy = (reducer) => {\r\n    const reducerKeys = Object.keys(reducer);\r\n    const reducerActions = reducerKeys.map((key) => ({ [key]: auditsActions[key] }));\r\n    return reducerActions.reduce((p, n) => (Object.assign(Object.assign({}, p), n)), {});\r\n};\r\nconst stateHookGenerator = (stateMapper, subState) => {\r\n    return useSelector((state) => { var _a; return (_a = stateMapper === null || stateMapper === void 0 ? void 0 : stateMapper(state[auditsStoreName][subState])) !== null && _a !== void 0 ? _a : state[auditsStoreName][subState]; }, shallowEqual);\r\n};\r\nconst reducerActionsGenerator = (actions, reducers) => {\r\n    const dispatch = useDispatch();\r\n    return react.exports.useMemo(() => bindActionCreators(Object.assign(Object.assign({}, actions), sliceReducerActionsBy(reducers)), dispatch), [dispatch]);\r\n};\n\nconst useAuditLogsState = (stateMapper) => stateHookGenerator(stateMapper, 'auditLogsState');\r\nconst useAuditLogsActions = () => reducerActionsGenerator(auditLogsActions, auditLogsReducers);\n\nconst useAuditsMetadataState = (stateMapper) => stateHookGenerator(stateMapper, 'auditsMetadataState');\n\nconst useConnectivityState = (stateMapper) => {\r\n    return useSelector((state) => { var _a; return (_a = stateMapper === null || stateMapper === void 0 ? void 0 : stateMapper(state[connectivityStoreName])) !== null && _a !== void 0 ? _a : state[connectivityStoreName]; }, shallowEqual);\r\n};\r\nconst useConnectivityActions = () => {\r\n    const dispatch = useDispatch();\r\n    return react.exports.useMemo(() => bindActionCreators(connectivityActions, dispatch), [connectivityActions]);\r\n};\n\nfunction getSubscriptionState(state) {\r\n    return state[subscriptionsStoreName];\r\n}\r\nconst usePaymentProvider = () => {\r\n    return useSelector((state) => getSubscriptionState(state).config, shallowEqual);\r\n};\r\nconst usePaymentProviderActions = () => {\r\n    const dispatch = useDispatch();\r\n    return react.exports.useMemo(() => bindActionCreators(subscriptionActions.config, dispatch), [dispatch]);\r\n};\r\nconst usePlans = () => {\r\n    return useSelector((state) => getSubscriptionState(state).plans, shallowEqual);\r\n};\r\nconst usePlansActions = () => {\r\n    const dispatch = useDispatch();\r\n    return react.exports.useMemo(() => bindActionCreators(subscriptionActions.plans, dispatch), [dispatch]);\r\n};\r\nconst useCheckout = () => {\r\n    return useSelector((state) => getSubscriptionState(state).checkout, shallowEqual);\r\n};\r\nconst useCheckoutActions = () => {\r\n    const dispatch = useDispatch();\r\n    return react.exports.useMemo(() => bindActionCreators(subscriptionActions.checkout, dispatch), [dispatch]);\r\n};\r\nconst useBillingActions = (billingKey) => {\r\n    const dispatch = useDispatch();\r\n    return react.exports.useMemo(() => bindActionCreators(subscriptionActions.billing[billingKey], dispatch), [billingKey, dispatch]);\r\n};\r\nconst useBillingInformation = () => useSelector((state) => getSubscriptionState(state).billing.information, shallowEqual);\r\nconst useBillingInformationActions = () => useBillingActions('information');\r\nconst usePaymentMethod = () => useSelector((state) => getSubscriptionState(state).billing.paymentMethod, shallowEqual);\r\nconst usePaymentMethodActions = () => useBillingActions('paymentMethod');\r\nconst useInvoices = () => useSelector((state) => getSubscriptionState(state).billing.invoices, shallowEqual);\r\nconst useInvoicesActions = () => useBillingActions('invoices');\r\nconst useStripeState = () => {\r\n    return useSelector((state) => getSubscriptionState(state).stripe, shallowEqual);\r\n};\r\nconst useStripeActions = () => {\r\n    const dispatch = useDispatch();\r\n    return react.exports.useMemo(() => bindActionCreators(subscriptionActions.stripe, dispatch), [dispatch]);\r\n};\r\nconst useSubscriptionCancellation = () => {\r\n    return useSelector((state) => getSubscriptionState(state).billing.subscription.cancellation, shallowEqual);\r\n};\r\nconst useSubscriptionRenewal = () => {\r\n    return useSelector((state) => getSubscriptionState(state).billing.subscription.renewal, shallowEqual);\r\n};\r\nconst useSubscription = () => {\r\n    return useSelector((state) => {\r\n        const { billing: { subscription }, } = getSubscriptionState(state);\r\n        return subscription;\r\n    }, shallowEqual);\r\n};\r\nconst useVendorPublicConfig = () => {\r\n    return useSelector((state) => {\r\n        const { vendorPublicConfig } = getSubscriptionState(state);\r\n        return vendorPublicConfig;\r\n    }, shallowEqual);\r\n};\r\nconst useVendorPublicConfigActions = () => {\r\n    const dispatch = useDispatch();\r\n    return react.exports.useMemo(() => bindActionCreators(subscriptionActions.vendorPublicConfig, dispatch), [dispatch]);\r\n};\n\nvar ArrowDropDownIcon = createSvgIcon( /*#__PURE__*/jsxRuntime.exports.jsx(\"path\", {\n  d: \"M7 10l5 5 5-5z\"\n}), 'ArrowDropDown');\n\nconst _excluded$f = [\"addEndListener\", \"appear\", \"children\", \"container\", \"direction\", \"easing\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"style\", \"timeout\", \"TransitionComponent\"];\n\nfunction getTranslateValue(direction, node, resolvedContainer) {\n  const rect = node.getBoundingClientRect();\n  const containerRect = resolvedContainer && resolvedContainer.getBoundingClientRect();\n  const containerWindow = ownerWindow(node);\n  let transform;\n\n  if (node.fakeTransform) {\n    transform = node.fakeTransform;\n  } else {\n    const computedStyle = containerWindow.getComputedStyle(node);\n    transform = computedStyle.getPropertyValue('-webkit-transform') || computedStyle.getPropertyValue('transform');\n  }\n\n  let offsetX = 0;\n  let offsetY = 0;\n\n  if (transform && transform !== 'none' && typeof transform === 'string') {\n    const transformValues = transform.split('(')[1].split(')')[0].split(',');\n    offsetX = parseInt(transformValues[4], 10);\n    offsetY = parseInt(transformValues[5], 10);\n  }\n\n  if (direction === 'left') {\n    if (containerRect) {\n      return `translateX(${containerRect.right + offsetX - rect.left}px)`;\n    }\n\n    return `translateX(${containerWindow.innerWidth + offsetX - rect.left}px)`;\n  }\n\n  if (direction === 'right') {\n    if (containerRect) {\n      return `translateX(-${rect.right - containerRect.left - offsetX}px)`;\n    }\n\n    return `translateX(-${rect.left + rect.width - offsetX}px)`;\n  }\n\n  if (direction === 'up') {\n    if (containerRect) {\n      return `translateY(${containerRect.bottom + offsetY - rect.top}px)`;\n    }\n\n    return `translateY(${containerWindow.innerHeight + offsetY - rect.top}px)`;\n  } // direction === 'down'\n\n\n  if (containerRect) {\n    return `translateY(-${rect.top - containerRect.top + rect.height - offsetY}px)`;\n  }\n\n  return `translateY(-${rect.top + rect.height - offsetY}px)`;\n}\n\nfunction resolveContainer(containerPropProp) {\n  return typeof containerPropProp === 'function' ? containerPropProp() : containerPropProp;\n}\n\nfunction setTranslateValue(direction, node, containerProp) {\n  const resolvedContainer = resolveContainer(containerProp);\n  const transform = getTranslateValue(direction, node, resolvedContainer);\n\n  if (transform) {\n    node.style.webkitTransform = transform;\n    node.style.transform = transform;\n  }\n}\nconst defaultEasing = {\n  enter: easing.easeOut,\n  exit: easing.sharp\n};\nconst defaultTimeout = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The Slide transition is used by the [Drawer](/components/drawers/) component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nconst Slide = /*#__PURE__*/react.exports.forwardRef(function Slide(props, ref) {\n  const {\n    addEndListener,\n    appear = true,\n    children,\n    container: containerProp,\n    direction = 'down',\n    easing: easingProp = defaultEasing,\n    in: inProp,\n    onEnter,\n    onEntered,\n    onEntering,\n    onExit,\n    onExited,\n    onExiting,\n    style,\n    timeout = defaultTimeout,\n    // eslint-disable-next-line react/prop-types\n    TransitionComponent = Transition\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$f);\n\n  const theme = useTheme();\n  const childrenRef = react.exports.useRef(null);\n  const handleRefIntermediary = useForkRef(children.ref, childrenRef);\n  const handleRef = useForkRef(handleRefIntermediary, ref);\n\n  const normalizedTransitionCallback = callback => isAppearing => {\n    if (callback) {\n      // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n      if (isAppearing === undefined) {\n        callback(childrenRef.current);\n      } else {\n        callback(childrenRef.current, isAppearing);\n      }\n    }\n  };\n\n  const handleEnter = normalizedTransitionCallback((node, isAppearing) => {\n    setTranslateValue(direction, node, containerProp);\n    reflow(node);\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  const handleEntering = normalizedTransitionCallback((node, isAppearing) => {\n    const transitionProps = getTransitionProps({\n      timeout,\n      style,\n      easing: easingProp\n    }, {\n      mode: 'enter'\n    });\n    node.style.webkitTransition = theme.transitions.create('-webkit-transform', _extends$4({}, transitionProps));\n    node.style.transition = theme.transitions.create('transform', _extends$4({}, transitionProps));\n    node.style.webkitTransform = 'none';\n    node.style.transform = 'none';\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  });\n  const handleEntered = normalizedTransitionCallback(onEntered);\n  const handleExiting = normalizedTransitionCallback(onExiting);\n  const handleExit = normalizedTransitionCallback(node => {\n    const transitionProps = getTransitionProps({\n      timeout,\n      style,\n      easing: easingProp\n    }, {\n      mode: 'exit'\n    });\n    node.style.webkitTransition = theme.transitions.create('-webkit-transform', transitionProps);\n    node.style.transition = theme.transitions.create('transform', transitionProps);\n    setTranslateValue(direction, node, containerProp);\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  const handleExited = normalizedTransitionCallback(node => {\n    // No need for transitions when the component is hidden\n    node.style.webkitTransition = '';\n    node.style.transition = '';\n\n    if (onExited) {\n      onExited(node);\n    }\n  });\n\n  const handleAddEndListener = next => {\n    if (addEndListener) {\n      // Old call signature before `react-transition-group` implemented `nodeRef`\n      addEndListener(childrenRef.current, next);\n    }\n  };\n\n  const updatePosition = react.exports.useCallback(() => {\n    if (childrenRef.current) {\n      setTranslateValue(direction, childrenRef.current, containerProp);\n    }\n  }, [direction, containerProp]);\n  react.exports.useEffect(() => {\n    // Skip configuration where the position is screen size invariant.\n    if (inProp || direction === 'down' || direction === 'right') {\n      return undefined;\n    }\n\n    const handleResize = debounce(() => {\n      if (childrenRef.current) {\n        setTranslateValue(direction, childrenRef.current, containerProp);\n      }\n    });\n    const containerWindow = ownerWindow(childrenRef.current);\n    containerWindow.addEventListener('resize', handleResize);\n    return () => {\n      handleResize.clear();\n      containerWindow.removeEventListener('resize', handleResize);\n    };\n  }, [direction, inProp, containerProp]);\n  react.exports.useEffect(() => {\n    if (!inProp) {\n      // We need to update the position of the drawer when the direction change and\n      // when it's hidden.\n      updatePosition();\n    }\n  }, [inProp, updatePosition]);\n  return /*#__PURE__*/jsxRuntime.exports.jsx(TransitionComponent, _extends$4({\n    nodeRef: childrenRef,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    addEndListener: handleAddEndListener,\n    appear: appear,\n    in: inProp,\n    timeout: timeout\n  }, other, {\n    children: (state, childProps) => {\n      return /*#__PURE__*/react.exports.cloneElement(children, _extends$4({\n        ref: handleRef,\n        style: _extends$4({\n          visibility: state === 'exited' && !inProp ? 'hidden' : undefined\n        }, style, children.props.style)\n      }, childProps));\n    }\n  }));\n});\nvar Slide$1 = Slide;\n\nfunction getDrawerUtilityClass(slot) {\n  return generateUtilityClass('MuiDrawer', slot);\n}\ngenerateUtilityClasses('MuiDrawer', ['root', 'docked', 'paper', 'paperAnchorLeft', 'paperAnchorRight', 'paperAnchorTop', 'paperAnchorBottom', 'paperAnchorDockedLeft', 'paperAnchorDockedRight', 'paperAnchorDockedTop', 'paperAnchorDockedBottom', 'modal']);\n\nconst _excluded$e = [\"BackdropProps\"],\n      _excluded2$1 = [\"anchor\", \"BackdropProps\", \"children\", \"className\", \"elevation\", \"hideBackdrop\", \"ModalProps\", \"onClose\", \"open\", \"PaperProps\", \"SlideProps\", \"TransitionComponent\", \"transitionDuration\", \"variant\"];\n\nconst overridesResolver = (props, styles) => {\n  const {\n    ownerState\n  } = props;\n  return [styles.root, (ownerState.variant === 'permanent' || ownerState.variant === 'persistent') && styles.docked, styles.modal];\n};\n\nconst useUtilityClasses$e = ownerState => {\n  const {\n    classes,\n    anchor,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    docked: [(variant === 'permanent' || variant === 'persistent') && 'docked'],\n    modal: ['modal'],\n    paper: ['paper', `paperAnchor${capitalize$1(anchor)}`, variant !== 'temporary' && `paperAnchorDocked${capitalize$1(anchor)}`]\n  };\n  return composeClasses(slots, getDrawerUtilityClass, classes);\n};\n\nconst DrawerRoot = styled(Modal, {\n  name: 'MuiDrawer',\n  slot: 'Root',\n  overridesResolver\n})(({\n  theme\n}) => ({\n  zIndex: theme.zIndex.drawer\n}));\nconst DrawerDockedRoot = styled('div', {\n  shouldForwardProp: rootShouldForwardProp,\n  name: 'MuiDrawer',\n  slot: 'Docked',\n  skipVariantsResolver: false,\n  overridesResolver\n})({\n  flex: '0 0 auto'\n});\nconst DrawerPaper = styled(Paper, {\n  name: 'MuiDrawer',\n  slot: 'Paper',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.paper, styles[`paperAnchor${capitalize$1(ownerState.anchor)}`], ownerState.variant !== 'temporary' && styles[`paperAnchorDocked${capitalize$1(ownerState.anchor)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends$4({\n  overflowY: 'auto',\n  display: 'flex',\n  flexDirection: 'column',\n  height: '100%',\n  flex: '1 0 auto',\n  zIndex: theme.zIndex.drawer,\n  // Add iOS momentum scrolling for iOS < 13.0\n  WebkitOverflowScrolling: 'touch',\n  // temporary style\n  position: 'fixed',\n  top: 0,\n  // We disable the focus ring for mouse, touch and keyboard users.\n  // At some point, it would be better to keep it for keyboard users.\n  // :focus-ring CSS pseudo-class will help.\n  outline: 0\n}, ownerState.anchor === 'left' && {\n  left: 0\n}, ownerState.anchor === 'top' && {\n  top: 0,\n  left: 0,\n  right: 0,\n  height: 'auto',\n  maxHeight: '100%'\n}, ownerState.anchor === 'right' && {\n  right: 0\n}, ownerState.anchor === 'bottom' && {\n  top: 'auto',\n  left: 0,\n  bottom: 0,\n  right: 0,\n  height: 'auto',\n  maxHeight: '100%'\n}, ownerState.anchor === 'left' && ownerState.variant !== 'temporary' && {\n  borderRight: `1px solid ${theme.palette.divider}`\n}, ownerState.anchor === 'top' && ownerState.variant !== 'temporary' && {\n  borderBottom: `1px solid ${theme.palette.divider}`\n}, ownerState.anchor === 'right' && ownerState.variant !== 'temporary' && {\n  borderLeft: `1px solid ${theme.palette.divider}`\n}, ownerState.anchor === 'bottom' && ownerState.variant !== 'temporary' && {\n  borderTop: `1px solid ${theme.palette.divider}`\n}));\nconst oppositeDirection = {\n  left: 'right',\n  right: 'left',\n  top: 'down',\n  bottom: 'up'\n};\nfunction isHorizontal(anchor) {\n  return ['left', 'right'].indexOf(anchor) !== -1;\n}\nfunction getAnchor(theme, anchor) {\n  return theme.direction === 'rtl' && isHorizontal(anchor) ? oppositeDirection[anchor] : anchor;\n}\nconst defaultTransitionDuration = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The props of the [Modal](/api/modal/) component are available\n * when `variant=\"temporary\"` is set.\n */\n\nconst Drawer = /*#__PURE__*/react.exports.forwardRef(function Drawer(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiDrawer'\n  });\n\n  const {\n    anchor: anchorProp = 'left',\n    BackdropProps,\n    children,\n    className,\n    elevation = 16,\n    hideBackdrop = false,\n    ModalProps: {\n      BackdropProps: BackdropPropsProp\n    } = {},\n    onClose,\n    open = false,\n    PaperProps = {},\n    SlideProps,\n    // eslint-disable-next-line react/prop-types\n    TransitionComponent = Slide$1,\n    transitionDuration = defaultTransitionDuration,\n    variant = 'temporary'\n  } = props,\n        ModalProps = _objectWithoutPropertiesLoose$3(props.ModalProps, _excluded$e),\n        other = _objectWithoutPropertiesLoose$3(props, _excluded2$1);\n\n  const theme = useTheme(); // Let's assume that the Drawer will always be rendered on user space.\n  // We use this state is order to skip the appear transition during the\n  // initial mount of the component.\n\n  const mounted = react.exports.useRef(false);\n  react.exports.useEffect(() => {\n    mounted.current = true;\n  }, []);\n  const anchorInvariant = getAnchor(theme, anchorProp);\n  const anchor = anchorProp;\n\n  const ownerState = _extends$4({}, props, {\n    anchor,\n    elevation,\n    open,\n    variant\n  }, other);\n\n  const classes = useUtilityClasses$e(ownerState);\n\n  const drawer = /*#__PURE__*/jsxRuntime.exports.jsx(DrawerPaper, _extends$4({\n    elevation: variant === 'temporary' ? elevation : 0,\n    square: true\n  }, PaperProps, {\n    className: clsx(classes.paper, PaperProps.className),\n    ownerState: ownerState,\n    children: children\n  }));\n\n  if (variant === 'permanent') {\n    return /*#__PURE__*/jsxRuntime.exports.jsx(DrawerDockedRoot, _extends$4({\n      className: clsx(classes.root, classes.docked, className),\n      ownerState: ownerState,\n      ref: ref\n    }, other, {\n      children: drawer\n    }));\n  }\n\n  const slidingDrawer = /*#__PURE__*/jsxRuntime.exports.jsx(TransitionComponent, _extends$4({\n    in: open,\n    direction: oppositeDirection[anchorInvariant],\n    timeout: transitionDuration,\n    appear: mounted.current\n  }, SlideProps, {\n    children: drawer\n  }));\n\n  if (variant === 'persistent') {\n    return /*#__PURE__*/jsxRuntime.exports.jsx(DrawerDockedRoot, _extends$4({\n      className: clsx(classes.root, classes.docked, className),\n      ownerState: ownerState,\n      ref: ref\n    }, other, {\n      children: slidingDrawer\n    }));\n  } // variant === temporary\n\n\n  return /*#__PURE__*/jsxRuntime.exports.jsx(DrawerRoot, _extends$4({\n    BackdropProps: _extends$4({}, BackdropProps, BackdropPropsProp, {\n      transitionDuration\n    }),\n    className: clsx(classes.root, classes.modal, className),\n    open: open,\n    ownerState: ownerState,\n    onClose: onClose,\n    hideBackdrop: hideBackdrop,\n    ref: ref\n  }, other, ModalProps, {\n    children: slidingDrawer\n  }));\n});\nvar Drawer$1 = Drawer;\n\nfunction getFilledInputUtilityClass(slot) {\n  return generateUtilityClass('MuiFilledInput', slot);\n}\nconst filledInputClasses = generateUtilityClasses('MuiFilledInput', ['root', 'colorSecondary', 'underline', 'focused', 'disabled', 'adornedStart', 'adornedEnd', 'error', 'sizeSmall', 'multiline', 'hiddenLabel', 'input', 'inputSizeSmall', 'inputHiddenLabel', 'inputMultiline', 'inputAdornedStart', 'inputAdornedEnd']);\nvar filledInputClasses$1 = filledInputClasses;\n\nconst _excluded$d = [\"disableUnderline\", \"components\", \"componentsProps\", \"fullWidth\", \"hiddenLabel\", \"inputComponent\", \"multiline\", \"type\"];\n\nconst useUtilityClasses$d = ownerState => {\n  const {\n    classes,\n    disableUnderline\n  } = ownerState;\n  const slots = {\n    root: ['root', !disableUnderline && 'underline'],\n    input: ['input']\n  };\n  const composedClasses = composeClasses(slots, getFilledInputUtilityClass, classes);\n  return _extends$4({}, classes, composedClasses);\n};\n\nconst FilledInputRoot = styled(InputBaseRoot, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiFilledInput',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [...rootOverridesResolver(props, styles), !ownerState.disableUnderline && styles.underline];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  const light = theme.palette.mode === 'light';\n  const bottomLineColor = light ? 'rgba(0, 0, 0, 0.42)' : 'rgba(255, 255, 255, 0.7)';\n  const backgroundColor = light ? 'rgba(0, 0, 0, 0.06)' : 'rgba(255, 255, 255, 0.09)';\n  return _extends$4({\n    position: 'relative',\n    backgroundColor,\n    borderTopLeftRadius: theme.shape.borderRadius,\n    borderTopRightRadius: theme.shape.borderRadius,\n    transition: theme.transitions.create('background-color', {\n      duration: theme.transitions.duration.shorter,\n      easing: theme.transitions.easing.easeOut\n    }),\n    '&:hover': {\n      backgroundColor: light ? 'rgba(0, 0, 0, 0.09)' : 'rgba(255, 255, 255, 0.13)',\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor\n      }\n    },\n    [`&.${filledInputClasses$1.focused}`]: {\n      backgroundColor\n    },\n    [`&.${filledInputClasses$1.disabled}`]: {\n      backgroundColor: light ? 'rgba(0, 0, 0, 0.12)' : 'rgba(255, 255, 255, 0.12)'\n    }\n  }, !ownerState.disableUnderline && {\n    '&:after': {\n      borderBottom: `2px solid ${theme.palette[ownerState.color].main}`,\n      left: 0,\n      bottom: 0,\n      // Doing the other way around crash on IE11 \"''\" https://github.com/cssinjs/jss/issues/242\n      content: '\"\"',\n      position: 'absolute',\n      right: 0,\n      transform: 'scaleX(0)',\n      transition: theme.transitions.create('transform', {\n        duration: theme.transitions.duration.shorter,\n        easing: theme.transitions.easing.easeOut\n      }),\n      pointerEvents: 'none' // Transparent to the hover style.\n\n    },\n    [`&.${filledInputClasses$1.focused}:after`]: {\n      transform: 'scaleX(1)'\n    },\n    [`&.${filledInputClasses$1.error}:after`]: {\n      borderBottomColor: theme.palette.error.main,\n      transform: 'scaleX(1)' // error is always underlined in red\n\n    },\n    '&:before': {\n      borderBottom: `1px solid ${bottomLineColor}`,\n      left: 0,\n      bottom: 0,\n      // Doing the other way around crash on IE11 \"''\" https://github.com/cssinjs/jss/issues/242\n      content: '\"\\\\00a0\"',\n      position: 'absolute',\n      right: 0,\n      transition: theme.transitions.create('border-bottom-color', {\n        duration: theme.transitions.duration.shorter\n      }),\n      pointerEvents: 'none' // Transparent to the hover style.\n\n    },\n    [`&:hover:not(.${filledInputClasses$1.disabled}):before`]: {\n      borderBottom: `1px solid ${theme.palette.text.primary}`\n    },\n    [`&.${filledInputClasses$1.disabled}:before`]: {\n      borderBottomStyle: 'dotted'\n    }\n  }, ownerState.startAdornment && {\n    paddingLeft: 12\n  }, ownerState.endAdornment && {\n    paddingRight: 12\n  }, ownerState.multiline && _extends$4({\n    padding: '25px 12px 8px'\n  }, ownerState.size === 'small' && {\n    paddingTop: 21,\n    paddingBottom: 4\n  }, ownerState.hiddenLabel && {\n    paddingTop: 16,\n    paddingBottom: 17\n  }));\n});\nconst FilledInputInput = styled(InputBaseComponent, {\n  name: 'MuiFilledInput',\n  slot: 'Input',\n  overridesResolver: inputOverridesResolver\n})(({\n  theme,\n  ownerState\n}) => _extends$4({\n  paddingTop: 25,\n  paddingRight: 12,\n  paddingBottom: 8,\n  paddingLeft: 12,\n  '&:-webkit-autofill': {\n    WebkitBoxShadow: theme.palette.mode === 'light' ? null : '0 0 0 100px #266798 inset',\n    WebkitTextFillColor: theme.palette.mode === 'light' ? null : '#fff',\n    caretColor: theme.palette.mode === 'light' ? null : '#fff',\n    borderTopLeftRadius: 'inherit',\n    borderTopRightRadius: 'inherit'\n  }\n}, ownerState.size === 'small' && {\n  paddingTop: 21,\n  paddingBottom: 4\n}, ownerState.hiddenLabel && {\n  paddingTop: 16,\n  paddingBottom: 17\n}, ownerState.multiline && {\n  paddingTop: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  paddingRight: 0\n}, ownerState.startAdornment && {\n  paddingLeft: 0\n}, ownerState.endAdornment && {\n  paddingRight: 0\n}, ownerState.hiddenLabel && ownerState.size === 'small' && {\n  paddingTop: 8,\n  paddingBottom: 9\n}));\nconst FilledInput = /*#__PURE__*/react.exports.forwardRef(function FilledInput(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiFilledInput'\n  });\n\n  const {\n    components = {},\n    componentsProps: componentsPropsProp,\n    fullWidth = false,\n    // declare here to prevent spreading to DOM\n    inputComponent = 'input',\n    multiline = false,\n    type = 'text'\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$d);\n\n  const ownerState = _extends$4({}, props, {\n    fullWidth,\n    inputComponent,\n    multiline,\n    type\n  });\n\n  const classes = useUtilityClasses$d(props);\n  const filledInputComponentsProps = {\n    root: {\n      ownerState\n    },\n    input: {\n      ownerState\n    }\n  };\n  const componentsProps = componentsPropsProp ? deepmerge(componentsPropsProp, filledInputComponentsProps) : filledInputComponentsProps;\n  return /*#__PURE__*/jsxRuntime.exports.jsx(InputBase, _extends$4({\n    components: _extends$4({\n      Root: FilledInputRoot,\n      Input: FilledInputInput\n    }, components),\n    componentsProps: componentsProps,\n    fullWidth: fullWidth,\n    inputComponent: inputComponent,\n    multiline: multiline,\n    ref: ref,\n    type: type\n  }, other, {\n    classes: classes\n  }));\n});\nFilledInput.muiName = 'Input';\nvar FilledInput$1 = FilledInput;\n\nfunction getFormControlUtilityClasses(slot) {\n  return generateUtilityClass('MuiFormControl', slot);\n}\ngenerateUtilityClasses('MuiFormControl', ['root', 'marginNone', 'marginNormal', 'marginDense', 'fullWidth', 'disabled']);\n\nconst _excluded$c = [\"children\", \"className\", \"color\", \"component\", \"disabled\", \"error\", \"focused\", \"fullWidth\", \"hiddenLabel\", \"margin\", \"required\", \"size\", \"variant\"];\n\nconst useUtilityClasses$c = ownerState => {\n  const {\n    classes,\n    margin,\n    fullWidth\n  } = ownerState;\n  const slots = {\n    root: ['root', margin !== 'none' && `margin${capitalize$1(margin)}`, fullWidth && 'fullWidth']\n  };\n  return composeClasses(slots, getFormControlUtilityClasses, classes);\n};\n\nconst FormControlRoot = styled('div', {\n  name: 'MuiFormControl',\n  slot: 'Root',\n  overridesResolver: ({\n    ownerState\n  }, styles) => {\n    return _extends$4({}, styles.root, styles[`margin${capitalize$1(ownerState.margin)}`], ownerState.fullWidth && styles.fullWidth);\n  }\n})(({\n  ownerState\n}) => _extends$4({\n  display: 'inline-flex',\n  flexDirection: 'column',\n  position: 'relative',\n  // Reset fieldset default style.\n  minWidth: 0,\n  padding: 0,\n  margin: 0,\n  border: 0,\n  verticalAlign: 'top'\n}, ownerState.margin === 'normal' && {\n  marginTop: 16,\n  marginBottom: 8\n}, ownerState.margin === 'dense' && {\n  marginTop: 8,\n  marginBottom: 4\n}, ownerState.fullWidth && {\n  width: '100%'\n}));\n/**\n * Provides context such as filled/focused/error/required for form inputs.\n * Relying on the context provides high flexibility and ensures that the state always stays\n * consistent across the children of the `FormControl`.\n * This context is used by the following components:\n *\n *  - FormLabel\n *  - FormHelperText\n *  - Input\n *  - InputLabel\n *\n * You can find one composition example below and more going to [the demos](/components/text-fields/#components).\n *\n * ```jsx\n * <FormControl>\n *   <InputLabel htmlFor=\"my-input\">Email address</InputLabel>\n *   <Input id=\"my-input\" aria-describedby=\"my-helper-text\" />\n *   <FormHelperText id=\"my-helper-text\">We'll never share your email.</FormHelperText>\n * </FormControl>\n * ```\n *\n * ⚠️ Only one `InputBase` can be used within a FormControl because it create visual inconsistencies.\n * For instance, only one input can be focused at the same time, the state shouldn't be shared.\n */\n\nconst FormControl = /*#__PURE__*/react.exports.forwardRef(function FormControl(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiFormControl'\n  });\n\n  const {\n    children,\n    className,\n    color = 'primary',\n    component = 'div',\n    disabled = false,\n    error = false,\n    focused: visuallyFocused,\n    fullWidth = false,\n    hiddenLabel = false,\n    margin = 'none',\n    required = false,\n    size = 'medium',\n    variant = 'outlined'\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$c);\n\n  const ownerState = _extends$4({}, props, {\n    color,\n    component,\n    disabled,\n    error,\n    fullWidth,\n    hiddenLabel,\n    margin,\n    required,\n    size,\n    variant\n  });\n\n  const classes = useUtilityClasses$c(ownerState);\n  const [adornedStart, setAdornedStart] = react.exports.useState(() => {\n    // We need to iterate through the children and find the Input in order\n    // to fully support server-side rendering.\n    let initialAdornedStart = false;\n\n    if (children) {\n      react.exports.Children.forEach(children, child => {\n        if (!isMuiElement(child, ['Input', 'Select'])) {\n          return;\n        }\n\n        const input = isMuiElement(child, ['Select']) ? child.props.input : child;\n\n        if (input && isAdornedStart(input.props)) {\n          initialAdornedStart = true;\n        }\n      });\n    }\n\n    return initialAdornedStart;\n  });\n  const [filled, setFilled] = react.exports.useState(() => {\n    // We need to iterate through the children and find the Input in order\n    // to fully support server-side rendering.\n    let initialFilled = false;\n\n    if (children) {\n      react.exports.Children.forEach(children, child => {\n        if (!isMuiElement(child, ['Input', 'Select'])) {\n          return;\n        }\n\n        if (isFilled(child.props, true)) {\n          initialFilled = true;\n        }\n      });\n    }\n\n    return initialFilled;\n  });\n  const [focusedState, setFocused] = react.exports.useState(false);\n\n  if (disabled && focusedState) {\n    setFocused(false);\n  }\n\n  const focused = visuallyFocused !== undefined && !disabled ? visuallyFocused : focusedState;\n  let registerEffect;\n\n  const onFilled = react.exports.useCallback(() => {\n    setFilled(true);\n  }, []);\n  const onEmpty = react.exports.useCallback(() => {\n    setFilled(false);\n  }, []);\n  const childContext = {\n    adornedStart,\n    setAdornedStart,\n    color,\n    disabled,\n    error,\n    filled,\n    focused,\n    fullWidth,\n    hiddenLabel,\n    size,\n    onBlur: () => {\n      setFocused(false);\n    },\n    onEmpty,\n    onFilled,\n    onFocus: () => {\n      setFocused(true);\n    },\n    registerEffect,\n    required,\n    variant\n  };\n  return /*#__PURE__*/jsxRuntime.exports.jsx(FormControlContext.Provider, {\n    value: childContext,\n    children: /*#__PURE__*/jsxRuntime.exports.jsx(FormControlRoot, _extends$4({\n      as: component,\n      ownerState: ownerState,\n      className: clsx(classes.root, className),\n      ref: ref\n    }, other, {\n      children: children\n    }))\n  });\n});\nvar FormControl$1 = FormControl;\n\nfunction getFormLabelUtilityClasses(slot) {\n  return generateUtilityClass('MuiFormLabel', slot);\n}\nconst formLabelClasses = generateUtilityClasses('MuiFormLabel', ['root', 'colorSecondary', 'focused', 'disabled', 'error', 'filled', 'required', 'asterisk']);\nvar formLabelClasses$1 = formLabelClasses;\n\nconst _excluded$b = [\"children\", \"className\", \"color\", \"component\", \"disabled\", \"error\", \"filled\", \"focused\", \"required\"];\n\nconst useUtilityClasses$b = ownerState => {\n  const {\n    classes,\n    color,\n    focused,\n    disabled,\n    error,\n    filled,\n    required\n  } = ownerState;\n  const slots = {\n    root: ['root', `color${capitalize$1(color)}`, disabled && 'disabled', error && 'error', filled && 'filled', focused && 'focused', required && 'required'],\n    asterisk: ['asterisk', error && 'error']\n  };\n  return composeClasses(slots, getFormLabelUtilityClasses, classes);\n};\n\nconst FormLabelRoot = styled('label', {\n  name: 'MuiFormLabel',\n  slot: 'Root',\n  overridesResolver: ({\n    ownerState\n  }, styles) => {\n    return _extends$4({}, styles.root, ownerState.color === 'secondary' && styles.colorSecondary, ownerState.filled && styles.filled);\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends$4({\n  color: theme.palette.text.secondary\n}, theme.typography.body1, {\n  lineHeight: '1.4375em',\n  padding: 0,\n  position: 'relative',\n  [`&.${formLabelClasses$1.focused}`]: {\n    color: theme.palette[ownerState.color].main\n  },\n  [`&.${formLabelClasses$1.disabled}`]: {\n    color: theme.palette.text.disabled\n  },\n  [`&.${formLabelClasses$1.error}`]: {\n    color: theme.palette.error.main\n  }\n}));\nconst AsteriskComponent = styled('span', {\n  name: 'MuiFormLabel',\n  slot: 'Asterisk',\n  overridesResolver: (props, styles) => styles.asterisk\n})(({\n  theme\n}) => ({\n  [`&.${formLabelClasses$1.error}`]: {\n    color: theme.palette.error.main\n  }\n}));\nconst FormLabel = /*#__PURE__*/react.exports.forwardRef(function FormLabel(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiFormLabel'\n  });\n\n  const {\n    children,\n    className,\n    component = 'label'\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$b);\n\n  const muiFormControl = useFormControl();\n  const fcs = formControlState({\n    props,\n    muiFormControl,\n    states: ['color', 'required', 'focused', 'disabled', 'error', 'filled']\n  });\n\n  const ownerState = _extends$4({}, props, {\n    color: fcs.color || 'primary',\n    component,\n    disabled: fcs.disabled,\n    error: fcs.error,\n    filled: fcs.filled,\n    focused: fcs.focused,\n    required: fcs.required\n  });\n\n  const classes = useUtilityClasses$b(ownerState);\n  return /*#__PURE__*/jsxRuntime.exports.jsxs(FormLabelRoot, _extends$4({\n    as: component,\n    ownerState: ownerState,\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other, {\n    children: [children, fcs.required && /*#__PURE__*/jsxRuntime.exports.jsxs(AsteriskComponent, {\n      ownerState: ownerState,\n      \"aria-hidden\": true,\n      className: classes.asterisk,\n      children: [\"\\u2009\", '*']\n    })]\n  }));\n});\nvar FormLabel$1 = FormLabel;\n\nfunction getInputUtilityClass(slot) {\n  return generateUtilityClass('MuiInput', slot);\n}\nconst inputClasses = generateUtilityClasses('MuiInput', ['root', 'formControl', 'focused', 'disabled', 'colorSecondary', 'underline', 'error', 'sizeSmall', 'multiline', 'fullWidth', 'input', 'inputSizeSmall', 'inputMultiline', 'inputTypeSearch']);\nvar inputClasses$1 = inputClasses;\n\nconst _excluded$a = [\"disableUnderline\", \"components\", \"componentsProps\", \"fullWidth\", \"inputComponent\", \"multiline\", \"type\"];\n\nconst useUtilityClasses$a = ownerState => {\n  const {\n    classes,\n    disableUnderline\n  } = ownerState;\n  const slots = {\n    root: ['root', !disableUnderline && 'underline'],\n    input: ['input']\n  };\n  const composedClasses = composeClasses(slots, getInputUtilityClass, classes);\n  return _extends$4({}, classes, composedClasses);\n};\n\nconst InputRoot = styled(InputBaseRoot, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiInput',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [...rootOverridesResolver(props, styles), !ownerState.disableUnderline && styles.underline];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  const light = theme.palette.mode === 'light';\n  const bottomLineColor = light ? 'rgba(0, 0, 0, 0.42)' : 'rgba(255, 255, 255, 0.7)';\n  return _extends$4({\n    position: 'relative'\n  }, ownerState.formControl && {\n    'label + &': {\n      marginTop: 16\n    }\n  }, !ownerState.disableUnderline && {\n    '&:after': {\n      borderBottom: `2px solid ${theme.palette[ownerState.color].main}`,\n      left: 0,\n      bottom: 0,\n      // Doing the other way around crash on IE11 \"''\" https://github.com/cssinjs/jss/issues/242\n      content: '\"\"',\n      position: 'absolute',\n      right: 0,\n      transform: 'scaleX(0)',\n      transition: theme.transitions.create('transform', {\n        duration: theme.transitions.duration.shorter,\n        easing: theme.transitions.easing.easeOut\n      }),\n      pointerEvents: 'none' // Transparent to the hover style.\n\n    },\n    [`&.${inputClasses$1.focused}:after`]: {\n      transform: 'scaleX(1)'\n    },\n    [`&.${inputClasses$1.error}:after`]: {\n      borderBottomColor: theme.palette.error.main,\n      transform: 'scaleX(1)' // error is always underlined in red\n\n    },\n    '&:before': {\n      borderBottom: `1px solid ${bottomLineColor}`,\n      left: 0,\n      bottom: 0,\n      // Doing the other way around crash on IE11 \"''\" https://github.com/cssinjs/jss/issues/242\n      content: '\"\\\\00a0\"',\n      position: 'absolute',\n      right: 0,\n      transition: theme.transitions.create('border-bottom-color', {\n        duration: theme.transitions.duration.shorter\n      }),\n      pointerEvents: 'none' // Transparent to the hover style.\n\n    },\n    [`&:hover:not(.${inputClasses$1.disabled}):before`]: {\n      borderBottom: `2px solid ${theme.palette.text.primary}`,\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        borderBottom: `1px solid ${bottomLineColor}`\n      }\n    },\n    [`&.${inputClasses$1.disabled}:before`]: {\n      borderBottomStyle: 'dotted'\n    }\n  });\n});\nconst InputInput = styled(InputBaseComponent, {\n  name: 'MuiInput',\n  slot: 'Input',\n  overridesResolver: inputOverridesResolver\n})({});\nconst Input = /*#__PURE__*/react.exports.forwardRef(function Input(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiInput'\n  });\n\n  const {\n    disableUnderline,\n    components = {},\n    componentsProps: componentsPropsProp,\n    fullWidth = false,\n    inputComponent = 'input',\n    multiline = false,\n    type = 'text'\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$a);\n\n  const classes = useUtilityClasses$a(props);\n  const ownerState = {\n    disableUnderline\n  };\n  const inputComponentsProps = {\n    root: {\n      ownerState\n    }\n  };\n  const componentsProps = componentsPropsProp ? deepmerge(componentsPropsProp, inputComponentsProps) : inputComponentsProps;\n  return /*#__PURE__*/jsxRuntime.exports.jsx(InputBase, _extends$4({\n    components: _extends$4({\n      Root: InputRoot,\n      Input: InputInput\n    }, components),\n    componentsProps: componentsProps,\n    fullWidth: fullWidth,\n    inputComponent: inputComponent,\n    multiline: multiline,\n    ref: ref,\n    type: type\n  }, other, {\n    classes: classes\n  }));\n});\nInput.muiName = 'Input';\nvar Input$1 = Input;\n\nfunction getInputLabelUtilityClasses(slot) {\n  return generateUtilityClass('MuiInputLabel', slot);\n}\ngenerateUtilityClasses('MuiInputLabel', ['root', 'focused', 'disabled', 'error', 'required', 'asterisk', 'formControl', 'sizeSmall', 'shrink', 'animated', 'standard', 'filled', 'outlined']);\n\nconst _excluded$9 = [\"disableAnimation\", \"margin\", \"shrink\", \"variant\"];\n\nconst useUtilityClasses$9 = ownerState => {\n  const {\n    classes,\n    formControl,\n    size,\n    shrink,\n    disableAnimation,\n    variant,\n    required\n  } = ownerState;\n  const slots = {\n    root: ['root', formControl && 'formControl', !disableAnimation && 'animated', shrink && 'shrink', size === 'small' && 'sizeSmall', variant],\n    asterisk: [required && 'asterisk']\n  };\n  const composedClasses = composeClasses(slots, getInputLabelUtilityClasses, classes);\n  return _extends$4({}, classes, composedClasses);\n};\n\nconst InputLabelRoot = styled(FormLabel$1, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiInputLabel',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [{\n      [`& .${formLabelClasses$1.asterisk}`]: styles.asterisk\n    }, styles.root, ownerState.formControl && styles.formControl, ownerState.size === 'small' && styles.sizeSmall, ownerState.shrink && styles.shrink, !ownerState.disableAnimation && styles.animated, styles[ownerState.variant]];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends$4({\n  display: 'block',\n  transformOrigin: 'top left',\n  whiteSpace: 'nowrap',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  maxWidth: '100%'\n}, ownerState.formControl && {\n  position: 'absolute',\n  left: 0,\n  top: 0,\n  // slight alteration to spec spacing to match visual spec result\n  transform: 'translate(0, 20px) scale(1)'\n}, ownerState.size === 'small' && {\n  // Compensation for the `Input.inputSizeSmall` style.\n  transform: 'translate(0, 17px) scale(1)'\n}, ownerState.shrink && {\n  transform: 'translate(0, -1.5px) scale(0.75)',\n  transformOrigin: 'top left',\n  maxWidth: '133%'\n}, !ownerState.disableAnimation && {\n  transition: theme.transitions.create(['color', 'transform', 'max-width'], {\n    duration: theme.transitions.duration.shorter,\n    easing: theme.transitions.easing.easeOut\n  })\n}, ownerState.variant === 'filled' && _extends$4({\n  // Chrome's autofill feature gives the input field a yellow background.\n  // Since the input field is behind the label in the HTML tree,\n  // the input field is drawn last and hides the label with an opaque background color.\n  // zIndex: 1 will raise the label above opaque background-colors of input.\n  zIndex: 1,\n  pointerEvents: 'none',\n  transform: 'translate(12px, 16px) scale(1)',\n  maxWidth: 'calc(100% - 24px)'\n}, ownerState.size === 'small' && {\n  transform: 'translate(12px, 13px) scale(1)'\n}, ownerState.shrink && _extends$4({\n  transform: 'translate(12px, 7px) scale(0.75)',\n  maxWidth: 'calc(133% - 24px)'\n}, ownerState.size === 'small' && {\n  transform: 'translate(12px, 4px) scale(0.75)'\n})), ownerState.variant === 'outlined' && _extends$4({\n  // see comment above on filled.zIndex\n  zIndex: 1,\n  pointerEvents: 'none',\n  transform: 'translate(14px, 16px) scale(1)',\n  maxWidth: 'calc(100% - 24px)'\n}, ownerState.size === 'small' && {\n  transform: 'translate(14px, 9px) scale(1)'\n}, ownerState.shrink && {\n  maxWidth: 'calc(133% - 24px)',\n  transform: 'translate(14px, -9px) scale(0.75)'\n})));\nconst InputLabel = /*#__PURE__*/react.exports.forwardRef(function InputLabel(inProps, ref) {\n  const props = useThemeProps({\n    name: 'MuiInputLabel',\n    props: inProps\n  });\n\n  const {\n    disableAnimation = false,\n    shrink: shrinkProp\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$9);\n\n  const muiFormControl = useFormControl();\n  let shrink = shrinkProp;\n\n  if (typeof shrink === 'undefined' && muiFormControl) {\n    shrink = muiFormControl.filled || muiFormControl.focused || muiFormControl.adornedStart;\n  }\n\n  const fcs = formControlState({\n    props,\n    muiFormControl,\n    states: ['size', 'variant', 'required']\n  });\n\n  const ownerState = _extends$4({}, props, {\n    disableAnimation,\n    formControl: muiFormControl,\n    shrink,\n    size: fcs.size,\n    variant: fcs.variant,\n    required: fcs.required\n  });\n\n  const classes = useUtilityClasses$9(ownerState);\n  return /*#__PURE__*/jsxRuntime.exports.jsx(InputLabelRoot, _extends$4({\n    \"data-shrink\": shrink,\n    ownerState: ownerState,\n    ref: ref\n  }, other, {\n    classes: classes\n  }));\n});\nvar InputLabel$1 = InputLabel;\n\nfunction getNativeSelectUtilityClasses(slot) {\n  return generateUtilityClass('MuiNativeSelect', slot);\n}\nconst nativeSelectClasses = generateUtilityClasses('MuiNativeSelect', ['root', 'select', 'filled', 'outlined', 'standard', 'disabled', 'icon', 'iconOpen', 'iconFilled', 'iconOutlined', 'iconStandard', 'nativeInput']);\n\nconst _excluded$8 = [\"className\", \"disabled\", \"IconComponent\", \"inputRef\", \"variant\"];\n\nconst useUtilityClasses$8 = ownerState => {\n  const {\n    classes,\n    variant,\n    disabled,\n    open\n  } = ownerState;\n  const slots = {\n    select: ['select', variant, disabled && 'disabled'],\n    icon: ['icon', `icon${capitalize$1(variant)}`, open && 'iconOpen', disabled && 'disabled']\n  };\n  return composeClasses(slots, getNativeSelectUtilityClasses, classes);\n};\n\nconst nativeSelectSelectStyles = ({\n  ownerState,\n  theme\n}) => _extends$4({\n  MozAppearance: 'none',\n  // Reset\n  WebkitAppearance: 'none',\n  // Reset\n  // When interacting quickly, the text can end up selected.\n  // Native select can't be selected either.\n  userSelect: 'none',\n  borderRadius: 0,\n  // Reset\n  cursor: 'pointer',\n  '&:focus': {\n    // Show that it's not an text input\n    backgroundColor: theme.palette.mode === 'light' ? 'rgba(0, 0, 0, 0.05)' : 'rgba(255, 255, 255, 0.05)',\n    borderRadius: 0 // Reset Chrome style\n\n  },\n  // Remove IE11 arrow\n  '&::-ms-expand': {\n    display: 'none'\n  },\n  [`&.${nativeSelectClasses.disabled}`]: {\n    cursor: 'default'\n  },\n  '&[multiple]': {\n    height: 'auto'\n  },\n  '&:not([multiple]) option, &:not([multiple]) optgroup': {\n    backgroundColor: theme.palette.background.paper\n  },\n  // Bump specificity to allow extending custom inputs\n  '&&&': {\n    paddingRight: 24,\n    minWidth: 16 // So it doesn't collapse.\n\n  }\n}, ownerState.variant === 'filled' && {\n  '&&&': {\n    paddingRight: 32\n  }\n}, ownerState.variant === 'outlined' && {\n  borderRadius: theme.shape.borderRadius,\n  '&:focus': {\n    borderRadius: theme.shape.borderRadius // Reset the reset for Chrome style\n\n  },\n  '&&&': {\n    paddingRight: 32\n  }\n});\nconst NativeSelectSelect = styled('select', {\n  name: 'MuiNativeSelect',\n  slot: 'Select',\n  shouldForwardProp: rootShouldForwardProp,\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.select, styles[ownerState.variant]];\n  }\n})(nativeSelectSelectStyles);\nconst nativeSelectIconStyles = ({\n  ownerState,\n  theme\n}) => _extends$4({\n  // We use a position absolute over a flexbox in order to forward the pointer events\n  // to the input and to support wrapping tags..\n  position: 'absolute',\n  right: 0,\n  top: 'calc(50% - .5em)',\n  // Center vertically, height is 1em\n  pointerEvents: 'none',\n  // Don't block pointer events on the select under the icon.\n  color: theme.palette.action.active,\n  [`&.${nativeSelectClasses.disabled}`]: {\n    color: theme.palette.action.disabled\n  }\n}, ownerState.open && {\n  transform: 'rotate(180deg)'\n}, ownerState.variant === 'filled' && {\n  right: 7\n}, ownerState.variant === 'outlined' && {\n  right: 7\n});\nconst NativeSelectIcon = styled('svg', {\n  name: 'MuiNativeSelect',\n  slot: 'Icon',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.icon, ownerState.variant && styles[`icon${capitalize$1(ownerState.variant)}`], ownerState.open && styles.iconOpen];\n  }\n})(nativeSelectIconStyles);\n/**\n * @ignore - internal component.\n */\n\nconst NativeSelectInput = /*#__PURE__*/react.exports.forwardRef(function NativeSelectInput(props, ref) {\n  const {\n    className,\n    disabled,\n    IconComponent,\n    inputRef,\n    variant = 'standard'\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$8);\n\n  const ownerState = _extends$4({}, props, {\n    disabled,\n    variant\n  });\n\n  const classes = useUtilityClasses$8(ownerState);\n  return /*#__PURE__*/jsxRuntime.exports.jsxs(react.exports.Fragment, {\n    children: [/*#__PURE__*/jsxRuntime.exports.jsx(NativeSelectSelect, _extends$4({\n      ownerState: ownerState,\n      className: clsx(classes.select, className),\n      disabled: disabled,\n      ref: inputRef || ref\n    }, other)), props.multiple ? null : /*#__PURE__*/jsxRuntime.exports.jsx(NativeSelectIcon, {\n      as: IconComponent,\n      ownerState: ownerState,\n      className: classes.icon\n    })]\n  });\n});\nvar NativeSelectInput$1 = NativeSelectInput;\n\nfunction getSelectUtilityClasses(slot) {\n  return generateUtilityClass('MuiSelect', slot);\n}\nconst selectClasses = generateUtilityClasses('MuiSelect', ['root', 'select', 'filled', 'outlined', 'standard', 'disabled', 'focused', 'icon', 'iconOpen', 'iconFilled', 'iconOutlined', 'iconStandard', 'nativeInput']);\n\nconst _excluded$7 = [\"aria-describedby\", \"aria-label\", \"autoFocus\", \"autoWidth\", \"children\", \"className\", \"defaultValue\", \"disabled\", \"displayEmpty\", \"IconComponent\", \"inputRef\", \"labelId\", \"MenuProps\", \"multiple\", \"name\", \"onBlur\", \"onChange\", \"onClose\", \"onFocus\", \"onOpen\", \"open\", \"readOnly\", \"renderValue\", \"SelectDisplayProps\", \"tabIndex\", \"type\", \"value\", \"variant\"];\nconst SelectSelect = styled('div', {\n  name: 'MuiSelect',\n  slot: 'Select',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [// Win specificity over the input base\n    {\n      [`&.${selectClasses.select}`]: styles.select\n    }, {\n      [`&.${selectClasses.select}`]: styles[ownerState.variant]\n    }];\n  }\n})(nativeSelectSelectStyles, {\n  // Win specificity over the input base\n  [`&.${selectClasses.select}`]: {\n    height: 'auto',\n    // Resets for multiple select with chips\n    minHeight: '1.4375em',\n    // Required for select\\text-field height consistency\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden'\n  }\n});\nconst SelectIcon = styled('svg', {\n  name: 'MuiSelect',\n  slot: 'Icon',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.icon, ownerState.variant && styles[`icon${capitalize$1(ownerState.variant)}`], ownerState.open && styles.iconOpen];\n  }\n})(nativeSelectIconStyles);\nconst SelectNativeInput = styled('input', {\n  shouldForwardProp: prop => slotShouldForwardProp(prop) && prop !== 'classes',\n  name: 'MuiSelect',\n  slot: 'NativeInput',\n  overridesResolver: (props, styles) => styles.nativeInput\n})({\n  bottom: 0,\n  left: 0,\n  position: 'absolute',\n  opacity: 0,\n  pointerEvents: 'none',\n  width: '100%',\n  boxSizing: 'border-box'\n});\n\nfunction areEqualValues(a, b) {\n  if (typeof b === 'object' && b !== null) {\n    return a === b;\n  } // The value could be a number, the DOM will stringify it anyway.\n\n\n  return String(a) === String(b);\n}\n\nfunction isEmpty(display) {\n  return display == null || typeof display === 'string' && !display.trim();\n}\n\nconst useUtilityClasses$7 = ownerState => {\n  const {\n    classes,\n    variant,\n    disabled,\n    open\n  } = ownerState;\n  const slots = {\n    select: ['select', variant, disabled && 'disabled'],\n    icon: ['icon', `icon${capitalize$1(variant)}`, open && 'iconOpen', disabled && 'disabled'],\n    nativeInput: ['nativeInput']\n  };\n  return composeClasses(slots, getSelectUtilityClasses, classes);\n};\n/**\n * @ignore - internal component.\n */\n\n\nconst SelectInput = /*#__PURE__*/react.exports.forwardRef(function SelectInput(props, ref) {\n  const {\n    'aria-describedby': ariaDescribedby,\n    'aria-label': ariaLabel,\n    autoFocus,\n    autoWidth,\n    children,\n    className,\n    defaultValue,\n    disabled,\n    displayEmpty,\n    IconComponent,\n    inputRef: inputRefProp,\n    labelId,\n    MenuProps = {},\n    multiple,\n    name,\n    onBlur,\n    onChange,\n    onClose,\n    onFocus,\n    onOpen,\n    open: openProp,\n    readOnly,\n    renderValue,\n    SelectDisplayProps = {},\n    tabIndex: tabIndexProp,\n    value: valueProp,\n    variant = 'standard'\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$7);\n\n  const [value, setValueState] = useControlled({\n    controlled: valueProp,\n    default: defaultValue,\n    name: 'Select'\n  });\n  const inputRef = react.exports.useRef(null);\n  const displayRef = react.exports.useRef(null);\n  const [displayNode, setDisplayNode] = react.exports.useState(null);\n  const {\n    current: isOpenControlled\n  } = react.exports.useRef(openProp != null);\n  const [menuMinWidthState, setMenuMinWidthState] = react.exports.useState();\n  const [openState, setOpenState] = react.exports.useState(false);\n  const handleRef = useForkRef(ref, inputRefProp);\n  const handleDisplayRef = react.exports.useCallback(node => {\n    displayRef.current = node;\n\n    if (node) {\n      setDisplayNode(node);\n    }\n  }, []);\n  react.exports.useImperativeHandle(handleRef, () => ({\n    focus: () => {\n      displayRef.current.focus();\n    },\n    node: inputRef.current,\n    value\n  }), [value]);\n  react.exports.useEffect(() => {\n    if (autoFocus) {\n      displayRef.current.focus();\n    }\n  }, [autoFocus]);\n  react.exports.useEffect(() => {\n    const label = ownerDocument(displayRef.current).getElementById(labelId);\n\n    if (label) {\n      const handler = () => {\n        if (getSelection().isCollapsed) {\n          displayRef.current.focus();\n        }\n      };\n\n      label.addEventListener('click', handler);\n      return () => {\n        label.removeEventListener('click', handler);\n      };\n    }\n\n    return undefined;\n  }, [labelId]);\n\n  const update = (open, event) => {\n    if (open) {\n      if (onOpen) {\n        onOpen(event);\n      }\n    } else if (onClose) {\n      onClose(event);\n    }\n\n    if (!isOpenControlled) {\n      setMenuMinWidthState(autoWidth ? null : displayNode.clientWidth);\n      setOpenState(open);\n    }\n  };\n\n  const handleMouseDown = event => {\n    // Ignore everything but left-click\n    if (event.button !== 0) {\n      return;\n    } // Hijack the default focus behavior.\n\n\n    event.preventDefault();\n    displayRef.current.focus();\n    update(true, event);\n  };\n\n  const handleClose = event => {\n    update(false, event);\n  };\n\n  const childrenArray = react.exports.Children.toArray(children); // Support autofill.\n\n  const handleChange = event => {\n    const index = childrenArray.map(child => child.props.value).indexOf(event.target.value);\n\n    if (index === -1) {\n      return;\n    }\n\n    const child = childrenArray[index];\n    setValueState(child.props.value);\n\n    if (onChange) {\n      onChange(event, child);\n    }\n  };\n\n  const handleItemClick = child => event => {\n    let newValue; // We use the tabindex attribute to signal the available options.\n\n    if (!event.currentTarget.hasAttribute('tabindex')) {\n      return;\n    }\n\n    if (multiple) {\n      newValue = Array.isArray(value) ? value.slice() : [];\n      const itemIndex = value.indexOf(child.props.value);\n\n      if (itemIndex === -1) {\n        newValue.push(child.props.value);\n      } else {\n        newValue.splice(itemIndex, 1);\n      }\n    } else {\n      newValue = child.props.value;\n    }\n\n    if (child.props.onClick) {\n      child.props.onClick(event);\n    }\n\n    if (value !== newValue) {\n      setValueState(newValue);\n\n      if (onChange) {\n        // Redefine target to allow name and value to be read.\n        // This allows seamless integration with the most popular form libraries.\n        // https://github.com/mui-org/material-ui/issues/13485#issuecomment-676048492\n        // Clone the event to not override `target` of the original event.\n        const nativeEvent = event.nativeEvent || event;\n        const clonedEvent = new nativeEvent.constructor(nativeEvent.type, nativeEvent);\n        Object.defineProperty(clonedEvent, 'target', {\n          writable: true,\n          value: {\n            value: newValue,\n            name\n          }\n        });\n        onChange(clonedEvent, child);\n      }\n    }\n\n    if (!multiple) {\n      update(false, event);\n    }\n  };\n\n  const handleKeyDown = event => {\n    if (!readOnly) {\n      const validKeys = [' ', 'ArrowUp', 'ArrowDown', // The native select doesn't respond to enter on MacOS, but it's recommended by\n      // https://www.w3.org/TR/wai-aria-practices/examples/listbox/listbox-collapsible.html\n      'Enter'];\n\n      if (validKeys.indexOf(event.key) !== -1) {\n        event.preventDefault();\n        update(true, event);\n      }\n    }\n  };\n\n  const open = displayNode !== null && (isOpenControlled ? openProp : openState);\n\n  const handleBlur = event => {\n    // if open event.stopImmediatePropagation\n    if (!open && onBlur) {\n      // Preact support, target is read only property on a native event.\n      Object.defineProperty(event, 'target', {\n        writable: true,\n        value: {\n          value,\n          name\n        }\n      });\n      onBlur(event);\n    }\n  };\n\n  delete other['aria-invalid'];\n  let display;\n  let displaySingle;\n  const displayMultiple = [];\n  let computeDisplay = false;\n\n  if (isFilled({\n    value\n  }) || displayEmpty) {\n    if (renderValue) {\n      display = renderValue(value);\n    } else {\n      computeDisplay = true;\n    }\n  }\n\n  const items = childrenArray.map(child => {\n    if (! /*#__PURE__*/react.exports.isValidElement(child)) {\n      return null;\n    }\n\n    let selected;\n\n    if (multiple) {\n      if (!Array.isArray(value)) {\n        throw new Error(formatMuiErrorMessage(2));\n      }\n\n      selected = value.some(v => areEqualValues(v, child.props.value));\n\n      if (selected && computeDisplay) {\n        displayMultiple.push(child.props.children);\n      }\n    } else {\n      selected = areEqualValues(value, child.props.value);\n\n      if (selected && computeDisplay) {\n        displaySingle = child.props.children;\n      }\n    }\n\n    return /*#__PURE__*/react.exports.cloneElement(child, {\n      'aria-selected': selected ? 'true' : undefined,\n      onClick: handleItemClick(child),\n      onKeyUp: event => {\n        if (event.key === ' ') {\n          // otherwise our MenuItems dispatches a click event\n          // it's not behavior of the native <option> and causes\n          // the select to close immediately since we open on space keydown\n          event.preventDefault();\n        }\n\n        if (child.props.onKeyUp) {\n          child.props.onKeyUp(event);\n        }\n      },\n      role: 'option',\n      selected,\n      value: undefined,\n      // The value is most likely not a valid HTML attribute.\n      'data-value': child.props.value // Instead, we provide it as a data attribute.\n\n    });\n  });\n\n  if (computeDisplay) {\n    display = multiple ? displayMultiple.join(', ') : displaySingle;\n  } // Avoid performing a layout computation in the render method.\n\n\n  let menuMinWidth = menuMinWidthState;\n\n  if (!autoWidth && isOpenControlled && displayNode) {\n    menuMinWidth = displayNode.clientWidth;\n  }\n\n  let tabIndex;\n\n  if (typeof tabIndexProp !== 'undefined') {\n    tabIndex = tabIndexProp;\n  } else {\n    tabIndex = disabled ? null : 0;\n  }\n\n  const buttonId = SelectDisplayProps.id || (name ? `mui-component-select-${name}` : undefined);\n\n  const ownerState = _extends$4({}, props, {\n    variant,\n    value,\n    open\n  });\n\n  const classes = useUtilityClasses$7(ownerState);\n  return /*#__PURE__*/jsxRuntime.exports.jsxs(react.exports.Fragment, {\n    children: [/*#__PURE__*/jsxRuntime.exports.jsx(SelectSelect, _extends$4({\n      ref: handleDisplayRef,\n      tabIndex: tabIndex,\n      role: \"button\",\n      \"aria-disabled\": disabled ? 'true' : undefined,\n      \"aria-expanded\": open ? 'true' : 'false',\n      \"aria-haspopup\": \"listbox\",\n      \"aria-label\": ariaLabel,\n      \"aria-labelledby\": [labelId, buttonId].filter(Boolean).join(' ') || undefined,\n      \"aria-describedby\": ariaDescribedby,\n      onKeyDown: handleKeyDown,\n      onMouseDown: disabled || readOnly ? null : handleMouseDown,\n      onBlur: handleBlur,\n      onFocus: onFocus\n    }, SelectDisplayProps, {\n      ownerState: ownerState,\n      className: clsx(classes.select, className, SelectDisplayProps.className) // The id is required for proper a11y\n      ,\n      id: buttonId,\n      children: isEmpty(display) ?\n      /*#__PURE__*/\n      // notranslate needed while Google Translate will not fix zero-width space issue\n      // eslint-disable-next-line react/no-danger\n      jsxRuntime.exports.jsx(\"span\", {\n        className: \"notranslate\",\n        dangerouslySetInnerHTML: {\n          __html: '&#8203;'\n        }\n      }) : display\n    })), /*#__PURE__*/jsxRuntime.exports.jsx(SelectNativeInput, _extends$4({\n      value: Array.isArray(value) ? value.join(',') : value,\n      name: name,\n      ref: inputRef,\n      \"aria-hidden\": true,\n      onChange: handleChange,\n      tabIndex: -1,\n      disabled: disabled,\n      className: classes.nativeInput,\n      autoFocus: autoFocus,\n      ownerState: ownerState\n    }, other)), /*#__PURE__*/jsxRuntime.exports.jsx(SelectIcon, {\n      as: IconComponent,\n      className: classes.icon,\n      ownerState: ownerState\n    }), /*#__PURE__*/jsxRuntime.exports.jsx(MuiMenu, _extends$4({\n      id: `menu-${name || ''}`,\n      anchorEl: displayNode,\n      open: open,\n      onClose: handleClose,\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      transformOrigin: {\n        vertical: 'top',\n        horizontal: 'center'\n      }\n    }, MenuProps, {\n      MenuListProps: _extends$4({\n        'aria-labelledby': labelId,\n        role: 'listbox',\n        disableListWrap: true\n      }, MenuProps.MenuListProps),\n      PaperProps: _extends$4({}, MenuProps.PaperProps, {\n        style: _extends$4({\n          minWidth: menuMinWidth\n        }, MenuProps.PaperProps != null ? MenuProps.PaperProps.style : null)\n      }),\n      children: items\n    }))]\n  });\n});\nvar SelectInput$1 = SelectInput;\n\nvar _Input, _FilledInput;\n\nconst _excluded$6 = [\"autoWidth\", \"children\", \"classes\", \"className\", \"displayEmpty\", \"IconComponent\", \"id\", \"input\", \"inputProps\", \"label\", \"labelId\", \"MenuProps\", \"multiple\", \"native\", \"onClose\", \"onOpen\", \"open\", \"renderValue\", \"SelectDisplayProps\", \"variant\"],\n      _excluded2 = [\"root\"];\n\nconst useUtilityClasses$6 = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getSelectUtilityClasses, classes);\n};\n\nconst Select = /*#__PURE__*/react.exports.forwardRef(function Select(inProps, ref) {\n  const props = useThemeProps({\n    name: 'MuiSelect',\n    props: inProps\n  });\n\n  const {\n    autoWidth = false,\n    children,\n    classes: classesProp = {},\n    className,\n    displayEmpty = false,\n    IconComponent = ArrowDropDownIcon,\n    id,\n    input,\n    inputProps,\n    label,\n    labelId,\n    MenuProps,\n    multiple = false,\n    native = false,\n    onClose,\n    onOpen,\n    open,\n    renderValue,\n    SelectDisplayProps,\n    variant: variantProps = 'outlined'\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$6);\n\n  const inputComponent = native ? NativeSelectInput$1 : SelectInput$1;\n  const muiFormControl = useFormControl();\n  const fcs = formControlState({\n    props,\n    muiFormControl,\n    states: ['variant']\n  });\n  const variant = fcs.variant || variantProps;\n  const InputComponent = input || {\n    standard: _Input || (_Input = /*#__PURE__*/jsxRuntime.exports.jsx(Input$1, {})),\n    outlined: /*#__PURE__*/jsxRuntime.exports.jsx(MuiOutlinedInput, {\n      label: label\n    }),\n    filled: _FilledInput || (_FilledInput = /*#__PURE__*/jsxRuntime.exports.jsx(FilledInput$1, {}))\n  }[variant];\n\n  const ownerState = _extends$4({}, props, {\n    classes: classesProp\n  });\n\n  const classes = useUtilityClasses$6(ownerState);\n\n  const otherClasses = _objectWithoutPropertiesLoose$3(classesProp, _excluded2);\n\n  const inputComponentRef = useForkRef(ref, InputComponent.ref);\n  return /*#__PURE__*/react.exports.cloneElement(InputComponent, _extends$4({\n    // Most of the logic is implemented in `SelectInput`.\n    // The `Select` component is a simple API wrapper to expose something better to play with.\n    inputComponent,\n    inputProps: _extends$4({\n      children,\n      IconComponent,\n      variant,\n      type: undefined,\n      // We render a select. We can ignore the type provided by the `Input`.\n      multiple\n    }, native ? {\n      id\n    } : {\n      autoWidth,\n      displayEmpty,\n      labelId,\n      MenuProps,\n      onClose,\n      onOpen,\n      open,\n      renderValue,\n      SelectDisplayProps: _extends$4({\n        id\n      }, SelectDisplayProps)\n    }, inputProps, {\n      classes: inputProps ? deepmerge(otherClasses, inputProps.classes) : otherClasses\n    }, input ? input.props.inputProps : {})\n  }, multiple && native && variant === 'outlined' ? {\n    notched: true\n  } : {}, {\n    ref: inputComponentRef,\n    className: clsx(classes.root, InputComponent.props.className, className)\n  }, other));\n});\nSelect.muiName = 'Select';\nvar Select$1 = Select;\n\n/**\n * @ignore - internal component.\n */\n\nconst StepperContext = /*#__PURE__*/react.exports.createContext({});\n\nvar StepperContext$1 = StepperContext;\n\n/**\n * @ignore - internal component.\n */\n\nconst StepContext = /*#__PURE__*/react.exports.createContext({});\n\nvar StepContext$1 = StepContext;\n\nfunction getStepUtilityClass(slot) {\n  return generateUtilityClass('MuiStep', slot);\n}\ngenerateUtilityClasses('MuiStep', ['root', 'horizontal', 'vertical', 'alternativeLabel', 'completed']);\n\nconst _excluded$5 = [\"active\", \"children\", \"className\", \"completed\", \"disabled\", \"expanded\", \"index\", \"last\"];\n\nconst useUtilityClasses$5 = ownerState => {\n  const {\n    classes,\n    orientation,\n    alternativeLabel,\n    completed\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, alternativeLabel && 'alternativeLabel', completed && 'completed']\n  };\n  return composeClasses(slots, getStepUtilityClass, classes);\n};\n\nconst StepRoot = styled('div', {\n  name: 'MuiStep',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.alternativeLabel && styles.alternativeLabel, ownerState.completed && styles.completed];\n  }\n})(({\n  ownerState\n}) => _extends$4({}, ownerState.orientation === 'horizontal' && {\n  paddingLeft: 8,\n  paddingRight: 8\n}, ownerState.alternativeLabel && {\n  flex: 1,\n  position: 'relative'\n}));\nconst Step = /*#__PURE__*/react.exports.forwardRef(function Step(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStep'\n  });\n\n  const {\n    active: activeProp,\n    children,\n    className,\n    completed: completedProp,\n    disabled: disabledProp,\n    expanded = false,\n    index,\n    last\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$5);\n\n  const {\n    activeStep,\n    connector,\n    alternativeLabel,\n    orientation,\n    nonLinear\n  } = react.exports.useContext(StepperContext$1);\n  let [active = false, completed = false, disabled = false] = [activeProp, completedProp, disabledProp];\n\n  if (activeStep === index) {\n    active = activeProp !== undefined ? activeProp : true;\n  } else if (!nonLinear && activeStep > index) {\n    completed = completedProp !== undefined ? completedProp : true;\n  } else if (!nonLinear && activeStep < index) {\n    disabled = disabledProp !== undefined ? disabledProp : true;\n  }\n\n  const contextValue = react.exports.useMemo(() => ({\n    index,\n    last,\n    expanded,\n    icon: index + 1,\n    active,\n    completed,\n    disabled\n  }), [index, last, expanded, active, completed, disabled]);\n\n  const ownerState = _extends$4({}, props, {\n    active,\n    orientation,\n    alternativeLabel,\n    completed,\n    disabled,\n    expanded\n  });\n\n  const classes = useUtilityClasses$5(ownerState);\n\n  const newChildren = /*#__PURE__*/jsxRuntime.exports.jsxs(StepRoot, _extends$4({\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [connector && alternativeLabel && index !== 0 ? connector : null, children]\n  }));\n\n  return /*#__PURE__*/jsxRuntime.exports.jsx(StepContext$1.Provider, {\n    value: contextValue,\n    children: connector && !alternativeLabel && index !== 0 ? /*#__PURE__*/jsxRuntime.exports.jsxs(react.exports.Fragment, {\n      children: [connector, newChildren]\n    }) : newChildren\n  });\n});\nvar Step$1 = Step;\n\nvar CheckCircle = createSvgIcon( /*#__PURE__*/jsxRuntime.exports.jsx(\"path\", {\n  d: \"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z\"\n}), 'CheckCircle');\n\nvar Warning = createSvgIcon( /*#__PURE__*/jsxRuntime.exports.jsx(\"path\", {\n  d: \"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"\n}), 'Warning');\n\nfunction getStepIconUtilityClass(slot) {\n  return generateUtilityClass('MuiStepIcon', slot);\n}\nconst stepIconClasses = generateUtilityClasses('MuiStepIcon', ['root', 'active', 'completed', 'error', 'text']);\nvar stepIconClasses$1 = stepIconClasses;\n\nvar _circle;\n\nconst _excluded$4 = [\"active\", \"className\", \"completed\", \"error\", \"icon\"];\n\nconst useUtilityClasses$4 = ownerState => {\n  const {\n    classes,\n    active,\n    completed,\n    error\n  } = ownerState;\n  const slots = {\n    root: ['root', active && 'active', completed && 'completed', error && 'error'],\n    text: ['text']\n  };\n  return composeClasses(slots, getStepIconUtilityClass, classes);\n};\n\nconst StepIconRoot = styled(SvgIcon, {\n  name: 'MuiStepIcon',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme\n}) => ({\n  display: 'block',\n  transition: theme.transitions.create('color', {\n    duration: theme.transitions.duration.shortest\n  }),\n  color: theme.palette.text.disabled,\n  [`&.${stepIconClasses$1.completed}`]: {\n    color: theme.palette.primary.main\n  },\n  [`&.${stepIconClasses$1.active}`]: {\n    color: theme.palette.primary.main\n  },\n  [`&.${stepIconClasses$1.error}`]: {\n    color: theme.palette.error.main\n  }\n}));\nconst StepIconText = styled('text', {\n  name: 'MuiStepIcon',\n  slot: 'Text',\n  overridesResolver: (props, styles) => styles.text\n})(({\n  theme\n}) => ({\n  fill: theme.palette.primary.contrastText,\n  fontSize: theme.typography.caption.fontSize,\n  fontFamily: theme.typography.fontFamily\n}));\nconst StepIcon = /*#__PURE__*/react.exports.forwardRef(function StepIcon(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStepIcon'\n  });\n\n  const {\n    active = false,\n    className: classNameProp,\n    completed = false,\n    error = false,\n    icon\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$4);\n\n  const ownerState = _extends$4({}, props, {\n    active,\n    completed,\n    error\n  });\n\n  const classes = useUtilityClasses$4(ownerState);\n\n  if (typeof icon === 'number' || typeof icon === 'string') {\n    const className = clsx(classNameProp, classes.root);\n\n    if (error) {\n      return /*#__PURE__*/jsxRuntime.exports.jsx(StepIconRoot, _extends$4({\n        as: Warning,\n        className: className,\n        ref: ref,\n        ownerState: ownerState\n      }, other));\n    }\n\n    if (completed) {\n      return /*#__PURE__*/jsxRuntime.exports.jsx(StepIconRoot, _extends$4({\n        as: CheckCircle,\n        className: className,\n        ref: ref,\n        ownerState: ownerState\n      }, other));\n    }\n\n    return /*#__PURE__*/jsxRuntime.exports.jsxs(StepIconRoot, _extends$4({\n      className: className,\n      ref: ref,\n      ownerState: ownerState\n    }, other, {\n      children: [_circle || (_circle = /*#__PURE__*/jsxRuntime.exports.jsx(\"circle\", {\n        cx: \"12\",\n        cy: \"12\",\n        r: \"12\"\n      })), /*#__PURE__*/jsxRuntime.exports.jsx(StepIconText, {\n        className: classes.text,\n        x: \"12\",\n        y: \"16\",\n        textAnchor: \"middle\",\n        ownerState: ownerState,\n        children: icon\n      })]\n    }));\n  }\n\n  return icon;\n});\nvar StepIcon$1 = StepIcon;\n\nfunction getStepLabelUtilityClass(slot) {\n  return generateUtilityClass('MuiStepLabel', slot);\n}\nconst stepLabelClasses = generateUtilityClasses('MuiStepLabel', ['root', 'horizontal', 'vertical', 'label', 'active', 'completed', 'error', 'disabled', 'iconContainer', 'alternativeLabel', 'labelContainer']);\nvar stepLabelClasses$1 = stepLabelClasses;\n\nconst _excluded$3 = [\"children\", \"className\", \"componentsProps\", \"error\", \"icon\", \"optional\", \"StepIconComponent\", \"StepIconProps\"];\n\nconst useUtilityClasses$3 = ownerState => {\n  const {\n    classes,\n    orientation,\n    active,\n    completed,\n    error,\n    disabled,\n    alternativeLabel\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, error && 'error', disabled && 'disabled', alternativeLabel && 'alternativeLabel'],\n    label: ['label', active && 'active', completed && 'completed', error && 'error', disabled && 'disabled', alternativeLabel && 'alternativeLabel'],\n    iconContainer: ['iconContainer', alternativeLabel && 'alternativeLabel'],\n    labelContainer: ['labelContainer']\n  };\n  return composeClasses(slots, getStepLabelUtilityClass, classes);\n};\n\nconst StepLabelRoot = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation]];\n  }\n})(({\n  ownerState\n}) => _extends$4({\n  display: 'flex',\n  alignItems: 'center',\n  [`&.${stepLabelClasses$1.alternativeLabel}`]: {\n    flexDirection: 'column'\n  },\n  [`&.${stepLabelClasses$1.disabled}`]: {\n    cursor: 'default'\n  }\n}, ownerState.orientation === 'vertical' && {\n  textAlign: 'left',\n  padding: '8px 0'\n}));\nconst StepLabelLabel = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'Label',\n  overridesResolver: (props, styles) => styles.label\n})(({\n  theme\n}) => _extends$4({}, theme.typography.body2, {\n  display: 'block',\n  transition: theme.transitions.create('color', {\n    duration: theme.transitions.duration.shortest\n  }),\n  [`&.${stepLabelClasses$1.active}`]: {\n    color: theme.palette.text.primary,\n    fontWeight: 500\n  },\n  [`&.${stepLabelClasses$1.completed}`]: {\n    color: theme.palette.text.primary,\n    fontWeight: 500\n  },\n  [`&.${stepLabelClasses$1.alternativeLabel}`]: {\n    textAlign: 'center',\n    marginTop: 16\n  },\n  [`&.${stepLabelClasses$1.error}`]: {\n    color: theme.palette.error.main\n  }\n}));\nconst StepLabelIconContainer = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'IconContainer',\n  overridesResolver: (props, styles) => styles.iconContainer\n})(() => ({\n  flexShrink: 0,\n  // Fix IE11 issue\n  display: 'flex',\n  paddingRight: 8,\n  [`&.${stepLabelClasses$1.alternativeLabel}`]: {\n    paddingRight: 0\n  }\n}));\nconst StepLabelLabelContainer = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'LabelContainer',\n  overridesResolver: (props, styles) => styles.labelContainer\n})(({\n  theme\n}) => ({\n  width: '100%',\n  color: theme.palette.text.secondary\n}));\nconst StepLabel = /*#__PURE__*/react.exports.forwardRef(function StepLabel(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStepLabel'\n  });\n\n  const {\n    children,\n    className,\n    componentsProps = {},\n    error = false,\n    icon: iconProp,\n    optional,\n    StepIconComponent: StepIconComponentProp,\n    StepIconProps\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$3);\n\n  const {\n    alternativeLabel,\n    orientation\n  } = react.exports.useContext(StepperContext$1);\n  const {\n    active,\n    disabled,\n    completed,\n    icon: iconContext\n  } = react.exports.useContext(StepContext$1);\n  const icon = iconProp || iconContext;\n  let StepIconComponent = StepIconComponentProp;\n\n  if (icon && !StepIconComponent) {\n    StepIconComponent = StepIcon$1;\n  }\n\n  const ownerState = _extends$4({}, props, {\n    active,\n    alternativeLabel,\n    completed,\n    disabled,\n    error,\n    orientation\n  });\n\n  const classes = useUtilityClasses$3(ownerState);\n  return /*#__PURE__*/jsxRuntime.exports.jsxs(StepLabelRoot, _extends$4({\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [icon || StepIconComponent ? /*#__PURE__*/jsxRuntime.exports.jsx(StepLabelIconContainer, {\n      className: classes.iconContainer,\n      ownerState: ownerState,\n      children: /*#__PURE__*/jsxRuntime.exports.jsx(StepIconComponent, _extends$4({\n        completed: completed,\n        active: active,\n        error: error,\n        icon: icon\n      }, StepIconProps))\n    }) : null, /*#__PURE__*/jsxRuntime.exports.jsxs(StepLabelLabelContainer, {\n      className: classes.labelContainer,\n      ownerState: ownerState,\n      children: [children ? /*#__PURE__*/jsxRuntime.exports.jsx(StepLabelLabel, _extends$4({\n        className: classes.label,\n        ownerState: ownerState\n      }, componentsProps.label, {\n        children: children\n      })) : null, optional]\n    })]\n  }));\n});\nStepLabel.muiName = 'StepLabel';\nvar StepLabel$1 = StepLabel;\n\nfunction getStepConnectorUtilityClass(slot) {\n  return generateUtilityClass('MuiStepConnector', slot);\n}\ngenerateUtilityClasses('MuiStepConnector', ['root', 'horizontal', 'vertical', 'alternativeLabel', 'active', 'completed', 'disabled', 'line', 'lineHorizontal', 'lineVertical']);\n\nconst _excluded$2 = [\"className\"];\n\nconst useUtilityClasses$2 = ownerState => {\n  const {\n    classes,\n    orientation,\n    alternativeLabel,\n    active,\n    completed,\n    disabled\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, alternativeLabel && 'alternativeLabel', active && 'active', completed && 'completed', disabled && 'disabled'],\n    line: ['line', `line${capitalize$1(orientation)}`]\n  };\n  return composeClasses(slots, getStepConnectorUtilityClass, classes);\n};\n\nconst StepConnectorRoot = styled('div', {\n  name: 'MuiStepConnector',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.alternativeLabel && styles.alternativeLabel, ownerState.completed && styles.completed];\n  }\n})(({\n  ownerState\n}) => _extends$4({\n  flex: '1 1 auto'\n}, ownerState.orientation === 'vertical' && {\n  marginLeft: 12 // half icon\n\n}, ownerState.alternativeLabel && {\n  position: 'absolute',\n  top: 8 + 4,\n  left: 'calc(-50% + 20px)',\n  right: 'calc(50% + 20px)'\n}));\nconst StepConnectorLine = styled('span', {\n  name: 'MuiStepConnector',\n  slot: 'Line',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.line, styles[`line${capitalize$1(ownerState.orientation)}`]];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends$4({\n  display: 'block',\n  borderColor: theme.palette.mode === 'light' ? theme.palette.grey[400] : theme.palette.grey[600]\n}, ownerState.orientation === 'horizontal' && {\n  borderTopStyle: 'solid',\n  borderTopWidth: 1\n}, ownerState.orientation === 'vertical' && {\n  borderLeftStyle: 'solid',\n  borderLeftWidth: 1,\n  minHeight: 24\n}));\nconst StepConnector = /*#__PURE__*/react.exports.forwardRef(function StepConnector(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStepConnector'\n  });\n\n  const {\n    className\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$2);\n\n  const {\n    alternativeLabel,\n    orientation = 'horizontal'\n  } = react.exports.useContext(StepperContext$1);\n  const {\n    active,\n    disabled,\n    completed\n  } = react.exports.useContext(StepContext$1);\n\n  const ownerState = _extends$4({}, props, {\n    alternativeLabel,\n    orientation,\n    active,\n    completed,\n    disabled\n  });\n\n  const classes = useUtilityClasses$2(ownerState);\n  return /*#__PURE__*/jsxRuntime.exports.jsx(StepConnectorRoot, _extends$4({\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: /*#__PURE__*/jsxRuntime.exports.jsx(StepConnectorLine, {\n      className: classes.line,\n      ownerState: ownerState\n    })\n  }));\n});\nvar StepConnector$1 = StepConnector;\n\nfunction getStepperUtilityClass(slot) {\n  return generateUtilityClass('MuiStepper', slot);\n}\ngenerateUtilityClasses('MuiStepper', ['root', 'horizontal', 'vertical', 'alternativeLabel']);\n\nconst _excluded$1 = [\"activeStep\", \"alternativeLabel\", \"children\", \"className\", \"connector\", \"nonLinear\", \"orientation\"];\n\nconst useUtilityClasses$1 = ownerState => {\n  const {\n    orientation,\n    alternativeLabel,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, alternativeLabel && 'alternativeLabel']\n  };\n  return composeClasses(slots, getStepperUtilityClass, classes);\n};\n\nconst StepperRoot = styled('div', {\n  name: 'MuiStepper',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.alternativeLabel && styles.alternativeLabel];\n  }\n})(({\n  ownerState\n}) => _extends$4({\n  display: 'flex'\n}, ownerState.orientation === 'horizontal' && {\n  flexDirection: 'row',\n  alignItems: 'center'\n}, ownerState.orientation === 'vertical' && {\n  flexDirection: 'column'\n}, ownerState.alternativeLabel && {\n  alignItems: 'flex-start'\n}));\n\nconst defaultConnector = /*#__PURE__*/jsxRuntime.exports.jsx(StepConnector$1, {});\n\nconst Stepper = /*#__PURE__*/react.exports.forwardRef(function Stepper(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStepper'\n  });\n\n  const {\n    activeStep = 0,\n    alternativeLabel = false,\n    children,\n    className,\n    connector = defaultConnector,\n    nonLinear = false,\n    orientation = 'horizontal'\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded$1);\n\n  const ownerState = _extends$4({}, props, {\n    alternativeLabel,\n    orientation\n  });\n\n  const classes = useUtilityClasses$1(ownerState);\n  const childrenArray = react.exports.Children.toArray(children).filter(Boolean);\n  const steps = childrenArray.map((step, index) => {\n    return /*#__PURE__*/react.exports.cloneElement(step, _extends$4({\n      index,\n      last: index + 1 === childrenArray.length\n    }, step.props));\n  });\n  const contextValue = react.exports.useMemo(() => ({\n    activeStep,\n    alternativeLabel,\n    connector,\n    nonLinear,\n    orientation\n  }), [activeStep, alternativeLabel, connector, nonLinear, orientation]);\n  return /*#__PURE__*/jsxRuntime.exports.jsx(StepperContext$1.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/jsxRuntime.exports.jsx(StepperRoot, _extends$4({\n      ownerState: ownerState,\n      className: clsx(classes.root, className),\n      ref: ref\n    }, other, {\n      children: steps\n    }))\n  });\n});\nvar Stepper$1 = Stepper;\n\nfunction getTextFieldUtilityClass(slot) {\n  return generateUtilityClass('MuiTextField', slot);\n}\ngenerateUtilityClasses('MuiTextField', ['root']);\n\nconst _excluded = [\"autoComplete\", \"autoFocus\", \"children\", \"className\", \"color\", \"defaultValue\", \"disabled\", \"error\", \"FormHelperTextProps\", \"fullWidth\", \"helperText\", \"id\", \"InputLabelProps\", \"inputProps\", \"InputProps\", \"inputRef\", \"label\", \"maxRows\", \"minRows\", \"multiline\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"placeholder\", \"required\", \"rows\", \"select\", \"SelectProps\", \"type\", \"value\", \"variant\"];\nconst variantComponent = {\n  standard: Input$1,\n  filled: FilledInput$1,\n  outlined: MuiOutlinedInput\n};\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getTextFieldUtilityClass, classes);\n};\n\nconst TextFieldRoot = styled(FormControl$1, {\n  name: 'MuiTextField',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})({});\n/**\n * The `TextField` is a convenience wrapper for the most common cases (80%).\n * It cannot be all things to all people, otherwise the API would grow out of control.\n *\n * ## Advanced Configuration\n *\n * It's important to understand that the text field is a simple abstraction\n * on top of the following components:\n *\n * - [FormControl](/api/form-control/)\n * - [InputLabel](/api/input-label/)\n * - [FilledInput](/api/filled-input/)\n * - [OutlinedInput](/api/outlined-input/)\n * - [Input](/api/input/)\n * - [FormHelperText](/api/form-helper-text/)\n *\n * If you wish to alter the props applied to the `input` element, you can do so as follows:\n *\n * ```jsx\n * const inputProps = {\n *   step: 300,\n * };\n *\n * return <TextField id=\"time\" type=\"time\" inputProps={inputProps} />;\n * ```\n *\n * For advanced cases, please look at the source of TextField by clicking on the\n * \"Edit this page\" button above. Consider either:\n *\n * - using the upper case props for passing values directly to the components\n * - using the underlying components directly as shown in the demos\n */\n\nconst TextField = /*#__PURE__*/react.exports.forwardRef(function TextField(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiTextField'\n  });\n\n  const {\n    autoComplete,\n    autoFocus = false,\n    children,\n    className,\n    color = 'primary',\n    defaultValue,\n    disabled = false,\n    error = false,\n    FormHelperTextProps,\n    fullWidth = false,\n    helperText,\n    id,\n    InputLabelProps,\n    inputProps,\n    InputProps,\n    inputRef,\n    label,\n    maxRows,\n    minRows,\n    multiline = false,\n    name,\n    onBlur,\n    onChange,\n    onFocus,\n    placeholder,\n    required = false,\n    rows,\n    select = false,\n    SelectProps,\n    type,\n    value,\n    variant = 'outlined'\n  } = props,\n        other = _objectWithoutPropertiesLoose$3(props, _excluded);\n\n  const ownerState = _extends$4({}, props, {\n    autoFocus,\n    color,\n    disabled,\n    error,\n    fullWidth,\n    multiline,\n    required,\n    select,\n    variant\n  });\n\n  const classes = useUtilityClasses(ownerState);\n\n  const InputMore = {};\n\n  if (variant === 'outlined') {\n    if (InputLabelProps && typeof InputLabelProps.shrink !== 'undefined') {\n      InputMore.notched = InputLabelProps.shrink;\n    }\n\n    if (label) {\n      var _InputLabelProps$requ;\n\n      const displayRequired = (_InputLabelProps$requ = InputLabelProps == null ? void 0 : InputLabelProps.required) != null ? _InputLabelProps$requ : required;\n      InputMore.label = /*#__PURE__*/jsxRuntime.exports.jsxs(react.exports.Fragment, {\n        children: [label, displayRequired && '\\u00a0*']\n      });\n    }\n  }\n\n  if (select) {\n    // unset defaults from textbox inputs\n    if (!SelectProps || !SelectProps.native) {\n      InputMore.id = undefined;\n    }\n\n    InputMore['aria-describedby'] = undefined;\n  }\n\n  const helperTextId = helperText && id ? `${id}-helper-text` : undefined;\n  const inputLabelId = label && id ? `${id}-label` : undefined;\n  const InputComponent = variantComponent[variant];\n\n  const InputElement = /*#__PURE__*/jsxRuntime.exports.jsx(InputComponent, _extends$4({\n    \"aria-describedby\": helperTextId,\n    autoComplete: autoComplete,\n    autoFocus: autoFocus,\n    defaultValue: defaultValue,\n    fullWidth: fullWidth,\n    multiline: multiline,\n    name: name,\n    rows: rows,\n    maxRows: maxRows,\n    minRows: minRows,\n    type: type,\n    value: value,\n    id: id,\n    inputRef: inputRef,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    placeholder: placeholder,\n    inputProps: inputProps\n  }, InputMore, InputProps));\n\n  return /*#__PURE__*/jsxRuntime.exports.jsxs(TextFieldRoot, _extends$4({\n    className: clsx(classes.root, className),\n    disabled: disabled,\n    error: error,\n    fullWidth: fullWidth,\n    ref: ref,\n    required: required,\n    color: color,\n    variant: variant,\n    ownerState: ownerState\n  }, other, {\n    children: [label && /*#__PURE__*/jsxRuntime.exports.jsx(InputLabel$1, _extends$4({\n      htmlFor: id,\n      id: inputLabelId\n    }, InputLabelProps, {\n      children: label\n    })), select ? /*#__PURE__*/jsxRuntime.exports.jsx(Select$1, _extends$4({\n      \"aria-describedby\": helperTextId,\n      id: id,\n      labelId: inputLabelId,\n      value: value,\n      input: InputElement\n    }, SelectProps, {\n      children: children\n    })) : InputElement, helperText && /*#__PURE__*/jsxRuntime.exports.jsx(FormHelperText, _extends$4({\n      id: helperTextId\n    }, FormHelperTextProps, {\n      children: helperText\n    }))]\n  }));\n});\nvar TextField$1 = TextField;\n\nvar ManageAccounts = createSvgIcon([/*#__PURE__*/jsxRuntime.exports.jsx(\"circle\", {\n  cx: \"10\",\n  cy: \"8\",\n  r: \"4\"\n}, \"0\"), /*#__PURE__*/jsxRuntime.exports.jsx(\"path\", {\n  d: \"M10.67 13.02c-.22-.01-.44-.02-.67-.02-2.42 0-4.68.67-6.61 1.82-.88.52-1.39 1.5-1.39 2.53V20h9.26c-.79-1.13-1.26-2.51-1.26-4 0-1.07.25-2.07.67-2.98zM20.75 16c0-.22-.03-.42-.06-.63l1.14-1.01-1-1.73-1.45.49c-.32-.27-.68-.48-1.08-.63L18 11h-2l-.3 1.49c-.4.15-.76.36-1.08.63l-1.45-.49-1 1.73 1.14 1.01c-.03.21-.06.41-.06.63s.03.42.06.63l-1.14 1.01 1 1.73 1.45-.49c.32.27.68.48 1.08.63L16 21h2l.3-1.49c.4-.15.76-.36 1.08-.63l1.45.49 1-1.73-1.14-1.01c.03-.21.06-.41.06-.63zM17 18c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z\"\n}, \"1\")], 'ManageAccounts');\n\nvar TuneRounded = createSvgIcon( /*#__PURE__*/jsxRuntime.exports.jsx(\"path\", {\n  d: \"M3 18c0 .55.45 1 1 1h5v-2H4c-.55 0-1 .45-1 1zM3 6c0 .55.45 1 1 1h9V5H4c-.55 0-1 .45-1 1zm10 14v-1h7c.55 0 1-.45 1-1s-.45-1-1-1h-7v-1c0-.55-.45-1-1-1s-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1zM7 10v1H4c-.55 0-1 .45-1 1s.45 1 1 1h3v1c0 .55.45 1 1 1s1-.45 1-1v-4c0-.55-.45-1-1-1s-1 .45-1 1zm14 2c0-.55-.45-1-1-1h-9v2h9c.55 0 1-.45 1-1zm-5-3c.55 0 1-.45 1-1V7h3c.55 0 1-.45 1-1s-.45-1-1-1h-3V4c0-.55-.45-1-1-1s-1 .45-1 1v4c0 .55.45 1 1 1z\"\n}), 'TuneRounded');\n\nfunction _extends$3() { _extends$3 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$3.apply(this, arguments); }\nfunction create(type) {\n  return new ArraySchema(type);\n}\nclass ArraySchema extends BaseSchema {\n  constructor(type) {\n    super({\n      type: 'array'\n    }); // `undefined` specifically means uninitialized, as opposed to\n    // \"no subtype\"\n\n    this.innerType = type;\n    this.withMutation(() => {\n      this.transform(function (values) {\n        if (typeof values === 'string') try {\n          values = JSON.parse(values);\n        } catch (err) {\n          values = null;\n        }\n        return this.isType(values) ? values : null;\n      });\n    });\n  }\n\n  _typeCheck(v) {\n    return Array.isArray(v);\n  }\n\n  get _subType() {\n    return this.innerType;\n  }\n\n  _cast(_value, _opts) {\n    const value = super._cast(_value, _opts); //should ignore nulls here\n\n\n    if (!this._typeCheck(value) || !this.innerType) return value;\n    let isChanged = false;\n    const castArray = value.map((v, idx) => {\n      const castElement = this.innerType.cast(v, _extends$3({}, _opts, {\n        path: `${_opts.path || ''}[${idx}]`\n      }));\n\n      if (castElement !== v) {\n        isChanged = true;\n      }\n\n      return castElement;\n    });\n    return isChanged ? castArray : value;\n  }\n\n  _validate(_value, options = {}, callback) {\n    var _options$abortEarly, _options$recursive;\n\n    let errors = [];\n    let sync = options.sync;\n    let path = options.path;\n    let innerType = this.innerType;\n    let endEarly = (_options$abortEarly = options.abortEarly) != null ? _options$abortEarly : this.spec.abortEarly;\n    let recursive = (_options$recursive = options.recursive) != null ? _options$recursive : this.spec.recursive;\n    let originalValue = options.originalValue != null ? options.originalValue : _value;\n\n    super._validate(_value, options, (err, value) => {\n      if (err) {\n        if (!ValidationError.isError(err) || endEarly) {\n          return void callback(err, value);\n        }\n\n        errors.push(err);\n      }\n\n      if (!recursive || !innerType || !this._typeCheck(value)) {\n        callback(errors[0] || null, value);\n        return;\n      }\n\n      originalValue = originalValue || value; // #950 Ensure that sparse array empty slots are validated\n\n      let tests = new Array(value.length);\n\n      for (let idx = 0; idx < value.length; idx++) {\n        let item = value[idx];\n        let path = `${options.path || ''}[${idx}]`; // object._validate note for isStrict explanation\n\n        let innerOptions = _extends$3({}, options, {\n          path,\n          strict: true,\n          parent: value,\n          index: idx,\n          originalValue: originalValue[idx]\n        });\n\n        tests[idx] = (_, cb) => innerType.validate(item, innerOptions, cb);\n      }\n\n      runTests({\n        sync,\n        path,\n        value,\n        errors,\n        endEarly,\n        tests\n      }, callback);\n    });\n  }\n\n  clone(spec) {\n    const next = super.clone(spec);\n    next.innerType = this.innerType;\n    return next;\n  }\n\n  concat(schema) {\n    let next = super.concat(schema);\n    next.innerType = this.innerType;\n    if (schema.innerType) next.innerType = next.innerType ? // @ts-expect-error Lazy doesn't have concat()\n    next.innerType.concat(schema.innerType) : schema.innerType;\n    return next;\n  }\n\n  of(schema) {\n    // FIXME: this should return a new instance of array without the default to be\n    let next = this.clone();\n    if (!isSchema(schema)) throw new TypeError('`array.of()` sub-schema must be a valid yup schema not: ' + printValue(schema)); // FIXME(ts):\n\n    next.innerType = schema;\n    return next;\n  }\n\n  length(length, message = array.length) {\n    return this.test({\n      message,\n      name: 'length',\n      exclusive: true,\n      params: {\n        length\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length === this.resolve(length);\n      }\n\n    });\n  }\n\n  min(min, message) {\n    message = message || array.min;\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      // FIXME(ts): Array<typeof T>\n      test(value) {\n        return isAbsent(value) || value.length >= this.resolve(min);\n      }\n\n    });\n  }\n\n  max(max, message) {\n    message = message || array.max;\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length <= this.resolve(max);\n      }\n\n    });\n  }\n\n  ensure() {\n    return this.default(() => []).transform((val, original) => {\n      // We don't want to return `null` for nullable schema\n      if (this._typeCheck(val)) return val;\n      return original == null ? [] : [].concat(original);\n    });\n  }\n\n  compact(rejector) {\n    let reject = !rejector ? v => !!v : (v, i, a) => !rejector(v, i, a);\n    return this.transform(values => values != null ? values.filter(reject) : values);\n  }\n\n  describe() {\n    let base = super.describe();\n    if (this.innerType) base.innerType = this.innerType.describe();\n    return base;\n  }\n\n  nullable(isNullable = true) {\n    return super.nullable(isNullable);\n  }\n\n  defined() {\n    return super.defined();\n  }\n\n  required(msg) {\n    return super.required(msg);\n  }\n\n}\ncreate.prototype = ArraySchema.prototype; //\n// Interfaces\n//\n\nfunction _typeof$1(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof$1 = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof$1 = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof$1(obj);\n}\n\nfunction _objectWithoutPropertiesLoose$2(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose$2(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar isUnknownObject = function isUnknownObject(raw) {\n  return raw !== null && _typeof$1(raw) === 'object';\n};\nvar isPromise = function isPromise(raw) {\n  return isUnknownObject(raw) && typeof raw.then === 'function';\n}; // We are using types to enforce the `stripe` prop in this lib,\n// but in an untyped integration `stripe` could be anything, so we need\n// to do some sanity validation to prevent type errors.\n\nvar isStripe = function isStripe(raw) {\n  return isUnknownObject(raw) && typeof raw.elements === 'function' && typeof raw.createToken === 'function' && typeof raw.createPaymentMethod === 'function' && typeof raw.confirmCardPayment === 'function';\n};\n\nvar PLAIN_OBJECT_STR = '[object Object]';\nvar isEqual = function isEqual(left, right) {\n  if (!isUnknownObject(left) || !isUnknownObject(right)) {\n    return left === right;\n  }\n\n  var leftArray = Array.isArray(left);\n  var rightArray = Array.isArray(right);\n  if (leftArray !== rightArray) return false;\n  var leftPlainObject = Object.prototype.toString.call(left) === PLAIN_OBJECT_STR;\n  var rightPlainObject = Object.prototype.toString.call(right) === PLAIN_OBJECT_STR;\n  if (leftPlainObject !== rightPlainObject) return false;\n  if (!leftPlainObject && !leftArray) return false;\n  var leftKeys = Object.keys(left);\n  var rightKeys = Object.keys(right);\n  if (leftKeys.length !== rightKeys.length) return false;\n  var keySet = {};\n\n  for (var i = 0; i < leftKeys.length; i += 1) {\n    keySet[leftKeys[i]] = true;\n  }\n\n  for (var _i = 0; _i < rightKeys.length; _i += 1) {\n    keySet[rightKeys[_i]] = true;\n  }\n\n  var allKeys = Object.keys(keySet);\n\n  if (allKeys.length !== leftKeys.length) {\n    return false;\n  }\n\n  var l = left;\n  var r = right;\n\n  var pred = function pred(key) {\n    return isEqual(l[key], r[key]);\n  };\n\n  return allKeys.every(pred);\n};\n\nvar usePrevious = function usePrevious(value) {\n  var ref = React.useRef(value);\n  React.useEffect(function () {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n};\n\nvar INVALID_STRIPE_ERROR = 'Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.'; // We are using types to enforce the `stripe` prop in this lib, but in a real\n// integration `stripe` could be anything, so we need to do some sanity\n// validation to prevent type errors.\n\nvar validateStripe = function validateStripe(maybeStripe) {\n  if (maybeStripe === null || isStripe(maybeStripe)) {\n    return maybeStripe;\n  }\n\n  throw new Error(INVALID_STRIPE_ERROR);\n};\n\nvar parseStripeProp = function parseStripeProp(raw) {\n  if (isPromise(raw)) {\n    return {\n      tag: 'async',\n      stripePromise: Promise.resolve(raw).then(validateStripe)\n    };\n  }\n\n  var stripe = validateStripe(raw);\n\n  if (stripe === null) {\n    return {\n      tag: 'empty'\n    };\n  }\n\n  return {\n    tag: 'sync',\n    stripe: stripe\n  };\n};\n\nvar ElementsContext = /*#__PURE__*/React.createContext(null);\nElementsContext.displayName = 'ElementsContext';\nvar parseElementsContext = function parseElementsContext(ctx, useCase) {\n  if (!ctx) {\n    throw new Error(\"Could not find Elements context; You need to wrap the part of your app that \".concat(useCase, \" in an <Elements> provider.\"));\n  }\n\n  return ctx;\n};\n/**\n * The `Elements` provider allows you to use [Element components](https://stripe.com/docs/stripe-js/react#element-components) and access the [Stripe object](https://stripe.com/docs/js/initializing) in any nested component.\n * Render an `Elements` provider at the root of your React app so that it is available everywhere you need it.\n *\n * To use the `Elements` provider, call `loadStripe` from `@stripe/stripe-js` with your publishable key.\n * The `loadStripe` function will asynchronously load the Stripe.js script and initialize a `Stripe` object.\n * Pass the returned `Promise` to `Elements`.\n *\n * @docs https://stripe.com/docs/stripe-js/react#elements-provider\n */\n\nvar Elements = function Elements(_ref) {\n  var rawStripeProp = _ref.stripe,\n      options = _ref.options,\n      children = _ref.children;\n\n  var _final = React.useRef(false);\n\n  var isMounted = React.useRef(true);\n  var parsed = React.useMemo(function () {\n    return parseStripeProp(rawStripeProp);\n  }, [rawStripeProp]);\n\n  var _React$useState = React.useState(function () {\n    return {\n      stripe: null,\n      elements: null\n    };\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      ctx = _React$useState2[0],\n      setContext = _React$useState2[1];\n\n  var prevStripe = usePrevious(rawStripeProp);\n  var prevOptions = usePrevious(options);\n\n  if (prevStripe !== null) {\n    if (prevStripe !== rawStripeProp) {\n      console.warn('Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.');\n    }\n\n    if (!isEqual(options, prevOptions)) {\n      console.warn('Unsupported prop change on Elements: You cannot change the `options` prop after setting the `stripe` prop.');\n    }\n  }\n\n  if (!_final.current) {\n    if (parsed.tag === 'sync') {\n      _final.current = true;\n      setContext({\n        stripe: parsed.stripe,\n        elements: parsed.stripe.elements(options)\n      });\n    }\n\n    if (parsed.tag === 'async') {\n      _final.current = true;\n      parsed.stripePromise.then(function (stripe) {\n        if (stripe && isMounted.current) {\n          // Only update Elements context if the component is still mounted\n          // and stripe is not null. We allow stripe to be null to make\n          // handling SSR easier.\n          setContext({\n            stripe: stripe,\n            elements: stripe.elements(options)\n          });\n        }\n      });\n    }\n  }\n\n  React.useEffect(function () {\n    return function () {\n      isMounted.current = false;\n    };\n  }, []);\n  React.useEffect(function () {\n    var anyStripe = ctx.stripe;\n\n    if (!anyStripe || !anyStripe._registerWrapper || !anyStripe.registerAppInfo) {\n      return;\n    }\n\n    anyStripe._registerWrapper({\n      name: 'react-stripe-js',\n      version: \"1.4.1\"\n    });\n\n    anyStripe.registerAppInfo({\n      name: 'react-stripe-js',\n      version: \"1.4.1\",\n      url: 'https://stripe.com/docs/stripe-js/react'\n    });\n  }, [ctx.stripe]);\n  return /*#__PURE__*/React.createElement(ElementsContext.Provider, {\n    value: ctx\n  }, children);\n};\nElements.propTypes = {\n  stripe: PropTypes.any,\n  options: PropTypes.object\n};\nvar useElementsContextWithUseCase = function useElementsContextWithUseCase(useCaseMessage) {\n  var ctx = React.useContext(ElementsContext);\n  return parseElementsContext(ctx, useCaseMessage);\n};\n/**\n * @docs https://stripe.com/docs/stripe-js/react#useelements-hook\n */\n\nvar useElements = function useElements() {\n  var _useElementsContextWi = useElementsContextWithUseCase('calls useElements()'),\n      elements = _useElementsContextWi.elements;\n\n  return elements;\n};\n/**\n * @docs https://stripe.com/docs/stripe-js/react#usestripe-hook\n */\n\nvar useStripe = function useStripe() {\n  var _useElementsContextWi2 = useElementsContextWithUseCase('calls useStripe()'),\n      stripe = _useElementsContextWi2.stripe;\n\n  return stripe;\n};\n/**\n * @docs https://stripe.com/docs/stripe-js/react#elements-consumer\n */\n\nvar ElementsConsumer = function ElementsConsumer(_ref2) {\n  var children = _ref2.children;\n  var ctx = useElementsContextWithUseCase('mounts <ElementsConsumer>'); // Assert to satisfy the busted React.FC return type (it should be ReactNode)\n\n  return children(ctx);\n};\nElementsConsumer.propTypes = {\n  children: PropTypes.func.isRequired\n};\n\nvar useCallbackReference = function useCallbackReference(cb) {\n  var ref = React.useRef(cb);\n  React.useEffect(function () {\n    ref.current = cb;\n  }, [cb]);\n  return function () {\n    if (ref.current) {\n      ref.current.apply(ref, arguments);\n    }\n  };\n};\n\nvar extractUpdateableOptions = function extractUpdateableOptions(options) {\n  if (!isUnknownObject(options)) {\n    return {};\n  }\n\n  options.paymentRequest;\n      var rest = _objectWithoutProperties(options, [\"paymentRequest\"]);\n\n  return rest;\n};\n\nvar noop$1 = function noop() {};\n\nvar capitalized = function capitalized(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n};\n\nvar createElementComponent = function createElementComponent(type, isServer) {\n  var displayName = \"\".concat(capitalized(type), \"Element\");\n\n  var ClientElement = function ClientElement(_ref) {\n    var id = _ref.id,\n        className = _ref.className,\n        _ref$options = _ref.options,\n        options = _ref$options === void 0 ? {} : _ref$options,\n        _ref$onBlur = _ref.onBlur,\n        onBlur = _ref$onBlur === void 0 ? noop$1 : _ref$onBlur,\n        _ref$onFocus = _ref.onFocus,\n        onFocus = _ref$onFocus === void 0 ? noop$1 : _ref$onFocus,\n        _ref$onReady = _ref.onReady,\n        onReady = _ref$onReady === void 0 ? noop$1 : _ref$onReady,\n        _ref$onChange = _ref.onChange,\n        onChange = _ref$onChange === void 0 ? noop$1 : _ref$onChange,\n        _ref$onEscape = _ref.onEscape,\n        onEscape = _ref$onEscape === void 0 ? noop$1 : _ref$onEscape,\n        _ref$onClick = _ref.onClick,\n        onClick = _ref$onClick === void 0 ? noop$1 : _ref$onClick;\n\n    var _useElementsContextWi = useElementsContextWithUseCase(\"mounts <\".concat(displayName, \">\")),\n        elements = _useElementsContextWi.elements;\n\n    var elementRef = React.useRef(null);\n    var domNode = React.useRef(null);\n    var callOnReady = useCallbackReference(onReady);\n    var callOnBlur = useCallbackReference(onBlur);\n    var callOnFocus = useCallbackReference(onFocus);\n    var callOnClick = useCallbackReference(onClick);\n    var callOnChange = useCallbackReference(onChange);\n    var callOnEscape = useCallbackReference(onEscape);\n    React.useLayoutEffect(function () {\n      if (elementRef.current == null && elements && domNode.current != null) {\n        var element = elements.create(type, options);\n        elementRef.current = element;\n        element.mount(domNode.current);\n        element.on('ready', function () {\n          return callOnReady(element);\n        });\n        element.on('change', callOnChange);\n        element.on('blur', callOnBlur);\n        element.on('focus', callOnFocus);\n        element.on('escape', callOnEscape); // Users can pass an an onClick prop on any Element component\n        // just as they could listen for the `click` event on any Element,\n        // but only the PaymentRequestButton will actually trigger the event.\n\n        element.on('click', callOnClick);\n      }\n    });\n    var prevOptions = React.useRef(options);\n    React.useEffect(function () {\n      if (prevOptions.current && prevOptions.current.paymentRequest !== options.paymentRequest) {\n        console.warn('Unsupported prop change: options.paymentRequest is not a customizable property.');\n      }\n\n      var updateableOptions = extractUpdateableOptions(options);\n\n      if (Object.keys(updateableOptions).length !== 0 && !isEqual(updateableOptions, extractUpdateableOptions(prevOptions.current))) {\n        if (elementRef.current) {\n          elementRef.current.update(updateableOptions);\n          prevOptions.current = options;\n        }\n      }\n    }, [options]);\n    React.useLayoutEffect(function () {\n      return function () {\n        if (elementRef.current) {\n          elementRef.current.destroy();\n        }\n      };\n    }, []);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: id,\n      className: className,\n      ref: domNode\n    });\n  }; // Only render the Element wrapper in a server environment.\n\n\n  var ServerElement = function ServerElement(props) {\n    // Validate that we are in the right context by calling useElementsContextWithUseCase.\n    useElementsContextWithUseCase(\"mounts <\".concat(displayName, \">\"));\n    var id = props.id,\n        className = props.className;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: id,\n      className: className\n    });\n  };\n\n  var Element = isServer ? ServerElement : ClientElement;\n  Element.propTypes = {\n    id: PropTypes.string,\n    className: PropTypes.string,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    onFocus: PropTypes.func,\n    onReady: PropTypes.func,\n    onClick: PropTypes.func,\n    options: PropTypes.object\n  };\n  Element.displayName = displayName;\n  Element.__elementType = type;\n  return Element;\n};\n\nvar isServer = typeof window === 'undefined';\n/**\n * Requires beta access:\n * Contact [Stripe support](https://support.stripe.com/) for more information.\n *\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\ncreateElementComponent('auBankAccount', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\ncreateElementComponent('card', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar CardNumberElement = createElementComponent('cardNumber', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar CardExpiryElement = createElementComponent('cardExpiry', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar CardCvcElement = createElementComponent('cardCvc', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\ncreateElementComponent('fpxBank', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\ncreateElementComponent('iban', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\ncreateElementComponent('idealBank', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\ncreateElementComponent('p24Bank', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\ncreateElementComponent('epsBank', isServer);\ncreateElementComponent('payment', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\ncreateElementComponent('paymentRequestButton', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\ncreateElementComponent('afterpayClearpayMessage', isServer);\n\nvar pure$1 = {};\n\nObject.defineProperty(pure$1, '__esModule', { value: true });\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar V3_URL = 'https://js.stripe.com/v3';\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(V3_URL, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!V3_URL_REGEX.test(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(V3_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"1.15.1\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise = null;\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise !== null) {\n    return stripePromise;\n  }\n\n  stripePromise = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      }\n\n      script.addEventListener('load', function () {\n        if (window.Stripe) {\n          resolve(window.Stripe);\n        } else {\n          reject(new Error('Stripe.js not available'));\n        }\n      });\n      script.addEventListener('error', function () {\n        reject(new Error('Failed to load Stripe.js'));\n      });\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  });\n  return stripePromise;\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n};\nvar validateLoadParams = function validateLoadParams(params) {\n  var errorMessage = \"invalid load parameters; expected object of shape\\n\\n    {advancedFraudSignals: boolean}\\n\\nbut received\\n\\n    \".concat(JSON.stringify(params), \"\\n\");\n\n  if (params === null || _typeof(params) !== 'object') {\n    throw new Error(errorMessage);\n  }\n\n  if (Object.keys(params).length === 1 && typeof params.advancedFraudSignals === 'boolean') {\n    return params;\n  }\n\n  throw new Error(errorMessage);\n};\n\nvar loadParams;\nvar loadStripeCalled = false;\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadStripeCalled = true;\n  var startTime = Date.now();\n  return loadScript(loadParams).then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nloadStripe.setLoadParameters = function (params) {\n  if (loadStripeCalled) {\n    throw new Error('You cannot change load parameters after calling loadStripe');\n  }\n\n  loadParams = validateLoadParams(params);\n};\n\npure$1.loadStripe = loadStripe;\n\nvar pure = pure$1;\n\nconst DrawerContext = react.exports.createContext({ opened: false, close: () => { }, open: () => { } });\r\nconst TableSearchContext = react.exports.createContext({\r\n    searching: false,\r\n    searchQuery: '',\r\n    //TODO: not implemented\r\n    onSearch: () => undefined,\r\n    setSearching: () => null,\r\n});\n\nconst useT = (root) => {\r\n    const { t } = useTranslation();\r\n    return react.exports.useCallback((key, options, defaultValue) => {\r\n        return t(`adminPortal.${root}.${key}`, options, defaultValue);\r\n    }, [t]);\r\n};\r\n// export const useGlobalT = <T extends keyof Localization>(): UseTFunc<any> => {\r\nconst useGlobalT = () => {\r\n    const { t } = useTranslation();\r\n    return react.exports.useCallback((key, options, defaultValue) => {\r\n        return t(key, options, defaultValue);\r\n    }, [t]);\r\n};\r\nconst useTableSearch = () => {\r\n    const context = react.exports.useContext(TableSearchContext);\r\n    return Object.assign(Object.assign({}, context), { onSearch: (str) => __awaiter(void 0, void 0, void 0, function* () {\r\n            const searchQuery = str !== null && str !== void 0 ? str : '';\r\n            context.setSearching(!!searchQuery);\r\n            context.onSearch(searchQuery);\r\n        }) });\r\n};\r\nconst useMuiMediaQuery = (themeBreakpoints) => {\r\n    const { iframeRendering, rootEl } = useShadowDom();\r\n    const iframeWindowObj = iframeRendering && rootEl.ownerDocument ? rootEl.ownerDocument.defaultView : null;\r\n    const mediaQueryOptions = iframeWindowObj ? { matchMedia: iframeWindowObj === null || iframeWindowObj === void 0 ? void 0 : iframeWindowObj.matchMedia } : undefined;\r\n    return useMediaQuery(themeBreakpoints, mediaQueryOptions);\r\n};\n\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * https://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * @fileoverview Listener to provide Shadow DOM focus events, even inside shadow roots\r\n *\r\n * Normally, listening for focus with Shadow DOM will just return the top-most 'host' with a shadow\r\n * root. That may not be a problem! But if you want to find the 'real' focused element...\r\n *\r\n * To use this library, add this after the script is included-\r\n *   document.addEventListener('focus', shadowFocusHandler, true);\r\n *\r\n * You can then listen for `-shadow-focus` events, which will return the furthest focused element-\r\n *   document.addEventListener('-shadow-focus', function(ev) {\r\n *     console.info('got focused element', ev.detail, '..inside outer-most shadow root', ev.target);\r\n *   });\r\n */\r\nconst shadowFocusHandler = (function () {\r\n    if (typeof window === 'undefined') {\r\n        return (event) => dispatch(event.target);\r\n    }\r\n    const eventName = '-shadow-focus';\r\n    const dispatch = function (target) {\r\n        const args = { composed: true, bubbles: true, detail: target };\r\n        const customEvent = new CustomEvent(eventName, args);\r\n        target.dispatchEvent(customEvent);\r\n    };\r\n    if (!window.WeakSet || !window.ShadowRoot) {\r\n        return (event) => dispatch(event.target);\r\n    }\r\n    const focusHandlerSet = new WeakSet();\r\n    /**\r\n     * @param {Node} target to work on\r\n     * @param {function(!FocusEvent)} callback to invoke on focus change\r\n     */\r\n    function _internal(target, callback) {\r\n        let currentFocus = target; // save real focus\r\n        // #1: get the nearest ShadowRoot\r\n        while (!(target instanceof ShadowRoot)) {\r\n            if (!target) {\r\n                return;\r\n            }\r\n            target = target.parentNode;\r\n        }\r\n        // #2: are we already handling it?\r\n        if (focusHandlerSet.has(target)) {\r\n            return;\r\n        }\r\n        focusHandlerSet.add(target);\r\n        // #3: setup focus/blur handlers\r\n        const hostEl = target.host;\r\n        const focusinHandler = function (ev) {\r\n            if (ev.target !== currentFocus) { // prevent dup calls for same focus\r\n                currentFocus = ev.target;\r\n                callback(ev);\r\n            }\r\n        };\r\n        const blurHandler = function (ev) {\r\n            hostEl.removeEventListener('blur', blurHandler, false);\r\n            target.removeEventListener('focusin', focusinHandler, true);\r\n            focusHandlerSet.delete(target);\r\n        };\r\n        // #3: add blur handler to host element\r\n        hostEl.addEventListener('blur', blurHandler, false);\r\n        // #4: add focus handler within shadow root, to observe changes\r\n        target.addEventListener('focusin', focusinHandler, true);\r\n        // #5: find next parent SR, do it again\r\n        _internal(target.host, callback);\r\n    }\r\n    /**\r\n     * @param {!FocusEvent} event to process\r\n     */\r\n    function shadowFocusHandler(event) {\r\n        const target = (event.composedPath ? event.composedPath()[0] : null) || event.target;\r\n        _internal(target, shadowFocusHandler);\r\n        dispatch(target);\r\n    }\r\n    return shadowFocusHandler;\r\n}());\n\nfunction toCurrencySymbol(currency) {\r\n    switch (currency) {\r\n        case 'nis':\r\n            return '₪';\r\n        case 'usd':\r\n        default:\r\n            return '$';\r\n    }\r\n}\r\nfunction toPriceDisplay(price = 0) {\r\n    return `${(price / 100).toFixed(2)}`;\r\n}\n\nconst TextBreakLine = ({ text }) => {\r\n    return (React.createElement(React.Fragment, null, text\r\n        .split('\\\\n')\r\n        .map((str) => React.createElement(React.Fragment, null, str))\r\n        .reduce((prevList, curr) => {\r\n        if (prevList.length === 0) {\r\n            return [curr];\r\n        }\r\n        return prevList.concat(React.createElement(\"br\", null), curr);\r\n    }, [])));\r\n};\n\nconst SubscriptionDialogFooter = ({ cancel, confirm }) => {\r\n    var _a, _b;\r\n    const t = useT('subscriptions');\r\n    return (React.createElement(Grid, { container: true, justifyContent: 'flex-end' },\r\n        cancel && (React.createElement(Button$1, { type: 'button', \"data-test-id\": \"cancelBtn\", color: 'inherit', variant: 'text', onClick: cancel.onClick, disabled: cancel.disabled }, t('cancel'))),\r\n        confirm && (React.createElement(Button$1, { \"data-test-id\": \"confirmBtn\", type: (_a = confirm.type) !== null && _a !== void 0 ? _a : 'button', color: (_b = confirm.color) !== null && _b !== void 0 ? _b : 'primary', onClick: confirm.onClick, disabled: confirm.disabled, loading: confirm.loading }, t(confirm.text)))));\r\n};\n\nconst SubscriptionFormContext = React.createContext({\r\n    valid: false,\r\n    setValid: (value) => { },\r\n    registerSubmit: (cb) => { },\r\n    unregisterSubmit: () => { },\r\n    onSubmit: () => { },\r\n});\r\nconst useSubscriptionFormContext = () => react.exports.useContext(SubscriptionFormContext);\r\nconst SubscriptionFormContextProvider = ({ children }) => {\r\n    const [{ onSubmit }, setState] = react.exports.useState({\r\n        onSubmit: () => { },\r\n    });\r\n    const [valid, setValid] = react.exports.useState(false);\r\n    return (React.createElement(SubscriptionFormContext.Provider, { value: react.exports.useMemo(() => ({\r\n            valid,\r\n            onSubmit,\r\n            setValid,\r\n            registerSubmit: (callback) => setState({ onSubmit: callback }),\r\n            unregisterSubmit: () => setState({ onSubmit: () => { } }),\r\n        }), [valid, onSubmit]) }, children));\r\n};\n\nconst CheckoutDialogFooter = ({ shouldCreatePaymentMethod, onCancel, planId, }) => {\r\n    const { loading } = useCheckout();\r\n    const { paymentMethod } = usePaymentMethod();\r\n    const { valid, onSubmit } = useSubscriptionFormContext();\r\n    const { confirmCheckout } = useCheckoutActions();\r\n    const handleConfirmCheckout = react.exports.useCallback(() => {\r\n        confirmCheckout({ paymentMethodId: paymentMethod.id, planId });\r\n    }, [planId, paymentMethod, confirmCheckout]);\r\n    return shouldCreatePaymentMethod ? (React.createElement(SubscriptionDialogFooter, { cancel: { onClick: onCancel, disabled: loading }, confirm: { onClick: onSubmit, disabled: !valid, loading, text: 'confirm' } })) : (React.createElement(SubscriptionDialogFooter, { cancel: { onClick: onCancel, disabled: loading }, confirm: { onClick: handleConfirmCheckout, loading, text: 'confirm' } }));\r\n};\n\nconst CheckoutDialogError = () => {\r\n    const { error } = useCheckout();\r\n    if (!error) {\r\n        return null;\r\n    }\r\n    return (React.createElement(Grid, { p: 4 },\r\n        React.createElement(Alert$1, { \"data-test-id\": error, severity: 'error' }, error)));\r\n};\n\nconst SectionTitle = styled(Box)(({ theme }) => ({\r\n    color: theme.palette.grey[700],\r\n    fontSize: theme.typography.pxToRem(12),\r\n    lineHeight: theme.typography.pxToRem(16),\r\n    padding: theme.spacing(4),\r\n}));\r\nconst DialogSectionBox = ({ children, title }) => {\r\n    return (React.createElement(Grid, { mb: 4 },\r\n        React.createElement(SectionTitle, null, title),\r\n        React.createElement(Divider, null),\r\n        children));\r\n};\n\nconst PlanTitle$1 = styled(Box)(({ theme }) => ({\r\n    color: theme.palette.grey[800],\r\n    fontWeight: 800,\r\n    fontSize: theme.typography.pxToRem(16),\r\n    lineHeight: theme.typography.pxToRem(24),\r\n    marginBottom: theme.spacing(3),\r\n}));\r\nconst PlanSubtitle = styled(Box)(({ theme }) => ({\r\n    color: theme.palette.grey[700],\r\n    fontWeight: 600,\r\n    fontSize: theme.typography.pxToRem(12),\r\n    lineHeight: theme.typography.pxToRem(16),\r\n}));\r\nconst PlanPrice$1 = styled(Box)(({ theme }) => ({\r\n    color: theme.palette.grey[800],\r\n    fontWeight: 800,\r\n    fontSize: theme.typography.pxToRem(20),\r\n    lineHeight: theme.typography.pxToRem(24),\r\n    marginBottom: theme.spacing(3),\r\n    textAlign: 'end',\r\n}));\r\nconst PlanPriceInterval = styled(Box)(({ theme }) => ({\r\n    color: theme.palette.grey[700],\r\n    fontWeight: 600,\r\n    fontSize: theme.typography.pxToRem(12),\r\n    lineHeight: theme.typography.pxToRem(16),\r\n    textAlign: 'end',\r\n}));\r\nconst CheckoutSubscriptionPlanDetails = ({ title, subTitle, price, planInterval, }) => {\r\n    const t = useT('subscriptions_Checkout');\r\n    return (React.createElement(DialogSectionBox, { title: t('selectedPlan') },\r\n        React.createElement(Grid, { container: true, p: 4, mt: 4, justifyContent: 'space-between' },\r\n            React.createElement(Grid, { item: true },\r\n                React.createElement(PlanTitle$1, null, title),\r\n                React.createElement(PlanSubtitle, null,\r\n                    React.createElement(TextBreakLine, { text: subTitle }))),\r\n            React.createElement(Grid, { item: true, display: 'none' },\r\n                React.createElement(PlanPrice$1, null, `${price}`),\r\n                React.createElement(PlanPriceInterval, null, planInterval === 'month' ? 'per each month' : 'per each month')))));\r\n};\n\nconst CheckoutDialogDetails = ({ planId }) => {\r\n    const t = useT('subscriptions_Billing');\r\n    const { plans } = usePlans();\r\n    const plan = react.exports.useMemo(() => plans.find((item) => item.id === planId), [plans, planId]);\r\n    if (!plan) {\r\n        return null;\r\n    }\r\n    const price = `${toCurrencySymbol(plan.currency)}${toPriceDisplay(plan.price)}`;\r\n    return (React.createElement(CheckoutSubscriptionPlanDetails, { title: plan.name, subTitle: plan.description || `${price} • ${t('monthly')}`, price: price, planInterval: t('intervalTitle', { interval: t('intervalMonth') }) }));\r\n};\n\nconst StripeElementProvider = ({ stripeKey, children }) => {\r\n    const loadStripePromise = react.exports.useMemo(() => pure.loadStripe(stripeKey), [stripeKey]);\r\n    return (React.createElement(Elements, { stripe: loadStripePromise },\r\n        React.createElement(ElementsConsumer, null, ({ stripe, elements }) => {\r\n            if (!stripe || !elements) {\r\n                return React.createElement(Loader$1, null);\r\n            }\r\n            return children;\r\n        })));\r\n};\n\nconst StripeFormLabel = styled(FormLabel$1) `\n  color: ${UI.palette('grey.800')};\n  font-size: ${({ theme }) => theme.typography.pxToRem(14)};\n  line-height: ${({ theme }) => theme.typography.pxToRem(16)};\n  font-weight: 600;\n  margin-bottom: ${UI.spacing(2)};\n`;\r\nconst StripeTextField = styled(TextField$1) `\n  width: 100%;\n`;\r\nconst StripeInputWrapper = styled('div')(({ theme }) => ({\r\n    color: theme.palette.grey[800],\r\n    border: `1px solid ${theme.palette.grey[400]}`,\r\n    boxShadow: `inset 0px 1px 0px ${theme.palette.grey[200]}`,\r\n    borderRadius: theme.spacing(1),\r\n}));\r\nconst classes = {\r\n    base: 'stripe-input-class-base',\r\n    focus: 'stripe-input-class-focused',\r\n    empty: 'stripe-input-class-empty',\r\n    invalid: 'stripe-input-class-invalid',\r\n};\r\nconst StripeForm = ({ disabled, cardHolderNameFieldRef, onValidChange }) => {\r\n    const t = useT('subscriptions_Checkout');\r\n    const theme = useTheme();\r\n    const [validation, setValidation] = react.exports.useState({\r\n        cardHolderName: false,\r\n        cardNumber: false,\r\n        cardExpiryDate: false,\r\n        cardCvc: false,\r\n    });\r\n    const isFormValid = Object.values(validation).every((item) => item);\r\n    react.exports.useEffect(() => {\r\n        onValidChange(isFormValid);\r\n    }, [onValidChange, isFormValid]);\r\n    const setValidationField = (key, value) => {\r\n        setValidation((prevState) => (Object.assign(Object.assign({}, prevState), { [key]: value })));\r\n    };\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(RenderAsSlot, { name: 'StripeStyle' },\r\n            React.createElement(\"style\", null, `\n            .${classes.base} {\n              height: unset;\n              padding: ${theme.spacing(2.5)} ${theme.spacing(4)};\n              font-weight: bold;\n              font-size: ${theme.typography.body1.fontSize};\n              font-family: ${theme.typography.body1.fontFamily};\n              line-height: ${theme.typography.body1.lineHeight}\n              color: ${theme.palette.grey[800]};\n              box-shadow: inset 0px 1px 0px ${theme.palette.grey[100]};\n            }\n            .${classes.base}:hover {\n              box-shadow: none;\n              outline-color:  #889DB8;\n              outline-style: solid;\n              outline-width: 2px;\n              outline-offset: 0px;\n            }\n            .${classes.empty} {\n              color: ${theme.palette.grey[100]} !important;\n            }\n            .${classes.empty} input::placeholder {\n              color: ${theme.palette.grey[100]} !important;\n            }\n            .${classes.invalid} {\n              color: ${theme.palette.error.main};\n              border: 1px solid ${theme.palette.error.main};\n            }\n            .${classes.invalid}:hover {\n              color: ${theme.palette.error.main};\n              border-color: ${theme.palette.error.main};\n              outline-color: ${theme.palette.error.main};\n            }\n        `)),\r\n        React.createElement(Grid, { container: true, padding: 0, direction: 'column' },\r\n            React.createElement(Grid, { item: true, mb: 4 },\r\n                React.createElement(StripeFormLabel, { \"data-test-id\": \"nameOnCardBox\" }, t('nameOnCard')),\r\n                React.createElement(StripeTextField, { \"data-test-id\": \"NameOnCardBox\", inputRef: cardHolderNameFieldRef, disabled: disabled, placeholder: 'Enter your name', name: 'cardHolderName', onChange: (event) => {\r\n                        setValidationField('cardHolderName', !!event.currentTarget.value && event.currentTarget.value.length > 0);\r\n                    } })),\r\n            React.createElement(Grid, { item: true, mb: 4 },\r\n                React.createElement(StripeFormLabel, null, t('cardNumber')),\r\n                React.createElement(StripeInputWrapper, null,\r\n                    React.createElement(RenderAsSlot, { name: 'CardNumberElement' },\r\n                        React.createElement(CardNumberElement, { \"data-test-id\": \"cardNumberBox\", onChange: (event) => {\r\n                                setValidationField('cardNumber', event.complete);\r\n                            }, options: {\r\n                                disabled,\r\n                                placeholder: '0000 0000 0000 0000',\r\n                                classes,\r\n                            } })))),\r\n            React.createElement(Grid, { item: true, container: true, mb: 4, spacing: 4 },\r\n                React.createElement(Grid, { item: true, xs: 6 },\r\n                    React.createElement(StripeFormLabel, null, t('expiryDate')),\r\n                    React.createElement(StripeInputWrapper, null,\r\n                        React.createElement(RenderAsSlot, { name: 'CardExpiryElement' },\r\n                            React.createElement(CardExpiryElement, { \"data-test-id\": \"cardExpiryBox\", onChange: (event) => {\r\n                                    setValidationField('cardExpiryDate', event.complete);\r\n                                }, options: {\r\n                                    classes,\r\n                                    disabled,\r\n                                    placeholder: 'MM / YY',\r\n                                } })))),\r\n                React.createElement(Grid, { item: true, xs: 6 },\r\n                    React.createElement(StripeFormLabel, null, t('cvc')),\r\n                    React.createElement(StripeInputWrapper, null,\r\n                        React.createElement(RenderAsSlot, { name: 'CardCardCvc' },\r\n                            React.createElement(CardCvcElement, { \"data-test-id\": \"cardCvcBox\", onChange: (event) => {\r\n                                    setValidationField('cardCvc', event.complete);\r\n                                }, options: {\r\n                                    classes,\r\n                                    disabled,\r\n                                    placeholder: 'CVC Security Number',\r\n                                } }))))))));\r\n};\n\nconst BoxLoader = ({ height }) => {\r\n    return (React.createElement(Grid, { height: height || 220, container: true, alignContent: 'center', justifyContent: 'center' },\r\n        React.createElement(Loader$1, null)));\r\n};\n\nconst StripePaymentMethodForm = (_a) => {\r\n    var { mode, apiKey } = _a, rest = __rest(_a, [\"mode\", \"apiKey\"]);\r\n    const { paymentMethod } = usePaymentMethod();\r\n    const { cardSetupIntentSecret, error, loading } = useStripeState();\r\n    const { createCardSetupIntentSecret } = useStripeActions();\r\n    react.exports.useEffect(() => {\r\n        if (mode === 'create') {\r\n            createCardSetupIntentSecret(null);\r\n        }\r\n        else {\r\n            createCardSetupIntentSecret((paymentMethod === null || paymentMethod === void 0 ? void 0 : paymentMethod.id) || null);\r\n        }\r\n    }, []);\r\n    if (error) {\r\n        // TODO\r\n        return null;\r\n    }\r\n    if (loading || !cardSetupIntentSecret) {\r\n        return React.createElement(BoxLoader, { height: 250 });\r\n    }\r\n    return (React.createElement(StripeElementProvider, { stripeKey: apiKey },\r\n        React.createElement(PaymentMethodForm$1, Object.assign({ cardSetupIntentSecret: cardSetupIntentSecret }, rest))));\r\n};\r\nconst PaymentMethodForm$1 = ({ cardSetupIntentSecret, disabled, onSubmit, onError, onSuccess, }) => {\r\n    const t = useT('subscriptions_Billing');\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n    const { setValid, registerSubmit, unregisterSubmit } = useSubscriptionFormContext();\r\n    const cardHolderNameFieldRef = react.exports.useRef(null);\r\n    const handleSubmit = react.exports.useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\r\n        var _a;\r\n        if (!stripe || !elements) {\r\n            return;\r\n        }\r\n        const cardNumber = elements.getElement(CardNumberElement);\r\n        const cardNameHolder = (_a = cardHolderNameFieldRef.current) === null || _a === void 0 ? void 0 : _a.value;\r\n        if (!cardNameHolder || !cardNumber) {\r\n            return;\r\n        }\r\n        onSubmit();\r\n        try {\r\n            const { error, setupIntent } = yield stripe.confirmCardSetup(cardSetupIntentSecret, {\r\n                payment_method: {\r\n                    card: cardNumber,\r\n                    //TODO: add metadata\r\n                    // metadata: {}\r\n                    billing_details: {\r\n                        name: cardNameHolder,\r\n                    },\r\n                },\r\n            });\r\n            if (error) {\r\n                onError(t('confirmError', { error: error.message, code: error.code }));\r\n                return;\r\n            }\r\n            if ((setupIntent === null || setupIntent === void 0 ? void 0 : setupIntent.status) === 'succeeded' && setupIntent.payment_method) {\r\n                onSuccess(setupIntent.payment_method);\r\n            }\r\n            else {\r\n                onError(t('invalidCardStatusError', { status: setupIntent === null || setupIntent === void 0 ? void 0 : setupIntent.status }));\r\n            }\r\n        }\r\n        catch (e) {\r\n            console.debug('Failed to process payment method', e);\r\n            onError(t('confirmGenericError'));\r\n        }\r\n    }), [t, stripe, elements, onSubmit, cardSetupIntentSecret, onError, onSuccess]);\r\n    const handleValidation = react.exports.useCallback((status) => {\r\n        setValid(status);\r\n    }, [setValid]);\r\n    react.exports.useEffect(() => {\r\n        registerSubmit(handleSubmit);\r\n        return () => {\r\n            unregisterSubmit();\r\n        };\r\n    }, [registerSubmit, unregisterSubmit, handleSubmit]);\r\n    return react.exports.useMemo(() => (React.createElement(StripeForm, { cardHolderNameFieldRef: cardHolderNameFieldRef, disabled: disabled, onValidChange: handleValidation })), [cardHolderNameFieldRef, disabled, handleValidation]);\r\n};\n\nconst PaymentMethodForm = ({ mode, disabled, onError, onSuccess, onSubmit }) => {\r\n    const { config } = usePaymentProvider();\r\n    if ((config === null || config === void 0 ? void 0 : config.paymentProvider) === PaymentProvider.STRIPE) {\r\n        const { apiKey } = config;\r\n        return (React.createElement(StripePaymentMethodForm, { mode: mode, disabled: disabled, apiKey: apiKey, onError: onError, onSuccess: onSuccess, onSubmit: onSubmit }));\r\n    }\r\n    else {\r\n        // TODO error or cancel action\r\n        return null;\r\n    }\r\n};\n\nconst cardBrandIcons = {\r\n    visa: VisaCardIcon,\r\n    amex: AmericanExpressIcon,\r\n    mastercard: MasterCardIcon,\r\n    diners: DinersCardIcon,\r\n    unknown: GenericCardIcon\r\n};\n\nconst UpdatePaymentMethod = styled(Grid)(({ theme, disabled }) => ({\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    cursor: disabled ? 'default' : 'pointer',\r\n    svg: {\r\n        marginLeft: '24px',\r\n        width: '0.75rem',\r\n        height: '0.75rem',\r\n        color: theme.palette.grey[500],\r\n    },\r\n}));\r\nconst CardInfo = styled(Grid) `\n  display: flex;\n  align-items: center;\n\n  svg {\n    width: 2.5rem;\n    height: 1.5rem;\n  }\n`;\r\nconst PaymentMethodSelect = ({ disabled, onUpdate, brand, last4, expMonth, expYear, }) => {\r\n    const t = useT('subscriptions');\r\n    const BankIcon = react.exports.useMemo(() => cardBrandIcons[brand || 'unknown'], [brand]);\r\n    const handleUpdate = react.exports.useCallback(() => {\r\n        if (!disabled && onUpdate) {\r\n            onUpdate();\r\n        }\r\n    }, [disabled, onUpdate]);\r\n    return (React.createElement(Grid, { container: true, justifyContent: 'space-between', alignItems: 'center', alignContent: 'center', p: 0 },\r\n        React.createElement(Grid, { item: true },\r\n            React.createElement(CardInfo, { item: true },\r\n                React.createElement(BankIcon, null),\r\n                last4 && (React.createElement(Typography$1, { variant: 'label', ml: 4 },\r\n                    \"\\u2022\\u2022\\u2022\\u2022 \",\r\n                    last4)))),\r\n        React.createElement(Grid, { item: true, xs: true }, expMonth && expYear && (React.createElement(Typography$1, { variant: 'tableStandardCell', textAlign: 'center' },\r\n            t('expires'),\r\n            \" \",\r\n            expMonth,\r\n            \"/\",\r\n            expYear))),\r\n        React.createElement(Grid, { item: true }, onUpdate && (React.createElement(UpdatePaymentMethod, { \"data-test-id\": 'updatePaymentMethodBtn', item: true, onClick: handleUpdate, disabled: disabled },\r\n            React.createElement(Typography$1, { variant: 'body1' }, t('updatePaymentMethod')),\r\n            \" \",\r\n            React.createElement(EditIcon, null))))));\r\n};\n\nconst CheckoutDialogPaymentMethod = ({ shouldCreatePaymentMethod, handleForcePaymentMethodCreation, planId, }) => {\r\n    const t = useT('subscriptions_Billing');\r\n    const { loading } = useCheckout();\r\n    const { paymentMethod } = usePaymentMethod();\r\n    const { confirmCheckout, errorCheckout, submitCheckout } = useCheckoutActions();\r\n    const handleError = react.exports.useCallback((error) => {\r\n        errorCheckout(error);\r\n    }, [errorCheckout]);\r\n    const handleSubmit = react.exports.useCallback(() => {\r\n        submitCheckout();\r\n    }, [submitCheckout]);\r\n    const handleConfirmPaymentMethod = react.exports.useCallback((newPaymentMethodId) => {\r\n        confirmCheckout({ paymentMethodId: newPaymentMethodId, planId });\r\n    }, [confirmCheckout, planId]);\r\n    return (React.createElement(DialogSectionBox, { title: t('paymentMethod') },\r\n        React.createElement(Grid, { pt: 8, pb: 2, p: 4 }, shouldCreatePaymentMethod ? (React.createElement(PaymentMethodForm, { disabled: loading, mode: paymentMethod ? 'update' : 'create', onError: handleError, onSubmit: handleSubmit, onSuccess: handleConfirmPaymentMethod })) : (React.createElement(PaymentMethodSelect, { disabled: loading, brand: paymentMethod.brand, last4: paymentMethod.last4, onUpdate: handleForcePaymentMethodCreation })))));\r\n};\n\nconst CheckoutDialogBody = ({ planId, onClose, onSuccess, onError }) => {\r\n    const { paymentMethod } = usePaymentMethod();\r\n    const [forceNewPaymentMethod, setForcePaymentMethod] = react.exports.useState(!paymentMethod);\r\n    const { confirmed, error } = useCheckout();\r\n    const { loadCheckout, resetCheckout } = useCheckoutActions();\r\n    react.exports.useEffect(() => {\r\n        loadCheckout();\r\n        return () => {\r\n            resetCheckout();\r\n        };\r\n    }, [loadCheckout, resetCheckout]);\r\n    react.exports.useEffect(() => {\r\n        if (confirmed) {\r\n            resetCheckout();\r\n            onSuccess();\r\n        }\r\n    }, [confirmed, onSuccess, resetCheckout]);\r\n    react.exports.useEffect(() => {\r\n        if (error) {\r\n            resetCheckout();\r\n            onError(error);\r\n        }\r\n    }, [error, onError, resetCheckout]);\r\n    const handleForcePaymentMethodCreation = react.exports.useCallback(() => {\r\n        setForcePaymentMethod(true);\r\n    }, [setForcePaymentMethod]);\r\n    const handleClose = react.exports.useCallback(() => {\r\n        resetCheckout();\r\n        onClose();\r\n    }, [resetCheckout, onClose]);\r\n    return (React.createElement(SubscriptionFormContextProvider, null,\r\n        React.createElement(Dialog$1.Body, { noPadding: true },\r\n            React.createElement(CheckoutDialogError, null),\r\n            React.createElement(CheckoutDialogDetails, { planId: planId }),\r\n            React.createElement(CheckoutDialogPaymentMethod, { planId: planId, shouldCreatePaymentMethod: forceNewPaymentMethod, handleForcePaymentMethodCreation: handleForcePaymentMethodCreation })),\r\n        React.createElement(Dialog$1.Footer, null,\r\n            React.createElement(CheckoutDialogFooter, { planId: planId, onCancel: handleClose, shouldCreatePaymentMethod: forceNewPaymentMethod }))));\r\n};\n\nconst AuthWrapper = ({ children }) => {\r\n    const { isLoading, isAuthenticated } = useAuth(({ isLoading, isAuthenticated, tenantsState: { loading, tenants } }) => ({\r\n        isLoading: isLoading || (loading && tenants.length === 0),\r\n        isAuthenticated,\r\n    }));\r\n    const { loading: loadingPolicy } = usePublicPolicySettings$1();\r\n    const { injector, basename = '', urlStrategy } = useShadowDom();\r\n    const routes = useAuthRoutes();\r\n    react.exports.useEffect(() => {\r\n        if (!isLoading && !isAuthenticated) {\r\n            const calculatedBasename = basename.endsWith('/') ? basename.substring(0, basename.length - 1) : '';\r\n            if (injector) {\r\n                injector === null || injector === void 0 ? void 0 : injector.hideCheckoutDialog();\r\n            }\r\n            const path = calculatedBasename + routes.loginUrl;\r\n            if (urlStrategy === 'path' && injector) {\r\n                window.location.href = path;\r\n            }\r\n            else {\r\n                window.location.hash = `#${path}`;\r\n            }\r\n        }\r\n    }, [isLoading, isAuthenticated, routes, injector, urlStrategy, basename]);\r\n    return React.createElement(React.Fragment, null, !isLoading && !loadingPolicy && children);\r\n};\n\nconst CheckoutDialogSkeleton = () => {\r\n    return React.createElement(BoxLoader, { height: 450 });\r\n};\n\nconst PaymentProviderWrapper = ({ children }) => {\r\n    const { fetching } = usePaymentProvider();\r\n    const { loadPaymentConfiguration } = usePaymentProviderActions();\r\n    react.exports.useEffect(() => {\r\n        loadPaymentConfiguration();\r\n    }, [loadPaymentConfiguration]);\r\n    if (fetching) {\r\n        return React.createElement(CheckoutDialogSkeleton, null);\r\n    }\r\n    return React.createElement(React.Fragment, null, children);\r\n};\n\nconst SubscriptionsWrapper = ({ children }) => {\r\n    const { fetching: fetchingBillingInformation } = useBillingInformation();\r\n    const { fetching: fetchingPlans } = usePlans();\r\n    const { fetching: fetchingPaymentMethod } = usePaymentMethod();\r\n    const { fetching: fetchingVendorPublicConfig } = useVendorPublicConfig();\r\n    const { loadBillingInformation } = useBillingInformationActions();\r\n    const { loadPlans } = usePlansActions();\r\n    const { loadPaymentMethod } = usePaymentMethodActions();\r\n    const { loadVendorPublicConfiguration } = useVendorPublicConfigActions();\r\n    react.exports.useEffect(() => {\r\n        loadBillingInformation();\r\n        loadPlans();\r\n        loadPaymentMethod();\r\n        loadVendorPublicConfiguration();\r\n    }, [loadBillingInformation, loadPlans, loadPaymentMethod, loadVendorPublicConfiguration]);\r\n    if (fetchingBillingInformation || fetchingPlans || fetchingPaymentMethod || fetchingVendorPublicConfig) {\r\n        return React.createElement(CheckoutDialogSkeleton, null);\r\n    }\r\n    return React.createElement(React.Fragment, null, children);\r\n};\n\nconst CheckoutDialogAppContent = ({ plan: planSlug, onClose, onError, onSuccess, }) => {\r\n    const t = useT('subscriptions_CheckoutDialog');\r\n    const { plans } = usePlans();\r\n    const planId = react.exports.useMemo(() => { var _a; return planSlug && ((_a = plans.find((plan) => plan.slug === planSlug)) === null || _a === void 0 ? void 0 : _a.id); }, [planSlug, plans]);\r\n    if (!planId) {\r\n        return (React.createElement(Grid, { p: 4 },\r\n            React.createElement(Alert$1, { \"data-test-id\": 'checkoutDialogPlanNotFound', severity: 'error' }, t('errorPlanNotFound'))));\r\n    }\r\n    return React.createElement(CheckoutDialogBody, { planId: planId, onSuccess: onSuccess, onError: onError, onClose: onClose });\r\n};\r\nconst CheckoutDialogApp = ({ plan, onClose, onError, onSuccess }) => {\r\n    const t = useT('subscriptions');\r\n    const { injector } = useShadowDom();\r\n    const hideDialogWithTimeout = react.exports.useCallback(() => {\r\n        setTimeout(() => {\r\n            injector === null || injector === void 0 ? void 0 : injector.hideCheckoutDialog();\r\n        }, 200);\r\n    }, [injector]);\r\n    const handleClose = react.exports.useCallback(() => {\r\n        onClose === null || onClose === void 0 ? void 0 : onClose();\r\n        hideDialogWithTimeout();\r\n    }, [onClose, hideDialogWithTimeout]);\r\n    const handleSuccess = react.exports.useCallback(() => {\r\n        onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\r\n        hideDialogWithTimeout();\r\n    }, [onSuccess, hideDialogWithTimeout]);\r\n    const handleError = react.exports.useCallback((msg) => {\r\n        onError === null || onError === void 0 ? void 0 : onError(msg);\r\n        hideDialogWithTimeout();\r\n    }, [onError, hideDialogWithTimeout]);\r\n    return (React.createElement(Dialog$1, { open: true, onClose: handleClose, container: injector === null || injector === void 0 ? void 0 : injector.checkoutDialogEl, title: t('dialogCheckoutTitle'), onBackdropClick: handleClose },\r\n        React.createElement(PaymentProviderWrapper, null,\r\n            React.createElement(SubscriptionsWrapper, null,\r\n                React.createElement(CheckoutDialogAppContent, { plan: plan, onClose: handleClose, onSuccess: handleSuccess, onError: handleError })))));\r\n};\n\nconst AppWrapper = ({ children }) => {\r\n    const { isShadowDom, injector } = useShadowDom();\r\n    react.exports.useEffect(() => {\r\n        document.addEventListener('focus', shadowFocusHandler, true);\r\n        const oldDocumentBodyOverflow = document.body.style.overflow;\r\n        document.body.style.overflow = 'hidden';\r\n        return () => {\r\n            document.removeEventListener('focus', shadowFocusHandler, true);\r\n            document.body.style.overflow = oldDocumentBodyOverflow;\r\n            window.history.pushState('', document.title, window.location.pathname);\r\n        };\r\n    }, []);\r\n    const { calculatedTheme, theme, overrides } = initGlobalTheme(true);\r\n    return (React.createElement(I18nProvider$1, null,\r\n        React.createElement(GlobalThemeProvider, { theme: calculatedTheme, isShadowDom: isShadowDom },\r\n            React.createElement(ThemeContext.Provider, { value: { theme, overrides } },\r\n                React.createElement(InnerThemeProvider, { themeOptionKey: 'adminPortal' },\r\n                    React.createElement(Provider, { context: FronteggStoreContext, store: injector.store },\r\n                        React.createElement(AuthWrapper, null, children)))))));\r\n};\r\nconst CheckoutDialog$1 = (_a) => {\r\n    var _b, _c;\r\n    var { injector, options } = _a, dialogProps = __rest(_a, [\"injector\", \"options\"]);\r\n    return (React.createElement(ShadowDomContext.Provider, { value: Object.assign(Object.assign({ iframeRendering: false }, options), { injector, themeOptions: enhanceAdminBoxTheme((_b = options.metadata) !== null && _b !== void 0 ? _b : {}, (_c = options.themeOptions) !== null && _c !== void 0 ? _c : {}), slotsContainer: injector.checkoutDialogContainer, rootEl: injector.checkoutDialogEl }) },\r\n        React.createElement(AppWrapper, null,\r\n            React.createElement(CheckoutDialogApp, Object.assign({}, dialogProps)))));\r\n};\n\nfunction _setPrototypeOf$1(o, p) {\n  _setPrototypeOf$1 = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf$1(o, p);\n}\n\nfunction _inheritsLoose$1(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf$1(subClass, superClass);\n}\n\nfunction _extends$2() {\n  _extends$2 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$2.apply(this, arguments);\n}\n\nfunction isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n}\n\n// About 1.5x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n}\n\n// This implementation is based heavily on node's url.parse\nfunction resolvePathname(to, from) {\n  if (from === undefined) from = '';\n\n  var toParts = (to && to.split('/')) || [];\n  var fromParts = (from && from.split('/')) || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) fromParts.unshift('..');\n\n  if (\n    mustEndAbs &&\n    fromParts[0] !== '' &&\n    (!fromParts[0] || !isAbsolute(fromParts[0]))\n  )\n    fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n}\n\nfunction valueOf(obj) {\n  return obj.valueOf ? obj.valueOf() : Object.prototype.valueOf.call(obj);\n}\n\nfunction valueEqual(a, b) {\n  // Test for strict equality first.\n  if (a === b) return true;\n\n  // Otherwise, if either of them == null they are not equal.\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) {\n    return (\n      Array.isArray(b) &&\n      a.length === b.length &&\n      a.every(function(item, index) {\n        return valueEqual(item, b[index]);\n      })\n    );\n  }\n\n  if (typeof a === 'object' || typeof b === 'object') {\n    var aValue = valueOf(a);\n    var bValue = valueOf(b);\n\n    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);\n\n    return Object.keys(Object.assign({}, a, b)).every(function(key) {\n      return valueEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n\nvar isProduction = \"production\" === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    throw new Error(prefix + \": \" + (message || ''));\n}\n\nfunction addLeadingSlash$1(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n}\nfunction stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n}\nfunction hasBasename(path, prefix) {\n  return path.toLowerCase().indexOf(prefix.toLowerCase()) === 0 && '/?#'.indexOf(path.charAt(prefix.length)) !== -1;\n}\nfunction stripBasename$1(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n}\nfunction stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n}\nfunction parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n  var hashIndex = pathname.indexOf('#');\n\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n}\nfunction createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n  var path = pathname || '/';\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : \"?\" + search;\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : \"#\" + hash;\n  return path;\n}\n\nfunction createLocation(path, state, key, currentLocation) {\n  var location;\n\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = parsePath(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends$2({}, path);\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = resolvePathname(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n}\nfunction locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && valueEqual(a.state, b.state);\n}\n\nfunction createTransitionManager() {\n  var prompt = null;\n\n  function setPrompt(nextPrompt) {\n    prompt = nextPrompt;\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  }\n\n  function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  }\n\n  var listeners = [];\n\n  function appendListener(fn) {\n    var isActive = true;\n\n    function listener() {\n      if (isActive) fn.apply(void 0, arguments);\n    }\n\n    listeners.push(listener);\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }\n\n  function notifyListeners() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(void 0, args);\n    });\n  }\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction getConfirmation(message, callback) {\n  callback(window.confirm(message)); // eslint-disable-line no-alert\n}\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\n\nfunction supportsHistory() {\n  var ua = window.navigator.userAgent;\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n  return window.history && 'pushState' in window.history;\n}\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\n\nfunction supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n}\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\n\nfunction supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n}\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\n\nfunction isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n}\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nfunction getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n}\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\n\n\nfunction createBrowserHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canUseHistory = supportsHistory();\n  var needsHashChangeListener = !supportsPopStateOnHashChange();\n  var _props = props,\n      _props$forceRefresh = _props.forceRefresh,\n      forceRefresh = _props$forceRefresh === void 0 ? false : _props$forceRefresh,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash$1(props.basename)) : '';\n\n  function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n    var path = pathname + search + hash;\n    if (basename) path = stripBasename$1(path, basename);\n    return createLocation(path, state, key);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends$2(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if (isExtraneousPopstateEvent(event)) return;\n    handlePop(getDOMLocation(event.state));\n  }\n\n  function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  }\n\n  var forceNextPop = false;\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  }\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key]; // Public interface\n\n  function createHref(location) {\n    return basename + createPath(location);\n  }\n\n  function push(path, state) {\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.pushState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex + 1);\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        window.location.href = href;\n      }\n    });\n  }\n\n  function replace(path, state) {\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.replaceState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        window.location.replace(href);\n      }\n    });\n  }\n\n  function go(n) {\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.addEventListener(HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.removeEventListener(HashChangeEvent, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nvar HashChangeEvent$1 = 'hashchange';\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path);\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substr(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: stripLeadingSlash,\n    decodePath: addLeadingSlash$1\n  },\n  slash: {\n    encodePath: addLeadingSlash$1,\n    decodePath: addLeadingSlash$1\n  }\n};\n\nfunction stripHash(url) {\n  var hashIndex = url.indexOf('#');\n  return hashIndex === -1 ? url : url.slice(0, hashIndex);\n}\n\nfunction getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n}\n\nfunction pushHashPath(path) {\n  window.location.hash = path;\n}\n\nfunction replaceHashPath(path) {\n  window.location.replace(stripHash(window.location.href) + '#' + path);\n}\n\nfunction createHashHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? invariant(false) : void 0;\n  var globalHistory = window.history;\n  supportsGoWithoutReloadUsingHash();\n  var _props = props,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$hashType = _props.hashType,\n      hashType = _props$hashType === void 0 ? 'slash' : _props$hashType;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash$1(props.basename)) : '';\n  var _HashPathCoders$hashT = HashPathCoders[hashType],\n      encodePath = _HashPathCoders$hashT.encodePath,\n      decodePath = _HashPathCoders$hashT.decodePath;\n\n  function getDOMLocation() {\n    var path = decodePath(getHashPath());\n    if (basename) path = stripBasename$1(path, basename);\n    return createLocation(path);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends$2(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  var forceNextPop = false;\n  var ignorePath = null;\n\n  function locationsAreEqual$$1(a, b) {\n    return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash;\n  }\n\n  function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var location = getDOMLocation();\n      var prevLocation = history.location;\n      if (!forceNextPop && locationsAreEqual$$1(prevLocation, location)) return; // A hashchange doesn't always == location change.\n\n      if (ignorePath === createPath(location)) return; // Ignore this change; we already setState in push/replace.\n\n      ignorePath = null;\n      handlePop(location);\n    }\n  }\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    var toIndex = allPaths.lastIndexOf(createPath(toLocation));\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allPaths.lastIndexOf(createPath(fromLocation));\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  } // Ensure the hash is encoded properly before doing anything else.\n\n\n  var path = getHashPath();\n  var encodedPath = encodePath(path);\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n  var initialLocation = getDOMLocation();\n  var allPaths = [createPath(initialLocation)]; // Public interface\n\n  function createHref(location) {\n    var baseTag = document.querySelector('base');\n    var href = '';\n\n    if (baseTag && baseTag.getAttribute('href')) {\n      href = stripHash(window.location.href);\n    }\n\n    return href + '#' + encodePath(basename + createPath(location));\n  }\n\n  function push(path, state) {\n    var action = 'PUSH';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a PUSH, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        pushHashPath(encodedPath);\n        var prevIndex = allPaths.lastIndexOf(createPath(history.location));\n        var nextPaths = allPaths.slice(0, prevIndex + 1);\n        nextPaths.push(path);\n        allPaths = nextPaths;\n        setState({\n          action: action,\n          location: location\n        });\n      } else {\n        setState();\n      }\n    });\n  }\n\n  function replace(path, state) {\n    var action = 'REPLACE';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        replaceHashPath(encodedPath);\n      }\n\n      var prevIndex = allPaths.indexOf(createPath(history.location));\n      if (prevIndex !== -1) allPaths[prevIndex] = path;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(HashChangeEvent$1, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(HashChangeEvent$1, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nfunction clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n}\n/**\n * Creates a history object that stores locations in memory.\n */\n\n\nfunction createMemoryHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      getUserConfirmation = _props.getUserConfirmation,\n      _props$initialEntries = _props.initialEntries,\n      initialEntries = _props$initialEntries === void 0 ? ['/'] : _props$initialEntries,\n      _props$initialIndex = _props.initialIndex,\n      initialIndex = _props$initialIndex === void 0 ? 0 : _props$initialIndex,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends$2(history, nextState);\n\n    history.length = history.entries.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var index = clamp(initialIndex, 0, initialEntries.length - 1);\n  var entries = initialEntries.map(function (entry) {\n    return typeof entry === 'string' ? createLocation(entry, undefined, createKey()) : createLocation(entry, undefined, entry.key || createKey());\n  }); // Public interface\n\n  var createHref = createPath;\n\n  function push(path, state) {\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var prevIndex = history.index;\n      var nextIndex = prevIndex + 1;\n      var nextEntries = history.entries.slice(0);\n\n      if (nextEntries.length > nextIndex) {\n        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);\n      } else {\n        nextEntries.push(location);\n      }\n\n      setState({\n        action: action,\n        location: location,\n        index: nextIndex,\n        entries: nextEntries\n      });\n    });\n  }\n\n  function replace(path, state) {\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      history.entries[history.index] = location;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);\n    var action = 'POP';\n    var location = history.entries[nextIndex];\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (ok) {\n        setState({\n          action: action,\n          location: location,\n          index: nextIndex\n        });\n      } else {\n        // Mimic the behavior of DOM histories by\n        // causing a render after a cancelled POP.\n        setState();\n      }\n    });\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  function canGo(n) {\n    var nextIndex = history.index + n;\n    return nextIndex >= 0 && nextIndex < history.entries.length;\n  }\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    return transitionManager.setPrompt(prompt);\n  }\n\n  function listen(listener) {\n    return transitionManager.appendListener(listener);\n  }\n\n  var history = {\n    length: entries.length,\n    action: 'POP',\n    location: entries[index],\n    index: index,\n    entries: entries,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    canGo: canGo,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nvar MAX_SIGNED_31_BIT_INT = 1073741823;\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : {};\n\nfunction getUniqueId() {\n  var key = '__global_unique_id__';\n  return commonjsGlobal[key] = (commonjsGlobal[key] || 0) + 1;\n}\n\nfunction objectIs(x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n\nfunction createEventEmitter(value) {\n  var handlers = [];\n  return {\n    on: function on(handler) {\n      handlers.push(handler);\n    },\n    off: function off(handler) {\n      handlers = handlers.filter(function (h) {\n        return h !== handler;\n      });\n    },\n    get: function get() {\n      return value;\n    },\n    set: function set(newValue, changedBits) {\n      value = newValue;\n      handlers.forEach(function (handler) {\n        return handler(value, changedBits);\n      });\n    }\n  };\n}\n\nfunction onlyChild(children) {\n  return Array.isArray(children) ? children[0] : children;\n}\n\nfunction createReactContext(defaultValue, calculateChangedBits) {\n  var _Provider$childContex, _Consumer$contextType;\n\n  var contextProp = '__create-react-context-' + getUniqueId() + '__';\n\n  var Provider = /*#__PURE__*/function (_Component) {\n    _inheritsLoose$2(Provider, _Component);\n\n    function Provider() {\n      var _this;\n\n      _this = _Component.apply(this, arguments) || this;\n      _this.emitter = createEventEmitter(_this.props.value);\n      return _this;\n    }\n\n    var _proto = Provider.prototype;\n\n    _proto.getChildContext = function getChildContext() {\n      var _ref;\n\n      return _ref = {}, _ref[contextProp] = this.emitter, _ref;\n    };\n\n    _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      if (this.props.value !== nextProps.value) {\n        var oldValue = this.props.value;\n        var newValue = nextProps.value;\n        var changedBits;\n\n        if (objectIs(oldValue, newValue)) {\n          changedBits = 0;\n        } else {\n          changedBits = typeof calculateChangedBits === 'function' ? calculateChangedBits(oldValue, newValue) : MAX_SIGNED_31_BIT_INT;\n\n          changedBits |= 0;\n\n          if (changedBits !== 0) {\n            this.emitter.set(nextProps.value, changedBits);\n          }\n        }\n      }\n    };\n\n    _proto.render = function render() {\n      return this.props.children;\n    };\n\n    return Provider;\n  }(react.exports.Component);\n\n  Provider.childContextTypes = (_Provider$childContex = {}, _Provider$childContex[contextProp] = PropTypes.object.isRequired, _Provider$childContex);\n\n  var Consumer = /*#__PURE__*/function (_Component2) {\n    _inheritsLoose$2(Consumer, _Component2);\n\n    function Consumer() {\n      var _this2;\n\n      _this2 = _Component2.apply(this, arguments) || this;\n      _this2.state = {\n        value: _this2.getValue()\n      };\n\n      _this2.onUpdate = function (newValue, changedBits) {\n        var observedBits = _this2.observedBits | 0;\n\n        if ((observedBits & changedBits) !== 0) {\n          _this2.setState({\n            value: _this2.getValue()\n          });\n        }\n      };\n\n      return _this2;\n    }\n\n    var _proto2 = Consumer.prototype;\n\n    _proto2.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      var observedBits = nextProps.observedBits;\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT : observedBits;\n    };\n\n    _proto2.componentDidMount = function componentDidMount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].on(this.onUpdate);\n      }\n\n      var observedBits = this.props.observedBits;\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT : observedBits;\n    };\n\n    _proto2.componentWillUnmount = function componentWillUnmount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].off(this.onUpdate);\n      }\n    };\n\n    _proto2.getValue = function getValue() {\n      if (this.context[contextProp]) {\n        return this.context[contextProp].get();\n      } else {\n        return defaultValue;\n      }\n    };\n\n    _proto2.render = function render() {\n      return onlyChild(this.props.children)(this.state.value);\n    };\n\n    return Consumer;\n  }(react.exports.Component);\n\n  Consumer.contextTypes = (_Consumer$contextType = {}, _Consumer$contextType[contextProp] = PropTypes.object, _Consumer$contextType);\n  return {\n    Provider: Provider,\n    Consumer: Consumer\n  };\n}\n\nvar index = React.createContext || createReactContext;\n\nvar createContext = index;\n\nfunction _extends$1() {\n  _extends$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$1.apply(this, arguments);\n}\n\nvar pathToRegexp$2 = {exports: {}};\n\nvar isarray$1 = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\nvar isarray = isarray$1;\n\n/**\n * Expose `pathToRegexp`.\n */\npathToRegexp$2.exports = pathToRegexp;\npathToRegexp$2.exports.parse = parse;\npathToRegexp$2.exports.compile = compile;\npathToRegexp$2.exports.tokensToFunction = tokensToFunction;\npathToRegexp$2.exports.tokensToRegExp = tokensToRegExp;\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g');\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = [];\n  var key = 0;\n  var index = 0;\n  var path = '';\n  var defaultDelimiter = options && options.delimiter || '/';\n  var res;\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0];\n    var escaped = res[1];\n    var offset = res.index;\n    path += str.slice(index, offset);\n    index = offset + m.length;\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1];\n      continue\n    }\n\n    var next = str[index];\n    var prefix = res[2];\n    var name = res[3];\n    var capture = res[4];\n    var group = res[5];\n    var modifier = res[6];\n    var asterisk = res[7];\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path);\n      path = '';\n    }\n\n    var partial = prefix != null && next != null && next !== prefix;\n    var repeat = modifier === '+' || modifier === '*';\n    var optional = modifier === '?' || modifier === '*';\n    var delimiter = res[2] || defaultDelimiter;\n    var pattern = capture || group;\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')\n    });\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index);\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path);\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options), options)\n}\n\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeURIComponentPretty (str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeAsterisk (str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens, options) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length);\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$', flags(options));\n    }\n  }\n\n  return function (obj, opts) {\n    var path = '';\n    var data = obj || {};\n    var options = opts || {};\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent;\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === 'string') {\n        path += token;\n\n        continue\n      }\n\n      var value = data[token.name];\n      var segment;\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix;\n          }\n\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j]);\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment;\n        }\n\n        continue\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value);\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment;\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys;\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      });\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source);\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options));\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options);\n    keys = [];\n  }\n\n  options = options || {};\n\n  var strict = options.strict;\n  var end = options.end !== false;\n  var route = '';\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (typeof token === 'string') {\n      route += escapeString(token);\n    } else {\n      var prefix = escapeString(token.prefix);\n      var capture = '(?:' + token.pattern + ')';\n\n      keys.push(token);\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*';\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?';\n        } else {\n          capture = prefix + '(' + capture + ')?';\n        }\n      } else {\n        capture = prefix + '(' + capture + ')';\n      }\n\n      route += capture;\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/');\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter;\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?';\n  }\n\n  if (end) {\n    route += '$';\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)';\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys)\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options);\n    keys = [];\n  }\n\n  options = options || {};\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, /** @type {!Array} */ (keys))\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)\n}\n\nvar pathToRegexp$1 = pathToRegexp$2.exports;\n\nfunction _objectWithoutPropertiesLoose$1(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\n// TODO: Replace with React.createContext once we can assume React 16+\n\nvar createNamedContext = function createNamedContext(name) {\n  var context = createContext();\n  context.displayName = name;\n  return context;\n};\n\nvar historyContext =\n/*#__PURE__*/\ncreateNamedContext(\"Router-History\");\n\n// TODO: Replace with React.createContext once we can assume React 16+\n\nvar createNamedContext$1 = function createNamedContext(name) {\n  var context = createContext();\n  context.displayName = name;\n  return context;\n};\n\nvar context =\n/*#__PURE__*/\ncreateNamedContext$1(\"Router\");\n\n/**\n * The public API for putting history on context.\n */\n\nvar Router =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose$1(Router, _React$Component);\n\n  Router.computeRootMatch = function computeRootMatch(pathname) {\n    return {\n      path: \"/\",\n      url: \"/\",\n      params: {},\n      isExact: pathname === \"/\"\n    };\n  };\n\n  function Router(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.state = {\n      location: props.history.location\n    }; // This is a bit of a hack. We have to start listening for location\n    // changes here in the constructor in case there are any <Redirect>s\n    // on the initial render. If there are, they will replace/push when\n    // they mount and since cDM fires in children before parents, we may\n    // get a new location before the <Router> is mounted.\n\n    _this._isMounted = false;\n    _this._pendingLocation = null;\n\n    if (!props.staticContext) {\n      _this.unlisten = props.history.listen(function (location) {\n        if (_this._isMounted) {\n          _this.setState({\n            location: location\n          });\n        } else {\n          _this._pendingLocation = location;\n        }\n      });\n    }\n\n    return _this;\n  }\n\n  var _proto = Router.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._isMounted = true;\n\n    if (this._pendingLocation) {\n      this.setState({\n        location: this._pendingLocation\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.unlisten) this.unlisten();\n  };\n\n  _proto.render = function render() {\n    return React.createElement(context.Provider, {\n      value: {\n        history: this.props.history,\n        location: this.state.location,\n        match: Router.computeRootMatch(this.state.location.pathname),\n        staticContext: this.props.staticContext\n      }\n    }, React.createElement(historyContext.Provider, {\n      children: this.props.children || null,\n      value: this.props.history\n    }));\n  };\n\n  return Router;\n}(React.Component);\n\n/**\n * The public API for a <Router> that stores location in memory.\n */\n\n/*#__PURE__*/\n(function (_React$Component) {\n  _inheritsLoose$1(MemoryRouter, _React$Component);\n\n  function MemoryRouter() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.history = createMemoryHistory(_this.props);\n    return _this;\n  }\n\n  var _proto = MemoryRouter.prototype;\n\n  _proto.render = function render() {\n    return React.createElement(Router, {\n      history: this.history,\n      children: this.props.children\n    });\n  };\n\n  return MemoryRouter;\n})(React.Component);\n\nvar Lifecycle =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose$1(Lifecycle, _React$Component);\n\n  function Lifecycle() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Lifecycle.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.props.onMount) this.props.onMount.call(this, this);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.props.onUpdate) this.props.onUpdate.call(this, this, prevProps);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.props.onUnmount) this.props.onUnmount.call(this, this);\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return Lifecycle;\n}(React.Component);\n\nvar cache = {};\nvar cacheLimit = 10000;\nvar cacheCount = 0;\n\nfunction compilePath(path) {\n  if (cache[path]) return cache[path];\n  var generator = pathToRegexp$1.compile(path);\n\n  if (cacheCount < cacheLimit) {\n    cache[path] = generator;\n    cacheCount++;\n  }\n\n  return generator;\n}\n/**\n * Public API for generating a URL pathname from a path and parameters.\n */\n\n\nfunction generatePath(path, params) {\n  if (path === void 0) {\n    path = \"/\";\n  }\n\n  if (params === void 0) {\n    params = {};\n  }\n\n  return path === \"/\" ? path : compilePath(path)(params, {\n    pretty: true\n  });\n}\n\n/**\n * The public API for navigating programmatically with a component.\n */\n\nfunction Redirect(_ref) {\n  var computedMatch = _ref.computedMatch,\n      to = _ref.to,\n      _ref$push = _ref.push,\n      push = _ref$push === void 0 ? false : _ref$push;\n  return React.createElement(context.Consumer, null, function (context) {\n    !context ? invariant(false) : void 0;\n    var history = context.history,\n        staticContext = context.staticContext;\n    var method = push ? history.push : history.replace;\n    var location = createLocation(computedMatch ? typeof to === \"string\" ? generatePath(to, computedMatch.params) : _extends$1({}, to, {\n      pathname: generatePath(to.pathname, computedMatch.params)\n    }) : to); // When rendering in a static context,\n    // set the new location immediately.\n\n    if (staticContext) {\n      method(location);\n      return null;\n    }\n\n    return React.createElement(Lifecycle, {\n      onMount: function onMount() {\n        method(location);\n      },\n      onUpdate: function onUpdate(self, prevProps) {\n        var prevLocation = createLocation(prevProps.to);\n\n        if (!locationsAreEqual(prevLocation, _extends$1({}, location, {\n          key: prevLocation.key\n        }))) {\n          method(location);\n        }\n      },\n      to: to\n    });\n  });\n}\n\nvar cache$1 = {};\nvar cacheLimit$1 = 10000;\nvar cacheCount$1 = 0;\n\nfunction compilePath$1(path, options) {\n  var cacheKey = \"\" + options.end + options.strict + options.sensitive;\n  var pathCache = cache$1[cacheKey] || (cache$1[cacheKey] = {});\n  if (pathCache[path]) return pathCache[path];\n  var keys = [];\n  var regexp = pathToRegexp$1(path, keys, options);\n  var result = {\n    regexp: regexp,\n    keys: keys\n  };\n\n  if (cacheCount$1 < cacheLimit$1) {\n    pathCache[path] = result;\n    cacheCount$1++;\n  }\n\n  return result;\n}\n/**\n * Public API for matching a URL pathname to a path.\n */\n\n\nfunction matchPath(pathname, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (typeof options === \"string\" || Array.isArray(options)) {\n    options = {\n      path: options\n    };\n  }\n\n  var _options = options,\n      path = _options.path,\n      _options$exact = _options.exact,\n      exact = _options$exact === void 0 ? false : _options$exact,\n      _options$strict = _options.strict,\n      strict = _options$strict === void 0 ? false : _options$strict,\n      _options$sensitive = _options.sensitive,\n      sensitive = _options$sensitive === void 0 ? false : _options$sensitive;\n  var paths = [].concat(path);\n  return paths.reduce(function (matched, path) {\n    if (!path && path !== \"\") return null;\n    if (matched) return matched;\n\n    var _compilePath = compilePath$1(path, {\n      end: exact,\n      strict: strict,\n      sensitive: sensitive\n    }),\n        regexp = _compilePath.regexp,\n        keys = _compilePath.keys;\n\n    var match = regexp.exec(pathname);\n    if (!match) return null;\n    var url = match[0],\n        values = match.slice(1);\n    var isExact = pathname === url;\n    if (exact && !isExact) return null;\n    return {\n      path: path,\n      // the path used to match\n      url: path === \"/\" && url === \"\" ? \"/\" : url,\n      // the matched portion of the URL\n      isExact: isExact,\n      // whether or not we matched exactly\n      params: keys.reduce(function (memo, key, index) {\n        memo[key.name] = values[index];\n        return memo;\n      }, {})\n    };\n  }, null);\n}\n/**\n * The public API for matching a single path and rendering.\n */\n\n\nvar Route =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose$1(Route, _React$Component);\n\n  function Route() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Route.prototype;\n\n  _proto.render = function render() {\n    var _this = this;\n\n    return React.createElement(context.Consumer, null, function (context$1) {\n      !context$1 ? invariant(false) : void 0;\n      var location = _this.props.location || context$1.location;\n      var match = _this.props.computedMatch ? _this.props.computedMatch // <Switch> already computed the match for us\n      : _this.props.path ? matchPath(location.pathname, _this.props) : context$1.match;\n\n      var props = _extends$1({}, context$1, {\n        location: location,\n        match: match\n      });\n\n      var _this$props = _this.props,\n          children = _this$props.children,\n          component = _this$props.component,\n          render = _this$props.render; // Preact uses an empty array as children by\n      // default, so use null if that's the case.\n\n      if (Array.isArray(children) && children.length === 0) {\n        children = null;\n      }\n\n      return React.createElement(context.Provider, {\n        value: props\n      }, props.match ? children ? typeof children === \"function\" ? children(props) : children : component ? React.createElement(component, props) : render ? render(props) : null : typeof children === \"function\" ? children(props) : null);\n    });\n  };\n\n  return Route;\n}(React.Component);\n\nfunction addLeadingSlash(path) {\n  return path.charAt(0) === \"/\" ? path : \"/\" + path;\n}\n\nfunction addBasename(basename, location) {\n  if (!basename) return location;\n  return _extends$1({}, location, {\n    pathname: addLeadingSlash(basename) + location.pathname\n  });\n}\n\nfunction stripBasename(basename, location) {\n  if (!basename) return location;\n  var base = addLeadingSlash(basename);\n  if (location.pathname.indexOf(base) !== 0) return location;\n  return _extends$1({}, location, {\n    pathname: location.pathname.substr(base.length)\n  });\n}\n\nfunction createURL(location) {\n  return typeof location === \"string\" ? location : createPath(location);\n}\n\nfunction staticHandler(methodName) {\n  return function () {\n     invariant(false) ;\n  };\n}\n\nfunction noop() {}\n/**\n * The public top-level API for a \"static\" <Router>, so-called because it\n * can't actually change the current location. Instead, it just records\n * location changes in a context object. Useful mainly in testing and\n * server-rendering scenarios.\n */\n\n\n/*#__PURE__*/\n(function (_React$Component) {\n  _inheritsLoose$1(StaticRouter, _React$Component);\n\n  function StaticRouter() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.handlePush = function (location) {\n      return _this.navigateTo(location, \"PUSH\");\n    };\n\n    _this.handleReplace = function (location) {\n      return _this.navigateTo(location, \"REPLACE\");\n    };\n\n    _this.handleListen = function () {\n      return noop;\n    };\n\n    _this.handleBlock = function () {\n      return noop;\n    };\n\n    return _this;\n  }\n\n  var _proto = StaticRouter.prototype;\n\n  _proto.navigateTo = function navigateTo(location, action) {\n    var _this$props = this.props,\n        _this$props$basename = _this$props.basename,\n        basename = _this$props$basename === void 0 ? \"\" : _this$props$basename,\n        _this$props$context = _this$props.context,\n        context = _this$props$context === void 0 ? {} : _this$props$context;\n    context.action = action;\n    context.location = addBasename(basename, createLocation(location));\n    context.url = createURL(context.location);\n  };\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        _this$props2$basename = _this$props2.basename,\n        basename = _this$props2$basename === void 0 ? \"\" : _this$props2$basename,\n        _this$props2$context = _this$props2.context,\n        context = _this$props2$context === void 0 ? {} : _this$props2$context,\n        _this$props2$location = _this$props2.location,\n        location = _this$props2$location === void 0 ? \"/\" : _this$props2$location,\n        rest = _objectWithoutPropertiesLoose$1(_this$props2, [\"basename\", \"context\", \"location\"]);\n\n    var history = {\n      createHref: function createHref(path) {\n        return addLeadingSlash(basename + createURL(path));\n      },\n      action: \"POP\",\n      location: stripBasename(basename, createLocation(location)),\n      push: this.handlePush,\n      replace: this.handleReplace,\n      go: staticHandler(),\n      goBack: staticHandler(),\n      goForward: staticHandler(),\n      listen: this.handleListen,\n      block: this.handleBlock\n    };\n    return React.createElement(Router, _extends$1({}, rest, {\n      history: history,\n      staticContext: context\n    }));\n  };\n\n  return StaticRouter;\n})(React.Component);\n\n/**\n * The public API for rendering the first <Route> that matches.\n */\n\nvar Switch =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose$1(Switch, _React$Component);\n\n  function Switch() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Switch.prototype;\n\n  _proto.render = function render() {\n    var _this = this;\n\n    return React.createElement(context.Consumer, null, function (context) {\n      !context ? invariant(false) : void 0;\n      var location = _this.props.location || context.location;\n      var element, match; // We use React.Children.forEach instead of React.Children.toArray().find()\n      // here because toArray adds keys to all child elements and we do not want\n      // to trigger an unmount/remount for two <Route>s that render the same\n      // component at different URLs.\n\n      React.Children.forEach(_this.props.children, function (child) {\n        if (match == null && React.isValidElement(child)) {\n          element = child;\n          var path = child.props.path || child.props.from;\n          match = path ? matchPath(location.pathname, _extends$1({}, child.props, {\n            path: path\n          })) : context.match;\n        }\n      });\n      return match ? React.cloneElement(element, {\n        location: location,\n        computedMatch: match\n      }) : null;\n    });\n  };\n\n  return Switch;\n}(React.Component);\n\nvar useContext = React.useContext;\nfunction useHistory() {\n\n  return useContext(historyContext);\n}\nfunction useLocation() {\n\n  return useContext(context).location;\n}\nfunction useRouteMatch(path) {\n\n  var location = useLocation();\n  var match = useContext(context).match;\n  return path ? matchPath(location.pathname, path) : match;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\n/**\n * The public API for a <Router> that uses HTML5 history.\n */\n\n/*#__PURE__*/\n(function (_React$Component) {\n  _inheritsLoose(BrowserRouter, _React$Component);\n\n  function BrowserRouter() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.history = createBrowserHistory(_this.props);\n    return _this;\n  }\n\n  var _proto = BrowserRouter.prototype;\n\n  _proto.render = function render() {\n    return React.createElement(Router, {\n      history: this.history,\n      children: this.props.children\n    });\n  };\n\n  return BrowserRouter;\n})(React.Component);\n\n/**\n * The public API for a <Router> that uses window.location.hash.\n */\n\nvar HashRouter =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(HashRouter, _React$Component);\n\n  function HashRouter() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.history = createHashHistory(_this.props);\n    return _this;\n  }\n\n  var _proto = HashRouter.prototype;\n\n  _proto.render = function render() {\n    return React.createElement(Router, {\n      history: this.history,\n      children: this.props.children\n    });\n  };\n\n  return HashRouter;\n}(React.Component);\n\nvar resolveToLocation = function resolveToLocation(to, currentLocation) {\n  return typeof to === \"function\" ? to(currentLocation) : to;\n};\nvar normalizeToLocation = function normalizeToLocation(to, currentLocation) {\n  return typeof to === \"string\" ? createLocation(to, null, null, currentLocation) : to;\n};\n\nvar forwardRefShim = function forwardRefShim(C) {\n  return C;\n};\n\nvar forwardRef = React.forwardRef;\n\nif (typeof forwardRef === \"undefined\") {\n  forwardRef = forwardRefShim;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nvar LinkAnchor = forwardRef(function (_ref, forwardedRef) {\n  var innerRef = _ref.innerRef,\n      navigate = _ref.navigate,\n      _onClick = _ref.onClick,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"innerRef\", \"navigate\", \"onClick\"]);\n\n  var target = rest.target;\n\n  var props = _extends({}, rest, {\n    onClick: function onClick(event) {\n      try {\n        if (_onClick) _onClick(event);\n      } catch (ex) {\n        event.preventDefault();\n        throw ex;\n      }\n\n      if (!event.defaultPrevented && // onClick prevented default\n      event.button === 0 && ( // ignore everything but left clicks\n      !target || target === \"_self\") && // let browser handle \"target=_blank\" etc.\n      !isModifiedEvent(event) // ignore clicks with modifier keys\n      ) {\n          event.preventDefault();\n          navigate();\n        }\n    }\n  }); // React 15 compat\n\n\n  if (forwardRefShim !== forwardRef) {\n    props.ref = forwardedRef || innerRef;\n  } else {\n    props.ref = innerRef;\n  }\n  /* eslint-disable-next-line jsx-a11y/anchor-has-content */\n\n\n  return React.createElement(\"a\", props);\n});\n/**\n * The public API for rendering a history-aware <a>.\n */\n\n\nvar Link = forwardRef(function (_ref2, forwardedRef) {\n  var _ref2$component = _ref2.component,\n      component = _ref2$component === void 0 ? LinkAnchor : _ref2$component,\n      replace = _ref2.replace,\n      to = _ref2.to,\n      innerRef = _ref2.innerRef,\n      rest = _objectWithoutPropertiesLoose(_ref2, [\"component\", \"replace\", \"to\", \"innerRef\"]);\n\n  return React.createElement(context.Consumer, null, function (context) {\n    !context ? invariant(false) : void 0;\n    var history = context.history;\n    var location = normalizeToLocation(resolveToLocation(to, context.location), context.location);\n    var href = location ? history.createHref(location) : \"\";\n\n    var props = _extends({}, rest, {\n      href: href,\n      navigate: function navigate() {\n        var location = resolveToLocation(to, context.location);\n        var method = replace ? history.replace : history.push;\n        method(location);\n      }\n    }); // React 15 compat\n\n\n    if (forwardRefShim !== forwardRef) {\n      props.ref = forwardedRef || innerRef;\n    } else {\n      props.innerRef = innerRef;\n    }\n\n    return React.createElement(component, props);\n  });\n});\n\nvar forwardRefShim$1 = function forwardRefShim(C) {\n  return C;\n};\n\nvar forwardRef$1 = React.forwardRef;\n\nif (typeof forwardRef$1 === \"undefined\") {\n  forwardRef$1 = forwardRefShim$1;\n}\n\nfunction joinClassnames() {\n  for (var _len = arguments.length, classnames = new Array(_len), _key = 0; _key < _len; _key++) {\n    classnames[_key] = arguments[_key];\n  }\n\n  return classnames.filter(function (i) {\n    return i;\n  }).join(\" \");\n}\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\n\n\nforwardRef$1(function (_ref, forwardedRef) {\n  var _ref$ariaCurrent = _ref[\"aria-current\"],\n      ariaCurrent = _ref$ariaCurrent === void 0 ? \"page\" : _ref$ariaCurrent,\n      _ref$activeClassName = _ref.activeClassName,\n      activeClassName = _ref$activeClassName === void 0 ? \"active\" : _ref$activeClassName,\n      activeStyle = _ref.activeStyle,\n      classNameProp = _ref.className,\n      exact = _ref.exact,\n      isActiveProp = _ref.isActive,\n      locationProp = _ref.location,\n      sensitive = _ref.sensitive,\n      strict = _ref.strict,\n      styleProp = _ref.style,\n      to = _ref.to,\n      innerRef = _ref.innerRef,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"aria-current\", \"activeClassName\", \"activeStyle\", \"className\", \"exact\", \"isActive\", \"location\", \"sensitive\", \"strict\", \"style\", \"to\", \"innerRef\"]);\n\n  return React.createElement(context.Consumer, null, function (context) {\n    !context ? invariant(false) : void 0;\n    var currentLocation = locationProp || context.location;\n    var toLocation = normalizeToLocation(resolveToLocation(to, currentLocation), currentLocation);\n    var path = toLocation.pathname; // Regex taken from: https://github.com/pillarjs/path-to-regexp/blob/master/index.js#L202\n\n    var escapedPath = path && path.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n    var match = escapedPath ? matchPath(currentLocation.pathname, {\n      path: escapedPath,\n      exact: exact,\n      sensitive: sensitive,\n      strict: strict\n    }) : null;\n    var isActive = !!(isActiveProp ? isActiveProp(match, currentLocation) : match);\n    var className = isActive ? joinClassnames(classNameProp, activeClassName) : classNameProp;\n    var style = isActive ? _extends({}, styleProp, {}, activeStyle) : styleProp;\n\n    var props = _extends({\n      \"aria-current\": isActive && ariaCurrent || null,\n      className: className,\n      style: style,\n      to: toLocation\n    }, rest); // React 15 compat\n\n\n    if (forwardRefShim$1 !== forwardRef$1) {\n      props.ref = forwardedRef || innerRef;\n    } else {\n      props.innerRef = innerRef;\n    }\n\n    return React.createElement(Link, props);\n  });\n});\n\n/*!\n * get-value <https://github.com/jonschlinkert/get-value>\n *\n * Copyright (c) 2014-2018, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nconst isObject = isobject;\n\nvar getValue = function(target, path, options) {\n  if (!isObject(options)) {\n    options = { default: options };\n  }\n\n  if (!isValidObject(target)) {\n    return typeof options.default !== 'undefined' ? options.default : target;\n  }\n\n  if (typeof path === 'number') {\n    path = String(path);\n  }\n\n  const isArray = Array.isArray(path);\n  const isString = typeof path === 'string';\n  const splitChar = options.separator || '.';\n  const joinChar = options.joinChar || (typeof splitChar === 'string' ? splitChar : '.');\n\n  if (!isString && !isArray) {\n    return target;\n  }\n\n  if (isString && path in target) {\n    return isValid$1(path, target, options) ? target[path] : options.default;\n  }\n\n  let segs = isArray ? path : split(path, splitChar, options);\n  let len = segs.length;\n  let idx = 0;\n\n  do {\n    let prop = segs[idx];\n    if (typeof prop === 'number') {\n      prop = String(prop);\n    }\n\n    while (prop && prop.slice(-1) === '\\\\') {\n      prop = join([prop.slice(0, -1), segs[++idx] || ''], joinChar, options);\n    }\n\n    if (prop in target) {\n      if (!isValid$1(prop, target, options)) {\n        return options.default;\n      }\n\n      target = target[prop];\n    } else {\n      let hasProp = false;\n      let n = idx + 1;\n\n      while (n < len) {\n        prop = join([prop, segs[n++]], joinChar, options);\n\n        if ((hasProp = prop in target)) {\n          if (!isValid$1(prop, target, options)) {\n            return options.default;\n          }\n\n          target = target[prop];\n          idx = n - 1;\n          break;\n        }\n      }\n\n      if (!hasProp) {\n        return options.default;\n      }\n    }\n  } while (++idx < len && isValidObject(target));\n\n  if (idx === len) {\n    return target;\n  }\n\n  return options.default;\n};\n\nfunction join(segs, joinChar, options) {\n  if (typeof options.join === 'function') {\n    return options.join(segs);\n  }\n  return segs[0] + joinChar + segs[1];\n}\n\nfunction split(path, splitChar, options) {\n  if (typeof options.split === 'function') {\n    return options.split(path);\n  }\n  return path.split(splitChar);\n}\n\nfunction isValid$1(key, target, options) {\n  if (typeof options.isValid === 'function') {\n    return options.isValid(key, target);\n  }\n  return true;\n}\n\nfunction isValidObject(val) {\n  return isObject(val) || Array.isArray(val) || typeof val === 'function';\n}\n\nvar getValue$1 = getValue;\n\nfunction toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n\n  var number = Number(dirtyNumber);\n\n  if (isNaN(number)) {\n    return number;\n  }\n\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}\n\nfunction requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\n\nfunction toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || typeof argument === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}\n\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the days added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\n\nfunction addDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n\n  date.setDate(date.getDate() + amount);\n  return date;\n}\n\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\n\nfunction addMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n\n  var dayOfMonth = date.getDate(); // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 1, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n\n  var endOfDesiredMonth = new Date(date.getTime());\n  endOfDesiredMonth.setMonth(date.getMonth() + amount + 1, 0);\n  var daysInMonth = endOfDesiredMonth.getDate();\n\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    date.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n    return date;\n  }\n}\n\n/**\n * @name addMilliseconds\n * @category Millisecond Helpers\n * @summary Add the specified number of milliseconds to the given date.\n *\n * @description\n * Add the specified number of milliseconds to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\n * const result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:30.750\n */\n\nfunction addMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var timestamp = toDate(dirtyDate).getTime();\n  var amount = toInteger(dirtyAmount);\n  return new Date(timestamp + amount);\n}\n\nvar MILLISECONDS_IN_MINUTE$2 = 60000;\n\nfunction getDateMillisecondsPart(date) {\n  return date.getTime() % MILLISECONDS_IN_MINUTE$2;\n}\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\n\n\nfunction getTimezoneOffsetInMilliseconds(dirtyDate) {\n  var date = new Date(dirtyDate.getTime());\n  var baseTimezoneOffset = Math.ceil(date.getTimezoneOffset());\n  date.setSeconds(0, 0);\n  var hasNegativeUTCOffset = baseTimezoneOffset > 0;\n  var millisecondsPartOfTimezoneOffset = hasNegativeUTCOffset ? (MILLISECONDS_IN_MINUTE$2 + getDateMillisecondsPart(date)) % MILLISECONDS_IN_MINUTE$2 : getDateMillisecondsPart(date);\n  return baseTimezoneOffset * MILLISECONDS_IN_MINUTE$2 + millisecondsPartOfTimezoneOffset;\n}\n\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\n\nfunction startOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\n\nvar MILLISECONDS_IN_DAY$1 = 86400000;\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar days\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * var result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * var result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\n\nfunction differenceInCalendarDays(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var startOfDayLeft = startOfDay(dirtyDateLeft);\n  var startOfDayRight = startOfDay(dirtyDateRight);\n  var timestampLeft = startOfDayLeft.getTime() - getTimezoneOffsetInMilliseconds(startOfDayLeft);\n  var timestampRight = startOfDayRight.getTime() - getTimezoneOffsetInMilliseconds(startOfDayRight); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a day is not constant\n  // (e.g. it's different in the day of the daylight saving time clock shift)\n\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY$1);\n}\n\n/**\n * @name addYears\n * @category Year Helpers\n * @summary Add the specified number of years to the given date.\n *\n * @description\n * Add the specified number of years to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of years to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the years added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 years to 1 September 2014:\n * const result = addYears(new Date(2014, 8, 1), 5)\n * //=> Sun Sep 01 2019 00:00:00\n */\n\nfunction addYears(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMonths(dirtyDate, amount * 12);\n}\n\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - Now `isValid` doesn't throw an exception\n *   if the first argument is not an instance of Date.\n *   Instead, argument is converted beforehand using `toDate`.\n *\n *   Examples:\n *\n *   | `isValid` argument        | Before v2.0.0 | v2.0.0 onward |\n *   |---------------------------|---------------|---------------|\n *   | `new Date()`              | `true`        | `true`        |\n *   | `new Date('2016-01-01')`  | `true`        | `true`        |\n *   | `new Date('')`            | `false`       | `false`       |\n *   | `new Date(1488370835081)` | `true`        | `true`        |\n *   | `new Date(NaN)`           | `false`       | `false`       |\n *   | `'2016-01-01'`            | `TypeError`   | `false`       |\n *   | `''`                      | `TypeError`   | `false`       |\n *   | `1488370835081`           | `TypeError`   | `true`        |\n *   | `NaN`                     | `TypeError`   | `false`       |\n *\n *   We introduce this change to make *date-fns* consistent with ECMAScript behavior\n *   that try to coerce arguments to the expected type\n *   (which is also the case with other *date-fns* functions).\n *\n * @param {*} date - the date to check\n * @returns {Boolean} the date is valid\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // For the valid date:\n * var result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * var result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * var result = isValid(new Date(''))\n * //=> false\n */\n\nfunction isValid(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  return !isNaN(date);\n}\n\n// for accurate equality comparisons of UTC timestamps that end up\n// having the same representation in local time, e.g. one hour before\n// DST ends vs. the instant that DST ends.\n\nfunction compareLocalAsc(dateLeft, dateRight) {\n  var diff = dateLeft.getFullYear() - dateRight.getFullYear() || dateLeft.getMonth() - dateRight.getMonth() || dateLeft.getDate() - dateRight.getDate() || dateLeft.getHours() - dateRight.getHours() || dateLeft.getMinutes() - dateRight.getMinutes() || dateLeft.getSeconds() - dateRight.getSeconds() || dateLeft.getMilliseconds() - dateRight.getMilliseconds();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1; // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}\n/**\n * @name differenceInDays\n * @category Day Helpers\n * @summary Get the number of full days between the given dates.\n *\n * @description\n * Get the number of full day periods between two dates. Fractional days are\n * truncated towards zero.\n *\n * One \"full day\" is the distance between a local time in one day to the same\n * local time on the next or previous day. A full day can sometimes be less than\n * or more than 24 hours if a daylight savings change happens between two dates.\n *\n * To ignore DST and only measure exact 24-hour periods, use this instead:\n * `Math.floor(differenceInHours(dateLeft, dateRight)/24)|0`.\n *\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of full days according to the local timezone\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * var result = differenceInDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 365\n * // How many full days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * var result = differenceInDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 0\n * // How many full days are between\n * // 1 March 2020 0:00 and 1 June 2020 0:00 ?\n * // Note: because local time is used, the\n * // result will always be 92 days, even in\n * // time zones where DST starts and the\n * // period has only 92*24-1 hours.\n * var result = differenceInDays(\n *   new Date(2020, 5, 1),\n *   new Date(2020, 2, 1)\n * )\n//=> 92\n */\n\n\nfunction differenceInDays(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var sign = compareLocalAsc(dateLeft, dateRight);\n  var difference = Math.abs(differenceInCalendarDays(dateLeft, dateRight));\n  dateLeft.setDate(dateLeft.getDate() - sign * difference); // Math.abs(diff in full days - diff in calendar days) === 1 if last calendar day is not full\n  // If so, result must be decreased by 1 in absolute value\n\n  var isLastDayNotFull = compareLocalAsc(dateLeft, dateRight) === -sign;\n  var result = sign * (difference - isLastDayNotFull); // Prevent negative zero\n\n  return result === 0 ? 0 : result;\n}\n\n/**\n * @name differenceInMilliseconds\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of milliseconds\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * var result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\n\nfunction differenceInMilliseconds(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  return dateLeft.getTime() - dateRight.getTime();\n}\n\nvar MILLISECONDS_IN_MINUTE$1 = 60000;\n/**\n * @name differenceInMinutes\n * @category Minute Helpers\n * @summary Get the number of minutes between the given dates.\n *\n * @description\n * Get the signed number of full (rounded towards 0) minutes between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of minutes\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many minutes are between 2 July 2014 12:07:59 and 2 July 2014 12:20:00?\n * var result = differenceInMinutes(\n *   new Date(2014, 6, 2, 12, 20, 0),\n *   new Date(2014, 6, 2, 12, 7, 59)\n * )\n * //=> 12\n *\n * @example\n * // How many minutes are from 10:01:59 to 10:00:00\n * var result = differenceInMinutes(\n *   new Date(2000, 0, 1, 10, 0, 0),\n *   new Date(2000, 0, 1, 10, 1, 59)\n * )\n * //=> -1\n */\n\nfunction differenceInMinutes(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var diff = differenceInMilliseconds(dirtyDateLeft, dirtyDateRight) / MILLISECONDS_IN_MINUTE$1;\n  return diff > 0 ? Math.floor(diff) : Math.ceil(diff);\n}\n\nvar formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'less than a second',\n    other: 'less than {{count}} seconds'\n  },\n  xSeconds: {\n    one: '1 second',\n    other: '{{count}} seconds'\n  },\n  halfAMinute: 'half a minute',\n  lessThanXMinutes: {\n    one: 'less than a minute',\n    other: 'less than {{count}} minutes'\n  },\n  xMinutes: {\n    one: '1 minute',\n    other: '{{count}} minutes'\n  },\n  aboutXHours: {\n    one: 'about 1 hour',\n    other: 'about {{count}} hours'\n  },\n  xHours: {\n    one: '1 hour',\n    other: '{{count}} hours'\n  },\n  xDays: {\n    one: '1 day',\n    other: '{{count}} days'\n  },\n  aboutXWeeks: {\n    one: 'about 1 week',\n    other: 'about {{count}} weeks'\n  },\n  xWeeks: {\n    one: '1 week',\n    other: '{{count}} weeks'\n  },\n  aboutXMonths: {\n    one: 'about 1 month',\n    other: 'about {{count}} months'\n  },\n  xMonths: {\n    one: '1 month',\n    other: '{{count}} months'\n  },\n  aboutXYears: {\n    one: 'about 1 year',\n    other: 'about {{count}} years'\n  },\n  xYears: {\n    one: '1 year',\n    other: '{{count}} years'\n  },\n  overXYears: {\n    one: 'over 1 year',\n    other: 'over {{count}} years'\n  },\n  almostXYears: {\n    one: 'almost 1 year',\n    other: 'almost {{count}} years'\n  }\n};\nfunction formatDistance(token, count, options) {\n  options = options || {};\n  var result;\n\n  if (typeof formatDistanceLocale[token] === 'string') {\n    result = formatDistanceLocale[token];\n  } else if (count === 1) {\n    result = formatDistanceLocale[token].one;\n  } else {\n    result = formatDistanceLocale[token].other.replace('{{count}}', count);\n  }\n\n  if (options.addSuffix) {\n    if (options.comparison > 0) {\n      return 'in ' + result;\n    } else {\n      return result + ' ago';\n    }\n  }\n\n  return result;\n}\n\nfunction buildFormatLongFn(args) {\n  return function (dirtyOptions) {\n    var options = dirtyOptions || {};\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nvar formatLong$1 = formatLong;\n\nvar formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: 'P'\n};\nfunction formatRelative(token, _date, _baseDate, _options) {\n  return formatRelativeLocale[token];\n}\n\nfunction buildLocalizeFn(args) {\n  return function (dirtyIndex, dirtyOptions) {\n    var options = dirtyOptions || {};\n    var context = options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n\n      var _width = options.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n    return valuesArray[index];\n  };\n}\n\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter'] // Note: in English, the names of days of the week and months are capitalized.\n  // If you are making a new locale based on this one, check if the same is true for the language you're working on.\n  // Generally, formatted dates should look like they are in the middle of a sentence,\n  // e.g. in Spanish language the weekdays and months should be in the lowercase.\n\n};\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\n\nfunction ordinalNumber(dirtyNumber, _dirtyOptions) {\n  var number = Number(dirtyNumber); // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`:\n  //\n  //   var options = dirtyOptions || {}\n  //   var unit = String(options.unit)\n  //\n  // where `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'\n\n  var rem100 = number % 100;\n\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n\n      case 2:\n        return number + 'nd';\n\n      case 3:\n        return number + 'rd';\n    }\n  }\n\n  return number + 'th';\n}\n\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function (quarter) {\n      return Number(quarter) - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nvar localize$1 = localize;\n\nfunction buildMatchPatternFn(args) {\n  return function (dirtyString, dirtyOptions) {\n    var string = String(dirtyString);\n    var options = dirtyOptions || {};\n    var matchResult = string.match(args.matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n\n    if (!parseResult) {\n      return null;\n    }\n\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    return {\n      value: value,\n      rest: string.slice(matchedString.length)\n    };\n  };\n}\n\nfunction buildMatchFn(args) {\n  return function (dirtyString, dirtyOptions) {\n    var string = String(dirtyString);\n    var options = dirtyOptions || {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var value;\n\n    if (Object.prototype.toString.call(parsePatterns) === '[object Array]') {\n      value = findIndex(parsePatterns, function (pattern) {\n        return pattern.test(matchedString);\n      });\n    } else {\n      value = findKey(parsePatterns, function (pattern) {\n        return pattern.test(matchedString);\n      });\n    }\n\n    value = args.valueCallback ? args.valueCallback(value) : value;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    return {\n      value: value,\n      rest: string.slice(matchedString.length)\n    };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n}\n\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n}\n\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function (value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function (index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nvar match$1 = match;\n\n/**\n * @type {Locale}\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */\n\nvar locale = {\n  code: 'en-US',\n  formatDistance: formatDistance,\n  formatLong: formatLong$1,\n  formatRelative: formatRelative,\n  localize: localize$1,\n  match: match$1,\n  options: {\n    weekStartsOn: 0\n    /* Sunday */\n    ,\n    firstWeekContainsDate: 1\n  }\n};\nvar defaultLocale = locale;\n\n/**\n * @name subMilliseconds\n * @category Millisecond Helpers\n * @summary Subtract the specified number of milliseconds from the given date.\n *\n * @description\n * Subtract the specified number of milliseconds from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 750 milliseconds from 10 July 2014 12:45:30.000:\n * const result = subMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:29.250\n */\n\nfunction subMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMilliseconds(dirtyDate, -amount);\n}\n\nfunction addLeadingZeros(number, targetLength) {\n  var sign = number < 0 ? '-' : '';\n  var output = Math.abs(number).toString();\n\n  while (output.length < targetLength) {\n    output = '0' + output;\n  }\n\n  return sign + output;\n}\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nvar formatters$2 = {\n  // Year\n  y: function (date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n    var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === 'yy' ? year % 100 : year, token.length);\n  },\n  // Month\n  M: function (date, token) {\n    var month = date.getUTCMonth();\n    return token === 'M' ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n  // Day of the month\n  d: function (date, token) {\n    return addLeadingZeros(date.getUTCDate(), token.length);\n  },\n  // AM or PM\n  a: function (date, token) {\n    var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return dayPeriodEnumValue.toUpperCase();\n\n      case 'aaa':\n        return dayPeriodEnumValue;\n\n      case 'aaaaa':\n        return dayPeriodEnumValue[0];\n\n      case 'aaaa':\n      default:\n        return dayPeriodEnumValue === 'am' ? 'a.m.' : 'p.m.';\n    }\n  },\n  // Hour [1-12]\n  h: function (date, token) {\n    return addLeadingZeros(date.getUTCHours() % 12 || 12, token.length);\n  },\n  // Hour [0-23]\n  H: function (date, token) {\n    return addLeadingZeros(date.getUTCHours(), token.length);\n  },\n  // Minute\n  m: function (date, token) {\n    return addLeadingZeros(date.getUTCMinutes(), token.length);\n  },\n  // Second\n  s: function (date, token) {\n    return addLeadingZeros(date.getUTCSeconds(), token.length);\n  },\n  // Fraction of second\n  S: function (date, token) {\n    var numberOfDigits = token.length;\n    var milliseconds = date.getUTCMilliseconds();\n    var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));\n    return addLeadingZeros(fractionalSeconds, token.length);\n  }\n};\nvar formatters$3 = formatters$2;\n\nvar MILLISECONDS_IN_DAY = 86400000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nfunction getUTCDayOfYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var timestamp = date.getTime();\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n  var startOfYearTimestamp = date.getTime();\n  var difference = timestamp - startOfYearTimestamp;\n  return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;\n}\n\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nfunction startOfUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}\n\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nfunction getUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nfunction startOfUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var year = getUTCISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCISOWeek(fourthOfJanuary);\n  return date;\n}\n\nvar MILLISECONDS_IN_WEEK$1 = 604800000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nfunction getUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK$1) + 1;\n}\n\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nfunction startOfUTCWeek(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}\n\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nfunction getUTCWeekYear(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate, dirtyOptions);\n  var year = date.getUTCFullYear();\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, dirtyOptions);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, dirtyOptions);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nfunction startOfUTCWeekYear(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate);\n  var year = getUTCWeekYear(dirtyDate, dirtyOptions);\n  var firstWeek = new Date(0);\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCWeek(firstWeek, dirtyOptions);\n  return date;\n}\n\nvar MILLISECONDS_IN_WEEK = 604800000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nfunction getUTCWeek(dirtyDate, options) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}\n\nvar dayPeriodEnum = {\n  am: 'am',\n  pm: 'pm',\n  midnight: 'midnight',\n  noon: 'noon',\n  morning: 'morning',\n  afternoon: 'afternoon',\n  evening: 'evening',\n  night: 'night'\n  /*\n   * |     | Unit                           |     | Unit                           |\n   * |-----|--------------------------------|-----|--------------------------------|\n   * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n   * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n   * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n   * |  d  | Day of month                   |  D  | Day of year                    |\n   * |  e  | Local day of week              |  E  | Day of week                    |\n   * |  f  |                                |  F* | Day of week in month           |\n   * |  g* | Modified Julian day            |  G  | Era                            |\n   * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n   * |  i! | ISO day of week                |  I! | ISO week of year               |\n   * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n   * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n   * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n   * |  m  | Minute                         |  M  | Month                          |\n   * |  n  |                                |  N  |                                |\n   * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n   * |  p! | Long localized time            |  P! | Long localized date            |\n   * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n   * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n   * |  s  | Second                         |  S  | Fraction of second             |\n   * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n   * |  u  | Extended year                  |  U* | Cyclic year                    |\n   * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n   * |  w  | Local week of year             |  W* | Week of month                  |\n   * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n   * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n   * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n   *\n   * Letters marked by * are not implemented but reserved by Unicode standard.\n   *\n   * Letters marked by ! are non-standard, but implemented by date-fns:\n   * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n   * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n   *   i.e. 7 for Sunday, 1 for Monday, etc.\n   * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n   * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n   *   `R` is supposed to be used in conjunction with `I` and `i`\n   *   for universal ISO week-numbering date, whereas\n   *   `Y` is supposed to be used in conjunction with `w` and `e`\n   *   for week-numbering date specific to the locale.\n   * - `P` is long localized date format\n   * - `p` is long localized time format\n   */\n\n};\nvar formatters = {\n  // Era\n  G: function (date, token, localize) {\n    var era = date.getUTCFullYear() > 0 ? 1 : 0;\n\n    switch (token) {\n      // AD, BC\n      case 'G':\n      case 'GG':\n      case 'GGG':\n        return localize.era(era, {\n          width: 'abbreviated'\n        });\n      // A, B\n\n      case 'GGGGG':\n        return localize.era(era, {\n          width: 'narrow'\n        });\n      // Anno Domini, Before Christ\n\n      case 'GGGG':\n      default:\n        return localize.era(era, {\n          width: 'wide'\n        });\n    }\n  },\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === 'yo') {\n      var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n      var year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, {\n        unit: 'year'\n      });\n    }\n\n    return formatters$3.y(date, token);\n  },\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    var signedWeekYear = getUTCWeekYear(date, options); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear; // Two digit year\n\n    if (token === 'YY') {\n      var twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    } // Ordinal number\n\n\n    if (token === 'Yo') {\n      return localize.ordinalNumber(weekYear, {\n        unit: 'year'\n      });\n    } // Padding\n\n\n    return addLeadingZeros(weekYear, token.length);\n  },\n  // ISO week-numbering year\n  R: function (date, token) {\n    var isoWeekYear = getUTCISOWeekYear(date); // Padding\n\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    var year = date.getUTCFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n  // Quarter\n  Q: function (date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'Q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'QQ':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'Qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'QQQ':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'QQQQQ':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'QQQQ':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'qq':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'qqq':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'qqqqq':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'qqqq':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Month\n  M: function (date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      case 'M':\n      case 'MM':\n        return formatters$3.M(date, token);\n      // 1st, 2nd, ..., 12th\n\n      case 'Mo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'MMM':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // J, F, ..., D\n\n      case 'MMMMM':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // January, February, ..., December\n\n      case 'MMMM':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone month\n  L: function (date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      // 1, 2, ..., 12\n      case 'L':\n        return String(month + 1);\n      // 01, 02, ..., 12\n\n      case 'LL':\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n\n      case 'Lo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'LLL':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // J, F, ..., D\n\n      case 'LLLLL':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // January, February, ..., December\n\n      case 'LLLL':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Local week of year\n  w: function (date, token, localize, options) {\n    var week = getUTCWeek(date, options);\n\n    if (token === 'wo') {\n      return localize.ordinalNumber(week, {\n        unit: 'week'\n      });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n  // ISO week of year\n  I: function (date, token, localize) {\n    var isoWeek = getUTCISOWeek(date);\n\n    if (token === 'Io') {\n      return localize.ordinalNumber(isoWeek, {\n        unit: 'week'\n      });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === 'do') {\n      return localize.ordinalNumber(date.getUTCDate(), {\n        unit: 'date'\n      });\n    }\n\n    return formatters$3.d(date, token);\n  },\n  // Day of year\n  D: function (date, token, localize) {\n    var dayOfYear = getUTCDayOfYear(date);\n\n    if (token === 'Do') {\n      return localize.ordinalNumber(dayOfYear, {\n        unit: 'dayOfYear'\n      });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n  // Day of week\n  E: function (date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n\n    switch (token) {\n      // Tue\n      case 'E':\n      case 'EE':\n      case 'EEE':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'EEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'EEEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'EEEE':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Local day of week\n  e: function (date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case 'e':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'ee':\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n\n      case 'eo':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'eee':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'eeeee':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'eeeeee':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'eeee':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case 'c':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'cc':\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n\n      case 'co':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'ccc':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // T\n\n      case 'ccccc':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // Tu\n\n      case 'cccccc':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'standalone'\n        });\n      // Tuesday\n\n      case 'cccc':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // ISO day of week\n  i: function (date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n\n    switch (token) {\n      // 2\n      case 'i':\n        return String(isoDayOfWeek);\n      // 02\n\n      case 'ii':\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n\n      case 'io':\n        return localize.ordinalNumber(isoDayOfWeek, {\n          unit: 'day'\n        });\n      // Tue\n\n      case 'iii':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'iiiii':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'iiiiii':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'iiii':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM or PM\n  a: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'aaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n\n      case 'aaaaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'aaaa':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    }\n\n    switch (token) {\n      case 'b':\n      case 'bb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'bbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n\n      case 'bbbbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'bbbb':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case 'B':\n      case 'BB':\n      case 'BBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'BBBBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'BBBB':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === 'ho') {\n      var hours = date.getUTCHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return formatters$3.h(date, token);\n  },\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === 'Ho') {\n      return localize.ordinalNumber(date.getUTCHours(), {\n        unit: 'hour'\n      });\n    }\n\n    return formatters$3.H(date, token);\n  },\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    var hours = date.getUTCHours() % 12;\n\n    if (token === 'Ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    if (hours === 0) hours = 24;\n\n    if (token === 'ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n  // Minute\n  m: function (date, token, localize) {\n    if (token === 'mo') {\n      return localize.ordinalNumber(date.getUTCMinutes(), {\n        unit: 'minute'\n      });\n    }\n\n    return formatters$3.m(date, token);\n  },\n  // Second\n  s: function (date, token, localize) {\n    if (token === 'so') {\n      return localize.ordinalNumber(date.getUTCSeconds(), {\n        unit: 'second'\n      });\n    }\n\n    return formatters$3.s(date, token);\n  },\n  // Fraction of second\n  S: function (date, token) {\n    return formatters$3.S(date, token);\n  },\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return 'Z';\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'X':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n\n      case 'XXXX':\n      case 'XX':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n\n      case 'XXXXX':\n      case 'XXX': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'x':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n\n      case 'xxxx':\n      case 'xx':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n\n      case 'xxxxx':\n      case 'xxx': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (GMT)\n  O: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'O':\n      case 'OO':\n      case 'OOO':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'OOOO':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (specific non-location)\n  z: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'z':\n      case 'zz':\n      case 'zzz':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'zzzz':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Seconds timestamp\n  t: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = Math.floor(originalDate.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n  // Milliseconds timestamp\n  T: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = originalDate.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  }\n};\n\nfunction formatTimezoneShort(offset, dirtyDelimiter) {\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = Math.floor(absOffset / 60);\n  var minutes = absOffset % 60;\n\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n\n  var delimiter = dirtyDelimiter || '';\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {\n  if (offset % 60 === 0) {\n    var sign = offset > 0 ? '-' : '+';\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n\n  return formatTimezone(offset, dirtyDelimiter);\n}\n\nfunction formatTimezone(offset, dirtyDelimiter) {\n  var delimiter = dirtyDelimiter || '';\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = addLeadingZeros(Math.floor(absOffset / 60), 2);\n  var minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n\nvar formatters$1 = formatters;\n\nfunction dateLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'P':\n      return formatLong.date({\n        width: 'short'\n      });\n\n    case 'PP':\n      return formatLong.date({\n        width: 'medium'\n      });\n\n    case 'PPP':\n      return formatLong.date({\n        width: 'long'\n      });\n\n    case 'PPPP':\n    default:\n      return formatLong.date({\n        width: 'full'\n      });\n  }\n}\n\nfunction timeLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'p':\n      return formatLong.time({\n        width: 'short'\n      });\n\n    case 'pp':\n      return formatLong.time({\n        width: 'medium'\n      });\n\n    case 'ppp':\n      return formatLong.time({\n        width: 'long'\n      });\n\n    case 'pppp':\n    default:\n      return formatLong.time({\n        width: 'full'\n      });\n  }\n}\n\nfunction dateTimeLongFormatter(pattern, formatLong) {\n  var matchResult = pattern.match(/(P+)(p+)?/);\n  var datePattern = matchResult[1];\n  var timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  var dateTimeFormat;\n\n  switch (datePattern) {\n    case 'P':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'short'\n      });\n      break;\n\n    case 'PP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'medium'\n      });\n      break;\n\n    case 'PPP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'long'\n      });\n      break;\n\n    case 'PPPP':\n    default:\n      dateTimeFormat = formatLong.dateTime({\n        width: 'full'\n      });\n      break;\n  }\n\n  return dateTimeFormat.replace('{{date}}', dateLongFormatter(datePattern, formatLong)).replace('{{time}}', timeLongFormatter(timePattern, formatLong));\n}\n\nvar longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter\n};\nvar longFormatters$1 = longFormatters;\n\nvar protectedDayOfYearTokens = ['D', 'DD'];\nvar protectedWeekYearTokens = ['YY', 'YYYY'];\nfunction isProtectedDayOfYearToken(token) {\n  return protectedDayOfYearTokens.indexOf(token) !== -1;\n}\nfunction isProtectedWeekYearToken(token) {\n  return protectedWeekYearTokens.indexOf(token) !== -1;\n}\nfunction throwProtectedError(token, format, input) {\n  if (token === 'YYYY') {\n    throw new RangeError(\"Use `yyyy` instead of `YYYY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'YY') {\n    throw new RangeError(\"Use `yy` instead of `YY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'D') {\n    throw new RangeError(\"Use `d` instead of `D` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'DD') {\n    throw new RangeError(\"Use `dd` instead of `DD` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  }\n}\n\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\n\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g; // This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\n\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar escapedStringRegExp = /^'([^]*?)'?$/;\nvar doubleQuoteRegExp = /''/g;\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n/**\n * @name format\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > ⚠️ Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://git.io/fxCyr\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Su, Sa        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 0001, ..., 999               |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear]{@link https://date-fns.org/docs/getISOWeekYear}\n *    and [getWeekYear]{@link https://date-fns.org/docs/getWeekYear}).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://git.io/fxCyr\n *\n * 9. `D` and `DD` tokens represent days of the year but they are ofthen confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://git.io/fxCyr\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The second argument is now required for the sake of explicitness.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   format(new Date(2016, 0, 1))\n *\n *   // v2.0.0 onward\n *   format(new Date(2016, 0, 1), \"yyyy-MM-dd'T'HH:mm:ss.SSSxxx\")\n *   ```\n *\n * - New format string API for `format` function\n *   which is based on [Unicode Technical Standard #35](https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table).\n *   See [this post](https://blog.date-fns.org/post/unicode-tokens-in-date-fns-v2-sreatyki91jg) for more details.\n *\n * - Characters are now escaped using single quote symbols (`'`) instead of square brackets.\n *\n * @param {Date|Number} date - the original date\n * @param {String} format - the string of tokens\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is\n * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;\n *   see: https://git.io/fxCyr\n * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;\n *   see: https://git.io/fxCyr\n * @returns {String} the formatted date string\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `localize` property\n * @throws {RangeError} `options.locale` must contain `formatLong` property\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * var result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * var result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * var result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\n\nfunction format(dirtyDate, dirtyFormatStr, dirtyOptions) {\n  requiredArgs(2, arguments);\n  var formatStr = String(dirtyFormatStr);\n  var options = dirtyOptions || {};\n  var locale = options.locale || defaultLocale;\n  var localeFirstWeekContainsDate = locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var localeWeekStartsOn = locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  if (!locale.localize) {\n    throw new RangeError('locale must contain localize property');\n  }\n\n  if (!locale.formatLong) {\n    throw new RangeError('locale must contain formatLong property');\n  }\n\n  var originalDate = toDate(dirtyDate);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError('Invalid time value');\n  } // Convert the date in system timezone to the same date in UTC+00:00 timezone.\n  // This ensures that when UTC functions will be implemented, locales will be compatible with them.\n  // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/376\n\n\n  var timezoneOffset = getTimezoneOffsetInMilliseconds(originalDate);\n  var utcDate = subMilliseconds(originalDate, timezoneOffset);\n  var formatterOptions = {\n    firstWeekContainsDate: firstWeekContainsDate,\n    weekStartsOn: weekStartsOn,\n    locale: locale,\n    _originalDate: originalDate\n  };\n  var result = formatStr.match(longFormattingTokensRegExp).map(function (substring) {\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === 'p' || firstCharacter === 'P') {\n      var longFormatter = longFormatters$1[firstCharacter];\n      return longFormatter(substring, locale.formatLong, formatterOptions);\n    }\n\n    return substring;\n  }).join('').match(formattingTokensRegExp).map(function (substring) {\n    // Replace two single quote characters with one single quote character\n    if (substring === \"''\") {\n      return \"'\";\n    }\n\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === \"'\") {\n      return cleanEscapedString(substring);\n    }\n\n    var formatter = formatters$1[firstCharacter];\n\n    if (formatter) {\n      if (!options.useAdditionalWeekYearTokens && isProtectedWeekYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, dirtyDate);\n      }\n\n      if (!options.useAdditionalDayOfYearTokens && isProtectedDayOfYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, dirtyDate);\n      }\n\n      return formatter(utcDate, substring, locale.localize, formatterOptions);\n    }\n\n    if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n      throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');\n    }\n\n    return substring;\n  }).join('');\n  return result;\n}\n\nfunction cleanEscapedString(input) {\n  return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n/**\n * @name subDays\n * @category Day Helpers\n * @summary Subtract the specified number of days from the given date.\n *\n * @description\n * Subtract the specified number of days from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the days subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 10 days from 1 September 2014:\n * const result = subDays(new Date(2014, 8, 1), 10)\n * //=> Fri Aug 22 2014 00:00:00\n */\n\nfunction subDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addDays(dirtyDate, -amount);\n}\n\n/**\n * @name subMonths\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * const result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\n\nfunction subMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMonths(dirtyDate, -amount);\n}\n\nvar MILLISECONDS_IN_HOUR = 3600000;\nvar MILLISECONDS_IN_MINUTE = 60000;\nvar DEFAULT_ADDITIONAL_DIGITS = 2;\nvar patterns = {\n  dateTimeDelimiter: /[T ]/,\n  timeZoneDelimiter: /[Z ]/i,\n  timezone: /([Z+-].*)$/\n};\nvar dateRegex = /^-?(?:(\\d{3})|(\\d{2})(?:-?(\\d{2}))?|W(\\d{2})(?:-?(\\d{1}))?|)$/;\nvar timeRegex = /^(\\d{2}(?:[.,]\\d*)?)(?::?(\\d{2}(?:[.,]\\d*)?))?(?::?(\\d{2}(?:[.,]\\d*)?))?$/;\nvar timezoneRegex = /^([+-])(\\d{2})(?::?(\\d{2}))?$/;\n/**\n * @name parseISO\n * @category Common Helpers\n * @summary Parse ISO string\n *\n * @description\n * Parse the given string in ISO 8601 format and return an instance of Date.\n *\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n *\n * If the argument isn't a string, the function cannot parse the string or\n * the values are invalid, it returns Invalid Date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The previous `parse` implementation was renamed to `parseISO`.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   parse('2016-01-01')\n *\n *   // v2.0.0 onward\n *   parseISO('2016-01-01')\n *   ```\n *\n * - `parseISO` now validates separate date and time values in ISO-8601 strings\n *   and returns `Invalid Date` if the date is invalid.\n *\n *   ```javascript\n *   parseISO('2018-13-32')\n *   //=> Invalid Date\n *   ```\n *\n * - `parseISO` now doesn't fall back to `new Date` constructor\n *   if it fails to parse a string argument. Instead, it returns `Invalid Date`.\n *\n * @param {String} argument - the value to convert\n * @param {Object} [options] - an object with options.\n * @param {0|1|2} [options.additionalDigits=2] - the additional number of digits in the extended year format\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.additionalDigits` must be 0, 1 or 2\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * var result = parseISO('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * var result = parseISO('+02014101', { additionalDigits: 1 })\n * //=> Fri Apr 11 2014 00:00:00\n */\n\nfunction parseISO(argument, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var additionalDigits = options.additionalDigits == null ? DEFAULT_ADDITIONAL_DIGITS : toInteger(options.additionalDigits);\n\n  if (additionalDigits !== 2 && additionalDigits !== 1 && additionalDigits !== 0) {\n    throw new RangeError('additionalDigits must be 0, 1 or 2');\n  }\n\n  if (!(typeof argument === 'string' || Object.prototype.toString.call(argument) === '[object String]')) {\n    return new Date(NaN);\n  }\n\n  var dateStrings = splitDateString(argument);\n  var date;\n\n  if (dateStrings.date) {\n    var parseYearResult = parseYear(dateStrings.date, additionalDigits);\n    date = parseDate(parseYearResult.restDateString, parseYearResult.year);\n  }\n\n  if (isNaN(date) || !date) {\n    return new Date(NaN);\n  }\n\n  var timestamp = date.getTime();\n  var time = 0;\n  var offset;\n\n  if (dateStrings.time) {\n    time = parseTime(dateStrings.time);\n\n    if (isNaN(time) || time === null) {\n      return new Date(NaN);\n    }\n  }\n\n  if (dateStrings.timezone) {\n    offset = parseTimezone(dateStrings.timezone);\n\n    if (isNaN(offset)) {\n      return new Date(NaN);\n    }\n  } else {\n    var dirtyDate = new Date(timestamp + time); // js parsed string assuming it's in UTC timezone\n    // but we need it to be parsed in our timezone\n    // so we use utc values to build date in our timezone.\n    // Year values from 0 to 99 map to the years 1900 to 1999\n    // so set year explicitly with setFullYear.\n\n    var result = new Date(dirtyDate.getUTCFullYear(), dirtyDate.getUTCMonth(), dirtyDate.getUTCDate(), dirtyDate.getUTCHours(), dirtyDate.getUTCMinutes(), dirtyDate.getUTCSeconds(), dirtyDate.getUTCMilliseconds());\n    result.setFullYear(dirtyDate.getUTCFullYear());\n    return result;\n  }\n\n  return new Date(timestamp + time + offset);\n}\n\nfunction splitDateString(dateString) {\n  var dateStrings = {};\n  var array = dateString.split(patterns.dateTimeDelimiter);\n  var timeString; // The regex match should only return at maximum two array elements.\n  // [date], [time], or [date, time].\n\n  if (array.length > 2) {\n    return dateStrings;\n  }\n\n  if (/:/.test(array[0])) {\n    dateStrings.date = null;\n    timeString = array[0];\n  } else {\n    dateStrings.date = array[0];\n    timeString = array[1];\n\n    if (patterns.timeZoneDelimiter.test(dateStrings.date)) {\n      dateStrings.date = dateString.split(patterns.timeZoneDelimiter)[0];\n      timeString = dateString.substr(dateStrings.date.length, dateString.length);\n    }\n  }\n\n  if (timeString) {\n    var token = patterns.timezone.exec(timeString);\n\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], '');\n      dateStrings.timezone = token[1];\n    } else {\n      dateStrings.time = timeString;\n    }\n  }\n\n  return dateStrings;\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  var regex = new RegExp('^(?:(\\\\d{4}|[+-]\\\\d{' + (4 + additionalDigits) + '})|(\\\\d{2}|[+-]\\\\d{' + (2 + additionalDigits) + '})$)');\n  var captures = dateString.match(regex); // Invalid ISO-formatted year\n\n  if (!captures) return {\n    year: null\n  };\n  var year = captures[1] && parseInt(captures[1]);\n  var century = captures[2] && parseInt(captures[2]);\n  return {\n    year: century == null ? year : century * 100,\n    restDateString: dateString.slice((captures[1] || captures[2]).length)\n  };\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) return null;\n  var captures = dateString.match(dateRegex); // Invalid ISO-formatted string\n\n  if (!captures) return null;\n  var isWeekDate = !!captures[4];\n  var dayOfYear = parseDateUnit(captures[1]);\n  var month = parseDateUnit(captures[2]) - 1;\n  var day = parseDateUnit(captures[3]);\n  var week = parseDateUnit(captures[4]);\n  var dayOfWeek = parseDateUnit(captures[5]) - 1;\n\n  if (isWeekDate) {\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN);\n    }\n\n    return dayOfISOWeekYear(year, week, dayOfWeek);\n  } else {\n    var date = new Date(0);\n\n    if (!validateDate(year, month, day) || !validateDayOfYearDate(year, dayOfYear)) {\n      return new Date(NaN);\n    }\n\n    date.setUTCFullYear(year, month, Math.max(dayOfYear, day));\n    return date;\n  }\n}\n\nfunction parseDateUnit(value) {\n  return value ? parseInt(value) : 1;\n}\n\nfunction parseTime(timeString) {\n  var captures = timeString.match(timeRegex);\n  if (!captures) return null; // Invalid ISO-formatted time\n\n  var hours = parseTimeUnit(captures[1]);\n  var minutes = parseTimeUnit(captures[2]);\n  var seconds = parseTimeUnit(captures[3]);\n\n  if (!validateTime(hours, minutes, seconds)) {\n    return NaN;\n  }\n\n  return hours * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE + seconds * 1000;\n}\n\nfunction parseTimeUnit(value) {\n  return value && parseFloat(value.replace(',', '.')) || 0;\n}\n\nfunction parseTimezone(timezoneString) {\n  if (timezoneString === 'Z') return 0;\n  var captures = timezoneString.match(timezoneRegex);\n  if (!captures) return 0;\n  var sign = captures[1] === '+' ? -1 : 1;\n  var hours = parseInt(captures[2]);\n  var minutes = captures[3] && parseInt(captures[3]) || 0;\n\n  if (!validateTimezone(hours, minutes)) {\n    return NaN;\n  }\n\n  return sign * (hours * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE);\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  var date = new Date(0);\n  date.setUTCFullYear(isoWeekYear, 0, 4);\n  var fourthOfJanuaryDay = date.getUTCDay() || 7;\n  var diff = (week - 1) * 7 + day + 1 - fourthOfJanuaryDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n} // Validation functions\n// February is null to handle the leap year (using ||)\n\n\nvar daysInMonths = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || year % 4 === 0 && year % 100;\n}\n\nfunction validateDate(year, month, date) {\n  return month >= 0 && month <= 11 && date >= 1 && date <= (daysInMonths[month] || (isLeapYearIndex(year) ? 29 : 28));\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  return dayOfYear >= 1 && dayOfYear <= (isLeapYearIndex(year) ? 366 : 365);\n}\n\nfunction validateWeekDate(_year, week, day) {\n  return week >= 1 && week <= 53 && day >= 0 && day <= 6;\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours === 24) {\n    return minutes === 0 && seconds === 0;\n  }\n\n  return seconds >= 0 && seconds < 60 && minutes >= 0 && minutes < 60 && hours >= 0 && hours < 25;\n}\n\nfunction validateTimezone(_hours, minutes) {\n  return minutes >= 0 && minutes <= 59;\n}\n\n/**\n * @name subYears\n * @category Year Helpers\n * @summary Subtract the specified number of years from the given date.\n *\n * @description\n * Subtract the specified number of years from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of years to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the years subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 5 years from 1 September 2014:\n * const result = subYears(new Date(2014, 8, 1), 5)\n * //=> Tue Sep 01 2009 00:00:00\n */\n\nfunction subYears(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addYears(dirtyDate, -amount);\n}\n\nvar Download = {};\n\nvar _interopRequireDefault = interopRequireDefault.exports;\n\nObject.defineProperty(Download, \"__esModule\", {\n  value: true\n});\nvar default_1 = Download.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(createSvgIcon$1);\n\nvar _jsxRuntime = jsxRuntime.exports;\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z\"\n}), 'Download');\n\ndefault_1 = Download.default = _default;\n\nconst AppDialogContext = react.exports.createContext({ closeAdminBox: () => { } });\r\nconst AppDialog = styled(props => {\r\n    var _a, _b, _c;\r\n    const theme = useTheme();\r\n    const [open, setOpen] = react.exports.useState(true);\r\n    const { injector, themeOptions, builderMode } = useShadowDom();\r\n    const mediaQueryMdDown = useMuiMediaQuery(theme.breakpoints.down('md'));\r\n    const fullScreen = (_c = (_b = (_a = themeOptions === null || themeOptions === void 0 ? void 0 : themeOptions.adminPortal) === null || _a === void 0 ? void 0 : _a.layout) === null || _b === void 0 ? void 0 : _b.fullScreenMode) !== null && _c !== void 0 ? _c : mediaQueryMdDown;\r\n    const rootElementStyle = react.exports.useMemo(() => ({\r\n        style: { height: fullScreen ? undefined : 'calc(100vh - 100px)', overflow: 'hidden' },\r\n    }), [fullScreen]);\r\n    const closeAdminBox = react.exports.useCallback(() => {\r\n        if (!builderMode) {\r\n            setOpen(false);\r\n            setTimeout(() => injector === null || injector === void 0 ? void 0 : injector.close(), 300);\r\n        }\r\n    }, [injector, builderMode]);\r\n    return React.createElement(AppDialogContext.Provider, { value: { closeAdminBox } },\r\n        React.createElement(MuiDialog, Object.assign({ open: open }, props, { container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, fullWidth: true, maxWidth: 'lg', fullScreen: fullScreen, onBackdropClick: closeAdminBox, PaperProps: rootElementStyle })));\r\n}) `\n  & .MuiDialog-paper {\n    transition: all 300ms;\n  }\n`;\n\nconst SkeletonListItem = styled(Skeleton)({\r\n    width: '100%',\r\n});\r\nSkeletonListItem.defaultProps = {\r\n    variant: 'rectangular',\r\n    height: 36,\r\n    sx: { mb: 8 },\r\n};\r\nconst SkeletonTenantName = styled((props) => React.createElement(Skeleton, Object.assign({ variant: 'rectangular', height: 16 }, props))) `\n  width: 60%;\n  margin-top: 24px;\n  margin-bottom: 24px;\n`;\r\nconst NavSkeleton = () => {\r\n    return React.createElement(\"nav\", null,\r\n        React.createElement(Grid, { container: true, spacing: 3, justifyContent: 'center', alignItems: 'center', mt: 2, mb: 8 },\r\n            React.createElement(Grid, { item: true },\r\n                React.createElement(Skeleton, { variant: 'circular', height: 32, width: 32 })),\r\n            React.createElement(Grid, { item: true, xs: true },\r\n                React.createElement(Skeleton, { variant: 'text', height: 18, width: '60%' }),\r\n                React.createElement(Skeleton, { variant: 'text', height: 16, width: '90%' }))),\r\n        React.createElement(SkeletonListItem, { sx: { mb: 8, mt: 6 } }),\r\n        React.createElement(SkeletonListItem, null),\r\n        React.createElement(SkeletonListItem, null),\r\n        React.createElement(SkeletonTenantName, null),\r\n        React.createElement(SkeletonListItem, null),\r\n        React.createElement(SkeletonListItem, null),\r\n        React.createElement(SkeletonListItem, null),\r\n        React.createElement(SkeletonListItem, null),\r\n        React.createElement(SkeletonListItem, null),\r\n        React.createElement(SkeletonListItem, null),\r\n        React.createElement(SkeletonListItem, null));\r\n};\n\nconst PageTitleSkeleton = styled(Box) `\n  height: 5.5rem;\n  border-bottom: 1px solid ${({ theme }) => theme.palette.divider};\n\n  ${({ theme }) => theme.breakpoints.down('sm')} {\n    height: 3.5rem;\n  }\n`;\r\nconst PageSkeleton = () => {\r\n    return React.createElement(\"div\", null,\r\n        React.createElement(PageTitleSkeleton, null));\r\n};\n\nconst NavigationGridItem = styled(Grid)(({ theme, withPoweredBy }) => ({\r\n    transition: 'width 300ms ease-in-out, padding 300ms ease-in-out',\r\n    width: '14.25rem',\r\n    position: 'relative',\r\n    height: '100%',\r\n    backgroundColor: theme.navigation.background,\r\n    'nav': {\r\n        boxSizing: 'border-box',\r\n        padding: theme.spacing(4),\r\n        overflow: 'auto',\r\n        maxHeight: '100%',\r\n        paddingBottom: withPoweredBy ? '5rem' : undefined,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n        width: '18rem',\r\n        'nav': {\r\n            padding: theme.spacing(4, 6),\r\n            paddingBottom: withPoweredBy ? '5rem' : undefined,\r\n        },\r\n    },\r\n    [theme.breakpoints.up('sm')]: {\r\n        width: '18rem',\r\n        'nav': {\r\n            padding: theme.spacing(4, 6),\r\n            paddingBottom: withPoweredBy ? '5rem' : undefined,\r\n        },\r\n    },\r\n}));\r\nNavigationGridItem.defaultProps = {\r\n    item: true,\r\n};\r\nconst PageGridItem = styled(Grid)(({ theme }) => ({\r\n    backgroundColor: theme.palette.background.default,\r\n    overflow: 'auto',\r\n}));\r\nconst StyledGrid = styled(Grid)(({ theme }) => ({\r\n    fontFamily: theme.typographyStyleOptions,\r\n}));\r\nconst AppSkeleton = ({ absolute }) => {\r\n    const overrideStyle = absolute ? { position: 'absolute', left: 0, top: 0, zIndex: 1000 } : {};\r\n    const theme = useTheme();\r\n    const displayAsDrawer = useMuiMediaQuery(theme.breakpoints.down('sm'));\r\n    return React.createElement(StyledGrid, { \"data-test-id\": 'admin-portal-loader', height: '100%', container: true, alignItems: \"stretch\", style: overrideStyle },\r\n        !displayAsDrawer && React.createElement(NavigationGridItem, null,\r\n            React.createElement(NavSkeleton, null)),\r\n        React.createElement(PageGridItem, { item: true, xs: true },\r\n            React.createElement(PageSkeleton, null)));\r\n};\n\nconst UserAvatar = () => {\r\n    const user = useAuthUserOrNull();\r\n    return user ? React.createElement(Avatar$1$1, { name: user.name, picture: user.profilePictureUrl }) : React.createElement(ProfileIcon, null);\r\n};\n\nconst wrapPage = (Component, pageKey) => {\r\n    return () => {\r\n        const t = useT(pageKey);\r\n        return React.createElement(React.Fragment, null,\r\n            React.createElement(PageHeaderUpdater, { title: t('pageTitle') }),\r\n            React.createElement(Component, null));\r\n    };\r\n};\n\nconst callbackToPromise = (resolve, reject, closeable) => (data, error) => {\r\n    if (error) {\r\n        if (typeof error === typeof Error) {\r\n            reject(error);\r\n        }\r\n        else {\r\n            reject(new Error(error));\r\n        }\r\n        return;\r\n    }\r\n    resolve(data);\r\n    closeable === null || closeable === void 0 ? void 0 : closeable(data);\r\n};\r\nconst notNull = (p) => !!p;\r\nconst getUserMetadataTitle = (user) => {\r\n    let metadata = {};\r\n    try {\r\n        metadata = JSON.parse(user.metadata);\r\n    }\r\n    catch (e) {\r\n        // ignore metadata data parse error\r\n    }\r\n    return (metadata !== null && metadata !== void 0 ? metadata : {}).title;\r\n};\r\nconst getUserMetadata = (user, key) => {\r\n    let metadata = {};\r\n    try {\r\n        metadata = JSON.parse(user.metadata);\r\n    }\r\n    catch (e) {\r\n        // ignore metadata data parse error\r\n    }\r\n    return key ? getValue$1(metadata, key) : metadata;\r\n};\r\nconst addUserMetadata = (user, newMetadata) => {\r\n    let metadata = {};\r\n    try {\r\n        metadata = JSON.parse(user.metadata);\r\n    }\r\n    catch (e) {\r\n        // ignore metadata data parse error\r\n    }\r\n    return JSON.stringify(Object.assign(Object.assign({}, metadata), newMetadata));\r\n};\r\nconst formatAddress = (addressMetadata) => {\r\n    const { address1, address2, city, state, postCode, country, } = addressMetadata !== null && addressMetadata !== void 0 ? addressMetadata : {};\r\n    return [\r\n        address1,\r\n        address2,\r\n        city,\r\n        state,\r\n        postCode,\r\n        country,\r\n    ].filter(notNull).join(', ');\r\n};\r\nconst getUserAddress = (user) => {\r\n    var _a;\r\n    return (_a = formatAddress(getUserMetadata(user, 'address'))) !== null && _a !== void 0 ? _a : '';\r\n};\r\nconst getUserFullName = (user) => {\r\n    return [getUserMetadataTitle(user), user.name].filter(notNull).join('. ');\r\n};\n\nconst defaultPasswordConfig = {\r\n    allowPassphrases: true,\r\n    maxLength: 128,\r\n    minLength: 6,\r\n    minOptionalTestsToPass: 1,\r\n    minPhraseLength: 6,\r\n};\r\nvar MfaTypeEnum;\r\n(function (MfaTypeEnum) {\r\n    MfaTypeEnum[\"DontForce\"] = \"DontForce\";\r\n    MfaTypeEnum[\"Force\"] = \"Force\";\r\n    MfaTypeEnum[\"ForceExceptSAML\"] = \"ForceExceptSAML\";\r\n})(MfaTypeEnum || (MfaTypeEnum = {}));\r\nconst useOptionalEnforceMfaTypes = () => {\r\n    const vendorMfaPolicy = useVendorMfaPolicySettings(true);\r\n    return react.exports.useMemo(() => {\r\n        var _a, _b, _c;\r\n        if (vendorMfaPolicy.loading) {\r\n            return [MfaTypeEnum.Force];\r\n        }\r\n        if (((_a = vendorMfaPolicy.policy) === null || _a === void 0 ? void 0 : _a.enforceMFAType) === MfaTypeEnum.DontForce || !((_b = vendorMfaPolicy.policy) === null || _b === void 0 ? void 0 : _b.enforceMFAType)) {\r\n            return [MfaTypeEnum.DontForce, MfaTypeEnum.Force, MfaTypeEnum.ForceExceptSAML];\r\n        }\r\n        if (((_c = vendorMfaPolicy.policy) === null || _c === void 0 ? void 0 : _c.enforceMFAType) === 'ForceExceptSAML') {\r\n            return [MfaTypeEnum.Force, MfaTypeEnum.ForceExceptSAML];\r\n        }\r\n        return [MfaTypeEnum.Force];\r\n    }, [vendorMfaPolicy]);\r\n};\r\nconst usePasswordConfig = (userId, loadOnMount = true) => {\r\n    const { loadPasswordConfig } = useForgotPasswordActions();\r\n    const { passwordConfig, loading } = useForgotPasswordState();\r\n    react.exports.useEffect(() => {\r\n        if (loading) {\r\n            return;\r\n        }\r\n        if (!passwordConfig) {\r\n            loadPasswordConfig({ userId });\r\n        }\r\n    }, [loading, passwordConfig, loadPasswordConfig]);\r\n    react.exports.useEffect(() => {\r\n        loadOnMount && loadPasswordConfig({ userId });\r\n    }, [loadOnMount, loadPasswordConfig]);\r\n    const passwordServerConfig = Object.assign(Object.assign({}, defaultPasswordConfig), passwordConfig);\r\n    const strength = passwordServerConfig.minLength <= 6 ? 'easy' : passwordServerConfig.minLength <= 8 ? 'medium' : 'hard';\r\n    return {\r\n        loading,\r\n        passwordConfig: loading && !passwordConfig ? null : passwordServerConfig,\r\n        defaultPasswordConfig,\r\n        strength,\r\n    };\r\n};\r\nconst useMfaPolicySettings = (loadOnMount = false) => {\r\n    const { loading, policy, saving, error } = useSecurityPolicyState(state => state.mfaPolicy);\r\n    const { loadSecurityPolicyMfa, saveSecurityPolicyMfa } = useSecurityPolicyActions();\r\n    react.exports.useEffect(() => {\r\n        (loadOnMount || !policy) && loadSecurityPolicyMfa();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [loadOnMount, loadSecurityPolicyMfa]);\r\n    return { loading, saving, error, policy, saveSecurityPolicyMfa };\r\n};\r\nconst useSessionPolicySettings = (loadOnMount = false) => {\r\n    const { loading, configurations, saving, error } = useSessionsPolicyState();\r\n    const { loadSessionsPolicy, createOrUpdateSessionsPolicy } = useSessionsPolicyActions();\r\n    react.exports.useEffect(() => {\r\n        (loadOnMount || !configurations) && loadSessionsPolicy();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [loadOnMount, loadSessionsPolicy]);\r\n    return { loading, saving, error, configurations, createOrUpdateSessionsPolicy };\r\n};\r\nconst useVendorMfaPolicySettings = (loadOnMount = false) => {\r\n    const { loading, policy, saving, error } = useSecurityPolicyState(state => state.vendorMfaPolicy);\r\n    const { loadSecurityPolicyVendorMfa } = useSecurityPolicyActions();\r\n    react.exports.useEffect(() => {\r\n        (loadOnMount || !policy) && loadSecurityPolicyVendorMfa();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [loadOnMount, loadSecurityPolicyVendorMfa]);\r\n    return { loading, saving, error, policy };\r\n};\r\nconst useLockoutPolicySettings = (loadOnMount = false) => {\r\n    const { loading, policy, saving, error } = useSecurityPolicyState(state => state.lockoutPolicy);\r\n    const { loadSecurityPolicyLockout, saveSecurityPolicyLockout } = useSecurityPolicyActions();\r\n    react.exports.useEffect(() => {\r\n        (loadOnMount || !policy) && loadSecurityPolicyLockout();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [loadOnMount, loadSecurityPolicyLockout]);\r\n    return { loading, saving, error, policy, saveSecurityPolicyLockout };\r\n};\r\nconst usePasswordHistoryPolicySettings = (loadOnMount = false) => {\r\n    const { loading, policy, saving, error } = useSecurityPolicyState(state => state.passwordHistoryPolicy);\r\n    const { loadSecurityPolicyPasswordHistory, saveSecurityPolicyPasswordHistory } = useSecurityPolicyActions();\r\n    react.exports.useEffect(() => {\r\n        (loadOnMount || !policy) && loadSecurityPolicyPasswordHistory();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [loadOnMount, loadSecurityPolicyPasswordHistory]);\r\n    return { loading, saving, error, policy, saveSecurityPolicyPasswordHistory };\r\n};\r\nconst usePublicPolicySettings = (loadOnMount = false) => {\r\n    const { loading, policy, saving, error } = useSecurityPolicyState(state => state.publicPolicy);\r\n    const { loadPublicSecurityPolicy } = useSecurityPolicyActions();\r\n    react.exports.useEffect(() => {\r\n        (loadOnMount || !policy) && loadPublicSecurityPolicy();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [loadOnMount, loadPublicSecurityPolicy]);\r\n    return { loading, saving, error, policy };\r\n};\r\nconst useDialogState = (defaultOpen = false) => {\r\n    const [open, setOpen] = react.exports.useState(defaultOpen);\r\n    const [data, setData] = react.exports.useState(null);\r\n    const handleCloseEditName = react.exports.useCallback(() => {\r\n        setOpen(false);\r\n        setData(null);\r\n    }, [setOpen]);\r\n    const handleOpenEditName = react.exports.useCallback((data) => {\r\n        setData(data);\r\n        setOpen(true);\r\n    }, [setOpen]);\r\n    return [open, handleCloseEditName, handleOpenEditName, data, setOpen];\r\n};\r\nconst useBooleanToggle = (delay) => {\r\n    const [bool, setBoolean] = react.exports.useState(false);\r\n    react.exports.useEffect(() => {\r\n        if (bool) {\r\n            setTimeout(() => {\r\n                setBoolean(false);\r\n            }, delay !== null && delay !== void 0 ? delay : 3000);\r\n        }\r\n    }, [bool]);\r\n    return [bool, setBoolean];\r\n};\r\nconst useEffectAfterMount = (fn, deps) => {\r\n    const [mounted, setMounted] = react.exports.useState(false);\r\n    react.exports.useEffect(() => setMounted(true), [setMounted]);\r\n    react.exports.useEffect(() => {\r\n        if (!mounted) {\r\n            return;\r\n        }\r\n        fn();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, deps);\r\n};\r\nconst useDebounce = (value, delay = 300) => {\r\n    const [debouncedValue, setDebouncedValue] = react.exports.useState(value);\r\n    react.exports.useEffect(() => {\r\n        const handler = setTimeout(() => {\r\n            setDebouncedValue(value);\r\n        }, delay);\r\n        return () => {\r\n            clearTimeout(handler);\r\n        };\r\n    }, [value, delay]);\r\n    return debouncedValue;\r\n};\r\nconst useAsyncEffect = (effectFn, deps) => {\r\n    const didMountRef = react.exports.useRef(true);\r\n    react.exports.useEffect(() => {\r\n        if (didMountRef.current) {\r\n            didMountRef.current = false;\r\n            return;\r\n        }\r\n        // noinspection JSIgnoredPromiseFromCall\r\n        effectFn();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [...deps]);\r\n};\r\nconst useMemoProps = (props, key) => {\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    return react.exports.useMemo(() => props[key], []);\r\n};\r\nconst useRolesMap = (roles) => {\r\n    return react.exports.useMemo(() => (roles !== null && roles !== void 0 ? roles : []).reduce((p, n) => (Object.assign(Object.assign({}, p), { [n.id]: n.name })), {}), [roles]);\r\n};\n\nconst FormDialogBody = (props) => {\r\n    const { initialValues, validationSchema, onSubmit, children, enableReinitialize, validateOnMount } = props;\r\n    const [formError, setFormError] = react.exports.useState(null);\r\n    const formikProps = {\r\n        onSubmit: (values, formikHelpers) => __awaiter(void 0, void 0, void 0, function* () {\r\n            setFormError(null);\r\n            try {\r\n                yield onSubmit(values, formikHelpers);\r\n            }\r\n            catch (e) {\r\n                setFormError(e.message);\r\n            }\r\n        }),\r\n        enableReinitialize,\r\n        initialValues,\r\n        validationSchema,\r\n        validateOnMount\r\n    };\r\n    return React.createElement(Formik, Object.assign({}, formikProps), props => {\r\n        const canSubmit = !props.isSubmitting && props.isValid && props.dirty;\r\n        return React.createElement(Form, { autoComplete: 'on' }, children === null || children === void 0 ? void 0 : children(Object.assign(Object.assign({}, props), { canSubmit, formError })));\r\n    });\r\n};\r\nconst FormErrorDialogMessage = react.exports.memo(({ message, fieldName }) => {\r\n    var _a, _b;\r\n    let msg = ((_a = message === null || message === void 0 ? void 0 : message.startsWith) === null || _a === void 0 ? void 0 : _a.call(message, 'Error: ')) ? (_b = message === null || message === void 0 ? void 0 : message.substring) === null || _b === void 0 ? void 0 : _b.call(message, 'Error: '.length) : message;\r\n    return msg ?\r\n        // TODO: changed test-id from message to `${fieldName}-error`\r\n        React.createElement(Box, { component: Alert$1, mt: 4, \"data-test-id\": `${fieldName}-error` || msg, severity: 'error' }, msg)\r\n        : null;\r\n}, shallowEqual$1('message'));\n\nconst RemovePhotoForm = (props) => {\r\n    const t = useT('profile');\r\n    const { onClose } = props;\r\n    const { saving, error, profile } = useProfileState();\r\n    const { saveProfile, setProfileState } = useProfileActions();\r\n    const handleRemoveImage = react.exports.useCallback(() => {\r\n        setProfileState({ profile: Object.assign(Object.assign({}, profile), { profilePictureUrl: 'null' }) });\r\n    }, [profile, setProfileState]);\r\n    react.exports.useEffect(() => {\r\n        if ((profile === null || profile === void 0 ? void 0 : profile.profilePictureUrl) === 'null') {\r\n            saveProfile({\r\n                callback: (_, error) => {\r\n                    if (!error) {\r\n                        onClose();\r\n                    }\r\n                },\r\n            });\r\n        }\r\n    }, [profile, saveProfile, onClose]);\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(Dialog$1.Body, null,\r\n            React.createElement(Typography$1, { variant: 'subtitle2Light' }, t('removeImageMessage')),\r\n            React.createElement(FormErrorDialogMessage, { message: error })),\r\n        React.createElement(Dialog$1.Footer, null,\r\n            React.createElement(Box, { flex: 1 }),\r\n            React.createElement(Button$1, { color: 'inherit', variant: 'text', \"data-test-id\": 'remove-photo-btn', onClick: props.onClose }, t('removeImageCancelButton')),\r\n            React.createElement(Button$1, { loading: saving, color: 'danger', onClick: handleRemoveImage }, t('removeImageButton'))));\r\n};\r\nconst RemovePhotoDialog = (props) => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('profile');\r\n    return React.createElement(Dialog$1, Object.assign({ container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { title: t('removeImageTitle') }),\r\n        React.createElement(RemovePhotoForm, Object.assign({}, props)));\r\n};\n\nconst HeaderContainer = styled(Card)(({ theme }) => ({\r\n    backgroundColor: theme.rightPanel.profileHeader,\r\n}));\r\nconst AvatarContainer = styled((props) => React.createElement(Grid, Object.assign({ item: true }, props))) `\n  & {\n    margin: ${({ theme }) => `${theme.spacing(2)}`};\n    position: relative;\n\n    .MuiAvatar-root {\n      width: 6.5rem;\n      height: 6.5rem;\n    }\n\n    .show-on-hover {\n      opacity: 0;\n      transition: opacity 200ms ease-in-out;\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n    }\n\n    &:hover {\n      .show-on-hover {\n        opacity: 1;\n      }\n    }\n  }\n`;\r\nconst UserEmptyAvatar = styled(Avatar$1) `\n  &.MuiAvatar-root {\n    background: ${UI.palette('grey.150')};\n    color: ${UI.palette('grey.500')};\n  }\n`;\r\nconst EditAvatarButton = styled(IconButton) `\n  &.MuiIconButton-root {\n    background: rgba(60, 74, 90, .7) !important;\n    color: white;\n  }\n`;\r\nconst DetailsContainer = styled((props) => React.createElement(Grid, Object.assign({ item: true, xs: true }, props))) `\n  & {\n    padding: ${({ theme }) => `${theme.spacing(2)}`};\n    padding-left: ${({ theme }) => `${theme.spacing(8)}`};\n\n\n    .MuiTypography-root {\n      margin-bottom: .5rem;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      font-weight: 800;\n\n      &:last-child {\n        margin-bottom: 0;\n        font-weight: 400;\n        color: ${({ theme }) => theme.palette.grey[700]};\n      }\n    }\n  }\n`;\r\nconst JobTitleSpan = styled('span') `\n  font-size: 0.8em;\n  font-weight: 400;\n  color: ${({ theme }) => theme.palette.grey[600]}\n`;\r\nconst toBase64 = (file) => new Promise((resolve, reject) => {\r\n    if (file == null) {\r\n        resolve('');\r\n        return;\r\n    }\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => { var _a, _b; return resolve((_b = (_a = reader.result) === null || _a === void 0 ? void 0 : _a.toString()) !== null && _b !== void 0 ? _b : ''); };\r\n    reader.onerror = (error) => reject(error);\r\n});\r\nconst ProfileHeader = () => {\r\n    const t = useT('profile');\r\n    const [avatarAnchorEl, setAvatarAnchorEl] = react.exports.useState(null);\r\n    const [openDownloadBrowse, setOpenDownloadBrowse] = react.exports.useState(false);\r\n    const user = useAuthUser();\r\n    const { injector } = useShadowDom();\r\n    const jobTitle = getUserMetadata(user, 'jobTitle');\r\n    const [uploadPhotoDialog, handleCloseUploadPhoto, handleOpenUploadPhoto] = useDialogState();\r\n    const [removePhotoDialog, handleCloseRemovePhoto, handleOpenRemovePhoto] = useDialogState();\r\n    const { saveProfile } = useProfileActions();\r\n    const menuItems = react.exports.useMemo(() => [{\r\n            icon: React.createElement(UploadIcon, { \"data-test-id\": 'upload-avatar-icon' }),\r\n            onClick: () => {\r\n                setOpenDownloadBrowse(true);\r\n                handleOpenUploadPhoto();\r\n                setTimeout(() => {\r\n                    setOpenDownloadBrowse(false);\r\n                });\r\n            },\r\n            text: t('uploadImage'),\r\n        },\r\n        ...(user.profilePictureUrl && user.profilePictureUrl !== 'null' ? [{\r\n                icon: React.createElement(DeleteIcon, { \"data-test-id\": 'delete-avatar-icon' }),\r\n                onClick: handleOpenRemovePhoto,\r\n                text: t('removeImage'),\r\n                negative: true,\r\n            }] : []),\r\n    ], [t, user, handleOpenUploadPhoto, handleOpenRemovePhoto]);\r\n    const onEditAvatarClick = react.exports.useCallback((e) => {\r\n        if (user.profilePictureUrl && user.profilePictureUrl !== 'null') {\r\n            setAvatarAnchorEl(e.currentTarget);\r\n        }\r\n        else {\r\n            setOpenDownloadBrowse(true);\r\n            handleOpenUploadPhoto();\r\n            setTimeout(() => {\r\n                setOpenDownloadBrowse(false);\r\n            });\r\n        }\r\n    }, [handleOpenUploadPhoto, user.profilePictureUrl]);\r\n    return React.createElement(Box, { sx: { mb: 8 } },\r\n        React.createElement(HeaderContainer, null,\r\n            React.createElement(Grid, { container: true, justifyContent: 'center', alignItems: 'center' },\r\n                React.createElement(AvatarContainer, null,\r\n                    user.profilePictureUrl && user.profilePictureUrl !== 'null' ? React.createElement(UserAvatar, null) : React.createElement(UserEmptyAvatar, { \"data-test-id\": 'empty-avatar' },\r\n                        React.createElement(ProfileIcon, null)),\r\n                    React.createElement(EditAvatarButton, { \"data-test-id\": \"edit-avatar-btn\", onClick: onEditAvatarClick, className: 'show-on-hover' },\r\n                        React.createElement(PencilIcon, { \"data-test-id\": 'edit-avatar-icon' })),\r\n                    React.createElement(Menu$1, { anchorOrigin: {\r\n                            vertical: 'bottom',\r\n                            horizontal: 'center',\r\n                        }, transformOrigin: {\r\n                            vertical: 'top',\r\n                            horizontal: 'center',\r\n                        }, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, items: menuItems, onClose: () => setAvatarAnchorEl(null), anchorEl: avatarAnchorEl, open: !!avatarAnchorEl })),\r\n                React.createElement(DetailsContainer, null,\r\n                    React.createElement(Typography$1, { variant: 'h4', \"data-test-id\": 'profile-header-name' },\r\n                        getUserFullName(user),\r\n                        \" \",\r\n                        React.createElement(JobTitleSpan, { \"data-test-id\": jobTitle }, jobTitle && `(${jobTitle})`)),\r\n                    React.createElement(Typography$1, { \"data-test-id\": 'profile-header-email' }, user.email)))),\r\n        React.createElement(UploadPhoto, { open: uploadPhotoDialog, \"data-test-id\": \"uploadPhotoDialog\", openDownloadBrowse: openDownloadBrowse, onClose: handleCloseUploadPhoto, type: 'circle', uploadProgress: 0, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, onSubmit: (file) => new Promise((resolve, reject) => {\r\n                toBase64(file).then(content => {\r\n                    const callback = callbackToPromise$1(() => {\r\n                        handleCloseUploadPhoto();\r\n                        resolve();\r\n                    }, reject);\r\n                    saveProfile({ profilePictureUrl: content, callback });\r\n                });\r\n            }) }),\r\n        React.createElement(RemovePhotoDialog, { open: removePhotoDialog, onClose: handleCloseRemovePhoto }));\r\n};\n\nconst DisplayNameField = () => {\r\n    const t = useT('profile_EditName');\r\n    const { values } = useFormikContext();\r\n    const displayName = [values.title, [values.firstName, values.lastName].filter(notNull).join(' ').trim()].filter(notNull).join('. ');\r\n    return React.createElement(Input$1$1, { \"data-test-id\": \"displayNameBox\", label: t('displayNameInputLabel'), disabled: true, value: displayName });\r\n};\r\nconst TitleField = () => {\r\n    const t = useT('profile_EditName');\r\n    const { injector } = useShadowDom();\r\n    const [fieldProps, { error, touched }, { setValue }] = useField('title');\r\n    const options = react.exports.useMemo(() => [{\r\n            label: t('nameTitle_mr'),\r\n            value: 'Mr',\r\n        }, {\r\n            label: t('nameTitle_mrs'),\r\n            value: 'Mrs',\r\n        }, {\r\n            label: t('nameTitle_miss'),\r\n            value: 'Miss',\r\n        }, {\r\n            label: t('nameTitle_ms'),\r\n            value: 'Ms',\r\n        }, {\r\n            label: t('nameTitle_dr'),\r\n            value: 'Dr',\r\n        }, {\r\n            label: t('nameTitle_phd'),\r\n            value: 'PhD',\r\n        }], [t]);\r\n    return React.createElement(Select$1$1, { label: t('nameTitle'), clearable: true, name: fieldProps.name, value: fieldProps.value, onChange: (value) => setValue(value, true), errorMessage: touched ? error : undefined, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, options: options });\r\n};\r\nconst FirstNameField$2 = () => {\r\n    const t = useT('profile_EditName');\r\n    const [fieldProps, { error, touched }] = useField('firstName');\r\n    return React.createElement(Input$1$1, Object.assign({ label: t('firstNameInputLabel') }, fieldProps, { error: !!error && touched, errorMessage: error, \"data-test-id\": \"firstNameBox\", autoComplete: 'given-name' }));\r\n};\r\nconst LastNameField$1 = () => {\r\n    const t = useT('profile_EditName');\r\n    const [fieldProps, { error, touched }] = useField('lastName');\r\n    return React.createElement(Input$1$1, Object.assign({ label: t('lastNameInputLabel') }, fieldProps, { error: !!error && touched, errorMessage: error, \"data-test-id\": \"lastNameBox\", autoComplete: 'family-name' }));\r\n};\r\nconst EditNameForm$1 = (props) => {\r\n    const t = useT('profile_EditName');\r\n    const user = useAuthUser();\r\n    const { saveProfile } = useProfileActions();\r\n    const initialValues = react.exports.useMemo(() => ({\r\n        firstName: user.name.split(' ')[0],\r\n        lastName: user.name.split(' ').slice(1).join(' '),\r\n        title: getUserMetadataTitle(user),\r\n    }), [user]);\r\n    const validationSchema = react.exports.useMemo(() => validateSchema({\r\n        firstName: validateNotEmpty(t('firstNameIsRequired')),\r\n    }), [t]);\r\n    const formikProps = {\r\n        onSubmit: (values) => new Promise((resolve, reject) => {\r\n            const name = [values.firstName, values.lastName].filter(notNull).join(' ').trim();\r\n            const metadata = addUserMetadata(user, { title: values.title, name });\r\n            const callback = callbackToPromise(() => {\r\n                props.onClose();\r\n                resolve();\r\n            }, reject);\r\n            saveProfile({ name, metadata, callback });\r\n        }),\r\n        initialValues,\r\n        validationSchema,\r\n    };\r\n    return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit }) => {\r\n        return React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                React.createElement(DisplayNameField, null),\r\n                React.createElement(TitleField, null),\r\n                React.createElement(FirstNameField$2, null),\r\n                React.createElement(LastNameField$1, null)),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancelBtn\", color: 'inherit', variant: 'text', type: 'reset', onClick: props.onClose }, t('cancel')),\r\n                React.createElement(Button$1, { \"data-test-id\": \"saveBtn\", disabled: !canSubmit, loading: isSubmitting, color: 'primary', type: 'submit' }, t('save'))));\r\n    });\r\n};\r\nconst EditNameDialog = (props) => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('profile_EditName');\r\n    return React.createElement(Dialog$1, Object.assign({ container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { title: t('title') }),\r\n        React.createElement(EditNameForm$1, Object.assign({}, props)));\r\n};\n\nconst Field$1 = (props) => {\r\n    const [fieldProps, { error, touched }] = useField(props.name);\r\n    //TODO add to data-test-id: -box\r\n    return React.createElement(Input$1$1, Object.assign({ label: props.label }, fieldProps, { error: !!error && touched, errorMessage: error, autoFocus: true, \"data-test-id\": `${props.name}-box`, autoComplete: props.autoComplete }));\r\n};\r\nconst SingleInputFormDialog = (props) => {\r\n    const { validationSchema, initialValues, onSubmit } = props;\r\n    const formikProps = { onSubmit, initialValues, validationSchema: validationSchema !== null && validationSchema !== void 0 ? validationSchema : validateSchema({}) };\r\n    return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit, formError }) => {\r\n        return React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                React.createElement(Field$1, { label: props.inputLabel, name: props.inputName, autoComplete: props.inputAutoComplete }),\r\n                React.createElement(FormErrorDialogMessage, { fieldName: props.inputName, message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancelBtn\", color: 'inherit', variant: 'text', type: 'reset', onClick: props.onClose }, props.cancelButton),\r\n                React.createElement(Button$1, { \"data-test-id\": \"saveBtn\", disabled: !canSubmit, loading: isSubmitting, color: 'primary', type: 'submit' }, props.submitButton)));\r\n    });\r\n};\r\nconst EditSingleInputDialog = (props) => {\r\n    const dialogProps = __rest(props, [\"onSubmit\", \"inputLabel\", \"inputName\", \"inputAutoComplete\", \"initialValues\", \"validationSchema\", \"description\"]);\r\n    const { injector } = useShadowDom();\r\n    return React.createElement(Dialog$1, Object.assign({ container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, dialogProps),\r\n        React.createElement(SingleInputFormDialog, Object.assign({}, props)));\r\n};\n\nconst EditPhoneDialog = (props) => {\r\n    const t = useT('profile_EditPhone');\r\n    const user = useAuthUser();\r\n    const { saveProfile } = useProfileActions();\r\n    const phoneNumber = getUserMetadata(user, 'phoneNumber');\r\n    return React.createElement(EditSingleInputDialog, { title: t('title'), onClose: props.onClose, open: props.open, inputName: 'phone', inputLabel: t('phoneInputLabel'), cancelButton: t('cancel'), submitButton: t('save'), inputAutoComplete: 'tel', initialValues: {\r\n            phone: phoneNumber !== null && phoneNumber !== void 0 ? phoneNumber : '',\r\n        }, validationSchema: validateSchema({\r\n            phone: validationPhoneOptional(t('phoneIsInvalid')),\r\n        }), onSubmit: (values) => new Promise((resolve, reject) => {\r\n            const metadata = addUserMetadata(user, { phoneNumber: values.phone });\r\n            const callback = callbackToPromise(() => {\r\n                props.onClose();\r\n                resolve();\r\n            }, reject);\r\n            saveProfile({ metadata, callback });\r\n        }) });\r\n};\n\nconst EditJobTitleDialog = (props) => {\r\n    var _a;\r\n    const t = useT('profile_EditJobTitle');\r\n    const user = useAuthUser();\r\n    const { saveProfile } = useProfileActions();\r\n    return React.createElement(EditSingleInputDialog, { title: t('title'), onClose: props.onClose, open: props.open, inputName: 'jobTitle', inputAutoComplete: 'organization-title', inputLabel: t('jobTitleInputLabel'), cancelButton: t('cancel'), submitButton: t('save'), initialValues: {\r\n            jobTitle: (_a = getUserMetadata(user, 'jobTitle')) !== null && _a !== void 0 ? _a : '',\r\n        }, onSubmit: (values) => new Promise((resolve, reject) => {\r\n            const metadata = addUserMetadata(user, { jobTitle: values.jobTitle });\r\n            const callback = callbackToPromise(() => {\r\n                props.onClose();\r\n                resolve();\r\n            }, reject);\r\n            saveProfile({ metadata, callback });\r\n        }) });\r\n};\n\nconst getRoleLevel = (roleId, roles) => {\r\n    var _a;\r\n    if (!roles)\r\n        return Infinity;\r\n    const roleSettings = roles.find((role) => role.id === roleId);\r\n    return (_a = roleSettings === null || roleSettings === void 0 ? void 0 : roleSettings.permissionLevel) !== null && _a !== void 0 ? _a : Infinity;\r\n};\r\nconst getMaxRoleLevel = (roleIds, roles) => {\r\n    if (!roleIds)\r\n        return Infinity;\r\n    const levelsArr = roleIds.map((roleId) => getRoleLevel(roleId, roles));\r\n    return levelsArr.length ? Math.min(...levelsArr) : Infinity;\r\n};\r\nconst getUserMaxRoleLevel = (roles, loggedIn) => {\r\n    const context = ContextHolder.getContext();\r\n    const user = loggedIn !== null && loggedIn !== void 0 ? loggedIn : ContextHolder.getUser();\r\n    let currentUserRoleLevel = Infinity;\r\n    const currentUserRolesIds = user === null || user === void 0 ? void 0 : user.roles.map((r) => r.id);\r\n    if (context.currentUserRoles && context.currentUserRoles.length > 0) {\r\n        currentUserRoleLevel = getMaxRoleLevel(context.currentUserRoles, roles);\r\n    }\r\n    else if (currentUserRolesIds && currentUserRolesIds.length > 0) {\r\n        currentUserRoleLevel = getMaxRoleLevel(currentUserRolesIds, roles);\r\n    }\r\n    return currentUserRoleLevel;\r\n};\r\nconst checkRoleAccess = (roles, loggedIn) => {\r\n    const currentUserRoleLevel = getUserMaxRoleLevel(roles, loggedIn);\r\n    if (roles) {\r\n        return roles.filter((role) => { var _a; return ((_a = role.permissionLevel) !== null && _a !== void 0 ? _a : Infinity) >= currentUserRoleLevel; });\r\n    }\r\n    return [];\r\n};\r\nconst hasPermission = (...permissions) => {\r\n    var _a, _b;\r\n    const userPermissions = (_b = (_a = ContextHolder.getUser()) === null || _a === void 0 ? void 0 : _a.permissions) !== null && _b !== void 0 ? _b : [];\r\n    return permissions.reduce((p, permission) => {\r\n        return !!userPermissions.find(userPermission => new RegExp(userPermission.key\r\n            .replace(/\\./g, '\\\\.')\r\n            .replace(/\\*/g, '.*')).test(permission));\r\n    }, true);\r\n};\r\nconst usePermission = (...permissions) => {\r\n    const { policy, loading: loadingPolicy } = usePublicPolicySettings();\r\n    return hasPermission(...permissions) || (!loadingPolicy && !(policy === null || policy === void 0 ? void 0 : policy.forcePermissions));\r\n};\n\nconst countries = [\r\n    { name: 'Afghanistan', code: 'AF' },\r\n    { name: 'Åland Islands', code: 'AX' },\r\n    { name: 'Albania', code: 'AL' },\r\n    { name: 'Algeria', code: 'DZ' },\r\n    { name: 'American Samoa', code: 'AS' },\r\n    { name: 'AndorrA', code: 'AD' },\r\n    { name: 'Angola', code: 'AO' },\r\n    { name: 'Anguilla', code: 'AI' },\r\n    { name: 'Antarctica', code: 'AQ' },\r\n    { name: 'Antigua and Barbuda', code: 'AG' },\r\n    { name: 'Argentina', code: 'AR' },\r\n    { name: 'Armenia', code: 'AM' },\r\n    { name: 'Aruba', code: 'AW' },\r\n    { name: 'Australia', code: 'AU' },\r\n    { name: 'Austria', code: 'AT' },\r\n    { name: 'Azerbaijan', code: 'AZ' },\r\n    { name: 'Bahamas', code: 'BS' },\r\n    { name: 'Bahrain', code: 'BH' },\r\n    { name: 'Bangladesh', code: 'BD' },\r\n    { name: 'Barbados', code: 'BB' },\r\n    { name: 'Belarus', code: 'BY' },\r\n    { name: 'Belgium', code: 'BE' },\r\n    { name: 'Belize', code: 'BZ' },\r\n    { name: 'Benin', code: 'BJ' },\r\n    { name: 'Bermuda', code: 'BM' },\r\n    { name: 'Bhutan', code: 'BT' },\r\n    { name: 'Bolivia', code: 'BO' },\r\n    { name: 'Bosnia and Herzegovina', code: 'BA' },\r\n    { name: 'Botswana', code: 'BW' },\r\n    { name: 'Bouvet Island', code: 'BV' },\r\n    { name: 'Brazil', code: 'BR' },\r\n    { name: 'British Indian Ocean Territory', code: 'IO' },\r\n    { name: 'Brunei Darussalam', code: 'BN' },\r\n    { name: 'Bulgaria', code: 'BG' },\r\n    { name: 'Burkina Faso', code: 'BF' },\r\n    { name: 'Burundi', code: 'BI' },\r\n    { name: 'Cambodia', code: 'KH' },\r\n    { name: 'Cameroon', code: 'CM' },\r\n    { name: 'Canada', code: 'CA' },\r\n    { name: 'Cape Verde', code: 'CV' },\r\n    { name: 'Cayman Islands', code: 'KY' },\r\n    { name: 'Central African Republic', code: 'CF' },\r\n    { name: 'Chad', code: 'TD' },\r\n    { name: 'Chile', code: 'CL' },\r\n    { name: 'China', code: 'CN' },\r\n    { name: 'Christmas Island', code: 'CX' },\r\n    { name: 'Cocos (Keeling) Islands', code: 'CC' },\r\n    { name: 'Colombia', code: 'CO' },\r\n    { name: 'Comoros', code: 'KM' },\r\n    { name: 'Congo', code: 'CG' },\r\n    { name: 'Congo, The Democratic Republic of the', code: 'CD' },\r\n    { name: 'Cook Islands', code: 'CK' },\r\n    { name: 'Costa Rica', code: 'CR' },\r\n    { name: 'Cote D\\'Ivoire', code: 'CI' },\r\n    { name: 'Croatia', code: 'HR' },\r\n    { name: 'Cuba', code: 'CU' },\r\n    { name: 'Cyprus', code: 'CY' },\r\n    { name: 'Czech Republic', code: 'CZ' },\r\n    { name: 'Denmark', code: 'DK' },\r\n    { name: 'Djibouti', code: 'DJ' },\r\n    { name: 'Dominica', code: 'DM' },\r\n    { name: 'Dominican Republic', code: 'DO' },\r\n    { name: 'Ecuador', code: 'EC' },\r\n    { name: 'Egypt', code: 'EG' },\r\n    { name: 'El Salvador', code: 'SV' },\r\n    { name: 'Equatorial Guinea', code: 'GQ' },\r\n    { name: 'Eritrea', code: 'ER' },\r\n    { name: 'Estonia', code: 'EE' },\r\n    { name: 'Ethiopia', code: 'ET' },\r\n    { name: 'Falkland Islands (Malvinas)', code: 'FK' },\r\n    { name: 'Faroe Islands', code: 'FO' },\r\n    { name: 'Fiji', code: 'FJ' },\r\n    { name: 'Finland', code: 'FI' },\r\n    { name: 'France', code: 'FR' },\r\n    { name: 'French Guiana', code: 'GF' },\r\n    { name: 'French Polynesia', code: 'PF' },\r\n    { name: 'French Southern Territories', code: 'TF' },\r\n    { name: 'Gabon', code: 'GA' },\r\n    { name: 'Gambia', code: 'GM' },\r\n    { name: 'Georgia', code: 'GE' },\r\n    { name: 'Germany', code: 'DE' },\r\n    { name: 'Ghana', code: 'GH' },\r\n    { name: 'Gibraltar', code: 'GI' },\r\n    { name: 'Greece', code: 'GR' },\r\n    { name: 'Greenland', code: 'GL' },\r\n    { name: 'Grenada', code: 'GD' },\r\n    { name: 'Guadeloupe', code: 'GP' },\r\n    { name: 'Guam', code: 'GU' },\r\n    { name: 'Guatemala', code: 'GT' },\r\n    { name: 'Guernsey', code: 'GG' },\r\n    { name: 'Guinea', code: 'GN' },\r\n    { name: 'Guinea-Bissau', code: 'GW' },\r\n    { name: 'Guyana', code: 'GY' },\r\n    { name: 'Haiti', code: 'HT' },\r\n    { name: 'Heard Island and Mcdonald Islands', code: 'HM' },\r\n    { name: 'Holy See (Vatican City State)', code: 'VA' },\r\n    { name: 'Honduras', code: 'HN' },\r\n    { name: 'Hong Kong', code: 'HK' },\r\n    { name: 'Hungary', code: 'HU' },\r\n    { name: 'Iceland', code: 'IS' },\r\n    { name: 'India', code: 'IN' },\r\n    { name: 'Indonesia', code: 'ID' },\r\n    { name: 'Iran, Islamic Republic Of', code: 'IR' },\r\n    { name: 'Iraq', code: 'IQ' },\r\n    { name: 'Ireland', code: 'IE' },\r\n    { name: 'Isle of Man', code: 'IM' },\r\n    { name: 'Israel', code: 'IL' },\r\n    { name: 'Italy', code: 'IT' },\r\n    { name: 'Jamaica', code: 'JM' },\r\n    { name: 'Japan', code: 'JP' },\r\n    { name: 'Jersey', code: 'JE' },\r\n    { name: 'Jordan', code: 'JO' },\r\n    { name: 'Kazakhstan', code: 'KZ' },\r\n    { name: 'Kenya', code: 'KE' },\r\n    { name: 'Kiribati', code: 'KI' },\r\n    { name: 'Korea, Democratic People\\'S Republic of', code: 'KP' },\r\n    { name: 'Korea, Republic of', code: 'KR' },\r\n    { name: 'Kuwait', code: 'KW' },\r\n    { name: 'Kyrgyzstan', code: 'KG' },\r\n    { name: 'Lao People\\'S Democratic Republic', code: 'LA' },\r\n    { name: 'Latvia', code: 'LV' },\r\n    { name: 'Lebanon', code: 'LB' },\r\n    { name: 'Lesotho', code: 'LS' },\r\n    { name: 'Liberia', code: 'LR' },\r\n    { name: 'Libyan Arab Jamahiriya', code: 'LY' },\r\n    { name: 'Liechtenstein', code: 'LI' },\r\n    { name: 'Lithuania', code: 'LT' },\r\n    { name: 'Luxembourg', code: 'LU' },\r\n    { name: 'Macao', code: 'MO' },\r\n    { name: 'Macedonia, The Former Yugoslav Republic of', code: 'MK' },\r\n    { name: 'Madagascar', code: 'MG' },\r\n    { name: 'Malawi', code: 'MW' },\r\n    { name: 'Malaysia', code: 'MY' },\r\n    { name: 'Maldives', code: 'MV' },\r\n    { name: 'Mali', code: 'ML' },\r\n    { name: 'Malta', code: 'MT' },\r\n    { name: 'Marshall Islands', code: 'MH' },\r\n    { name: 'Martinique', code: 'MQ' },\r\n    { name: 'Mauritania', code: 'MR' },\r\n    { name: 'Mauritius', code: 'MU' },\r\n    { name: 'Mayotte', code: 'YT' },\r\n    { name: 'Mexico', code: 'MX' },\r\n    { name: 'Micronesia, Federated States of', code: 'FM' },\r\n    { name: 'Moldova, Republic of', code: 'MD' },\r\n    { name: 'Monaco', code: 'MC' },\r\n    { name: 'Mongolia', code: 'MN' },\r\n    { name: 'Montserrat', code: 'MS' },\r\n    { name: 'Morocco', code: 'MA' },\r\n    { name: 'Mozambique', code: 'MZ' },\r\n    { name: 'Myanmar', code: 'MM' },\r\n    { name: 'Namibia', code: 'NA' },\r\n    { name: 'Nauru', code: 'NR' },\r\n    { name: 'Nepal', code: 'NP' },\r\n    { name: 'Netherlands', code: 'NL' },\r\n    { name: 'Netherlands Antilles', code: 'AN' },\r\n    { name: 'New Caledonia', code: 'NC' },\r\n    { name: 'New Zealand', code: 'NZ' },\r\n    { name: 'Nicaragua', code: 'NI' },\r\n    { name: 'Niger', code: 'NE' },\r\n    { name: 'Nigeria', code: 'NG' },\r\n    { name: 'Niue', code: 'NU' },\r\n    { name: 'Norfolk Island', code: 'NF' },\r\n    { name: 'Northern Mariana Islands', code: 'MP' },\r\n    { name: 'Norway', code: 'NO' },\r\n    { name: 'Oman', code: 'OM' },\r\n    { name: 'Pakistan', code: 'PK' },\r\n    { name: 'Palau', code: 'PW' },\r\n    { name: 'Palestinian Territory, Occupied', code: 'PS' },\r\n    { name: 'Panama', code: 'PA' },\r\n    { name: 'Papua New Guinea', code: 'PG' },\r\n    { name: 'Paraguay', code: 'PY' },\r\n    { name: 'Peru', code: 'PE' },\r\n    { name: 'Philippines', code: 'PH' },\r\n    { name: 'Pitcairn', code: 'PN' },\r\n    { name: 'Poland', code: 'PL' },\r\n    { name: 'Portugal', code: 'PT' },\r\n    { name: 'Puerto Rico', code: 'PR' },\r\n    { name: 'Qatar', code: 'QA' },\r\n    { name: 'Reunion', code: 'RE' },\r\n    { name: 'Romania', code: 'RO' },\r\n    { name: 'Russian Federation', code: 'RU' },\r\n    { name: 'RWANDA', code: 'RW' },\r\n    { name: 'Saint Helena', code: 'SH' },\r\n    { name: 'Saint Kitts and Nevis', code: 'KN' },\r\n    { name: 'Saint Lucia', code: 'LC' },\r\n    { name: 'Saint Pierre and Miquelon', code: 'PM' },\r\n    { name: 'Saint Vincent and the Grenadines', code: 'VC' },\r\n    { name: 'Samoa', code: 'WS' },\r\n    { name: 'San Marino', code: 'SM' },\r\n    { name: 'Sao Tome and Principe', code: 'ST' },\r\n    { name: 'Saudi Arabia', code: 'SA' },\r\n    { name: 'Senegal', code: 'SN' },\r\n    { name: 'Serbia and Montenegro', code: 'CS' },\r\n    { name: 'Seychelles', code: 'SC' },\r\n    { name: 'Sierra Leone', code: 'SL' },\r\n    { name: 'Singapore', code: 'SG' },\r\n    { name: 'Slovakia', code: 'SK' },\r\n    { name: 'Slovenia', code: 'SI' },\r\n    { name: 'Solomon Islands', code: 'SB' },\r\n    { name: 'Somalia', code: 'SO' },\r\n    { name: 'South Africa', code: 'ZA' },\r\n    { name: 'South Georgia and the South Sandwich Islands', code: 'GS' },\r\n    { name: 'Spain', code: 'ES' },\r\n    { name: 'Sri Lanka', code: 'LK' },\r\n    { name: 'Sudan', code: 'SD' },\r\n    { name: 'Suriname', code: 'SR' },\r\n    { name: 'Svalbard and Jan Mayen', code: 'SJ' },\r\n    { name: 'Swaziland', code: 'SZ' },\r\n    { name: 'Sweden', code: 'SE' },\r\n    { name: 'Switzerland', code: 'CH' },\r\n    { name: 'Syrian Arab Republic', code: 'SY' },\r\n    { name: 'Taiwan, Province of China', code: 'TW' },\r\n    { name: 'Tajikistan', code: 'TJ' },\r\n    { name: 'Tanzania, United Republic of', code: 'TZ' },\r\n    { name: 'Thailand', code: 'TH' },\r\n    { name: 'Timor-Leste', code: 'TL' },\r\n    { name: 'Togo', code: 'TG' },\r\n    { name: 'Tokelau', code: 'TK' },\r\n    { name: 'Tonga', code: 'TO' },\r\n    { name: 'Trinidad and Tobago', code: 'TT' },\r\n    { name: 'Tunisia', code: 'TN' },\r\n    { name: 'Turkey', code: 'TR' },\r\n    { name: 'Turkmenistan', code: 'TM' },\r\n    { name: 'Turks and Caicos Islands', code: 'TC' },\r\n    { name: 'Tuvalu', code: 'TV' },\r\n    { name: 'Uganda', code: 'UG' },\r\n    { name: 'Ukraine', code: 'UA' },\r\n    { name: 'United Arab Emirates', code: 'AE' },\r\n    { name: 'United Kingdom', code: 'GB' },\r\n    { name: 'United States', code: 'US' },\r\n    { name: 'United States Minor Outlying Islands', code: 'UM' },\r\n    { name: 'Uruguay', code: 'UY' },\r\n    { name: 'Uzbekistan', code: 'UZ' },\r\n    { name: 'Vanuatu', code: 'VU' },\r\n    { name: 'Venezuela', code: 'VE' },\r\n    { name: 'Viet Nam', code: 'VN' },\r\n    { name: 'Virgin Islands, British', code: 'VG' },\r\n    { name: 'Virgin Islands, U.S.', code: 'VI' },\r\n    { name: 'Wallis and Futuna', code: 'WF' },\r\n    { name: 'Western Sahara', code: 'EH' },\r\n    { name: 'Yemen', code: 'YE' },\r\n    { name: 'Zambia', code: 'ZM' },\r\n    { name: 'Zimbabwe', code: 'ZW' },\r\n];\n\nconst InputCopyField = react.exports.memo(({ label, value, testId }) => {\r\n    return React.createElement(InputCopy$1, { label: label, value: value, testId: testId, sx: { marginBottom: 2 } });\r\n});\r\nconst RolesField$4 = react.exports.memo(({ label, placeholder }) => {\r\n    const { injector } = useShadowDom();\r\n    const user = useAuthUserOrNull();\r\n    const allRoles = useAuthTeamState(state => state.roles);\r\n    const roles = checkRoleAccess(allRoles, user);\r\n    const [fieldProps, { error, touched }, { setValue, setTouched }] = useField('roleIds');\r\n    const options = react.exports.useMemo(() => (roles !== null && roles !== void 0 ? roles : []).map(role => ({ label: role.name, value: role.id, withCheckbox: true })), [roles]);\r\n    return React.createElement(Select$1$1, { label: label, name: 'roleIds', multi: true, placeholder: placeholder, value: fieldProps.value, \"data-test-id\": \"selectRoles\", onChange: (value) => {\r\n            setValue(value, true);\r\n            setTouched(true);\r\n        }, error: !!error && touched, errorMessage: error, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, options: options });\r\n}, shallowEqual$1('label'));\r\nconst Field = (props) => {\r\n    var _a;\r\n    const { autoComplete, autoFocus } = props;\r\n    const [fieldProps, { error, touched }] = useField(props.name);\r\n    //TODO add to data test id: props.name-box\r\n    return React.createElement(Input$1$1, Object.assign({ label: props.label, placeholder: props.placeholder }, fieldProps, { value: (_a = fieldProps.value) !== null && _a !== void 0 ? _a : '', error: !!error && touched, errorMessage: error, autoFocus: autoFocus, \"data-test-id\": `${props.name}-box`, autoComplete: autoComplete }));\r\n};\r\nconst CountryField = ({ name, countryCode, label, placeholder }) => {\r\n    const { injector } = useShadowDom();\r\n    const [fieldProps, { error, touched }, { setValue }] = useField(name !== null && name !== void 0 ? name : 'country');\r\n    const [search, setSearch] = react.exports.useState('');\r\n    const handleSearchChanged = react.exports.useCallback((str) => __awaiter(void 0, void 0, void 0, function* () { return setSearch((str !== null && str !== void 0 ? str : '').toLowerCase().trim()); }), [setSearch]);\r\n    const options = react.exports.useMemo(() => {\r\n        let data = countries.map(({ name, code }) => ({ label: name, value: countryCode ? code : name }));\r\n        if (search) {\r\n            return data.filter(({ label }) => label.toLowerCase().indexOf(search) !== -1);\r\n        }\r\n        return data;\r\n    }, [search, countryCode]);\r\n    return React.createElement(Select$1$1, { size: 'small', \"data-test-id\": \"country-dropdown\", name: fieldProps.name, value: fieldProps.value, onChange: (value) => setValue(value, true), options: options, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, label: label, errorMessage: touched ? error : undefined, onSearch: handleSearchChanged, placeholder: placeholder });\r\n};\n\nconst CustomCountryField$2 = () => {\r\n    const t = useT('profile_EditAddress');\r\n    return React.createElement(CountryField, { label: t('countryInputLabel'), placeholder: t('countryInputPlaceholder') });\r\n};\r\nconst Address1Field$2 = () => {\r\n    const t = useT('profile_EditAddress');\r\n    return React.createElement(Field, { autoComplete: 'street-address', name: 'address1', label: t('address1InputLabel') });\r\n};\r\nconst Address2Field$2 = () => {\r\n    const t = useT('profile_EditAddress');\r\n    return React.createElement(Field, { autoComplete: 'address-level3', name: 'address2', label: t('address2InputLabel') });\r\n};\r\nconst CityField$2 = () => {\r\n    const t = useT('profile_EditAddress');\r\n    return React.createElement(Field, { autoComplete: 'address-level2', name: 'city', label: t('cityInputLabel') });\r\n};\r\nconst StateField$2 = () => {\r\n    const t = useT('profile_EditAddress');\r\n    return React.createElement(Field, { autoComplete: 'address-level1', name: 'state', label: t('stateInputLabel') });\r\n};\r\nconst PostcodeField$2 = () => {\r\n    const t = useT('profile_EditAddress');\r\n    return React.createElement(Field, { autoComplete: 'postal-code', name: 'postCode', label: t('postCodeInputLabel') });\r\n};\r\nconst EditNameForm = (props) => {\r\n    const t = useT('profile_EditAddress');\r\n    const user = useAuthUser();\r\n    const { saveProfile } = useProfileActions();\r\n    const initialValues = react.exports.useMemo(() => ({\r\n        address1: getUserMetadata(user, 'address.address1'),\r\n        address2: getUserMetadata(user, 'address.address2'),\r\n        city: getUserMetadata(user, 'address.city'),\r\n        state: getUserMetadata(user, 'address.state'),\r\n        postCode: getUserMetadata(user, 'address.postCode'),\r\n        country: getUserMetadata(user, 'address.country'),\r\n    }), [user]);\r\n    const validationSchema = react.exports.useMemo(() => validateSchema({\r\n        address1: validateNotEmpty(t('address1IsRequired')),\r\n        city: validateNotEmpty(t('cityIsRequired')),\r\n        postCode: validationPostCodeOptional(t('postCodeIsInvalid')),\r\n        country: validateNotEmpty(t('countryIsRequired')),\r\n    }), [t]);\r\n    const formikProps = {\r\n        onSubmit: (values) => new Promise((resolve, reject) => {\r\n            const metadata = addUserMetadata(user, { address: values });\r\n            const callback = callbackToPromise(() => {\r\n                props.onClose();\r\n                resolve();\r\n            }, reject);\r\n            saveProfile({ metadata, callback });\r\n        }),\r\n        initialValues,\r\n        validationSchema,\r\n    };\r\n    return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit }) => {\r\n        return React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                React.createElement(CustomCountryField$2, null),\r\n                React.createElement(Address1Field$2, null),\r\n                React.createElement(Address2Field$2, null),\r\n                React.createElement(CityField$2, null),\r\n                React.createElement(StateField$2, null),\r\n                React.createElement(PostcodeField$2, null)),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancelBtn\", color: 'inherit', variant: 'text', type: 'reset', onClick: props.onClose }, t('cancel')),\r\n                React.createElement(Button$1, { \"data-test-id\": \"saveBtn\", disabled: !canSubmit, loading: isSubmitting, color: 'primary', type: 'submit' }, t('save'))));\r\n    });\r\n};\r\nconst EditAddressDialog$1 = (props) => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('profile_EditAddress');\r\n    return React.createElement(Dialog$1, Object.assign({ container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { title: t('title') }),\r\n        React.createElement(EditNameForm, Object.assign({}, props)));\r\n};\n\nconst PageWrapper = styled(Box)(({ theme }) => {\r\n    var _a;\r\n    return (Object.assign({ flex: 1, overflow: 'auto', transform: 'translate3d(0,0,0)' }, (_a = theme === null || theme === void 0 ? void 0 : theme.pages) === null || _a === void 0 ? void 0 : _a.content));\r\n});\r\nPageWrapper.defaultProps = {\r\n    pt: 4,\r\n    pb: 4,\r\n    pl: 6,\r\n    pr: 6,\r\n};\n\nconst ProfilePage$1 = () => {\r\n    const t = useT('profile');\r\n    const user = useAuthUser();\r\n    reloadProfileIfNeeded();\r\n    const [editNameDialog, handleCloseEditName, handleOpenEditName] = useDialogState();\r\n    const [editPhoneNumberDialog, handleCloseEditPhoneNumber, handleOpenEditPhoneNumber] = useDialogState();\r\n    const [editJobTitleDialog, handleCloseEditJobTitle, handleOpenEditJobTitle] = useDialogState();\r\n    const [editAddressDialog, handleCloseEditAddress, handleOpenEditAddress] = useDialogState();\r\n    const items = react.exports.useMemo(() => [\r\n        {\r\n            id: 'email',\r\n            title: t('email'),\r\n            value: user.email,\r\n            onEditClick: null,\r\n            testId: 'email-field'\r\n        }, {\r\n            id: 'name',\r\n            title: t('name'),\r\n            value: getUserFullName(user),\r\n            onEditClick: handleOpenEditName,\r\n            testId: 'name-field'\r\n        }, {\r\n            id: 'phone',\r\n            title: t('phone'),\r\n            value: getUserMetadata(user, 'phoneNumber'),\r\n            onEditClick: handleOpenEditPhoneNumber,\r\n            testId: 'phone-field'\r\n        }, {\r\n            id: 'metadata.address',\r\n            title: t('address'),\r\n            value: getUserAddress(user),\r\n            onEditClick: handleOpenEditAddress,\r\n            testId: 'address-field'\r\n        }, {\r\n            id: 'metadata.jobTitle',\r\n            title: t('jobTitle'),\r\n            value: getUserMetadata(user, 'jobTitle'),\r\n            onEditClick: handleOpenEditJobTitle,\r\n            testId: 'jobTitle-field'\r\n        }\r\n    ], [user, t, handleOpenEditName, handleOpenEditPhoneNumber, handleOpenEditJobTitle, handleOpenEditAddress]);\r\n    return React.createElement(PageWrapper, { \"data-test-id\": 'profile-page-wrapper' },\r\n        React.createElement(ProfileHeader, null),\r\n        React.createElement(SettingsList, { title: t('informationTitle'), items: items }),\r\n        React.createElement(EditNameDialog, { open: editNameDialog, onClose: handleCloseEditName }),\r\n        React.createElement(EditPhoneDialog, { open: editPhoneNumberDialog, onClose: handleCloseEditPhoneNumber }),\r\n        React.createElement(EditJobTitleDialog, { open: editJobTitleDialog, onClose: handleCloseEditJobTitle }),\r\n        React.createElement(EditAddressDialog$1, { open: editAddressDialog, onClose: handleCloseEditAddress }));\r\n};\r\nvar ProfilePage$2 = ProfilePage$1;\n\nvar ProfilePage = wrapPage(ProfilePage$2, 'profile');\n\nconst CurrentPasswordField = react.exports.memo(() => {\r\n    const t = useT('privacy_ChangePassword');\r\n    const [fieldProps, { error, touched }] = useField('password');\r\n    return React.createElement(InputPassword$1, Object.assign({}, fieldProps, { autoFocus: true, label: t('currentPasswordInputLabel'), error: !!error, errorMessage: error && touched ? error : undefined, \"data-test-id\": \"currentPasswordBox\", autoComplete: 'current-password' }));\r\n});\r\nconst NewPasswordField = react.exports.memo(() => {\r\n    const t = useT('privacy_ChangePassword');\r\n    const [fieldProps, { error, touched }] = useField('newPassword');\r\n    return React.createElement(InputPassword$1, Object.assign({}, fieldProps, { label: t('newPasswordInputLabel'), error: !!error && touched, \"aria-autocomplete\": 'none', \"data-test-id\": \"newPasswordBox\", autoComplete: 'new-password' }));\r\n});\r\nconst ConfirmPasswordField = react.exports.memo(() => {\r\n    const t = useT('privacy_ChangePassword');\r\n    const [fieldProps, { error, touched }] = useField('confirmPassword');\r\n    return React.createElement(InputPassword$1, Object.assign({}, fieldProps, { label: t('confirmPasswordInputLabel'), error: !!error && touched, errorMessage: error, \"aria-autocomplete\": 'none', \"data-test-id\": \"confirmPasswordBox\", autoComplete: 'new-password' }));\r\n});\r\nconst PasswordStrength = (props) => {\r\n    const [{ value }] = useField('newPassword');\r\n    const globalT = useGlobalT();\r\n    return React.createElement(PasswordStrengthChecker, Object.assign({ t: globalT, value: value, isTouched: value !== '' }, props));\r\n};\r\nconst ChangePasswordForm = (props) => {\r\n    const t = useT('privacy_ChangePassword');\r\n    const user = useAuthUser();\r\n    const { changePassword } = useProfileActions();\r\n    const { loading, passwordConfig: passwordServerConfig, defaultPasswordConfig } = usePasswordConfig(user.id, false);\r\n    const initialValues = react.exports.useMemo(() => ({\r\n        password: '',\r\n        newPassword: '',\r\n        confirmPassword: '',\r\n    }), []);\r\n    const passwordConfig = loading || !passwordServerConfig ? defaultPasswordConfig : passwordServerConfig;\r\n    const validationSchema = react.exports.useMemo(() => {\r\n        return validateSchema({\r\n            password: validateNotEmpty(t('currentPasswordIsRequired')),\r\n            newPassword: validatePasswordUsingOWASP(t('newPasswordIsRequired')),\r\n            confirmPassword: validateConfirmPassword(t('confirmPasswordIsRequired'), t('confirmPasswordMustMatch'), 'newPassword'),\r\n        });\r\n    }, [t, passwordConfig]);\r\n    const formikProps = {\r\n        onSubmit: ({ password, newPassword }) => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, reject, props.onClose);\r\n            changePassword({ password, newPassword, callback });\r\n        }),\r\n        initialValues,\r\n        validationSchema,\r\n    };\r\n    return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit, formError }) => {\r\n        return React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                React.createElement(CurrentPasswordField, null),\r\n                React.createElement(NewPasswordField, null),\r\n                React.createElement(PasswordStrength, { passwordConfig: passwordConfig, loading: loading || !passwordConfig }),\r\n                React.createElement(ConfirmPasswordField, null),\r\n                React.createElement(FormErrorDialogMessage, { fieldName: 'changePassword', message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Box, { flex: 1 }),\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancelBtn\", color: 'inherit', variant: 'text', type: 'reset', onClick: props.onClose }, t('cancel')),\r\n                React.createElement(Button$1, { \"data-test-id\": \"changePasswordBtn\", disabled: !canSubmit, loading: isSubmitting, color: 'primary', type: 'submit' }, t('changePassword'))));\r\n    });\r\n};\r\nconst ChangePasswordDialog = (props) => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('privacy_ChangePassword');\r\n    return React.createElement(Dialog$1, Object.assign({ \"data-test-id\": \"changePasswordDialog\", container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, dialogTitleDataTestId: 'changePasswordHeader', title: t('title') }, props, { size: 'sm' }),\r\n        React.createElement(ChangePasswordForm, Object.assign({}, props)));\r\n};\n\nconst PulseSvgIcon = styled(react.exports.forwardRef((props, ref) => React.createElement(SvgIcon, Object.assign({ ref: ref }, props)))) `\n  & {\n    animation: svg-pulse 1.5s ease-in-out 0.5s infinite;\n    color: #E7E7E7;\n  }\n\n  @keyframes svg-pulse {\n    0% {\n      opacity: 1\n    }\n    50% {\n      opacity: 0.4\n    }\n    100% {\n      opacity: 1\n    }\n  }\n`;\r\nconst QrCodeSkeleton = react.exports.forwardRef((_, ref) => {\r\n    const dots = [[90, 0], [120, 0], [110, 10], [120, 10], [120, 20], [90, 30], [90, 40], [120, 40], [80, 50], [100, 50], [110, 50], [120, 50], [80, 60], [100, 60], [120, 60], [110, 70], [120, 70], [0, 80], [30, 80], [50, 80], [60, 80], [80, 80], [90, 80], [130, 80], [150, 80], [40, 90], [100, 90], [140, 90], [150, 90], [180, 90], [190, 90], [200, 90], [0, 100], [10, 100], [20, 100], [60, 100], [70, 100], [90, 100], [100, 100], [120, 100], [130, 100], [170, 100], [200, 100], [10, 110], [20, 110], [70, 110], [90, 110], [110, 110], [160, 110], [170, 110], [190, 110], [200, 110], [0, 120], [10, 120], [20, 120], [30, 120], [40, 120], [50, 120], [60, 120], [70, 120], [90, 120], [100, 120], [120, 120], [140, 120], [150, 120], [160, 120], [190, 120], [80, 130], [90, 130], [100, 130], [110, 130], [150, 130], [170, 130], [200, 130], [130, 140], [150, 140], [160, 140], [180, 140], [190, 140], [80, 150], [100, 150], [110, 150], [120, 150], [130, 150], [150, 150], [160, 150], [200, 150], [90, 160], [100, 160], [110, 160], [140, 160], [150, 160], [160, 160], [200, 160], [80, 170], [110, 170], [150, 170], [160, 170], [170, 170], [190, 170], [200, 170], [100, 180], [120, 180], [150, 180], [160, 180], [180, 180], [200, 180], [130, 190], [140, 190], [160, 190], [80, 200], [90, 200], [100, 200], [110, 200], [120, 200], [170, 200], [190, 200]];\r\n    const largeDots = [[20, 20], [160, 20], [20, 160]];\r\n    const corners = [[0, 0], [140, 0], [0, 140]];\r\n    return React.createElement(PulseSvgIcon, { viewBox: '0 0 250 250', ref: ref },\r\n        React.createElement(\"g\", { transform: \"translate(20,20)\" },\r\n            dots.map((dot, index) => React.createElement(\"g\", { key: index, transform: `translate(${dot[0]},${dot[1]}) scale(0.1,0.1)` },\r\n                React.createElement(\"rect\", { width: \"100\", height: \"100\" }))),\r\n            largeDots.map((dot, index) => React.createElement(\"g\", { key: index, transform: `translate(${dot[0]},${dot[1]}) scale(0.3,0.3)` },\r\n                React.createElement(\"rect\", { width: \"100\", height: \"100\" }))),\r\n            corners.map((corner, index) => React.createElement(\"g\", { key: index, transform: `translate(${corner[0]},${corner[1]}) scale(0.7, 0.7)` },\r\n                React.createElement(\"rect\", { x: '15', y: '15', fill: 'none', width: '70', height: '70' }),\r\n                React.createElement(\"path\", { d: \"M85,0H15H0v15v70v15h15h70h15V85V15V0H85z M85,85H15V15h70V85z\" })))));\r\n});\n\nconst GoogleAuthenticatorLink = react.exports.memo(() => {\r\n    return React.createElement(Link$1, { href: 'https://www.google.com/search?q=google+authenticator', target: '_blank' }, ` Google Authenticator `);\r\n});\r\nconst QrCodeContainer = styled(Grid)(({ theme }) => ({\r\n    height: '12rem',\r\n    width: '12rem',\r\n    border: `1px solid ${theme.palette.grey[300]}`,\r\n    borderRadius: '0.5rem',\r\n    position: 'relative',\r\n    padding: theme.spacing(10),\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    margin: '2rem auto',\r\n    'img, svg': {\r\n        top: '0.5rem',\r\n        left: '0.5rem',\r\n        position: 'absolute',\r\n        width: 'calc(100% - 1rem)',\r\n        height: 'calc(100% - 1rem)',\r\n    },\r\n}));\r\nconst QrCodeComponent = () => {\r\n    const { loading, qrCode } = useMfaState();\r\n    const displaySkeleton = !qrCode && loading;\r\n    return React.createElement(QrCodeContainer, { container: true },\r\n        React.createElement(Grid, { item: true },\r\n            React.createElement(Fade, { in: displaySkeleton },\r\n                React.createElement(QrCodeSkeleton, null)),\r\n            React.createElement(Fade, { in: !displaySkeleton },\r\n                React.createElement(\"img\", { \"data-test-id\": \"qrCode\", alt: 'qr-code', src: qrCode !== null && qrCode !== void 0 ? qrCode : '' }))));\r\n};\r\nconst TokenInput$1 = react.exports.memo(() => {\r\n    const t = useT('privacy_EnableMfa');\r\n    const { submitCount, dirty } = useFormikContext();\r\n    const [fieldProps, { error, touched }] = useField('token');\r\n    return React.createElement(Input$1$1, Object.assign({}, fieldProps, { autoFocus: true, \"data-test-id\": \"6DigitsCode\", inputMode: 'numeric', label: t('codeInputLabel'), placeholder: t('codeInputPlaceholder'), error: !!error && ((touched && !!submitCount) || dirty), errorMessage: error, autoComplete: 'one-time-code' }));\r\n});\r\nconst VerifyMfaForm = react.exports.forwardRef((props, ref) => {\r\n    const t = useT('privacy_EnableMfa');\r\n    const { verifyMfa } = useMfaActions();\r\n    const initialValues = react.exports.useMemo(() => ({ token: '' }), []);\r\n    const validationSchema = react.exports.useMemo(() => validateSchema({\r\n        token: validateMinLength(6, t('codeIsRequired'), t('codeLengthAtLeast6')),\r\n    }), [t]);\r\n    const formikProps = {\r\n        onSubmit: (values) => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, reject);\r\n            verifyMfa({ token: values.token, callback });\r\n        }),\r\n        initialValues,\r\n        validationSchema,\r\n    };\r\n    return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit, formError }) => {\r\n        return React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, { ref: ref },\r\n                React.createElement(Box, { mb: 8 },\r\n                    React.createElement(Typography$1, { variant: 'subtitle2' }, t('subtitle'))),\r\n                React.createElement(Typography$1, { variant: 'body1' },\r\n                    t('scanDescription1'),\r\n                    \" \",\r\n                    React.createElement(GoogleAuthenticatorLink, null),\r\n                    \" \",\r\n                    t('scanDescription2')),\r\n                React.createElement(QrCodeComponent, null),\r\n                React.createElement(TokenInput$1, null),\r\n                React.createElement(FormErrorDialogMessage, { message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Box, { flex: 1 }),\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancelBtn\", color: 'inherit', variant: 'text', type: 'reset', onClick: props.onClose }, t('cancel')),\r\n                React.createElement(Button$1, { \"data-test-id\": \"verifyBtn\", disabled: !canSubmit, loading: isSubmitting, color: 'primary', type: 'submit' }, t('verify'))));\r\n    });\r\n});\r\nconst RecoveryMfaForm = react.exports.forwardRef((props, ref) => {\r\n    const t = useT('privacy_EnableMfa');\r\n    const { recoveryCode = '' } = useMfaState();\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(Dialog$1.Body, { ref: ref },\r\n            React.createElement(Typography$1, { variant: 'subtitle1' }, t('recoveryCodeTitle')),\r\n            React.createElement(Box, { mt: 8 },\r\n                React.createElement(InputCopy$1, { label: t('recoveryCodeLabel'), value: recoveryCode })),\r\n            React.createElement(Box, { mt: 8 },\r\n                React.createElement(Alert$1, { severity: 'info' }, t('recoveryCodeInstructions')))),\r\n        React.createElement(Dialog$1.Footer, null,\r\n            React.createElement(Button$1, { \"data-test-id\": \"cancelBtn\", color: 'inherit', variant: 'text', type: 'reset', onClick: props.onClose }, t('cancel')),\r\n            React.createElement(Button$1, { \"data-test-id\": \"closeBtn\", color: \"inherit\", onClick: props.onClose }, t('close'))));\r\n});\r\nconst EnableMfaStepper = props => {\r\n    const { step } = useMfaState();\r\n    const { enrollMfa, resetMfaState } = useMfaActions();\r\n    react.exports.useEffect(() => {\r\n        enrollMfa();\r\n        return resetMfaState;\r\n    }, [enrollMfa, resetMfaState]);\r\n    react.exports.useEffect(() => {\r\n        if (step !== MFAStep.verify && step !== MFAStep.recoveryCode) {\r\n            props.onClose();\r\n        }\r\n    }, [step, props]);\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(Slide$1, { in: step === MFAStep.verify, appear: false, exit: false, unmountOnExit: true, direction: step === MFAStep.verify ? 'left' : 'right' },\r\n            React.createElement(VerifyMfaForm, Object.assign({}, props))),\r\n        React.createElement(Slide$1, { in: step === MFAStep.recoveryCode, mountOnEnter: true, unmountOnExit: true, direction: step === MFAStep.recoveryCode ? 'left' : 'right' },\r\n            React.createElement(RecoveryMfaForm, Object.assign({}, props))));\r\n};\r\nconst EnableMfaDialog = props => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('privacy_EnableMfa');\r\n    return React.createElement(Dialog$1, Object.assign({ \"data-test-id\": \"enableMfa\", container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { title: t('title'), size: 'sm' }),\r\n        React.createElement(EnableMfaStepper, Object.assign({}, props)));\r\n};\n\nconst TokenInput = react.exports.memo(() => {\r\n    const t = useT('privacy_DisableMfa');\r\n    const [fieldProps, { error, touched }] = useField('token');\r\n    return React.createElement(Input$1$1, Object.assign({}, fieldProps, { autoFocus: true, inputMode: 'numeric', \"data-test-id\": \"6DigitsCode\", label: t('tokenInputLabel'), placeholder: t('tokenInputLabelPlaceholder'), error: !!error && touched, errorMessage: error, autoComplete: 'one-time-code' }));\r\n});\r\nconst DisableMfaForm = (props) => {\r\n    const t = useT('privacy_DisableMfa');\r\n    const { disableMfa, resetMfaState } = useMfaActions();\r\n    react.exports.useEffect(() => resetMfaState, [resetMfaState]);\r\n    const initialValues = react.exports.useMemo(() => ({ token: '' }), []);\r\n    const validationSchema = react.exports.useMemo(() => validateSchema({ token: validateMinLength(6, t('codeIsRequired'), t('codeLengthAtLeast6')) }), [t]);\r\n    const formikProps = {\r\n        onSubmit: ({ token }, { setErrors }) => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, (e) => {\r\n                setErrors({ token: e.message });\r\n                reject();\r\n            }, props.onClose);\r\n            disableMfa({ token, callback });\r\n        }),\r\n        initialValues,\r\n        validationSchema,\r\n    };\r\n    return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit }) => {\r\n        return React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                React.createElement(Box, { \"data-test-id\": \"disableMfabtn\", mb: 4, component: Typography$1, variant: 'subtitle2' }, t('description')),\r\n                React.createElement(TokenInput, null)),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancel\", color: 'inherit', variant: 'text', type: 'reset', onClick: props.onClose }, t('cancel')),\r\n                React.createElement(Button$1, { \"data-test-id\": \"submit\", disabled: !canSubmit, loading: isSubmitting, color: 'danger', type: 'submit' }, t('disable'))));\r\n    });\r\n};\r\nconst DisableMfaDialog = props => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('privacy_DisableMfa');\r\n    return React.createElement(Dialog$1, Object.assign({ container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { title: t('title'), size: 'sm' }),\r\n        React.createElement(DisableMfaForm, Object.assign({}, props)));\r\n};\n\nconst getIpMetadata = (ip) => __awaiter(void 0, void 0, void 0, function* () {\r\n    try {\r\n        return yield fetch.Get(`/metadata/ip/${ip}`);\r\n    }\r\n    catch (e) {\r\n        throw new Error(`ip metadata not found`);\r\n    }\r\n});\r\nconst getFilterType = (type) => {\r\n    switch (type) {\r\n        case 'Timestamp':\r\n            return 'select';\r\n        case 'Severity':\r\n            return 'select';\r\n        default:\r\n            return 'input';\r\n    }\r\n};\r\nconst capitalize = (s) => {\r\n    // noinspection SuspiciousTypeOfGuard\r\n    if (typeof s !== 'string')\r\n        return `${s}`;\r\n    return s.charAt(0).toUpperCase() + s.slice(1);\r\n};\r\nconst getFilterName = (name) => {\r\n    switch (name) {\r\n        case 'createdAt':\r\n            return 'Time';\r\n        default:\r\n            return capitalize(name);\r\n    }\r\n};\r\n//TODO: wrong items order in selector\r\nconst timeOptions = [\r\n    { label: 'Last Day', value: 'last_day' },\r\n    { label: 'Last Week', value: 'last_week' },\r\n    { label: 'Last Month', value: 'last_month' },\r\n    { label: 'Last Year', value: 'last_year' },\r\n];\r\nconst severityOptions = [\r\n    { label: 'Info', value: 'Info' },\r\n    { label: 'Medium', value: 'Medium' },\r\n    { label: 'High', value: 'High' },\r\n    { label: 'Critical', value: 'Critical' },\r\n];\r\nconst getTimeDiff = (time) => {\r\n    const diff = differenceInDays(new Date(), parseISO(time));\r\n    return diff <= 1 ? 'last_day' : diff <= 7 ? 'last_week' : diff <= 30 ? 'last_month' : 'last_year';\r\n};\r\nconst getFilterTime = (time) => {\r\n    let value;\r\n    const date = new Date();\r\n    switch (time) {\r\n        case 'last_day':\r\n            value = subDays(date, 1).toISOString();\r\n            break;\r\n        case 'last_week':\r\n            value = subDays(date, 7).toISOString();\r\n            break;\r\n        case 'last_month':\r\n            value = subMonths(date, 1).toISOString();\r\n            break;\r\n        case 'last_year':\r\n            value = subYears(date, 1).toISOString();\r\n            break;\r\n        default:\r\n            value = date.toISOString();\r\n    }\r\n    return { $gt: value };\r\n};\r\nconst getSeverityByName = (severity) => {\r\n    switch (severity === null || severity === void 0 ? void 0 : severity.toLowerCase()) {\r\n        case 'info':\r\n            return 'info';\r\n        case 'error':\r\n            return 'error';\r\n        case 'attention':\r\n            return 'warning';\r\n        case 'high':\r\n            return 'warning';\r\n        default:\r\n            return 'info';\r\n    }\r\n};\r\nconst str2bool = (str) => {\r\n    var _a;\r\n    const value = (_a = str === null || str === void 0 ? void 0 : str.toLowerCase) === null || _a === void 0 ? void 0 : _a.call(str);\r\n    if (!value) {\r\n        return false;\r\n    }\r\n    switch (value) {\r\n        case 'yes':\r\n        case 'always':\r\n            return true;\r\n        default:\r\n            return false;\r\n    }\r\n};\n\nconst UserSessionsTableColumns = ({ t }) => [\r\n    {\r\n        Header: t('deviceHeader'),\r\n        accessor: ({ userAgent, current }) => ({ userAgent, current, endAdornment: current ? React.createElement(Chip, { label: t('currentSessionChip'), sx: { backgroundColor: 'success.light', color: 'success.main' } }) : undefined }),\r\n        minWidth: 280,\r\n        maxWidth: 280,\r\n        Cell: TableUserAgentCell,\r\n    },\r\n    {\r\n        Header: t('locationHeader'),\r\n        accessor: ({ ipAddress }) => ({ ip: ipAddress, getIpMetadata }),\r\n        Cell: TableLocationCell,\r\n        width: 200,\r\n        maxWidth: 200,\r\n    },\r\n    {\r\n        Header: t('ipAddressHeader'),\r\n        accessor: ({ ipAddress }) => ({ description: ipAddress }),\r\n        minWidth: 200,\r\n        maxWidth: 200,\r\n        Cell: TableTextCell,\r\n    },\r\n    {\r\n        Header: t('timeHeader'),\r\n        accessor: ({ createdAt }) => ({ date: createdAt, withAgo: true }),\r\n        minWidth: 200,\r\n        maxWidth: 200,\r\n        Cell: TableDateCell,\r\n    },\r\n    {\r\n        Header: () => React.createElement(Box, { width: '1rem' }),\r\n        id: `logOut`,\r\n        accessor: ({ id, current }) => ({ id, current, actionText: t('logout') }),\r\n        minWidth: 180,\r\n        maxWidth: 180,\r\n        Cell: TableLogoutCell,\r\n    },\r\n];\n\nconst DeleteDialogBody = ({ error, description, loading, onDelete, onClose, deleteButtonText, cancelButtonText }) => {\r\n    //TODO change data test id cancelBtn to cancel-btn\r\n    //TODO change data test id deleteBtn to delete-btn\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(Dialog$1.Body, null,\r\n            React.createElement(Typography$1, { variant: \"subtitle2Light\" }, description),\r\n            React.createElement(FormErrorDialogMessage, { message: error })),\r\n        React.createElement(Dialog$1.Footer, null,\r\n            React.createElement(Box, { flex: 1 }),\r\n            cancelButtonText &&\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancel-btn\", color: \"inherit\", variant: \"text\", onClick: onClose }, cancelButtonText),\r\n            React.createElement(Button$1, { \"data-test-id\": \"delete-btn\", loading: loading, color: \"danger\", onClick: onDelete }, deleteButtonText))));\r\n};\r\nconst DeleteDialog = (_a) => {\r\n    var { onClose, title, open, dataTestId } = _a, props = __rest(_a, [\"onClose\", \"title\", \"open\", \"dataTestId\"]);\r\n    const { injector } = useShadowDom();\r\n    return (React.createElement(Dialog$1, { \"data-test-id\": dataTestId, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, open: open, onClose: onClose, title: title },\r\n        React.createElement(DeleteDialogBody, Object.assign({}, props, { onClose: onClose }))));\r\n};\n\nconst LogOutAllDialog = ({ onClose, open }) => {\r\n    const t = useT('privacy_UserSessions');\r\n    const [submitted, setSubmitted] = react.exports.useState(false);\r\n    const { loading, error } = useSessionsState();\r\n    const { deleteAllUserSessions } = useSessionsActions();\r\n    react.exports.useEffect(() => {\r\n        if (submitted && !error && !loading) {\r\n            onClose();\r\n        }\r\n    }, [submitted, error, loading, onClose]);\r\n    const handleLogoutAll = react.exports.useCallback(() => {\r\n        deleteAllUserSessions();\r\n        setSubmitted(true);\r\n    }, [setSubmitted, deleteAllUserSessions]);\r\n    return (React.createElement(DeleteDialog, { dataTestId: 'logoutAllDialog', title: t('logoutAllDialogTitle'), deleteButtonText: t('logoutAllDialogAcceptButton'), description: t('logoutAllDialogText'), open: open, error: error, onClose: onClose, loading: !!loading, onDelete: handleLogoutAll }));\r\n};\n\nconst useUserSessionsData = () => {\r\n    const { sessions } = useSessionsState();\r\n    return react.exports.useMemo(() => sessions.filter(({ userAgent }) => !(userAgent === null || userAgent === void 0 ? void 0 : userAgent.toLowerCase().includes('axios'))).sort((a, b) => Number(b.current) - Number(a.current)), [sessions]);\r\n};\n\nconst UsersSessionsTableHeader = () => {\r\n    const t = useT('privacy_UserSessions');\r\n    const [isLogoutAllDialogOpen, handleCloseLogOutAllDialog, handleOpenLogOutAllDialog] = useDialogState();\r\n    const sessions = useUserSessionsData();\r\n    const isLogoutButtonVisible = react.exports.useMemo(() => (sessions === null || sessions === void 0 ? void 0 : sessions.length) > 1, [sessions]);\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(Grid, { container: true, display: 'flex', alignItems: 'center', mb: 2 },\r\n            React.createElement(Grid, { item: true, xs: 12, sm: 6, md: 4 },\r\n                React.createElement(Typography$1, { variant: 'subtitle1' },\r\n                    \" \",\r\n                    t('loginSessionsTitle'))),\r\n            React.createElement(Grid, { item: true, xs: true }),\r\n            React.createElement(Grid, { item: true }, isLogoutButtonVisible && React.createElement(Button$1, { \"data-test-id\": \"delete-sessions-btn\", color: 'inherit', onClick: handleOpenLogOutAllDialog }, t('logoutAllButtonText')))),\r\n        React.createElement(LogOutAllDialog, { onClose: handleCloseLogOutAllDialog, open: isLogoutAllDialogOpen }));\r\n};\n\nconst UserSessionsTable = () => {\r\n    const t = useT('privacy_UserSessions');\r\n    const { loadUserSessions } = useSessionsActions();\r\n    const { loading } = useSessionsState();\r\n    const rows = useUserSessionsData();\r\n    react.exports.useEffect(() => {\r\n        loadUserSessions();\r\n    }, [loadUserSessions]);\r\n    const columns = react.exports.useMemo(() => UserSessionsTableColumns({\r\n        t,\r\n    }), [t]);\r\n    return (React.createElement(Box, { mt: 6, flex: 1, display: 'flex', flexDirection: 'column' },\r\n        React.createElement(UsersSessionsTableHeader, null),\r\n        React.createElement(Table, { \"data-test-id\": \"table\", columns: columns, data: rows, loading: !!loading })));\r\n};\n\nconst PrivacyPage$1 = () => {\r\n    const t = useT('privacy');\r\n    const [changePasswordDialog, handleCloseChangePassword, handleOpenChangePassword] = useDialogState();\r\n    const [enableMfaDialog, handleCloseEnableMfaDialog, handleOpenEnableMfaDialog] = useDialogState();\r\n    const [disableMfaDialog, handleCloseDisableMfaDialog, handleOpenDisableMfaDialog] = useDialogState();\r\n    const user = useAuthUser();\r\n    const { policy, loading: loadingPolicy } = usePublicPolicySettings();\r\n    const mfaPolicy = useMfaPolicySettings();\r\n    usePasswordConfig(user.id);\r\n    const isMfaForced = mfaPolicy.policy && mfaPolicy.policy.enforceMFAType !== 'DontForce';\r\n    const items = react.exports.useMemo(() => [\r\n        ...(!loadingPolicy && (policy === null || policy === void 0 ? void 0 : policy.authStrategy) === 'EmailAndPassword' ? [{\r\n                id: 'password',\r\n                title: t('passwordTitle'),\r\n                value: '',\r\n                onEditClick: handleOpenChangePassword,\r\n            }] : []),\r\n        {\r\n            id: 'multiFactorAuthentication',\r\n            title: t('mfaTitle'),\r\n            value: mfaPolicy.loading ?\r\n                React.createElement(Skeleton, { width: 80, height: 18 })\r\n                : isMfaForced ? (React.createElement(Typography$1, { variant: 'label' },\r\n                    t('mfaRequired'),\r\n                    React.createElement(HelpMessage, { message: t('mfaHelpMessage') }))) :\r\n                    user.mfaEnrolled ? t('mfaEnabled') : t('mfaDisabled'),\r\n            actions: React.createElement(Switch$1, { \"data-test-id\": \"Switch\", disabled: isMfaForced, checked: !mfaPolicy.loading && (isMfaForced || user.mfaEnrolled), onChange: e => {\r\n                    if (e.target.checked) {\r\n                        handleOpenEnableMfaDialog();\r\n                    }\r\n                    else {\r\n                        handleOpenDisableMfaDialog();\r\n                    }\r\n                } }),\r\n        }\r\n    ], [user, t, handleOpenChangePassword, handleOpenEnableMfaDialog, handleOpenDisableMfaDialog, mfaPolicy.loading, isMfaForced, policy, loadingPolicy]);\r\n    return React.createElement(PageWrapper, { flex: 1, display: 'flex', flexDirection: 'column' },\r\n        React.createElement(SettingsList, { title: t('basicSettings'), items: items }),\r\n        React.createElement(Box, { mt: 6, flex: 1, display: 'flex', flexDirection: 'column' },\r\n            React.createElement(UserSessionsTable, null)),\r\n        React.createElement(ChangePasswordDialog, { open: changePasswordDialog, onClose: handleCloseChangePassword }),\r\n        React.createElement(EnableMfaDialog, { open: enableMfaDialog, onClose: handleCloseEnableMfaDialog }),\r\n        React.createElement(DisableMfaDialog, { open: disableMfaDialog, onClose: handleCloseDisableMfaDialog }));\r\n};\r\nvar PrivacyPage$2 = PrivacyPage$1;\n\nvar PrivacyPage = wrapPage(PrivacyPage$2, 'privacy');\n\nconst TimezoneField = () => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('accountSettings_EditTimezone');\r\n    const [search, setSearch] = react.exports.useState('');\r\n    const [fieldProps, { error, touched }, { setValue }] = useField('timezone');\r\n    const handleSearchChanged = react.exports.useCallback((str) => __awaiter(void 0, void 0, void 0, function* () { return setSearch((str !== null && str !== void 0 ? str : '').toLowerCase().trim()); }), [setSearch]);\r\n    const options = react.exports.useMemo(() => {\r\n        let data = getOptions();\r\n        if (search) {\r\n            return data.filter(({ label }) => label.toLowerCase().indexOf(search) !== -1);\r\n        }\r\n        return data;\r\n    }, [search]);\r\n    return React.createElement(Select$1$1, { value: fieldProps.value, \"data-test-id\": \"timezone-dropdown\", onChange: (value) => setValue(value, true), errorMessage: touched ? error : undefined, options: options, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, label: t('timezoneInputLabel'), onSearch: handleSearchChanged });\r\n};\r\nconst EditTimezoneForm = (props) => {\r\n    const t = useT('accountSettings_EditTimezone');\r\n    const { saveAccountSettings } = useAuthActions();\r\n    const { accountSettingsState: settings } = useAuth();\r\n    const initialValues = react.exports.useMemo(() => {\r\n        var _a;\r\n        return ({\r\n            timezone: (_a = settings.timezone) !== null && _a !== void 0 ? _a : '',\r\n        });\r\n    }, [settings.timezone]);\r\n    const validationSchema = react.exports.useMemo(() => validateSchema({}), []);\r\n    const formikProps = {\r\n        onSubmit: (values) => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, reject, props.onClose);\r\n            saveAccountSettings(Object.assign(Object.assign(Object.assign({}, settings), values), { callback }));\r\n        }),\r\n        initialValues,\r\n        validationSchema,\r\n    };\r\n    return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit, formError }) => {\r\n        return React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                React.createElement(TimezoneField, null),\r\n                React.createElement(FormErrorDialogMessage, { fieldName: \"timezone\", message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Box, { flex: 1 }),\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancelBtn\", color: 'inherit', variant: 'text', type: 'reset', onClick: props.onClose }, t('cancel')),\r\n                React.createElement(Button$1, { \"data-test-id\": \"saveBtn\", disabled: !canSubmit, loading: isSubmitting, color: 'primary', type: 'submit' }, t('save'))));\r\n    });\r\n};\r\nconst EditTimezoneDialog = (props) => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('accountSettings_EditTimezone');\r\n    return React.createElement(Dialog$1, Object.assign({ container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { title: t('title'), size: 'sm' }),\r\n        React.createElement(EditTimezoneForm, Object.assign({}, props)));\r\n};\n\nconst EditCompanyNameDialog = (props) => {\r\n    const t = useT('accountSettings_EditCompanyName');\r\n    const { saveAccountSettings } = useAuthActions();\r\n    const { accountSettingsState: settings } = useAuth();\r\n    const { loadTenants } = useTenantsActions();\r\n    const validationSchema = react.exports.useMemo(() => validateSchema({\r\n        companyName: validateNotEmpty(t('companyNameIsRequired')),\r\n    }), [t]);\r\n    const submitHandler = react.exports.useCallback((values) => new Promise((resolve, reject) => {\r\n        const callback = callbackToPromise(resolve, reject, () => {\r\n            loadTenants();\r\n            props.onClose();\r\n        });\r\n        saveAccountSettings(Object.assign(Object.assign({}, settings), { name: values.companyName, callback }));\r\n    }), [props, saveAccountSettings, settings, loadTenants]);\r\n    return React.createElement(EditSingleInputDialog, { title: t('title'), onClose: props.onClose, open: props.open, validationSchema: validationSchema, inputName: 'companyName', inputLabel: t('companyNameLabel'), submitButton: t('save'), cancelButton: ('cancel'), initialValues: {\r\n            companyName: settings.name,\r\n        }, \r\n        // TODO: changed test-id from editName to companyName-box\r\n        onSubmit: submitHandler });\r\n};\n\nconst getAccountAddress = (address, key) => {\r\n    let parsedAddress = {};\r\n    try {\r\n        parsedAddress = JSON.parse(address);\r\n    }\r\n    catch (e) {\r\n        // ignore address data parse error\r\n    }\r\n    return key ? getValue$1(parsedAddress, key) : parsedAddress;\r\n};\r\nconst addAddress = (address, newAddress) => {\r\n    let parsedAddress = {};\r\n    try {\r\n        parsedAddress = JSON.parse(address);\r\n    }\r\n    catch (e) {\r\n        // ignore address data parse error\r\n    }\r\n    return JSON.stringify(Object.assign(Object.assign({}, parsedAddress), newAddress));\r\n};\n\nconst CustomCountryField$1 = () => {\r\n    const t = useT('accountSettings_EditAddress');\r\n    return React.createElement(CountryField, { label: t('countryInputLabel'), placeholder: t('countryInputPlaceholder') });\r\n};\r\nconst Address1Field$1 = () => {\r\n    const t = useT('accountSettings_EditAddress');\r\n    return React.createElement(Field, { autoComplete: 'street-address', name: 'address1', label: t('address1InputLabel') });\r\n};\r\nconst Address2Field$1 = () => {\r\n    const t = useT('accountSettings_EditAddress');\r\n    return React.createElement(Field, { autoComplete: 'address-level3', name: 'address2', label: t('address2InputLabel') });\r\n};\r\nconst CityField$1 = () => {\r\n    const t = useT('accountSettings_EditAddress');\r\n    return React.createElement(Field, { autoComplete: 'address-level2', name: 'city', label: t('cityInputLabel') });\r\n};\r\nconst StateField$1 = () => {\r\n    const t = useT('accountSettings_EditAddress');\r\n    return React.createElement(Field, { autoComplete: 'address-level1', name: 'state', label: t('stateInputLabel') });\r\n};\r\n//TODO change postCode to postcode\r\nconst PostcodeField$1 = () => {\r\n    const t = useT('accountSettings_EditAddress');\r\n    return React.createElement(Field, { autoComplete: 'postal-code', name: 'postCode', label: t('postCodeInputLabel') });\r\n};\r\nconst EditAddressForm = (props) => {\r\n    const t = useT('accountSettings_EditAddress');\r\n    const { saveAccountSettings } = useAuthActions();\r\n    const { accountSettingsState: settings } = useAuth();\r\n    const initialValues = react.exports.useMemo(() => {\r\n        var _a, _b, _c, _d, _e;\r\n        return ({\r\n            address1: (_a = getAccountAddress(settings.address, 'address1')) !== null && _a !== void 0 ? _a : '',\r\n            address2: (_b = getAccountAddress(settings.address, 'address2')) !== null && _b !== void 0 ? _b : '',\r\n            city: (_c = getAccountAddress(settings.address, 'city')) !== null && _c !== void 0 ? _c : '',\r\n            state: (_d = getAccountAddress(settings.address, 'state')) !== null && _d !== void 0 ? _d : '',\r\n            postCode: (_e = getAccountAddress(settings.address, 'postCode')) !== null && _e !== void 0 ? _e : '',\r\n            country: getAccountAddress(settings.address, 'country'),\r\n        });\r\n    }, [settings.address]);\r\n    const validationSchema = react.exports.useMemo(() => validateSchema({\r\n        address1: validateNotEmpty(t('address1IsRequired')),\r\n        city: validateNotEmpty(t('cityIsRequired')),\r\n        postCode: validationPostCodeOptional(t('postCodeIsInvalid')),\r\n        country: validateNotEmpty(t('countryIsRequired')),\r\n    }), [t]);\r\n    const formikProps = {\r\n        onSubmit: (values) => new Promise((resolve, reject) => {\r\n            const newAddress = addAddress(settings.address, values);\r\n            const callback = callbackToPromise(resolve, reject, props.onClose);\r\n            saveAccountSettings(Object.assign(Object.assign({}, settings), { address: newAddress, callback }));\r\n        }),\r\n        initialValues,\r\n        validationSchema,\r\n    };\r\n    return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit, formError }) => {\r\n        return React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                React.createElement(CustomCountryField$1, null),\r\n                React.createElement(Address1Field$1, null),\r\n                React.createElement(Address2Field$1, null),\r\n                React.createElement(CityField$1, null),\r\n                React.createElement(StateField$1, null),\r\n                React.createElement(PostcodeField$1, null),\r\n                React.createElement(FormErrorDialogMessage, { fieldName: \"address\", message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Box, { flex: 1 }),\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancelBtn\", color: 'inherit', variant: 'text', type: 'reset', onClick: props.onClose }, t('cancel')),\r\n                React.createElement(Button$1, { \"data-test-id\": \"saveBtn\", disabled: !canSubmit, loading: isSubmitting, color: 'primary', type: 'submit' }, t('save'))));\r\n    });\r\n};\r\nconst EditAddressDialog = (props) => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('accountSettings_EditAddress');\r\n    return React.createElement(Dialog$1, Object.assign({ container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { title: t('title') }),\r\n        React.createElement(EditAddressForm, Object.assign({}, props)));\r\n};\n\nconst EditWebsiteDialog = (props) => {\r\n    var _a;\r\n    const t = useT('accountSettings_EditWebsite');\r\n    const { saveAccountSettings } = useAuthActions();\r\n    const { accountSettingsState: settings } = useAuth();\r\n    const submitHandler = react.exports.useCallback((values) => new Promise((resolve, reject) => {\r\n        const callback = callbackToPromise(resolve, reject, props.onClose);\r\n        saveAccountSettings(Object.assign(Object.assign(Object.assign({}, settings), values), { callback }));\r\n    }), [props.onClose, saveAccountSettings, settings]);\r\n    return React.createElement(EditSingleInputDialog, { title: t('title'), onClose: props.onClose, open: props.open, inputName: 'website', inputLabel: t('websiteInputLabel'), submitButton: t('save'), cancelButton: ('cancel'), inputAutoComplete: 'organization-title', initialValues: {\r\n            website: (_a = settings.website) !== null && _a !== void 0 ? _a : ' ',\r\n        }, onSubmit: submitHandler, \"data-test-id\": \"website-box\" });\r\n};\n\nconst currencies = [\r\n    { label: 'USD', value: 'USD' },\r\n    { label: 'EUR', value: 'EUR' },\r\n];\r\nconst CurrencyField = () => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('accountSettings_EditCurrency');\r\n    const [fieldProps, { error, touched }, { setValue }] = useField('currency');\r\n    return React.createElement(Select$1$1, { value: fieldProps.value, \"data-test-id\": \"currency-dropdown\", onChange: (value) => setValue(value, true), errorMessage: touched ? error : undefined, options: currencies, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, label: t('currencyLabel') });\r\n};\r\nconst EditCurrencyForm = (props) => {\r\n    const t = useT('accountSettings_EditCurrency');\r\n    const { saveAccountSettings } = useAuthActions();\r\n    const { accountSettingsState: settings } = useAuth();\r\n    const initialValues = react.exports.useMemo(() => ({\r\n        currency: settings.currency,\r\n    }), [settings.currency]);\r\n    const formikProps = {\r\n        onSubmit: (values) => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, reject, props.onClose);\r\n            saveAccountSettings(Object.assign(Object.assign(Object.assign({}, settings), values), { callback }));\r\n        }),\r\n        initialValues,\r\n    };\r\n    return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit, formError }) => {\r\n        return React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                React.createElement(CurrencyField, null),\r\n                React.createElement(FormErrorDialogMessage, { fieldName: \"currency\", message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Box, { flex: 1 }),\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancelBtn\", color: 'inherit', variant: 'text', type: 'reset', onClick: props.onClose }, t('cancel')),\r\n                React.createElement(Button$1, { \"data-test-id\": \"saveBtn\", disabled: !canSubmit, loading: isSubmitting, color: 'primary', type: 'submit' }, t('save'))));\r\n    });\r\n};\r\nconst EditCurrencyDialog = (props) => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('accountSettings_EditCurrency');\r\n    return React.createElement(Dialog$1, Object.assign({ container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { title: t('title'), size: 'sm' }),\r\n        React.createElement(EditCurrencyForm, Object.assign({}, props)));\r\n};\n\nconst SettingsRowValue = ({ value, noValueText, dataTestId, onClick }) => {\r\n    const t = useT('accountSettings');\r\n    if (value) {\r\n        return React.createElement(Typography$1, { variant: 'body1', \"data-test-id\": `${dataTestId}-value`, component: 'span' }, value);\r\n    }\r\n    if (noValueText) {\r\n        return React.createElement(Typography$1, { variant: 'body1Bold' },\r\n            React.createElement(Link$1, { \"data-test-id\": `add-${dataTestId}`, onClick: onClick }, t(noValueText)));\r\n    }\r\n    return null;\r\n};\r\nconst AccountDetailsPage$1 = () => {\r\n    const t = useT('accountSettings');\r\n    const { loadAccountSettings } = useAuthActions();\r\n    const { accountSettingsState: settings } = useAuth();\r\n    react.exports.useEffect(() => loadAccountSettings(), [loadAccountSettings]);\r\n    const [editCompanyName, handleCloseCompanyName, handleOpenCompanyName] = useDialogState();\r\n    const [editAddress, handleCloseAddress, handleOpenAddress] = useDialogState();\r\n    const [editWebsite, handleCloseWebsite, handleOpenWebsite] = useDialogState();\r\n    const [editTimezone, handleCloseTimezone, handleOpenTimezone] = useDialogState();\r\n    const [editCurrency, handleCloseCurrency, handleOpenCurrency] = useDialogState();\r\n    const user = useAuthUserOrNull();\r\n    const tenantsState = useTenantsState();\r\n    const tenants = tenantsState.tenants;\r\n    const tenantName = react.exports.useMemo(() => {\r\n        var _a, _b;\r\n        return (_b = (_a = tenants.find(({ tenantId }) => tenantId === (user === null || user === void 0 ? void 0 : user.tenantId))) === null || _a === void 0 ? void 0 : _a.name) !== null && _b !== void 0 ? _b : '';\r\n    }, [tenants, user === null || user === void 0 ? void 0 : user.tenantId]);\r\n    const items = react.exports.useMemo(() => {\r\n        var _a, _b;\r\n        const companyAddress = formatAddress(getAccountAddress(settings.address));\r\n        const companyTimezone = (_b = (_a = getOptions().find(s => s.value === settings.timezone)) === null || _a === void 0 ? void 0 : _a.label) !== null && _b !== void 0 ? _b : '';\r\n        return [{\r\n                id: 'companyName',\r\n                title: t('companyName'),\r\n                value: React.createElement(SettingsRowValue, { value: settings.name || tenantName, onClick: handleOpenCompanyName, dataTestId: 'companyName', noValueText: 'addCompanyButton' }),\r\n                onEditClick: settings.name ? handleOpenCompanyName : undefined,\r\n                testId: 'account-details-companyName-list-item'\r\n            }, {\r\n                id: 'address',\r\n                title: t('address'),\r\n                value: React.createElement(SettingsRowValue, { value: companyAddress, onClick: handleOpenAddress, dataTestId: \"address\", noValueText: 'addAddressButton' }),\r\n                onEditClick: companyAddress ? handleOpenAddress : undefined,\r\n                testId: 'account-details-address-list-item'\r\n            }, {\r\n                id: 'website',\r\n                title: t('website'),\r\n                value: React.createElement(SettingsRowValue, { value: settings.website, onClick: handleOpenWebsite, dataTestId: \"website\", noValueText: 'addWebsiteButton' }),\r\n                onEditClick: settings.website ? handleOpenWebsite : undefined,\r\n                testId: 'account-details-website-list-item'\r\n            }, {\r\n                id: 'timezone',\r\n                title: t('timezone'),\r\n                value: React.createElement(SettingsRowValue, { value: companyTimezone, onClick: handleOpenTimezone, dataTestId: \"timezone\", noValueText: 'setTimezoneButton' }),\r\n                onEditClick: companyTimezone ? handleOpenTimezone : undefined,\r\n                testId: 'account-details-timezone-list-item'\r\n            }, {\r\n                id: 'currency',\r\n                title: t('currency'),\r\n                value: React.createElement(SettingsRowValue, { value: settings.currency, onClick: handleOpenCurrency, dataTestId: 'currency', noValueText: 'setCurrencyButton' }),\r\n                onEditClick: settings.currency ? handleOpenCurrency : undefined,\r\n                testId: 'account-details-currency-list-item'\r\n            }];\r\n    }, [t, handleOpenAddress, handleOpenCompanyName, handleOpenCurrency,\r\n        handleOpenTimezone, handleOpenWebsite, settings.address,\r\n        settings.currency, settings.name, settings.timezone, settings.website, tenantName,\r\n    ]);\r\n    return React.createElement(PageWrapper, null,\r\n        React.createElement(SettingsList, { title: t('subtitle'), items: items }),\r\n        React.createElement(EditCurrencyDialog, { \"data-test-id\": \"editCurrency\", open: editCurrency, onClose: handleCloseCurrency }),\r\n        React.createElement(EditTimezoneDialog, { \"data-test-id\": \"editTimezone\", open: editTimezone, onClose: handleCloseTimezone }),\r\n        React.createElement(EditCompanyNameDialog, { \"data-test-id\": \"editCompanyName\", open: editCompanyName, onClose: handleCloseCompanyName }),\r\n        React.createElement(EditAddressDialog, { \"data-test-id\": \"editAddress\", open: editAddress, onClose: handleCloseAddress }),\r\n        React.createElement(EditWebsiteDialog, { \"data-test-id\": \"editWebsite\", open: editWebsite, onClose: handleCloseWebsite }));\r\n};\r\nvar AccountDetailsPage$2 = AccountDetailsPage$1;\n\nvar AccountDetailsPage = wrapPage(AccountDetailsPage$2, 'accountSettings');\n\nconst UsersHeader = ({ handleOpenInviteUser, isInviteWithEmailEnabled, isInviteLinkEnabled }) => {\r\n    const t = useT('users');\r\n    const { onSearch } = useTableSearch();\r\n    const [search, setSearch] = react.exports.useState('');\r\n    const debounceSearch = useDebounce(search);\r\n    const canInviteUser = usePermission('fe.secure.write.users') && (isInviteWithEmailEnabled || isInviteLinkEnabled);\r\n    const { events } = useShadowDom();\r\n    const { email } = useAuthUser();\r\n    const handleClickOnInviteUser = react.exports.useCallback(() => {\r\n        var _a;\r\n        handleOpenInviteUser === null || handleOpenInviteUser === void 0 ? void 0 : handleOpenInviteUser();\r\n        (_a = events === null || events === void 0 ? void 0 : events.inviteMemberClicked) === null || _a === void 0 ? void 0 : _a.call(events, { email });\r\n    }, []);\r\n    useAsyncEffect(() => onSearch(debounceSearch), [debounceSearch]);\r\n    return React.createElement(Grid, { container: true, spacing: 4 },\r\n        React.createElement(Grid, { item: true, xs: 12, sm: 6, md: 4 },\r\n            React.createElement(Box, null,\r\n                React.createElement(Input$1$1, { \"data-test-id\": \"searchBox\", endAdornment: React.createElement(SearchIcon, null), onChange: (e) => setSearch(e.target.value), placeholder: t('searchInputPlaceholder') }))),\r\n        React.createElement(Grid, { item: true, xs: true }),\r\n        canInviteUser && React.createElement(Grid, { item: true },\r\n            React.createElement(Button$1, { \"data-test-id\": \"invite-user-btn\", onClick: handleClickOnInviteUser }, t('inviteUserButton'))));\r\n};\n\nconst usersTableColumns = ({ t, user, rolesMap, container }) => [\r\n    {\r\n        Header: () => React.createElement(Box, { width: '2rem' }),\r\n        accessor: ({ name, profileImageUrl, profilePictureUrl }) => ({ name, picture: profilePictureUrl !== null && profilePictureUrl !== void 0 ? profilePictureUrl : profileImageUrl }),\r\n        width: '2rem',\r\n        id: 'id',\r\n        Cell: TableAvatarCell,\r\n    },\r\n    Object.assign(Object.assign({ Header: t('userHeader'), accessor: ({ id, name, email }) => ({ title: `${name} ${id === user.id ? `(${t('meTooltip')})` : ''}`, description: email }) }, (rolesMap && Object.keys(rolesMap).length > 0 ? { width: 260, maxWidth: 260 } : { minWidth: 260 })), { Cell: TableTextCell }),\r\n    rolesMap && Object.keys(rolesMap).length > 0 && {\r\n        Header: t('rolesHeader'),\r\n        accessor: ({ roleIds }) => ({ items: roleIds.map(v => ({ text: rolesMap[v] })), max: 2, container }),\r\n        minWidth: 300,\r\n        Cell: TableChipsCell,\r\n    },\r\n    {\r\n        Header: t('joinedHeader'),\r\n        accessor: ({ createdAt, verified, activatedForTenant }) => ({ date: createdAt, verified, activatedForTenant }),\r\n        width: 160,\r\n        maxWidth: 160,\r\n        Cell: (props) => {\r\n            return !props.value.activatedForTenant\r\n                ? React.createElement(Chip, { color: \"secondary\", label: t('pendingApprovalStatus') })\r\n                : !props.value.verified\r\n                    ? React.createElement(Chip, { color: \"secondary\", label: t('pendingActivationStatus') })\r\n                    : React.createElement(TableDateCell, Object.assign({}, props));\r\n        },\r\n    },\r\n    {\r\n        Header: t('lastSeenHeader'),\r\n        accessor: ({ lastLogin }) => ({ date: lastLogin }),\r\n        width: 160,\r\n        maxWidth: 160,\r\n        Cell: TableDateCell,\r\n    },\r\n].filter(notNull);\r\nconst LEAVE_TEAM_OPTION = false;\r\nconst useUsersTableRowActions$1 = ({ container, resendActivationLink, resendInvitationLink, handleOpenDeleteUser, handleOpenEditUserRoles, revokeUserSessions, currentTenantId, subTenants }) => {\r\n    const t = useT('users');\r\n    const user = useAuthUserOrNull();\r\n    const canEditRoles = usePermission('fe.secure.write.users');\r\n    const canDeleteUser = usePermission('fe.secure.delete.users');\r\n    const canRevokeUserSessions = usePermission('fe.secure.delete.sessions');\r\n    //TODO: add virified type to ITeamUser\r\n    return react.exports.useMemo(() => (row) => {\r\n        var _a;\r\n        const items = [];\r\n        const handleEditRole = () => {\r\n            handleOpenEditUserRoles(row);\r\n        };\r\n        const handleSendActivationLink = () => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, reject);\r\n            resendActivationLink({ userId: row.id, callback });\r\n        });\r\n        const handleRevokeUserSessions = () => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, reject);\r\n            revokeUserSessions({ userId: row.id, callback });\r\n        });\r\n        const handleSendInvitationLink = () => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, reject);\r\n            const invitationData = __rest(row, [\"id\"]);\r\n            resendInvitationLink(Object.assign(Object.assign({}, invitationData), { callback }));\r\n        });\r\n        const handleDeleteUser = () => {\r\n            handleOpenDeleteUser(row);\r\n        };\r\n        const isMe = row.id === (user === null || user === void 0 ? void 0 : user.id);\r\n        const canEditSubTenantUser = !(subTenants === null || subTenants === void 0 ? void 0 : subTenants.length) || ((_a = row.tenants) === null || _a === void 0 ? void 0 : _a.find((tenant) => tenant.tenantId === currentTenantId));\r\n        if (!isMe && canEditRoles && canEditSubTenantUser) {\r\n            items.push({\r\n                icon: React.createElement(EditIcon, { \"data-test-id\": \"editBtn\" }),\r\n                onClick: handleEditRole,\r\n                text: t('editRolesAction'),\r\n            });\r\n        }\r\n        if (canEditSubTenantUser) {\r\n            if (!row.activatedForTenant) {\r\n                // add to tenant by addUser\r\n                items.push({\r\n                    icon: React.createElement(ResendIcon, { \"data-test-id\": \"resendInvitationBtn\" }),\r\n                    onClick: handleSendInvitationLink,\r\n                    text: t('resendInvitationAction'),\r\n                });\r\n            }\r\n            else if (!row.verified) {\r\n                items.push({\r\n                    icon: React.createElement(ResendIcon, { \"data-test-id\": \"resendBtn\" }),\r\n                    onClick: handleSendActivationLink,\r\n                    text: t('resendActivationAction'),\r\n                });\r\n            }\r\n        }\r\n        if (!isMe && row.activatedForTenant && canRevokeUserSessions) {\r\n            items.push({\r\n                icon: React.createElement(CloseIcon, { \"data-test-id\": \"revokeBtn\" }),\r\n                onClick: handleRevokeUserSessions,\r\n                text: t('logOutUserSessionsActions'),\r\n            });\r\n        }\r\n        if ((!isMe || LEAVE_TEAM_OPTION) && canDeleteUser && canEditSubTenantUser) {\r\n            items.push({\r\n                icon: React.createElement(DeleteIcon, { \"data-test-id\": \"deleteBtn\" }),\r\n                onClick: handleDeleteUser,\r\n                text: isMe ? t('leaveTeamAction') : t('deleteUserAction'),\r\n                negative: true,\r\n            });\r\n        }\r\n        return { items, container };\r\n    }, [t, user, container, canEditRoles, canDeleteUser, canRevokeUserSessions, revokeUserSessions, resendActivationLink, resendInvitationLink, handleOpenDeleteUser, handleOpenEditUserRoles, subTenants, currentTenantId]);\r\n};\n\nconst usersTableColumnsOrganization = ({ t, user, subTenants, forcePermissions, container, currentTenantName, currentTenantId }) => [\r\n    {\r\n        Header: () => React.createElement(Box, { width: '2rem' }),\r\n        accessor: ({ name, profileImageUrl, profilePictureUrl }) => ({ name, picture: profilePictureUrl !== null && profilePictureUrl !== void 0 ? profilePictureUrl : profileImageUrl }),\r\n        width: '2rem',\r\n        id: 'id',\r\n        Cell: TableAvatarCell,\r\n    },\r\n    Object.assign(Object.assign({ Header: t('userHeader'), accessor: ({ id, name, email }) => ({ title: `${name} ${id === user.id ? `(${t('meTooltip')})` : ''}`, description: email }) }, (forcePermissions ? { width: 260, maxWidth: 260 } : { minWidth: 260 })), { Cell: TableTextCell }),\r\n    subTenants && {\r\n        Header: t('organizationHeader'),\r\n        accessor: ({ tenants }) => {\r\n            var _a;\r\n            const items = (_a = tenants === null || tenants === void 0 ? void 0 : tenants.map((tenant) => {\r\n                var _a;\r\n                let text = (_a = subTenants.find((subTenant) => subTenant.tenantId === tenant.tenantId)) === null || _a === void 0 ? void 0 : _a.tenantName;\r\n                if (!text && tenant.tenantId === currentTenantId) {\r\n                    text = currentTenantName;\r\n                }\r\n                const subItems = forcePermissions ? tenant.roles.map((role) => role.name) : [];\r\n                return { text, subItems };\r\n            })) !== null && _a !== void 0 ? _a : [];\r\n            return { items: items.filter((item) => item.text), max: 1, container };\r\n        },\r\n        minWidth: 300,\r\n        Cell: TableChipsCell,\r\n    },\r\n    {\r\n        Header: t('joinedHeader'),\r\n        accessor: ({ createdAt, verified, activatedForTenant }) => ({ date: createdAt, verified, activatedForTenant }),\r\n        width: 160,\r\n        maxWidth: 160,\r\n        Cell: (props) => {\r\n            return !props.value.activatedForTenant\r\n                ? React.createElement(Chip, { color: \"secondary\", label: t('pendingApprovalStatus') })\r\n                : !props.value.verified\r\n                    ? React.createElement(Chip, { color: \"secondary\", label: t('pendingActivationStatus') })\r\n                    : React.createElement(TableDateCell, Object.assign({}, props));\r\n        },\r\n    },\r\n    {\r\n        Header: t('lastSeenHeader'),\r\n        accessor: ({ lastLogin }) => ({ date: lastLogin }),\r\n        width: 160,\r\n        maxWidth: 160,\r\n        Cell: TableDateCell,\r\n    },\r\n].filter(notNull);\n\nconst RolesField$3 = () => {\r\n    const t = useT('users_EditUserRoles');\r\n    const { injector } = useShadowDom();\r\n    const [fieldProps, { error, touched }, { setValue }] = useField('roleIds');\r\n    const roles = useAuthTeamState(state => state.roles);\r\n    const currentUserRoleLevel = getUserMaxRoleLevel(roles);\r\n    const options = react.exports.useMemo(() => (roles !== null && roles !== void 0 ? roles : []).filter(role => {\r\n        var _a;\r\n        if (currentUserRoleLevel > ((_a = role.permissionLevel) !== null && _a !== void 0 ? _a : Infinity)) {\r\n            return fieldProps.value.indexOf(role.id) !== -1;\r\n        }\r\n        return true;\r\n    }).map(role => {\r\n        var _a;\r\n        return ({\r\n            label: role.name,\r\n            value: role.id,\r\n            withCheckbox: true,\r\n            disabled: currentUserRoleLevel > ((_a = role.permissionLevel) !== null && _a !== void 0 ? _a : Infinity),\r\n        });\r\n    }), [roles, currentUserRoleLevel, fieldProps.value]);\r\n    return React.createElement(Select$1$1, { label: t('selectRolesLabel'), \"data-test-id\": \"editRoleDropdown\", name: 'roleIds', multi: true, placeholder: t('selectRolesPlaceholder'), value: fieldProps.value, onChange: (value) => setValue(value, true), errorMessage: touched ? error : undefined, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, options: options });\r\n};\r\nconst EditUserRolesForm = (props) => {\r\n    const t = useT('users_EditUserRoles');\r\n    const { updateUser } = useAuthTeamActions();\r\n    const user = useMemoProps(props, 'user');\r\n    const initialValues = react.exports.useMemo(() => ({\r\n        fullName: user.name,\r\n        email: user.email,\r\n        roleIds: user.roleIds,\r\n    }), [user]);\r\n    const formikProps = {\r\n        onSubmit: ({ email, roleIds }) => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, reject, props.onClose);\r\n            updateUser({ id: user.id, email, roleIds, callback });\r\n        }),\r\n        initialValues,\r\n    };\r\n    return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit, formError }) => {\r\n        return React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                React.createElement(RolesField$3, null),\r\n                React.createElement(FormErrorDialogMessage, { message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Box, { flex: 1 }),\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancelBtn\", color: 'inherit', variant: 'text', type: 'reset', onClick: props.onClose }, t('cancel')),\r\n                React.createElement(Button$1, { \"data-test-id\": \"updateBtn\", disabled: !canSubmit, loading: isSubmitting, color: 'primary', type: 'submit' }, t('update'))));\r\n    });\r\n};\r\nconst EditUserRolesDialog = (props) => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('users_EditUserRoles');\r\n    return React.createElement(Dialog$1, Object.assign({ container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { title: t('title') }),\r\n        React.createElement(EditUserRolesForm, Object.assign({}, props)));\r\n};\n\nconst DeleteUserDialog$1 = ({ onClose, open, user }) => {\r\n    const t = useT('users_DeleteUser');\r\n    const [loading, setLoading] = react.exports.useState(false);\r\n    const [error, setError] = react.exports.useState(null);\r\n    const { deleteUser } = useAuthTeamActions();\r\n    const callback = react.exports.useCallback((success, error) => {\r\n        if (error) {\r\n            setError(error);\r\n        }\r\n        else {\r\n            onClose();\r\n        }\r\n        setLoading(false);\r\n    }, [setLoading, setError, onClose]);\r\n    const handleDeleteUser = react.exports.useCallback(() => {\r\n        setLoading(true);\r\n        setError(null);\r\n        deleteUser({ userId: user === null || user === void 0 ? void 0 : user.id, callback });\r\n    }, [user === null || user === void 0 ? void 0 : user.id, callback, setLoading, setError, deleteUser]);\r\n    return (React.createElement(DeleteDialog, { dataTestId: 'deleteUserBtn', title: t('title'), cancelButtonText: t('cancel'), deleteButtonText: t('delete'), description: React.createElement(React.Fragment, null,\r\n            t('areYouSureDeleteUser1'),\r\n            \" \",\r\n            React.createElement(\"strong\", null, user === null || user === void 0 ? void 0 : user.name),\r\n            \"? \",\r\n            t('areYouSureDeleteUser2')), open: open, error: error, onClose: onClose, loading: !!loading, onDelete: handleDeleteUser }));\r\n};\n\nconst UsersTable = () => {\r\n    const t = useT('users');\r\n    const { injector } = useShadowDom();\r\n    const container = injector === null || injector === void 0 ? void 0 : injector.adminPortalEl;\r\n    const user = useAuthUser();\r\n    const { revokeUserSessions } = useSessionsActions();\r\n    const { loaders, users, roles, permissions, totalPages, pageOffset, filter } = useAuthTeamState();\r\n    const { resendActivationLink, loadUsers, resendInvitationLink } = useAuthTeamActions();\r\n    const [deleteUserDialog, handleCloseDeleteUser, handleOpenDeleteUser, deleteUserData] = useDialogState();\r\n    const [editUserRolesDialog, handleCloseEditUserRoles, handleOpenEditUserRoles, editUserRolesData] = useDialogState();\r\n    const { policy, loading: loadingPolicy } = usePublicPolicySettings();\r\n    const rolesUse = useRolesMap(roles);\r\n    const rolesMap = react.exports.useMemo(() => !loadingPolicy && (policy === null || policy === void 0 ? void 0 : policy.forcePermissions) ? rolesUse : undefined, [policy, rolesUse, loadingPolicy]);\r\n    const { tenants, subTenants } = useTenantsState();\r\n    const tenantName = react.exports.useMemo(() => {\r\n        var _a, _b;\r\n        return (_b = (_a = tenants.find(({ tenantId }) => tenantId === user.tenantId)) === null || _a === void 0 ? void 0 : _a.name) !== null && _b !== void 0 ? _b : '';\r\n    }, [tenants, user.tenantId]);\r\n    const isPermissionsAndRolesEnabled = react.exports.useMemo(() => !loadingPolicy && (policy === null || policy === void 0 ? void 0 : policy.forcePermissions), [loadingPolicy, policy]);\r\n    const columns = react.exports.useMemo(() => {\r\n        if (subTenants.length > 0) {\r\n            return usersTableColumnsOrganization({ t, user, subTenants, forcePermissions: isPermissionsAndRolesEnabled, container, currentTenantName: tenantName, currentTenantId: user.tenantId });\r\n        }\r\n        else {\r\n            return usersTableColumns({ t, user, rolesMap, container });\r\n        }\r\n    }, [t, user, subTenants, isPermissionsAndRolesEnabled, container, rolesMap, tenantName, user.tenantId]);\r\n    const { searching } = useTableSearch();\r\n    const getRowActions = useUsersTableRowActions$1({\r\n        roles,\r\n        subTenants,\r\n        permissions,\r\n        container,\r\n        resendActivationLink,\r\n        resendInvitationLink,\r\n        handleOpenDeleteUser,\r\n        handleOpenEditUserRoles,\r\n        revokeUserSessions,\r\n        currentTenantId: user.tenantId\r\n    });\r\n    const onPageChange = react.exports.useCallback((event, page) => {\r\n        loadUsers({ pageOffset: page - 1 });\r\n    }, [loadUsers]);\r\n    const loading = !!loaders.USERS;\r\n    const tablePlaceholderProps = react.exports.useMemo(() => {\r\n        if (loading || searching) {\r\n            return null;\r\n        }\r\n        else if (filter.length === 0 && users.length === 0) {\r\n            return {\r\n                show: true,\r\n                icon: React.createElement(GroupUsersIcon, null),\r\n                title: t('noUsersYet'),\r\n                description: t('noUsersYetDescription'),\r\n            };\r\n        }\r\n        else if (filter.length > 0 && users.length === 0) {\r\n            return {\r\n                show: true,\r\n                icon: React.createElement(SearchBigIcon, null),\r\n                title: t('noResultFound'),\r\n                description: t('noResultFoundDescription'),\r\n            };\r\n        }\r\n        return null;\r\n    }, [t, loading, searching, filter.length, users.length]);\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(Table, { forwardedKey: 'users-table', columns: columns, data: users, getRowActions: getRowActions, loading: loading, searching: searching, loadingText: searching ? t('searchingPlaceholder') : undefined, totalPages: totalPages, pageOffset: pageOffset, onPageChange: onPageChange }, tablePlaceholderProps && React.createElement(TablePlaceholder, Object.assign({}, tablePlaceholderProps))),\r\n        React.createElement(DeleteUserDialog$1, { open: deleteUserDialog, onClose: handleCloseDeleteUser, user: deleteUserData }),\r\n        React.createElement(EditUserRolesDialog, { open: editUserRolesDialog, onClose: handleCloseEditUserRoles, user: editUserRolesData, roles: roles }));\r\n};\n\nconst countDifferenceInDays = (expirationDate) => {\r\n    const exp = parseISO(expirationDate);\r\n    const differenceMinutes = differenceInMinutes(exp, new Date());\r\n    const differenceDays = differenceInDays(exp, new Date());\r\n    if (differenceMinutes < 0) {\r\n        return -1;\r\n    }\r\n    return differenceDays + 1;\r\n};\r\nconst daysInMinutes = {\r\n    one: 1430,\r\n    seven: 10070,\r\n    thirty: 43190\r\n};\r\nconst expirationPeriodsOptions = [{ label: '1 day', value: daysInMinutes.one }, { label: '7 days', value: daysInMinutes.seven }, { label: '30 days', value: daysInMinutes.thirty }];\n\nvar EditInviteUserActiveDialog;\r\n(function (EditInviteUserActiveDialog) {\r\n    EditInviteUserActiveDialog[\"EDIT_LINK\"] = \"EDIT_LINK\";\r\n    EditInviteUserActiveDialog[\"INVITATION_FORM\"] = \"INVITATION_FORM\";\r\n})(EditInviteUserActiveDialog || (EditInviteUserActiveDialog = {}));\n\nconst CopiedLinkIcon = styled(CheckIcon$1) `\n  &.MuiSvgIcon-root {\n    width: 13px;\n  }\n`;\r\nconst CopyLinkIcon = styled(LinkIcon) `\n  &.MuiSvgIcon-root {\n    width: 16px;\n    margin-bottom: -1px;\n  }\n`;\r\nconst EditInviteLinkSettingsButton = styled(Box) `\n  cursor: pointer;\n  &:hover {\n    text-decoration: underline;\n  }\n`;\r\nconst CopyInviteLink = ({ setActiveDialog, isEmailInviteShown }) => {\r\n    const t = useT('users_EditInvitationLink');\r\n    const [isLinkCopied, setIslinkCopied] = useBooleanToggle();\r\n    const routes = useAuthRoutes();\r\n    const { inviteTokenState } = useAuthTeamState();\r\n    const { createInvitationLink, getInvitationLink, deleteInvitationLink } = useAuthTeamActions();\r\n    const { token, expires, tenantInvitationsAllowed } = inviteTokenState !== null && inviteTokenState !== void 0 ? inviteTokenState : {};\r\n    const { hostedLoginBox } = useShadowDom();\r\n    const canCopyInviteLink = usePermission('fe.secure.write.tenantInvites');\r\n    const { baseUrl } = ContextHolder.getContext();\r\n    react.exports.useEffect(() => {\r\n        if (!token) {\r\n            getInvitationLink();\r\n        }\r\n        if (expires && countDifferenceInDays(expires) < 0) {\r\n            deleteInvitationLink();\r\n        }\r\n    }, [getInvitationLink, deleteInvitationLink, expires]);\r\n    const createSignupUrl = react.exports.useCallback((token) => {\r\n        if (hostedLoginBox) {\r\n            return `${baseUrl}/oauth/prelogin?redirectUrl=${window.location.origin}&invitationToken=${token}`;\r\n        }\r\n        else {\r\n            return `${window.location.origin}${routes.signUpUrl}?invitationToken=${token}`;\r\n        }\r\n    }, [hostedLoginBox, baseUrl]);\r\n    const handleCreateInvitationLink = react.exports.useCallback(() => {\r\n        if (!token) {\r\n            createInvitationLink({\r\n                callback: (token) => {\r\n                    copy(token ? createSignupUrl(token) : '');\r\n                    setIslinkCopied(true);\r\n                },\r\n            });\r\n        }\r\n        else {\r\n            copy(createSignupUrl(token));\r\n            setIslinkCopied(true);\r\n        }\r\n    }, [createInvitationLink, token, createSignupUrl]);\r\n    const handleSetActiveDialog = react.exports.useCallback(() => {\r\n        setActiveDialog(EditInviteUserActiveDialog.EDIT_LINK);\r\n    }, [setActiveDialog]);\r\n    const linkExpiredAt = react.exports.useMemo(() => countDifferenceInDays(expires), [expires]);\r\n    const showInviteLink = tenantInvitationsAllowed && canCopyInviteLink;\r\n    return !showInviteLink ? (React.createElement(React.Fragment, null)) : (React.createElement(React.Fragment, null,\r\n        isEmailInviteShown && React.createElement(Box, { mb: 6, mt: 8 },\r\n            React.createElement(Divider, null)),\r\n        React.createElement(Box, null,\r\n            React.createElement(Grid, { container: true, justifyContent: 'space-between' },\r\n                React.createElement(Grid, { item: true },\r\n                    React.createElement(Typography$1, { mb: 2, variant: 'dialogTitle' }, t('inviteWithLinkTitle')),\r\n                    expires && (React.createElement(Typography$1, { mb: 3, variant: 'body1' },\r\n                        t('linkExpiration', { days: linkExpiredAt }),\r\n                        \" \",\r\n                        t(linkExpiredAt > 1 ? 'days' : 'day'))),\r\n                    React.createElement(Button$1, { \"data-test-id\": 'copy-invite-btn', type: 'button', color: 'secondary', onClick: handleCreateInvitationLink, startIcon: isLinkCopied ? React.createElement(CopiedLinkIcon, null) : React.createElement(CopyLinkIcon, null) }, t('copyInviteLink'))),\r\n                token && (React.createElement(Grid, { item: true },\r\n                    React.createElement(EditInviteLinkSettingsButton, { onClick: handleSetActiveDialog },\r\n                        React.createElement(Typography$1, { \"data-test-id\": 'editBtn', variant: 'body1' }, t('edit')))))))));\r\n};\n\nconst DeactivateInviteLinkDialog = ({ onClose, open }) => {\r\n    const t = useT('users_DeactivateInvitationLink');\r\n    const [loading, setLoading] = react.exports.useState(false);\r\n    const [error, setError] = react.exports.useState(null);\r\n    const { deleteInvitationLink } = useAuthTeamActions();\r\n    const callback = react.exports.useCallback((success, error) => {\r\n        if (error) {\r\n            setLoading(false);\r\n            setError(error);\r\n        }\r\n        else {\r\n            onClose(true);\r\n        }\r\n    }, [setLoading, setError, onClose]);\r\n    const handleDeleteLink = react.exports.useCallback(() => {\r\n        setLoading(true);\r\n        setError(null);\r\n        deleteInvitationLink({ callback });\r\n    }, [callback, setLoading, setError, deleteInvitationLink]);\r\n    return (React.createElement(DeleteDialog, { dataTestId: 'deactivateBtn', title: t('title'), cancelButtonText: t('cancel'), deleteButtonText: t('deactivate'), description: t('areYouSureDeleteInviteLink'), open: open, error: error, onClose: onClose, loading: !!loading, onDelete: handleDeleteLink }));\r\n};\n\nconst DeactivateLinkButton = styled(Box) `\n  cursor: pointer;\n`;\r\nconst SendEmailField = () => {\r\n    const t = useT('users_EditInvitationLink');\r\n    const [{ value }, , { setValue, setTouched }] = useField('sendNotification');\r\n    return (React.createElement(Grid, { container: true, ml: -2, alignItems: 'center' },\r\n        React.createElement(Checkbox$1, { size: 'small', name: 'sendNotification', checked: value, onChange: () => {\r\n                setValue(!value, true);\r\n                setTouched(true);\r\n            } }),\r\n        React.createElement(Typography$1, { variant: 'body1' }, t('sendMeNotification'))));\r\n};\r\nconst ExpirationField = () => {\r\n    const t = useT('users_EditInvitationLink');\r\n    const { injector } = useShadowDom();\r\n    const [{ value }, { error, touched }, { setValue, setTouched }] = useField('expiration');\r\n    return (React.createElement(Select$1$1, { \"data-test-id\": \"expirationDropdown\", label: t('expirationInputLabel'), name: 'expiration', value: value, placeholder: t('expirationInputPlaceholder'), container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, options: expirationPeriodsOptions, onChange: (value) => {\r\n            setValue(value, true);\r\n            setTouched(true);\r\n        }, error: !!error && touched, errorMessage: error }));\r\n};\r\nconst EditInviteLinkDialog = ({ setActiveDialog }) => {\r\n    const t = useT('users_EditInvitationLink');\r\n    const { updateInvitationLink } = useAuthTeamActions();\r\n    const { inviteTokenState } = useAuthTeamState();\r\n    const { expires, emailsEnabled, shouldSendEmail } = inviteTokenState !== null && inviteTokenState !== void 0 ? inviteTokenState : {};\r\n    const [deactivateLinkDialog, handleCloseDeactivateLink, handleOpenDeactivateLink] = useDialogState();\r\n    const canDeleteInviteLink = usePermission('fe.secure.delete.tenantInvites');\r\n    const initialValues = react.exports.useMemo(() => ({ sendNotification: shouldSendEmail !== null && shouldSendEmail !== void 0 ? shouldSendEmail : true }), [shouldSendEmail]);\r\n    const handleSetActiveDialogToInvitationForm = react.exports.useCallback(() => {\r\n        setActiveDialog(EditInviteUserActiveDialog.INVITATION_FORM);\r\n    }, []);\r\n    const formikProps = {\r\n        onSubmit: ({ sendNotification, expiration }) => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, reject, handleSetActiveDialogToInvitationForm);\r\n            updateInvitationLink({ shouldSendEmail: sendNotification, expiresInMinutes: expiration, callback });\r\n        }),\r\n        initialValues,\r\n    };\r\n    const handleCloseDeactivateInvitationLinkDialog = react.exports.useCallback((success) => {\r\n        if (success) {\r\n            handleSetActiveDialogToInvitationForm();\r\n        }\r\n        handleCloseDeactivateLink();\r\n    }, [handleCloseDeactivateLink, handleSetActiveDialogToInvitationForm]);\r\n    return (React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit, formError }) => {\r\n        return (React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                React.createElement(ExpirationField, null),\r\n                emailsEnabled && (React.createElement(React.Fragment, null,\r\n                    React.createElement(Box, { mb: 6, mt: 8 },\r\n                        React.createElement(Divider, null)),\r\n                    React.createElement(Typography$1, { \"data-test-id\": \"notificationBtn\", variant: 'dialogTitle', mb: 3 }, t('notification')),\r\n                    React.createElement(SendEmailField, null))),\r\n                React.createElement(FormErrorDialogMessage, { message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                canDeleteInviteLink && (React.createElement(DeactivateLinkButton, { onClick: handleOpenDeactivateLink },\r\n                    React.createElement(Typography$1, { \"data-test-id\": \"deactivateLinkBtn\", variant: 'body1', color: 'error' }, t('deactivateLink')))),\r\n                React.createElement(Box, { flex: 1 }),\r\n                React.createElement(Button$1, { \"data-test-id\": 'backBtn', color: 'inherit', variant: 'text', type: 'reset', onClick: handleSetActiveDialogToInvitationForm }, t('back')),\r\n                React.createElement(Button$1, { \"data-test-id\": 'inviteBtn', disabled: !canSubmit, loading: isSubmitting, color: 'primary', type: 'submit' }, t('save'))),\r\n            React.createElement(DeactivateInviteLinkDialog, { open: deactivateLinkDialog, onClose: handleCloseDeactivateInvitationLinkDialog })));\r\n    }));\r\n};\n\nconst FirstNameField$1 = () => {\r\n    const t = useT('users_InviteUser');\r\n    const [fieldProps, { error, touched }] = useField('firstName');\r\n    return React.createElement(Input$1$1, Object.assign({ label: t('firstNameInputLabel') }, fieldProps, { autoFocus: true, error: !!error && touched, errorMessage: error, \"data-test-id\": \"nameBox\", autoComplete: 'given-name' }));\r\n};\r\nconst LastNameField = () => {\r\n    const t = useT('users_InviteUser');\r\n    const [fieldProps, { error, touched }] = useField('lastName');\r\n    return React.createElement(Input$1$1, Object.assign({ label: t('lastNameInputLabel') }, fieldProps, { error: !!error && touched, errorMessage: error, \"data-test-id\": \"lastNameBox\", autoComplete: 'family-name' }));\r\n};\r\nconst PhoneField = () => {\r\n    const t = useT('users_InviteUser');\r\n    const [fieldProps, { error, touched }] = useField('phone');\r\n    return React.createElement(Input$1$1, Object.assign({ label: t('phoneInputLabel') }, fieldProps, { error: !!error && touched, errorMessage: error, \"data-test-id\": \"phoneBox\", autoComplete: 'tel' }));\r\n};\r\nconst EmailField$2 = () => {\r\n    const t = useT('users_InviteUser');\r\n    const [fieldProps, { error, touched }] = useField('email');\r\n    return React.createElement(Input$1$1, Object.assign({ label: t('emailInputLabel') }, fieldProps, { error: !!error && touched, errorMessage: error, \"data-test-id\": \"emailBox\", autoComplete: 'email' }));\r\n};\r\nconst RolesField$2 = ({ roles }) => {\r\n    const t = useT('users_InviteUser');\r\n    const { injector } = useShadowDom();\r\n    const [fieldProps, { error, touched }, { setValue, setTouched }] = useField('roleIds');\r\n    const options = react.exports.useMemo(() => (roles !== null && roles !== void 0 ? roles : []).map((role) => ({ label: role.name, value: role.id, withCheckbox: true })), [roles]);\r\n    return React.createElement(Select$1$1, { label: t('rolesInputLabel'), name: 'roleIds', multi: true, placeholder: t('rolesInputPlaceholder'), value: fieldProps.value, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, options: options, onChange: (value) => {\r\n            setValue(value, true);\r\n            setTouched(true);\r\n        }, error: !!error && touched, errorMessage: error });\r\n};\r\nconst InviteUserForm$1 = (_a) => {\r\n    var _b, _c;\r\n    var { setActiveDialog, hideInviteWithEmail } = _a, props = __rest(_a, [\"setActiveDialog\", \"hideInviteWithEmail\"]);\r\n    const t = useT('users_InviteUser');\r\n    const { addUser } = useAuthTeamActions();\r\n    const user = useAuthUserOrNull();\r\n    const allRoles = useAuthTeamState(state => state.roles);\r\n    const { injector } = useShadowDom();\r\n    const metadata = (_c = (_b = Metadata.getInstance(injector.name).navigation.users) === null || _b === void 0 ? void 0 : _b.inviteDialog) !== null && _c !== void 0 ? _c : {};\r\n    const initialValues = react.exports.useMemo(() => ({\r\n        firstName: '',\r\n        lastName: '',\r\n        email: '',\r\n        phone: '',\r\n        roleIds: [],\r\n    }), []);\r\n    const { policy } = usePublicPolicySettings();\r\n    const validationSchema = react.exports.useMemo(() => validateSchema({\r\n        firstName: validateNotEmpty(t('firstNameIsRequired')),\r\n        lastName: validateNotEmpty(t('lastNameIsRequired')),\r\n        email: validateEmail(t('emailMustBeValid'), t('emailIsRequired')),\r\n        phone: metadata.phoneNumberField === 'mandatory' ? validationPhone(t('phoneIsRequired'), t('phoneIsInvalid')) :\r\n            validationPhoneOptional(t('phoneIsInvalid')),\r\n        roleIds: create().min((policy === null || policy === void 0 ? void 0 : policy.forcePermissions) ? 1 : 0, t('rolesIsRequired')),\r\n    }), [t, metadata.phoneNumberField, policy === null || policy === void 0 ? void 0 : policy.forcePermissions]);\r\n    const { events } = useShadowDom();\r\n    const { email: userEmail } = useAuthUser();\r\n    const formikProps = {\r\n        onSubmit: ({ firstName, lastName, email, phone, roleIds }) => new Promise((resolve, reject) => {\r\n            var _a;\r\n            const name = [firstName, lastName].filter(notNull).join(' ');\r\n            const callback = callbackToPromise(resolve, reject, props.onClose);\r\n            addUser({ name, email, roleIds, phone: phone ? '+' + phone.replace('+', '') : undefined, callback });\r\n            (_a = events === null || events === void 0 ? void 0 : events.inviteMemberSubmit) === null || _a === void 0 ? void 0 : _a.call(events, { email: userEmail, invitedUserFirstName: firstName, invitedUserLastName: lastName, invitedUserEmail: email, invitedUserPhoneNumber: phone, invitedUserRoles: roleIds });\r\n        }),\r\n        initialValues,\r\n        validationSchema,\r\n    };\r\n    const roles = checkRoleAccess(allRoles, user);\r\n    return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit, formError }) => {\r\n        return React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                !hideInviteWithEmail && React.createElement(React.Fragment, null,\r\n                    React.createElement(Grid, { container: true, spacing: 4 },\r\n                        React.createElement(Grid, { item: true, xs: 12, sm: 6 },\r\n                            React.createElement(FirstNameField$1, null)),\r\n                        React.createElement(Grid, { item: true, xs: 12, sm: 6 },\r\n                            React.createElement(LastNameField, null))),\r\n                    !!metadata.phoneNumberField && React.createElement(PhoneField, null),\r\n                    React.createElement(EmailField$2, null),\r\n                    (policy === null || policy === void 0 ? void 0 : policy.forcePermissions) && roles.length > 0 && React.createElement(RolesField$2, { roles: roles })),\r\n                React.createElement(CopyInviteLink, { setActiveDialog: setActiveDialog, isEmailInviteShown: !hideInviteWithEmail }),\r\n                React.createElement(FormErrorDialogMessage, { message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Box, { flex: 1 }),\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancelBtn\", color: 'inherit', variant: 'text', type: 'reset', onClick: props.onClose }, t('cancel')),\r\n                !hideInviteWithEmail && React.createElement(Button$1, { \"data-test-id\": \"inviteBtn\", disabled: !canSubmit, loading: isSubmitting, color: 'primary', type: 'submit' }, t('invite'))));\r\n    });\r\n};\r\nconst InviteUserDialog$1 = (_a) => {\r\n    var { onClose, hideInviteWithEmail } = _a, props = __rest(_a, [\"onClose\", \"hideInviteWithEmail\"]);\r\n    const t = useT('users_InviteUser');\r\n    const [activeDialog, setActiveDialog] = react.exports.useState(EditInviteUserActiveDialog.INVITATION_FORM);\r\n    const { injector } = useShadowDom();\r\n    const handleClose = react.exports.useCallback(() => {\r\n        onClose();\r\n        setActiveDialog(EditInviteUserActiveDialog.INVITATION_FORM);\r\n    }, [setActiveDialog, onClose]);\r\n    return (React.createElement(Dialog$1, Object.assign({ container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { onClose: handleClose, title: t(activeDialog === EditInviteUserActiveDialog.INVITATION_FORM ? 'title' : 'inviteWithLinkSettings') }), activeDialog === EditInviteUserActiveDialog.INVITATION_FORM ? (React.createElement(InviteUserForm$1, Object.assign({}, props, { onClose: handleClose, setActiveDialog: setActiveDialog, hideInviteWithEmail: hideInviteWithEmail }))) : (React.createElement(EditInviteLinkDialog, { setActiveDialog: setActiveDialog }))));\r\n};\n\nconst UsersPage$1 = () => {\r\n    var _a, _b, _c;\r\n    const [searching, setSearching] = react.exports.useState(false);\r\n    const [searchQuery, onSearch] = react.exports.useState('');\r\n    const themeOptions = useTheme();\r\n    const hideInviteWithEmail = (_c = (_b = (_a = themeOptions === null || themeOptions === void 0 ? void 0 : themeOptions.adminPortal) === null || _a === void 0 ? void 0 : _a.pages) === null || _b === void 0 ? void 0 : _b.users) === null || _c === void 0 ? void 0 : _c.hideInviteWithEmail;\r\n    const { users, roles, inviteTokenState } = useAuthTeamState();\r\n    const { loadUsers, getInvitationLink } = useAuthTeamActions();\r\n    const { loadSubTenants } = useTenantsActions();\r\n    const [inviteUserDialog, handleCloseInviteUser, handleOpenInviteUser] = useDialogState();\r\n    const { tenantInvitationsAllowed } = inviteTokenState !== null && inviteTokenState !== void 0 ? inviteTokenState : {};\r\n    const canCopyInviteLink = usePermission('fe.secure.write.tenantInvites');\r\n    react.exports.useEffect(() => {\r\n        getInvitationLink();\r\n        loadSubTenants();\r\n        const queryObject = { pageOffset: 0, pageSize: 10, filter: [], silentLoading: users.length > 0 };\r\n        loadUsers(queryObject);\r\n        return () => loadUsers(queryObject);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [loadUsers, getInvitationLink]);\r\n    useEffectAfterMount(() => {\r\n        loadUsers({\r\n            filter: searchQuery ? [{ id: 'searchFilter', value: searchQuery }] : [],\r\n            pageOffset: 0,\r\n            callback: () => setSearching(false),\r\n        });\r\n    }, [searchQuery, loadUsers]);\r\n    return React.createElement(PageWrapper, { flex: 1, display: 'flex', flexDirection: 'column' },\r\n        React.createElement(TableSearchContext.Provider, { value: { searching, searchQuery, onSearch, setSearching } },\r\n            React.createElement(UsersHeader, { handleOpenInviteUser: handleOpenInviteUser, isInviteWithEmailEnabled: !hideInviteWithEmail, isInviteLinkEnabled: canCopyInviteLink && tenantInvitationsAllowed }),\r\n            React.createElement(Box, { mt: 6, flex: 1, display: 'flex', flexDirection: 'column' },\r\n                React.createElement(UsersTable, null)),\r\n            React.createElement(InviteUserDialog$1, { open: inviteUserDialog, onClose: handleCloseInviteUser, roles: roles, hideInviteWithEmail: hideInviteWithEmail })));\r\n};\r\nvar UsersPage$2 = UsersPage$1;\n\nvar UsersPage = wrapPage(UsersPage$2, 'users');\n\nconst RolesHeader = ({ handleOpenAddRole }) => {\r\n    const t = useT('roles');\r\n    const { onSearch } = useTableSearch();\r\n    const [search, setSearch] = react.exports.useState('');\r\n    const debounceSearch = useDebounce(search);\r\n    const canAddRole = usePermission('fe.secure.write.roles');\r\n    useAsyncEffect(() => onSearch(debounceSearch), [debounceSearch]);\r\n    return React.createElement(Grid, { container: true, spacing: 4 },\r\n        React.createElement(Grid, { item: true, xs: 12, sm: 6, md: 4 },\r\n            React.createElement(Box, null,\r\n                React.createElement(Input$1$1, { \"data-test-id\": \"searchBox\", endAdornment: React.createElement(SearchIcon, null), onChange: (e) => setSearch(e.target.value), placeholder: t('searchInputPlaceholder') }))),\r\n        React.createElement(Grid, { item: true, xs: true }),\r\n        canAddRole && React.createElement(Grid, { item: true },\r\n            React.createElement(Button$1, { \"data-test-id\": \"addRoleBtn\", onClick: handleOpenAddRole }, t('addNewRoleButton'))));\r\n};\n\nconst RoleName = react.exports.memo(() => {\r\n    const t = useT('roles_AddRole');\r\n    const { values, setFieldValue } = useFormikContext();\r\n    const [fieldProps, { error, touched }] = useField('name');\r\n    return React.createElement(Input$1$1, Object.assign({ label: t('nameInputLabel') }, fieldProps, { onChange: (e) => {\r\n            fieldProps.onChange(e);\r\n            if (values.shouldChangeKey) {\r\n                setFieldValue('key', e.target.value.toLowerCase().replace(/ /g, '-'), true);\r\n            }\r\n        }, autoFocus: true, error: !!error && touched, errorMessage: error, \"data-test-id\": \"roleNameBox\" }));\r\n});\r\nconst RoleKey = react.exports.memo(() => {\r\n    const t = useT('roles_AddRole');\r\n    const { setFieldValue } = useFormikContext();\r\n    const [fieldProps, { error, touched }] = useField('key');\r\n    return React.createElement(Input$1$1, Object.assign({ label: t('keyInputLabel') }, fieldProps, { onChange: (e) => {\r\n            fieldProps.onChange(e);\r\n            setFieldValue('shouldChangeKey', e.target.value.length === 0, false);\r\n        }, error: !!error && touched, \"data-test-id\": \"roleKeyBox\", errorMessage: error }));\r\n});\r\nconst RoleDescription = react.exports.memo(() => {\r\n    const t = useT('roles_AddRole');\r\n    const [fieldProps, { error, touched }] = useField('description');\r\n    return React.createElement(Input$1$1, Object.assign({ label: t('descriptionInputLabel') }, fieldProps, { error: !!error && touched, errorMessage: error, \"data-test-id\": \"roleDescriptionBox\" }));\r\n});\r\nconst RoleInherit = react.exports.memo(() => {\r\n    const t = useT('roles_AddRole');\r\n    const { injector } = useShadowDom();\r\n    const { roles } = useRolesState();\r\n    const [fieldProps, { error, touched }, { setValue }] = useField('inherit');\r\n    const options = react.exports.useMemo(() => (roles !== null && roles !== void 0 ? roles : []).map((role) => ({ label: role.name, value: role.id })), [roles]);\r\n    return React.createElement(Select$1$1, { label: t('inheritPermissionInputLabel'), name: 'inherit', placeholder: t('inheritPermissionInputPlaceholder'), value: fieldProps.value, onChange: (value) => setValue(value, true), errorMessage: touched ? error : undefined, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, options: options });\r\n});\r\nconst AddRoleForm = react.exports.forwardRef((props, ref) => {\r\n    const t = useT('roles_AddRole');\r\n    const { addRole } = useRolesActions();\r\n    const { roles } = useRolesState();\r\n    const initialValues = react.exports.useMemo(() => {\r\n        var _a;\r\n        return ({\r\n            key: '',\r\n            name: '',\r\n            description: '',\r\n            inherit: (_a = roles[0]) === null || _a === void 0 ? void 0 : _a.id,\r\n            shouldChangeKey: true,\r\n        });\r\n    }, [roles]);\r\n    const validationSchema = react.exports.useMemo(() => validateSchema({\r\n        name: validateNotEmpty(t('nameIsRequired')),\r\n        key: validateNotEmpty(t('keyIsRequired')),\r\n    }), [t]);\r\n    const formikProps = {\r\n        onSubmit: ({ key, name, description, inherit }) => new Promise((resolve, reject) => {\r\n            var _a;\r\n            const inheritedRole = roles.find(({ id }) => id === inherit);\r\n            const callback = callbackToPromise(resolve, reject);\r\n            addRole({\r\n                key,\r\n                name,\r\n                description,\r\n                permissions: (_a = inheritedRole === null || inheritedRole === void 0 ? void 0 : inheritedRole.permissions) !== null && _a !== void 0 ? _a : [],\r\n                isDefault: false,\r\n                level: 0,\r\n                callback,\r\n            });\r\n        }),\r\n        initialValues,\r\n        validationSchema,\r\n    };\r\n    return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit, formError }) => {\r\n        return React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, { ref: ref },\r\n                React.createElement(Grid, { container: true, spacing: 4, mb: 4 },\r\n                    React.createElement(Grid, { item: true, xs: 6 },\r\n                        React.createElement(RoleName, null)),\r\n                    React.createElement(Grid, { item: true, xs: 6 },\r\n                        React.createElement(RoleKey, null))),\r\n                React.createElement(RoleDescription, null),\r\n                React.createElement(RoleInherit, null),\r\n                React.createElement(FormErrorDialogMessage, { message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Box, { flex: 1 }),\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancelBtn\", color: 'inherit', variant: 'text', type: 'reset', onClick: props.onClose }, t('cancel')),\r\n                React.createElement(Button$1, { \"data-test-id\": \"createBtn\", disabled: !canSubmit, loading: isSubmitting, color: 'primary', type: 'submit' }, t('create'))));\r\n    });\r\n});\r\nconst AddRoleDialog = props => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('roles_AddRole');\r\n    return React.createElement(Dialog$1, Object.assign({ container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { title: t('title'), size: 'sm' }),\r\n        React.createElement(AddRoleForm, Object.assign({}, props)));\r\n};\n\nconst rolesTableColumns = (params) => {\r\n    const { t, roles } = params;\r\n    return [\r\n        {\r\n            id: 'actions',\r\n            Header: t('actionsHeader'),\r\n            accessor: ({ name, description }) => ({ title: name, description, multiLineDescription: true }),\r\n            minWidth: 400,\r\n            width: 400,\r\n            maxWidth: 400,\r\n            pivot: true,\r\n            sortable: true,\r\n            Cell: TableTextCell,\r\n        },\r\n        ...roles.map((role, index) => {\r\n            return ({\r\n                id: role.id,\r\n                Header: React.createElement(Typography$1, { variant: 'tableSmallHeader' }, role.name),\r\n                accessor: ({ id }) => ({\r\n                    checked: role.permissions.includes(id),\r\n                    containerStyle: { marginLeft: index === roles.length - 1 ? '.75rem' : undefined },\r\n                }),\r\n                width: 160,\r\n                maxWidth: 160,\r\n                Cell: TableSwitchCell,\r\n            });\r\n        }),\r\n    ].filter(notNull);\r\n};\n\nconst RolesTable = () => {\r\n    const t = useT('roles');\r\n    const { searching, searchQuery } = useTableSearch();\r\n    const { loading, roles, permissions, permissionCategories } = useRolesState();\r\n    const columns = react.exports.useMemo(() => rolesTableColumns({ t, roles, permissions }), [t, roles, permissions]);\r\n    const rows = react.exports.useMemo(() => {\r\n        if (!!searchQuery) {\r\n            return permissions.filter((permission) => {\r\n                var _a;\r\n                return permission.name.toLowerCase().indexOf(searchQuery.toLowerCase()) !== -1\r\n                    || ((_a = permission.description) !== null && _a !== void 0 ? _a : '').toLowerCase().indexOf(searchQuery.toLowerCase()) !== -1\r\n                    || permission.key.toLowerCase().indexOf(searchQuery.toLowerCase()) !== -1;\r\n            });\r\n        }\r\n        return permissions;\r\n    }, [permissions, searchQuery]);\r\n    const categoriesRows = react.exports.useMemo(() => {\r\n        const mapped = rows.reduce((p, n) => (Object.assign(Object.assign({}, p), { [n.id]: n })), {});\r\n        return permissionCategories.concat().sort((a, b) => a.name.localeCompare(b.name))\r\n            .map(category => {\r\n            const fPermissions = category.permissionIds.map(permissionId => mapped[permissionId]).filter(notNull);\r\n            if (fPermissions.length === 0) {\r\n                return [];\r\n            }\r\n            return [{\r\n                    __type: 'categoryRow',\r\n                    id: category.id,\r\n                    title: category.name,\r\n                },\r\n                ...fPermissions.sort((a, b) => a.name.localeCompare(b.name)),\r\n            ];\r\n        }).reduce((p, n) => [...p, ...n], []);\r\n    }, [rows, permissionCategories]);\r\n    const tablePlaceholderProps = react.exports.useMemo(() => {\r\n        if (loading) {\r\n            return null;\r\n        }\r\n        else if (searchQuery && rows.length === 0) {\r\n            return {\r\n                show: true,\r\n                icon: React.createElement(SearchBigIcon, null),\r\n                title: t('noResultFound'),\r\n                description: t('noResultFoundDescription'),\r\n            };\r\n        }\r\n        return null;\r\n    }, [t, loading, searchQuery, rows.length]);\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(Table, { forwardedKey: 'roles-table', columns: columns, data: categoriesRows, loading: loading, searching: searching, loadingText: searching ? t('searchingPlaceholder') : undefined }, tablePlaceholderProps && React.createElement(TablePlaceholder, Object.assign({}, tablePlaceholderProps))));\r\n};\n\nconst RolesPage$1 = () => {\r\n    const [searching, setSearching] = react.exports.useState(false);\r\n    const [searchQuery, onSearch] = react.exports.useState('');\r\n    const { roles } = useRolesState();\r\n    const { loadRolesAndPermissions } = useRolesActions();\r\n    react.exports.useEffect(() => {\r\n        loadRolesAndPermissions({ silentLoading: roles.length > 0 });\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [loadRolesAndPermissions]);\r\n    const [addRoleDialog, handleCloseAddRole, handleOpenAddRole] = useDialogState();\r\n    return React.createElement(PageWrapper, { flex: 1, display: 'flex', flexDirection: 'column' },\r\n        React.createElement(TableSearchContext.Provider, { value: { searching, searchQuery, onSearch, setSearching } },\r\n            React.createElement(RolesHeader, { handleOpenAddRole: handleOpenAddRole }),\r\n            React.createElement(Box, { mt: 6, flex: 1, display: 'flex', flexDirection: 'column' },\r\n                React.createElement(RolesTable, null)),\r\n            React.createElement(AddRoleDialog, { open: addRoleDialog, onClose: handleCloseAddRole })));\r\n};\r\nvar RolesPage$2 = RolesPage$1;\n\nvar RolesPage = wrapPage(RolesPage$2, 'roles');\n\nconst AttemptsInput = react.exports.memo(() => {\r\n    const t = useT('security_EditLockoutPolicy');\r\n    const [fieldProps, { error, touched }] = useField('maxAttempts');\r\n    return React.createElement(Input$1$1, Object.assign({}, fieldProps, { autoFocus: true, inputMode: 'decimal', label: t('attemptsInputLabel'), placeholder: t('attemptsInputPlaceholder'), error: !!error && touched, \"data-test-id\": \"userLockoutBox\", errorMessage: error }));\r\n});\r\nconst EditMfaPolicyForm$1 = (props) => {\r\n    const t = useT('security_EditLockoutPolicy');\r\n    const { policy, saveSecurityPolicyLockout } = useLockoutPolicySettings();\r\n    const initialValues = react.exports.useMemo(() => {\r\n        var _a, _b;\r\n        return ({\r\n            id: policy === null || policy === void 0 ? void 0 : policy.id,\r\n            enabled: (_a = policy === null || policy === void 0 ? void 0 : policy.enabled) !== null && _a !== void 0 ? _a : true,\r\n            maxAttempts: (_b = policy === null || policy === void 0 ? void 0 : policy.maxAttempts) !== null && _b !== void 0 ? _b : 0,\r\n        });\r\n    }, [policy]);\r\n    const formikProps = {\r\n        onSubmit: ({ id, maxAttempts, enabled }) => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, reject, props.onClose);\r\n            saveSecurityPolicyLockout({ callback, id, maxAttempts: Number(maxAttempts), enabled });\r\n        }),\r\n        initialValues,\r\n        validationSchema: validateSchema({\r\n            maxAttempts: validatePositiveNumber(t('attemptsInputErrorMessage')),\r\n        }),\r\n    };\r\n    return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit, formError }) => {\r\n        return React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                React.createElement(AttemptsInput, null),\r\n                React.createElement(FormErrorDialogMessage, { message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Box, { flex: 1 }),\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancelBtn\", color: 'inherit', variant: 'text', type: 'reset', onClick: props.onClose }, t('cancel')),\r\n                React.createElement(Button$1, { \"data-test-id\": \"saveBtn\", disabled: !canSubmit, loading: isSubmitting, color: 'primary', type: 'submit' }, t('save'))));\r\n    });\r\n};\r\nconst EditLockoutPolicyDialog = props => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('security_EditLockoutPolicy');\r\n    return React.createElement(Dialog$1, Object.assign({ \"data-test-id\": \"edit-user-lockout-dialog\", container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { dialogTitleDataTestId: \"user-lockout-header\", title: t('title'), size: 'sm' }),\r\n        React.createElement(EditMfaPolicyForm$1, Object.assign({}, props)));\r\n};\n\nconst MfaPolicySelect = react.exports.memo(() => {\r\n    const t = useT('security_EditMfaPolicy');\r\n    const [fieldProps, , { setValue }] = useField('enforceMFAType');\r\n    const activeMfaTypes = useOptionalEnforceMfaTypes();\r\n    const options = react.exports.useMemo(() => {\r\n        return [{\r\n                'data-test-id': 'DontForce',\r\n                label: t('dontForceTitle'),\r\n                value: MfaTypeEnum.DontForce,\r\n                description: t('dontForceDescription'),\r\n            }, {\r\n                'data-test-id': 'Force',\r\n                label: t('forceTitle'),\r\n                value: MfaTypeEnum.Force,\r\n                description: t('forceDescription'),\r\n            }, {\r\n                'data-test-id': 'ForceExceptSAML',\r\n                label: t('forceExceptSAMLTitle'),\r\n                value: MfaTypeEnum.ForceExceptSAML,\r\n                description: t('forceExceptSAMLDescription')\r\n            }].filter(({ value }) => activeMfaTypes.includes(value));\r\n    }, [t, activeMfaTypes]);\r\n    return React.createElement(RadioList, { items: options, name: fieldProps.name, value: fieldProps.value, onChange: (_e, value) => setValue(value, true) });\r\n});\r\nconst EditMfaPolicyForm = (props) => {\r\n    const t = useT('security_EditMfaPolicy');\r\n    const { policy, saveSecurityPolicyMfa } = useMfaPolicySettings();\r\n    const vendorMfaPolicy = useVendorMfaPolicySettings();\r\n    const initialValues = react.exports.useMemo(() => {\r\n        var _a, _b, _c;\r\n        return ({\r\n            id: policy === null || policy === void 0 ? void 0 : policy.id,\r\n            enforceMFAType: (_c = (_a = policy === null || policy === void 0 ? void 0 : policy.enforceMFAType) !== null && _a !== void 0 ? _a : (_b = vendorMfaPolicy.policy) === null || _b === void 0 ? void 0 : _b.enforceMFAType) !== null && _c !== void 0 ? _c : MfaTypeEnum.DontForce,\r\n        });\r\n    }, [policy]);\r\n    const formikProps = {\r\n        onSubmit: ({ id, enforceMFAType }) => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, reject, props.onClose);\r\n            saveSecurityPolicyMfa({ callback, id, enforceMFAType });\r\n        }),\r\n        initialValues,\r\n    };\r\n    return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit, formError }) => {\r\n        return React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, { noPadding: true },\r\n                React.createElement(MfaPolicySelect, null),\r\n                React.createElement(FormErrorDialogMessage, { message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Box, { flex: 1 }),\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancelBtn\", color: 'inherit', variant: 'text', type: 'reset', onClick: props.onClose }, t('cancel')),\r\n                React.createElement(Button$1, { \"data-test-id\": \"saveBtn\", disabled: !canSubmit, loading: isSubmitting, color: 'primary', type: 'submit' }, t('save'))));\r\n    });\r\n};\r\nconst EditMfaPolicyDialog = props => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('security_EditMfaPolicy');\r\n    return React.createElement(Dialog$1, Object.assign({ \"data-test-id\": \"edit-MFA-dialog\", container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { dialogTitleDataTestId: \"mfa-policy-header\", title: t('title'), size: 'sm' }),\r\n        React.createElement(EditMfaPolicyForm, Object.assign({}, props)));\r\n};\n\nconst HistorySizeInput = react.exports.memo(() => {\r\n    const t = useT('security_EditPasswordHistoryPolicy');\r\n    const [fieldProps, { error }] = useField('historySize');\r\n    return React.createElement(Input$1$1, Object.assign({}, fieldProps, { autoFocus: true, inputMode: 'decimal', label: t('sizeInputLabel'), placeholder: t('sizeInputPlaceholder'), error: !!error, \"data-test-id\": \"userPasswordHistoryBox\", errorMessage: error }));\r\n});\r\nconst EditPasswordHistoryPolicyForm = (props) => {\r\n    const t = useT('security_EditPasswordHistoryPolicy');\r\n    const { policy, saveSecurityPolicyPasswordHistory } = usePasswordHistoryPolicySettings();\r\n    const initialValues = react.exports.useMemo(() => {\r\n        var _a, _b;\r\n        return ({\r\n            id: policy === null || policy === void 0 ? void 0 : policy.id,\r\n            enabled: (_a = policy === null || policy === void 0 ? void 0 : policy.enabled) !== null && _a !== void 0 ? _a : true,\r\n            historySize: (_b = policy === null || policy === void 0 ? void 0 : policy.historySize) !== null && _b !== void 0 ? _b : 0,\r\n        });\r\n    }, [policy]);\r\n    const formikProps = {\r\n        onSubmit: ({ id, historySize, enabled }) => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, reject, props.onClose);\r\n            saveSecurityPolicyPasswordHistory({ callback, id, historySize: Number(historySize), enabled });\r\n        }),\r\n        initialValues,\r\n        validationSchema: validateSchema({\r\n            historySize: validateHistorySize(t('sizeIsRequired'), t('sizeMustBeNumber'), t('sizeMustBeGt0'), t('sizeMustBelt10')),\r\n        }),\r\n    };\r\n    return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit, formError }) => {\r\n        return React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                React.createElement(HistorySizeInput, null),\r\n                React.createElement(FormErrorDialogMessage, { message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Box, { flex: 1 }),\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancelBtn\", color: 'inherit', variant: 'text', type: 'reset', onClick: props.onClose }, t('cancel')),\r\n                React.createElement(Button$1, { \"data-test-id\": \"saveBtn\", disabled: !canSubmit, loading: isSubmitting, color: 'primary', type: 'submit' }, t('save'))));\r\n    });\r\n};\r\nconst EditPasswordHistoryPolicyDialog = props => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('security_EditPasswordHistoryPolicy');\r\n    return React.createElement(Dialog$1, Object.assign({ \"data-test-id\": 'password-history-dialog', dialogTitleDataTestId: 'password-history-header', container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { title: t('title'), size: 'sm' }),\r\n        React.createElement(EditPasswordHistoryPolicyForm, Object.assign({}, props)));\r\n};\n\nconst MfaSecurityPolicyValue = () => {\r\n    const t = useT('security');\r\n    const { loading, policy } = useMfaPolicySettings();\r\n    const { vendorMfaPolicy } = useSecurityPolicyState();\r\n    const activeMFATypes = useOptionalEnforceMfaTypes();\r\n    const activeMFAPolicy = react.exports.useMemo(() => { var _a; return (policy === null || policy === void 0 ? void 0 : policy.enforceMFAType) && activeMFATypes.includes(policy.enforceMFAType) ? policy.enforceMFAType : (_a = vendorMfaPolicy.policy) === null || _a === void 0 ? void 0 : _a.enforceMFAType; }, [vendorMfaPolicy, policy, activeMFATypes]);\r\n    let description;\r\n    switch (activeMFAPolicy) {\r\n        case 'Force':\r\n            description = t('mfaPolicyForceDescription');\r\n            break;\r\n        case 'ForceExceptSAML':\r\n            description = t('mfaPolicyForceExceptSAMLDescription');\r\n            break;\r\n        default:\r\n            description = t('mfaPolicyDontForceDescription');\r\n    }\r\n    return (loading && !policy) ?\r\n        React.createElement(Skeleton, { width: 80, height: 18 })\r\n        :\r\n            React.createElement(Typography$1, { \"data-test-id\": \"mfa-description\", variant: 'body1' }, description);\r\n};\r\nconst LockoutSecurityPolicyValue = () => {\r\n    const t = useT('security');\r\n    const { loading, policy } = useLockoutPolicySettings();\r\n    if (loading && !policy) {\r\n        return React.createElement(Skeleton, { width: 80, height: 18 });\r\n    }\r\n    if (!policy) {\r\n        return React.createElement(Typography$1, { variant: 'body1' }, t('lockoutNotConfigured'));\r\n    }\r\n    if (policy.enabled) {\r\n        return React.createElement(Typography$1, { variant: 'body1' },\r\n            t('lockoutEnabledMaxAttempts1'),\r\n            \" \",\r\n            React.createElement(\"b\", null, policy.maxAttempts),\r\n            \" \",\r\n            t('lockoutEnabledMaxAttempts2'));\r\n    }\r\n    return React.createElement(Typography$1, { variant: 'body1' }, t('lockoutDisabled'));\r\n};\r\nconst PasswordHistorySecurityPolicyValue = () => {\r\n    const t = useT('security');\r\n    const { loading, policy } = usePasswordHistoryPolicySettings();\r\n    if (loading && !policy) {\r\n        return React.createElement(Skeleton, { width: 80, height: 18 });\r\n    }\r\n    if (!policy) {\r\n        return React.createElement(Typography$1, { variant: 'body1' }, t('passwordHistoryNotConfigured'));\r\n    }\r\n    if (policy.enabled) {\r\n        return React.createElement(Typography$1, { variant: 'body1' },\r\n            t('passwordHistoryEnabledHistorySize1'),\r\n            \" \",\r\n            React.createElement(\"b\", null, policy.historySize),\r\n            \" \",\r\n            t('passwordHistoryEnabledHistorySize2'));\r\n    }\r\n    return React.createElement(Typography$1, { variant: 'body1' }, t('passwordHistoryDisabled'));\r\n};\r\nconst getLockoutSecurityPolicyActions = (policy, save) => {\r\n    if (policy) {\r\n        return React.createElement(Switch$1$1, { checked: policy.enabled, onChange: (_, value) => save(Object.assign(Object.assign({}, policy), { enabled: value })) });\r\n    }\r\n    return undefined;\r\n};\r\nconst getPasswordHistorySecurityPolicyActions = (policy, save) => {\r\n    if (policy) {\r\n        return React.createElement(Switch$1$1, { \"data-test-id\": \"switch\", checked: policy.enabled, onChange: (_, value) => save(Object.assign(Object.assign({}, policy), { enabled: value })) });\r\n    }\r\n    return undefined;\r\n};\r\nconst BasicSettingsList = () => {\r\n    const t = useT('security');\r\n    const { loading: mfaLoading, policy: mfaPolicy } = useMfaPolicySettings(true);\r\n    const { loading: lockoutLoading, policy: lockoutPolicy, saveSecurityPolicyLockout } = useLockoutPolicySettings(true);\r\n    const { loading: passwordHistoryLoading, policy: passwordHistoryPolicy, saveSecurityPolicyPasswordHistory, } = usePasswordHistoryPolicySettings(true);\r\n    const [editMfaPolicyDialog, handleCloseMfaPolicyDialog, handleOpenMfaPolicyDialog] = useDialogState();\r\n    const [editLockoutPolicyDialog, handleCloseLockoutPolicyDialog, handleOpenLockoutPolicyDialog] = useDialogState();\r\n    const [editPasswordHistoryPolicyDialog, handleClosePasswordHistoryPolicyDialog, handleOpenPasswordHistoryPolicyDialog] = useDialogState();\r\n    const { loading: vendorMfaPolicyLoading } = useVendorMfaPolicySettings();\r\n    const activeMfaTypes = useOptionalEnforceMfaTypes();\r\n    const isMfaDisabled = react.exports.useMemo(() => {\r\n        if (vendorMfaPolicyLoading) {\r\n            return true;\r\n        }\r\n        if (mfaLoading && !mfaPolicy) {\r\n            return true;\r\n        }\r\n        if (activeMfaTypes.length <= 1) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }, [activeMfaTypes, mfaLoading, mfaPolicy]);\r\n    const canEditSecurityPolicy = usePermission('fe.secure.write.securityPolicy');\r\n    const items = react.exports.useMemo(() => [{\r\n            id: 'mfa',\r\n            title: t('mfaTitle'),\r\n            value: React.createElement(MfaSecurityPolicyValue, null),\r\n            disabled: isMfaDisabled,\r\n            onEditClick: handleOpenMfaPolicyDialog,\r\n            disabledRow: !canEditSecurityPolicy,\r\n        }, {\r\n            id: 'lockout',\r\n            title: t('lockoutTitle'),\r\n            value: React.createElement(LockoutSecurityPolicyValue, null),\r\n            actions: getLockoutSecurityPolicyActions(lockoutPolicy, saveSecurityPolicyLockout),\r\n            disabled: lockoutLoading && !lockoutPolicy,\r\n            onEditClick: handleOpenLockoutPolicyDialog,\r\n            disabledRow: !canEditSecurityPolicy,\r\n        },\r\n        {\r\n            id: 'passwordHistory',\r\n            title: t('passwordHistoryTitle'),\r\n            value: React.createElement(PasswordHistorySecurityPolicyValue, null),\r\n            actions: getPasswordHistorySecurityPolicyActions(passwordHistoryPolicy, saveSecurityPolicyPasswordHistory),\r\n            disabled: passwordHistoryLoading && !passwordHistoryPolicy,\r\n            onEditClick: handleOpenPasswordHistoryPolicyDialog,\r\n            disabledRow: !canEditSecurityPolicy,\r\n        }], [\r\n        t,\r\n        lockoutPolicy,\r\n        passwordHistoryPolicy,\r\n        lockoutLoading,\r\n        passwordHistoryLoading,\r\n        saveSecurityPolicyLockout,\r\n        saveSecurityPolicyPasswordHistory,\r\n        handleOpenMfaPolicyDialog,\r\n        handleOpenLockoutPolicyDialog,\r\n        handleOpenPasswordHistoryPolicyDialog,\r\n        canEditSecurityPolicy,\r\n        isMfaDisabled,\r\n    ]);\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(SettingsList, { title: t('subtitle'), items: items }),\r\n        React.createElement(EditMfaPolicyDialog, { open: editMfaPolicyDialog, onClose: handleCloseMfaPolicyDialog }),\r\n        React.createElement(EditLockoutPolicyDialog, { open: editLockoutPolicyDialog, onClose: handleCloseLockoutPolicyDialog }),\r\n        React.createElement(EditPasswordHistoryPolicyDialog, { open: editPasswordHistoryPolicyDialog, onClose: handleClosePasswordHistoryPolicyDialog }));\r\n};\r\nvar BasicSettingsList$1 = BasicSettingsList;\n\nvar ETimeFormat;\r\n(function (ETimeFormat) {\r\n    ETimeFormat[\"DAYS\"] = \"days\";\r\n    ETimeFormat[\"HOURS\"] = \"hours\";\r\n    ETimeFormat[\"MINUTES\"] = \"minutes\";\r\n})(ETimeFormat || (ETimeFormat = {}));\r\nconst TimeFormatLocalizedTitles = {\r\n    [ETimeFormat.DAYS]: {\r\n        plural: 'days',\r\n        singular: 'day'\r\n    },\r\n    [ETimeFormat.HOURS]: {\r\n        plural: 'hours',\r\n        singular: 'hour'\r\n    },\r\n    [ETimeFormat.MINUTES]: {\r\n        plural: 'minutes',\r\n        singular: 'minute'\r\n    }\r\n};\r\nconst TimeFormatMultiplier = {\r\n    [ETimeFormat.DAYS]: 60 * 60 * 24,\r\n    [ETimeFormat.HOURS]: 60 * 60,\r\n    [ETimeFormat.MINUTES]: 60,\r\n};\r\nconst calculateTime = (time, timeFormat) => time * TimeFormatMultiplier[timeFormat];\r\nconst useTimeOptions = (count) => {\r\n    const t = useT('security_SessionManagement');\r\n    return react.exports.useMemo(() => Object.values(ETimeFormat).map((time) => ({ label: t(TimeFormatLocalizedTitles[time][count > 1 ? 'plural' : 'singular']), value: time })), [t, count]);\r\n};\r\nconst getTimeAndFormat = (timeInSeconds) => {\r\n    for (const format of Object.values(ETimeFormat)) {\r\n        if (timeInSeconds % TimeFormatMultiplier[format] === 0) {\r\n            return { timeout: timeInSeconds / TimeFormatMultiplier[format], timeFormat: format };\r\n        }\r\n    }\r\n    return { timeout: timeInSeconds / TimeFormatMultiplier[ETimeFormat.MINUTES], timeFormat: ETimeFormat.MINUTES };\r\n};\r\nconst sessionManagementFormValidation = (t) => {\r\n    return create$1({\r\n        sessionTimeoutConfiguration: create$1().shape({\r\n            timeout: create$2().typeError(t('sessionTimeoutErrorMessage')).test('test calculated value', t('sessionTimeoutErrorMessage'), (_, { parent }) => {\r\n                return TimeFormatMultiplier[parent.timeFormat] * parent.timeout >= (60 * 60 * 24); // 1 day in secs\r\n            })\r\n        }),\r\n        sessionIdleTimeoutConfiguration: create$1().shape({\r\n            timeout: create$2().typeError(t('idleSessionTimeoutErrorMessage')).test('test calculated value', t('idleSessionTimeoutErrorMessage'), (_, { parent }) => {\r\n                return TimeFormatMultiplier[parent.timeFormat] * parent.timeout >= (60 * 5); // 5 minutes in secs\r\n            })\r\n        }),\r\n        sessionConcurrentConfiguration: create$1().shape({\r\n            maxSessions: validateNumber(t('concurrentSessionsTimeoutErrorMessage'), t('concurrentSessionsTimeoutErrorMessage')).min(1, t('concurrentSessionsTimeoutErrorMessage')),\r\n        })\r\n    });\r\n};\n\nconst ConfirmDialogBody = ({ error, description, loading, onConfirm, onClose, confirmButtonText, cancelButtonText }) => {\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(Dialog$1.Body, null,\r\n            React.createElement(Typography$1, { variant: \"subtitle2Light\" }, description),\r\n            React.createElement(FormErrorDialogMessage, { message: error })),\r\n        React.createElement(Dialog$1.Footer, null,\r\n            React.createElement(Box, { flex: 1 }),\r\n            cancelButtonText &&\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancel-btn\", color: \"inherit\", variant: \"text\", onClick: onClose }, cancelButtonText),\r\n            React.createElement(Button$1, { \"data-test-id\": \"delete-btn\", loading: loading, color: \"primary\", onClick: onConfirm }, confirmButtonText))));\r\n};\r\nconst ConfirmDialog = (_a) => {\r\n    var { onClose, title, open, dataTestId } = _a, props = __rest(_a, [\"onClose\", \"title\", \"open\", \"dataTestId\"]);\r\n    const { injector } = useShadowDom();\r\n    return (React.createElement(Dialog$1, { dataTestId: dataTestId, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, open: open, onClose: onClose, title: title },\r\n        React.createElement(ConfirmDialogBody, Object.assign({}, props, { onClose: onClose }))));\r\n};\n\nconst EnforceSessionPolicyDialog = ({ onClose, open, onConfirm }) => {\r\n    const t = useT('security_SessionManagementDialog');\r\n    const [submitted, setSubmitted] = react.exports.useState(false);\r\n    const { loading, error } = useSessionsPolicyState();\r\n    react.exports.useEffect(() => {\r\n        if (submitted && !error && !loading) {\r\n            onClose();\r\n        }\r\n    }, [submitted, error, loading, onClose]);\r\n    const handleConfirm = react.exports.useCallback(() => {\r\n        setSubmitted(true);\r\n        onConfirm();\r\n    }, [onConfirm, setSubmitted]);\r\n    return (React.createElement(ConfirmDialog, { dataTestId: 'confirm_timeout_dialog', title: t('title'), confirmButtonText: t('confirm'), cancelButtonText: t('cancel'), description: t('description'), open: open, error: error, onClose: onClose, loading: !!loading, onConfirm: handleConfirm }));\r\n};\n\nconst RowSkeleton$1 = () => React.createElement(Skeleton, { height: 120, width: '100%' });\r\nconst SessionsSettingsListSkeleton = () => {\r\n    const t = useT('security_SessionManagement');\r\n    return React.createElement(Grid, { container: true, direction: 'column' },\r\n        React.createElement(Typography$1, { mt: 2, variant: 'subtitle1' }, t('sectionTitle')),\r\n        React.createElement(RowSkeleton$1, null),\r\n        React.createElement(RowSkeleton$1, null),\r\n        React.createElement(RowSkeleton$1, null));\r\n};\n\nconst ConfigBox = styled(Box)(({ theme }) => ({\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'baseline',\r\n    justifyContent: 'flex-start',\r\n    gap: theme.spacing(4),\r\n    padding: theme.spacing(0, 9, 4, 9),\r\n}));\r\nconst ErrorBox = styled(Box)(({ theme }) => ({\r\n    padding: theme.spacing(0, 9, 2, 9),\r\n    marginTop: theme.spacing(-3),\r\n}));\r\nconst TimeoutInput = styled(Input$1$1)(() => ({\r\n    width: '6rem',\r\n    margin: 0\r\n}));\r\nconst TimeFormatSelect = styled(Select$1$1)(() => ({\r\n    width: '12rem',\r\n}));\r\nconst ConfigBoxWrapper = ({ FormComponent, errorMessage, showError }) => {\r\n    return React.createElement(Grid, { container: true, display: 'flex', flexDirection: 'column' },\r\n        React.createElement(Grid, { item: true },\r\n            React.createElement(ConfigBox, null, FormComponent)),\r\n        showError &&\r\n            React.createElement(Grid, { item: true },\r\n                React.createElement(ErrorBox, null,\r\n                    React.createElement(FormHelperText, { error: true }, errorMessage))));\r\n};\r\nconst SessionTimeoutConfigurationRow = ({ configKey, disabled }) => {\r\n    const { injector } = useShadowDom();\r\n    const [timeFormatFieldProps, { value: timeFormatFieldValue }] = useField(`${configKey}.timeFormat`);\r\n    const [timeoutFieldProps, { value: timeoutFieldValue, error, touched }, { setValue: setTimeoutValue, setTouched: setTimeoutTouched }] = useField(`${configKey}.timeout`);\r\n    const [, { value: fieldValue }, { setValue: setFieldValues }] = useField(configKey);\r\n    const timeOptions = useTimeOptions(timeoutFieldValue);\r\n    const onTimeoutChange = react.exports.useCallback((e) => {\r\n        setTimeoutValue(e.currentTarget.value);\r\n        setTimeoutTouched(true);\r\n    }, [setTimeoutValue, setTimeoutTouched, timeFormatFieldValue]);\r\n    const onTimeFormatChange = react.exports.useCallback((newFormat) => {\r\n        setFieldValues(Object.assign(Object.assign({}, fieldValue), { timeFormat: newFormat }));\r\n        setTimeoutTouched(true);\r\n    }, [setFieldValues, setTimeoutTouched, fieldValue]);\r\n    return React.createElement(ConfigBoxWrapper, { FormComponent: React.createElement(React.Fragment, null,\r\n            React.createElement(TimeoutInput, Object.assign({}, timeoutFieldProps, { error: !!error && touched, onChange: onTimeoutChange, disabled: disabled, \"data-test-id\": `${configKey}_timeout_input` })),\r\n            React.createElement(TimeFormatSelect, Object.assign({}, timeFormatFieldProps, { sx: { margin: 0 }, onChange: onTimeFormatChange, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, options: timeOptions, disabled: disabled, \"data-test-id\": `${configKey}_timeformat_input` }))), showError: (!!error && touched), errorMessage: error });\r\n};\r\nconst SessionConcurrentConfigurationRow = ({ disabled }) => {\r\n    const [maxSessionFieldProps, { error, touched }, { setValue: setMaxSessions }] = useField(`sessionConcurrentConfiguration.maxSessions`);\r\n    const onMaxSessionsChange = react.exports.useCallback((e) => {\r\n        const formValue = Number(e.currentTarget.value);\r\n        setMaxSessions(formValue, true);\r\n    }, [setMaxSessions]);\r\n    return React.createElement(ConfigBoxWrapper, { FormComponent: React.createElement(TimeoutInput, Object.assign({}, maxSessionFieldProps, { disabled: disabled, onChange: onMaxSessionsChange })), showError: (!!error && touched), errorMessage: error });\r\n};\r\nconst defaultValues = {\r\n    sessionConcurrentConfiguration: {\r\n        isActive: false,\r\n        maxSessions: 10,\r\n    },\r\n    sessionIdleTimeoutConfiguration: {\r\n        isActive: false,\r\n        timeout: 5,\r\n        timeFormat: ETimeFormat.MINUTES,\r\n    },\r\n    sessionTimeoutConfiguration: {\r\n        isActive: false,\r\n        timeout: 14,\r\n        timeFormat: ETimeFormat.DAYS,\r\n    }\r\n};\r\nconst SessionsSettingsList = () => {\r\n    const t = useT('security_SessionManagement');\r\n    const [, { value: isSessionTimeoutActive }, { setValue: setSessionTimeoutToggled, setTouched: setSessionTimeoutToggleTouched }] = useField('sessionTimeoutConfiguration.isActive');\r\n    const [, { value: isIdleSessionTimeoutActive }, { setValue: setIdleTimeoutToggled, setTouched: setIdleTimeoutToggleTouched }] = useField('sessionIdleTimeoutConfiguration.isActive');\r\n    const [, { value: isConcurrentSessionActive }, { setValue: setConcurrentSessionToggled, setTouched: setConcurrentSessionToggleTouched }] = useField('sessionConcurrentConfiguration.isActive');\r\n    const { loading } = useSessionPolicySettings();\r\n    const { isSubmitting, isValid, dirty } = useFormikContext();\r\n    const haveSecurityPolicyWritePermission = usePermission('fe.secure.write.securityPolicy');\r\n    const isSaveButtonDisabled = react.exports.useMemo(() => !haveSecurityPolicyWritePermission ||\r\n        isSubmitting ||\r\n        loading ||\r\n        !isValid ||\r\n        !dirty, [isSubmitting, loading, isValid, dirty, haveSecurityPolicyWritePermission]);\r\n    const onTimeoutToggle = react.exports.useCallback((_, toggled) => {\r\n        setSessionTimeoutToggled(toggled);\r\n        setSessionTimeoutToggleTouched(true);\r\n    }, [setSessionTimeoutToggled, setSessionTimeoutToggleTouched]);\r\n    const onIdleToggle = react.exports.useCallback((_, toggled) => {\r\n        setIdleTimeoutToggled(toggled);\r\n        setIdleTimeoutToggleTouched(true);\r\n    }, [setIdleTimeoutToggled, setIdleTimeoutToggleTouched]);\r\n    const onConcurrentToggle = react.exports.useCallback((_, toggled) => {\r\n        setConcurrentSessionToggled(toggled);\r\n        setConcurrentSessionToggleTouched(true);\r\n    }, [setConcurrentSessionToggled, setConcurrentSessionToggleTouched]);\r\n    const isFormDisabled = react.exports.useMemo(() => loading || isSubmitting || !haveSecurityPolicyWritePermission, [loading, isSubmitting, haveSecurityPolicyWritePermission]);\r\n    const expandableItems = react.exports.useMemo(() => [\r\n        {\r\n            id: 'idle-row',\r\n            title: t('idleSessionTimeoutTitle'),\r\n            description: t('idleSessionTimeoutDescription'),\r\n            actions: React.createElement(Switch$1$1, { checked: isIdleSessionTimeoutActive, onChange: onIdleToggle, disabled: isFormDisabled }),\r\n            expandedRow: {\r\n                expanded: isIdleSessionTimeoutActive,\r\n                expandableRowComponent: React.createElement(SessionTimeoutConfigurationRow, { configKey: 'sessionIdleTimeoutConfiguration', disabled: isFormDisabled })\r\n            },\r\n        },\r\n        {\r\n            id: 'timeout-row',\r\n            title: t('sessionTimeoutTitle'),\r\n            description: t('sessionTimeoutDescription'),\r\n            actions: React.createElement(Switch$1$1, { checked: isSessionTimeoutActive, onChange: onTimeoutToggle, disabled: isFormDisabled }),\r\n            expandedRow: {\r\n                expanded: isSessionTimeoutActive,\r\n                expandableRowComponent: React.createElement(SessionTimeoutConfigurationRow, { configKey: 'sessionTimeoutConfiguration', disabled: isFormDisabled })\r\n            }\r\n        },\r\n        {\r\n            id: 'concurrent-row',\r\n            title: t('concurrentSessionsTitle'),\r\n            description: t('concurrentSessionsDescription'),\r\n            actions: React.createElement(Switch$1$1, { checked: isConcurrentSessionActive, onChange: onConcurrentToggle, disabled: isFormDisabled }),\r\n            expandedRow: {\r\n                expanded: isConcurrentSessionActive,\r\n                expandableRowComponent: React.createElement(SessionConcurrentConfigurationRow, { disabled: isFormDisabled })\r\n            },\r\n        }\r\n    ], [onTimeoutToggle, onConcurrentToggle, onIdleToggle, isConcurrentSessionActive, isIdleSessionTimeoutActive, isSessionTimeoutActive, t]);\r\n    return (React.createElement(SettingsList, { title: t('sectionTitle'), expandableItems: expandableItems, action: React.createElement(Button$1$1, { \"data-test-id\": \"save-sessions-policy-btn\", color: 'primary', disabled: isSaveButtonDisabled, type: 'submit' }, t('saveButton')) }));\r\n};\r\nconst SessionsSettings = () => {\r\n    const t = useT('security_SessionManagement');\r\n    const [showConfirmPolicyDialog, handleClosePolicyDialog, handleOpenPolicyDialog] = useDialogState();\r\n    const { configurations, loading, createOrUpdateSessionsPolicy } = useSessionPolicySettings(true);\r\n    const { loadCurrentUserSession } = useSessionsActions();\r\n    const { logout } = useLoginActions();\r\n    const { currentSession } = useSessionsState();\r\n    react.exports.useEffect(() => loadCurrentUserSession(), []);\r\n    const initialValues = react.exports.useMemo(() => {\r\n        var _a, _b, _c, _d, _e, _f, _g;\r\n        const idleTimeoutCalculated = !!((_a = configurations.sessionIdleTimeoutConfiguration) === null || _a === void 0 ? void 0 : _a.timeout) && getTimeAndFormat(configurations.sessionIdleTimeoutConfiguration.timeout);\r\n        const sessionTimeoutCalculated = !!((_b = configurations.sessionTimeoutConfiguration) === null || _b === void 0 ? void 0 : _b.timeout) && getTimeAndFormat(configurations.sessionTimeoutConfiguration.timeout);\r\n        return ({\r\n            sessionIdleTimeoutConfiguration: {\r\n                isActive: !!((_c = configurations.sessionIdleTimeoutConfiguration) === null || _c === void 0 ? void 0 : _c.isActive),\r\n                timeout: idleTimeoutCalculated ? idleTimeoutCalculated.timeout : defaultValues.sessionIdleTimeoutConfiguration.timeout,\r\n                timeFormat: idleTimeoutCalculated ? idleTimeoutCalculated.timeFormat : defaultValues.sessionIdleTimeoutConfiguration.timeFormat\r\n            },\r\n            sessionTimeoutConfiguration: {\r\n                isActive: !!((_d = configurations.sessionTimeoutConfiguration) === null || _d === void 0 ? void 0 : _d.isActive),\r\n                timeout: sessionTimeoutCalculated ? sessionTimeoutCalculated.timeout : defaultValues.sessionTimeoutConfiguration.timeout,\r\n                timeFormat: sessionTimeoutCalculated ? sessionTimeoutCalculated.timeFormat : defaultValues.sessionTimeoutConfiguration.timeFormat\r\n            },\r\n            sessionConcurrentConfiguration: {\r\n                isActive: !!((_e = configurations.sessionConcurrentConfiguration) === null || _e === void 0 ? void 0 : _e.isActive),\r\n                maxSessions: (_g = (_f = configurations.sessionConcurrentConfiguration) === null || _f === void 0 ? void 0 : _f.maxSessions) !== null && _g !== void 0 ? _g : defaultValues.sessionConcurrentConfiguration.maxSessions\r\n            },\r\n        });\r\n    }, [configurations]);\r\n    const submitForm = react.exports.useCallback((values, callback) => {\r\n        const calculatedValues = {\r\n            sessionConcurrentConfiguration: { isActive: values.sessionConcurrentConfiguration.isActive, maxSessions: values.sessionConcurrentConfiguration.maxSessions },\r\n            sessionIdleTimeoutConfiguration: { isActive: values.sessionIdleTimeoutConfiguration.isActive, timeout: calculateTime(values.sessionIdleTimeoutConfiguration.timeout, values.sessionIdleTimeoutConfiguration.timeFormat) },\r\n            sessionTimeoutConfiguration: { isActive: values.sessionTimeoutConfiguration.isActive, timeout: calculateTime(values.sessionTimeoutConfiguration.timeout, values.sessionTimeoutConfiguration.timeFormat) },\r\n        };\r\n        createOrUpdateSessionsPolicy(Object.assign(Object.assign({}, calculatedValues), { callback: callback }));\r\n    }, [createOrUpdateSessionsPolicy, logout]);\r\n    const handleSubmit = react.exports.useCallback((values, { setSubmitting, setTouched }) => {\r\n        const currentSessionWillExpireDate = (currentSession === null || currentSession === void 0 ? void 0 : currentSession.createdAt) && new Date(new Date(currentSession.createdAt).getTime() + (calculateTime(values.sessionTimeoutConfiguration.timeout * 1000, values.sessionTimeoutConfiguration.timeFormat)));\r\n        const willSessionExpireAfterConfirm = currentSessionWillExpireDate && currentSessionWillExpireDate < new Date(Date.now());\r\n        if (willSessionExpireAfterConfirm) {\r\n            handleOpenPolicyDialog();\r\n        }\r\n        else {\r\n            submitForm(values, () => {\r\n                setTouched({});\r\n                setSubmitting(false);\r\n            });\r\n        }\r\n    }, [currentSession, submitForm, handleOpenPolicyDialog]);\r\n    const validationSchema = react.exports.useCallback(() => sessionManagementFormValidation(t), [t]);\r\n    return (React.createElement(Formik, { enableReinitialize: true, initialValues: initialValues, onSubmit: handleSubmit, validationSchema: validationSchema }, ({ values, setSubmitting, submitCount }) => loading && submitCount === 0 ? React.createElement(SessionsSettingsListSkeleton, null) : React.createElement(React.Fragment, null,\r\n        React.createElement(Form, null,\r\n            React.createElement(SessionsSettingsList, null)),\r\n        React.createElement(EnforceSessionPolicyDialog, { onClose: () => {\r\n                handleClosePolicyDialog();\r\n                setSubmitting(false);\r\n            }, onConfirm: () => {\r\n                submitForm(values, () => logout());\r\n            }, open: showConfirmPolicyDialog }))));\r\n};\r\nvar SessionsSettingsList$1 = SessionsSettings;\n\nconst SecurityPage$1 = () => {\r\n    return React.createElement(PageWrapper, { flex: 1, display: 'flex', flexDirection: 'column' },\r\n        React.createElement(Box, { display: 'flex', flexDirection: 'column' },\r\n            React.createElement(BasicSettingsList$1, null)),\r\n        React.createElement(Box, { mt: 6, display: 'flex', flexDirection: 'column' },\r\n            React.createElement(SessionsSettingsList$1, null)));\r\n};\r\nvar SecurityPage$2 = SecurityPage$1;\n\nvar SecurityPage = wrapPage(SecurityPage$2, 'security');\n\nconst SsoHeader = ({ handleOpenNewConfiguration }) => {\r\n    const t = useT('sso_Header');\r\n    const canCreateNewConfiguration = usePermission('fe.secure.write.samlConfiguration');\r\n    return React.createElement(Grid, { container: true, spacing: 4, alignItems: 'center' },\r\n        React.createElement(Grid, { item: true, xs: 12, sm: 6, md: 4 },\r\n            React.createElement(Box, null, t('title'))),\r\n        React.createElement(Grid, { item: true, xs: true }),\r\n        canCreateNewConfiguration && React.createElement(Grid, { item: true },\r\n            React.createElement(Button$1, { \"data-test-id\": \"CreateNewSsoConfigBtn\", onClick: handleOpenNewConfiguration }, t('addNew'))));\r\n};\n\nvar SamlVendors;\r\n(function (SamlVendors) {\r\n    SamlVendors[\"Saml\"] = \"saml\";\r\n    SamlVendors[\"Oidc\"] = \"oidc\";\r\n})(SamlVendors || (SamlVendors = {}));\r\nvar ConfigSaml;\r\n(function (ConfigSaml) {\r\n    ConfigSaml[\"manual\"] = \"manual\";\r\n    ConfigSaml[\"auto\"] = \"auto\";\r\n})(ConfigSaml || (ConfigSaml = {}));\r\nconst IDPS = [\r\n    { value: SamlVendors.Saml, label: 'SAML' },\r\n    { value: SamlVendors.Oidc, label: 'Open ID Connect' },\r\n];\r\nconst defaultSamlVendor = SamlVendors.Saml;\n\nconst SsoTableColumns = ({ onChangeStatus, rolesMap, container, t, hasWritePermission, forcePermissions, showConfigureSSOMessage }) => {\r\n    return [\r\n        {\r\n            Header: t('domainsColumnName'),\r\n            Cell: TableTextCell,\r\n            accessor: ({ domains }) => ({ description: domains === null || domains === void 0 ? void 0 : domains.map(({ domain }) => domain).join(', ') }),\r\n            minWidth: forcePermissions ? 280 : 180\r\n        },\r\n        {\r\n            Header: t('idpColumnName'),\r\n            Cell: TableTextCell,\r\n            accessor: ({ type }) => { var _a; return ({ description: (_a = IDPS.find((idp) => idp.value === type)) === null || _a === void 0 ? void 0 : _a.label }); },\r\n        },\r\n        forcePermissions && {\r\n            Header: t('rolesColumnName'),\r\n            Cell: TableChipsCell,\r\n            accessor: ({ roleIds }) => { var _a; return ({ items: (_a = roleIds === null || roleIds === void 0 ? void 0 : roleIds.map((v) => ({ text: rolesMap[v] }))) !== null && _a !== void 0 ? _a : [], max: 2, container }); },\r\n            minWidth: 280\r\n        },\r\n        {\r\n            id: 'status',\r\n            Header: t('statusColumnName'),\r\n            Cell: TableSwitchCellLeft,\r\n            accessor: (ssoConfig) => {\r\n                const isStep1Checked = !!ssoConfig.publicCertificate || !!ssoConfig.oidcClientId;\r\n                const isStep2Checked = ssoConfig.domains.some(({ validated }) => validated);\r\n                const isStep3Checked = !!ssoConfig.roleIds.length;\r\n                const canEnableDisableSSO = hasWritePermission && isStep1Checked && isStep2Checked && (isStep3Checked || !forcePermissions);\r\n                return {\r\n                    checked: canEnableDisableSSO && ssoConfig.enabled,\r\n                    onChange: () => {\r\n                        if (canEnableDisableSSO) {\r\n                            onChangeStatus(ssoConfig);\r\n                        }\r\n                        else {\r\n                            showConfigureSSOMessage();\r\n                        }\r\n                    }\r\n                };\r\n            },\r\n            maxWidth: 100,\r\n            minWidth: 100,\r\n        },\r\n    ].filter(notNull);\r\n};\r\nconst useSSOTableRowActions = ({ container, handleOpenDeleteConfig, handleOpenEditConfig, hasWritePermission, hasDeletePermission, }) => {\r\n    const t = useT('sso_Table');\r\n    return react.exports.useMemo(() => (row) => {\r\n        const items = [];\r\n        const handleEditConfig = () => {\r\n            handleOpenEditConfig(row);\r\n        };\r\n        const handleDeleteConfig = () => {\r\n            handleOpenDeleteConfig(row);\r\n        };\r\n        if (hasWritePermission) {\r\n            items.push({\r\n                text: t('editSSOConfig'),\r\n                onClick: handleEditConfig,\r\n                icon: React.createElement(EditIcon, { \"data-test-id\": 'editBtn' }),\r\n            });\r\n        }\r\n        if (hasDeletePermission) {\r\n            items.push({\r\n                negative: true,\r\n                text: t('deleteSSOConfig'),\r\n                onClick: handleDeleteConfig,\r\n                icon: React.createElement(DeleteIcon, { \"data-test-id\": 'deleteBtn' }),\r\n            });\r\n        }\r\n        return { items, container };\r\n    }, [container, handleOpenDeleteConfig, handleOpenEditConfig, hasDeletePermission, hasWritePermission, t]);\r\n};\n\nconst DeleteSSOConfigurationForm = ({ onClose, ssoConfig }) => {\r\n    const t = useT('sso_Table');\r\n    const { deleteSSOConfiguration } = useSSOActions();\r\n    const { loaders: { DELETE_SSO_CONFIGURATION: loading }, errors: { DELETE_SSO_CONFIGURATION: error } } = useSSOState();\r\n    const handleDeleteSSOConfig = react.exports.useCallback(() => {\r\n        const callback = (success) => {\r\n            if (success) {\r\n                onClose();\r\n            }\r\n        };\r\n        deleteSSOConfiguration({ ssoConfigId: ssoConfig.id, callback });\r\n    }, [deleteSSOConfiguration, onClose]);\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(Dialog$1.Body, null,\r\n            React.createElement(Typography$1, { variant: 'subtitle2Light' }, t('areYouSureDeleteSSOConfig')),\r\n            React.createElement(FormErrorDialogMessage, { message: error })),\r\n        React.createElement(Dialog$1.Footer, null,\r\n            React.createElement(Box, { flex: 1 }),\r\n            React.createElement(Button$1, { \"data-test-id\": \"cancelBtn\", color: \"inherit\", variant: \"text\", onClick: onClose }, t('cancel')),\r\n            React.createElement(Button$1, { \"data-test-id\": \"deleteBtn\", loading: loading, color: \"danger\", onClick: handleDeleteSSOConfig }, t('deleteSSOConfig')))));\r\n};\r\nconst DeleteSSOConfigurationDialog = (_a) => {\r\n    var { ssoConfig } = _a, props = __rest(_a, [\"ssoConfig\"]);\r\n    const { injector } = useShadowDom();\r\n    const t = useT('sso_Table');\r\n    return (React.createElement(Dialog$1, Object.assign({ container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { title: t('deleteSSOConfigTitle') }),\r\n        React.createElement(DeleteSSOConfigurationForm, Object.assign({ ssoConfig: ssoConfig }, props))));\r\n};\n\nconst SSODialogContext = react.exports.createContext({\r\n    stepNumber: 0,\r\n    handleClose: () => { },\r\n    handleOpen: () => { },\r\n    handleNextStep: () => { },\r\n    handlePrevStep: () => { },\r\n    currentSSOConfiguration: {},\r\n    setCurrentSSOConfigurationId: (id) => { },\r\n    isFirstStep: true,\r\n    isLastStep: false,\r\n    steps: []\r\n});\r\nconst useSSODialog = () => react.exports.useContext(SSODialogContext);\r\nconst SSODialogProvider = ({ children, steps, handleClose, handleOpen, initialSSOConfigurationId }) => {\r\n    const [stepNumber, setStepNumber] = react.exports.useState(0);\r\n    const [currentSSOConfigurationId, setCurrentSSOConfigurationId] = react.exports.useState(initialSSOConfigurationId);\r\n    const { ssoConfigurations } = useSSOState();\r\n    const { isLastStep, isFirstStep } = react.exports.useMemo(() => ({ isLastStep: stepNumber === steps.length - 1, isFirstStep: stepNumber === 0 }), [stepNumber, steps]);\r\n    const handleNextStep = react.exports.useCallback(() => {\r\n        if (!isLastStep) {\r\n            setStepNumber((step) => step + 1);\r\n        }\r\n        else {\r\n            handleClose();\r\n        }\r\n    }, [setStepNumber, isLastStep]);\r\n    const handlePrevStep = react.exports.useCallback(() => {\r\n        if (!isFirstStep) {\r\n            setStepNumber((step) => step - 1);\r\n        }\r\n        else {\r\n            handleClose();\r\n        }\r\n    }, [setStepNumber, isFirstStep]);\r\n    return (React.createElement(SSODialogContext.Provider, { value: react.exports.useMemo(() => ({\r\n            stepNumber,\r\n            handleClose,\r\n            handleOpen,\r\n            handlePrevStep,\r\n            handleNextStep,\r\n            currentSSOConfiguration: ssoConfigurations.find((config) => config.id === currentSSOConfigurationId),\r\n            setCurrentSSOConfigurationId,\r\n            isFirstStep,\r\n            isLastStep,\r\n            steps,\r\n        }), [\r\n            setCurrentSSOConfigurationId,\r\n            stepNumber,\r\n            handleClose,\r\n            handleOpen,\r\n            handlePrevStep,\r\n            handleNextStep,\r\n            setStepNumber,\r\n            currentSSOConfigurationId,\r\n            ssoConfigurations,\r\n            isFirstStep,\r\n            isLastStep,\r\n            steps,\r\n        ]) }, children));\r\n};\n\nconst ssoConfigureIdpFormValidation = ({ t }) => {\r\n    return create$1().shape({\r\n        configFile: create$3().when('samlVendor', {\r\n            is: SamlVendors.Saml,\r\n            then: create$3().when('configSaml', { is: 'auto', then: validateFile(t('metadataFileIsRequired')) }),\r\n        }),\r\n        ssoEndpoint: create$3().when('configSaml', {\r\n            is: 'manual',\r\n            then: create$3().when('samlVendor', {\r\n                is: SamlVendors.Saml,\r\n                then: validateUrl(t('endpointIsRequired'), t('endpointUrlIsInvalid')),\r\n                otherwise: validateUrl(t('issuerUrlIsRequired'), t('issuerUrlIsInvalid')),\r\n            }),\r\n        }),\r\n        publicCertificate: create$3().when('configSaml', {\r\n            is: 'manual',\r\n            then: create$3().when('samlVendor', {\r\n                is: SamlVendors.Saml,\r\n                then: validateNotEmpty(t('publicCertificateIsRequired')),\r\n            }),\r\n        }),\r\n        oidcClientId: create$3().when('configSaml', {\r\n            is: 'manual',\r\n            then: create$3().when('samlVendor', {\r\n                is: SamlVendors.Oidc,\r\n                then: validateNotEmpty(t('clientIdIsRequired')),\r\n            }),\r\n        }),\r\n        oidcSecret: create$3().when('configSaml', {\r\n            is: 'manual',\r\n            then: create$3().when('samlVendor', {\r\n                is: SamlVendors.Oidc,\r\n                then: validateNotEmpty(t('secretIsRequired')),\r\n            }),\r\n        }),\r\n    });\r\n};\r\nconst ssoManageAuthorizationValidation = (t) => {\r\n    return create$1().shape({\r\n        roleIds: create().min(1, t('rolesIsRequired')),\r\n        rolesGroups: create().of(create$1().shape({ group: create$4().required(), roleIds: create().of(create$4()).min(1) })),\r\n        addedGroups: create().of(create$1().shape({ group: create$4().required(), roleIds: create().of(create$4()).min(1) })),\r\n    });\r\n};\n\nconst SsoFooter = (props) => {\r\n    const t = useT('sso_Table');\r\n    const { isValid, isSubmitting, onCancel, onNext, showSkipButton, onSkip, approveButtonText } = props;\r\n    const { handlePrevStep, isFirstStep, isLastStep } = useSSODialog();\r\n    const handleCancelButton = react.exports.useCallback(() => {\r\n        if (onCancel) {\r\n            onCancel();\r\n        }\r\n        else {\r\n            handlePrevStep();\r\n        }\r\n    }, [onCancel, handlePrevStep]);\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(Button$1, { \"data-test-id\": \"cancelBtn\", color: \"inherit\", variant: \"text\", type: \"reset\", onClick: handleCancelButton }, isFirstStep ? t('cancel') : t('back')),\r\n        React.createElement(Box, { flex: 1 }),\r\n        React.createElement(Box, { display: 'flex' },\r\n            showSkipButton && React.createElement(Button$1, { \"data-test-id\": 'skipBtn', onClick: onSkip, color: 'inherit', variant: \"text\" }, t('skip')),\r\n            React.createElement(Button$1, { \"data-test-id\": 'approveBtn', disabled: !isValid, loading: isSubmitting, color: \"primary\", type: \"submit\", onClick: onNext }, approveButtonText !== null && approveButtonText !== void 0 ? approveButtonText : (isLastStep ? t('done') : t('proceed')))));\r\n};\n\nconst useValidateWellKnownDebounced = ({ value, setError }) => {\r\n    const t = useT('sso_ConfigureIdp');\r\n    const debouncedValue = useDebounce(value, 500);\r\n    const wellKnownError = t('ssoWellKnownError');\r\n    useAsyncEffect(() => {\r\n        if (!value) {\r\n            setError(t('issuerUrlIsRequired'));\r\n        }\r\n        else {\r\n            setError(wellKnownError);\r\n        }\r\n    }, [value, setError, wellKnownError, t]);\r\n    react.exports.useEffect(() => {\r\n        const controller = new AbortController();\r\n        const abortSignal = controller.signal;\r\n        if (debouncedValue) {\r\n            validateWellKnown(debouncedValue, abortSignal).then((verified) => setError(verified ? '' : wellKnownError));\r\n        }\r\n        return () => controller.abort();\r\n        // eslint-disable-next-line\r\n    }, [debouncedValue]);\r\n};\r\nconst IssuerUrlInput = styled(Input$1$1) `\n  .MuiInputBase-adornedEnd {\n    .MuiSvgIcon-root {\n      ${({ theme, error }) => error && `color: ${theme.palette.error.main}`};\n      ${({ theme, success }) => success && `color: ${theme.palette.success.main}`};\n    }\n  }\n`;\r\nconst AcsUrlField = () => {\r\n    const t = useT('sso_ConfigureIdp');\r\n    const [fieldProps, { error, touched }] = useField('acsUrl');\r\n    return React.createElement(Input$1$1, Object.assign({ label: t('acsUrlInputLabel') }, fieldProps, { errorMessage: error, error: !!error && touched, disabled: true }));\r\n};\r\nconst EntityIdField = () => {\r\n    const t = useT('sso_ConfigureIdp');\r\n    const [fieldProps, { error, touched }] = useField('spEntityId');\r\n    return React.createElement(Input$1$1, Object.assign({ label: t('entityIdInputLabel') }, fieldProps, { errorMessage: error, error: !!error && touched, disabled: true }));\r\n};\r\nconst SsoEndpointField = () => {\r\n    const t = useT('sso_ConfigureIdp');\r\n    const [fieldProps, { error, touched }] = useField('ssoEndpoint');\r\n    return (React.createElement(Input$1$1, Object.assign({ \"data-tets-id\": \"ssoEndPointBox\", label: t('endpointInputLabel') }, fieldProps, { errorMessage: error, error: !!error && touched, placeholder: t('endpointInputPlaceholder') })));\r\n};\r\nconst IssuerUrlField = ({ setError, error }) => {\r\n    const [fieldProps, { touched, error: formikError }] = useField({ name: 'ssoEndpoint' });\r\n    const t = useT('sso_ConfigureIdp');\r\n    useValidateWellKnownDebounced({ setError, value: fieldProps.value });\r\n    return React.createElement(IssuerUrlInput, Object.assign({ \"data-test-id\": \"issuerUrlBox\", endAdornment: touched && (!!error) ? React.createElement(CheckCircleFilledIcon, null) : React.createElement(WarningIcon, null), label: t('issuerUrlInputLabel'), errorMessage: (touched && formikError) || error, error: !!((touched && formikError) || error), success: !(formikError || error), tip: t('issuerUrlInputHelpMessage') }, fieldProps));\r\n};\r\nconst RedirectUriField = () => {\r\n    var _a;\r\n    const t = useT('sso_ConfigureIdp');\r\n    const { oidcRedirectUrl } = useAuthRoutes();\r\n    const { origin } = window.location;\r\n    const defaultRedirectUri = `${origin}${oidcRedirectUrl}`;\r\n    const { oidcConfiguration } = useSSOState();\r\n    return React.createElement(Input$1$1, { label: t('redirectUriInputLabel'), value: (_a = oidcConfiguration === null || oidcConfiguration === void 0 ? void 0 : oidcConfiguration.redirectUri) !== null && _a !== void 0 ? _a : defaultRedirectUri, disabled: true });\r\n};\r\nconst OidcClientIdField = () => {\r\n    const t = useT('sso_ConfigureIdp');\r\n    const [fieldProps, { error, touched }] = useField('oidcClientId');\r\n    return (React.createElement(Input$1$1, Object.assign({ \"data-test-id\": \"clientIDBox\", label: t('clientIdInputLabel') }, fieldProps, { errorMessage: error, error: !!error && touched, placeholder: t('clientIdInputPlaceholder') })));\r\n};\r\nconst PublicSertificateField = () => {\r\n    const t = useT('sso_ConfigureIdp');\r\n    const [fieldProps, { error, touched }] = useField('publicCertificate');\r\n    return (React.createElement(Input$1$1, Object.assign({ \"data-tets-id\": \"publicCertificateBox\", multiline: true, rows: 4, label: t('publicCertificateInputLabel') }, fieldProps, { errorMessage: error, error: !!error && touched, placeholder: t('publicCertificateInputPlaceholder') })));\r\n};\r\nconst OidcSecretField = () => {\r\n    const t = useT('sso_ConfigureIdp');\r\n    const [fieldProps, { error, touched }] = useField('oidcSecret');\r\n    return (React.createElement(InputPassword$1, Object.assign({ \"data-test-id\": \"secretBox\", label: t('secretInputLabel') }, fieldProps, { errorMessage: error, error: !!error && touched, placeholder: t('secretInputPlaceholder') })));\r\n};\r\nconst IdpField = () => {\r\n    const t = useT('sso_ConfigureIdp');\r\n    const { injector } = useShadowDom();\r\n    const [fieldProps, { error, touched }, { setValue }] = useField('samlVendor');\r\n    const [, , { setValue: setConfigSaml }] = useField('configSaml');\r\n    const handleOnChange = react.exports.useCallback((value) => {\r\n        setValue(value, true);\r\n        setConfigSaml(ConfigSaml.manual);\r\n    }, [setValue, setConfigSaml]);\r\n    return (React.createElement(Select$1$1, { \"data-test-id\": \"ssoSelectIdpDrop\", label: t('idpSelectLabel'), name: fieldProps.name, value: fieldProps.value, onChange: handleOnChange, errorMessage: touched ? error : undefined, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, options: IDPS }));\r\n};\r\nconst ConfigSamlField = () => {\r\n    const t = useT('sso_ConfigureIdp');\r\n    const [fieldProps, , { setValue }] = useField('configSaml');\r\n    const handleSetValue = react.exports.useCallback(() => {\r\n        const value = fieldProps.value === ConfigSaml.manual ? ConfigSaml.auto : ConfigSaml.manual;\r\n        setValue(value);\r\n    }, [fieldProps, setValue]);\r\n    return React.createElement(Box, { mb: 4 },\r\n        React.createElement(RadioGroup, { row: true, defaultValue: \"manual\", onChange: handleSetValue },\r\n            React.createElement(FormControlLabel, { \"data-test-id\": \"autoBtn\", value: \"auto\", control: React.createElement(Radio, null), label: t('radioAutomaticLabel') }),\r\n            React.createElement(FormControlLabel, { \"data-test-id\": \"menualBtn\", value: \"manual\", control: React.createElement(Radio, null), label: t('radioManualLabel') })));\r\n};\r\nconst DropZoneField = () => {\r\n    const t = useT('sso_ConfigureIdp');\r\n    const [fieldProps, { error, touched }, { setValue, setError, setTouched }] = useField('configFile');\r\n    const handleSetValue = react.exports.useCallback((files) => {\r\n        setTouched(true);\r\n        if (!files.length) {\r\n            setError(t('metadataFileTypeErrorMessage'));\r\n        }\r\n        else {\r\n            setError(null);\r\n            setValue(files);\r\n        }\r\n    }, [setValue]);\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(Box, { \"data-test-id\": \"metadataFileBox\", marginBottom: \"8px\" },\r\n            React.createElement(Typography$1, { color: touched && !!error ? 'error' : undefined, variant: \"label\" }, t('metadataFileLabel'))),\r\n        React.createElement(DropZoneElement, { \"data-test-id\": \"metadataFileBox\", fileType: \".xml\", value: fieldProps.value, onDrop: handleSetValue, description: t('metadataFileDescription') }),\r\n        touched && !!error && React.createElement(FormErrorDialogMessage, { message: error })));\r\n};\n\nconst SsoConfigureIdpBottomInputs = React.memo(({ samlVendor, setIssuerUrlError, issuerUrlError }) => {\r\n    return (samlVendor === SamlVendors.Oidc ? (React.createElement(React.Fragment, null,\r\n        React.createElement(IssuerUrlField, { error: issuerUrlError, setError: setIssuerUrlError }),\r\n        React.createElement(OidcClientIdField, null),\r\n        React.createElement(OidcSecretField, null),\r\n        React.createElement(RedirectUriField, null))) : (React.createElement(React.Fragment, null,\r\n        React.createElement(SsoEndpointField, null),\r\n        React.createElement(PublicSertificateField, null))));\r\n});\r\nconst SsoConfigureIdpForm = () => {\r\n    const t = useT('sso_ConfigureIdp');\r\n    const { saveSSOConfigurationV2, updateSSOConfiguration, saveSSOConfigurationByMetadata, updateSSOConfigurationByMetadata } = useSSOActions();\r\n    const { currentSSOConfiguration, setCurrentSSOConfigurationId, handleNextStep } = useSSODialog();\r\n    const { samlMetadata } = useSSOState();\r\n    const [issuerUrlError, setIssuerUrlError] = react.exports.useState('');\r\n    const initialSamlVendor = react.exports.useMemo(() => Object.values(SamlVendors).includes(currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.type)\r\n        ? currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.type\r\n        : defaultSamlVendor, [currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.type]);\r\n    const validationSchema = react.exports.useMemo(() => ssoConfigureIdpFormValidation({ t }), [t]);\r\n    const initialValues = react.exports.useMemo(() => {\r\n        var _a, _b, _c, _d;\r\n        return (Object.assign(Object.assign({ samlVendor: initialSamlVendor, configFile: undefined, configSaml: ConfigSaml.manual }, currentSSOConfiguration), { acsUrl: (_a = currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.acsUrl) !== null && _a !== void 0 ? _a : (_b = samlMetadata === null || samlMetadata === void 0 ? void 0 : samlMetadata.configuration) === null || _b === void 0 ? void 0 : _b.acsUrl, spEntityId: (_c = currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.spEntityId) !== null && _c !== void 0 ? _c : (_d = samlMetadata === null || samlMetadata === void 0 ? void 0 : samlMetadata.configuration) === null || _d === void 0 ? void 0 : _d.spEntityId }));\r\n    }, [currentSSOConfiguration, samlMetadata, initialSamlVendor]);\r\n    const formikProps = {\r\n        onSubmit: (values) => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, reject, (data) => {\r\n                setCurrentSSOConfigurationId(data.id);\r\n                handleNextStep();\r\n            });\r\n            const isEditMode = !!currentSSOConfiguration;\r\n            const { samlVendor, configSaml } = values;\r\n            const isOidcConfiguration = samlVendor === SamlVendors.Oidc;\r\n            if (configSaml === 'auto' && !isOidcConfiguration) {\r\n                const payload = { configFile: values.configFile[0], callback };\r\n                if (isEditMode) {\r\n                    updateSSOConfigurationByMetadata(Object.assign({ ssoConfigId: currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.id }, payload));\r\n                }\r\n                else {\r\n                    saveSSOConfigurationByMetadata(payload);\r\n                }\r\n            }\r\n            else {\r\n                const { ssoEndpoint, publicCertificate, oidcClientId, oidcSecret } = values;\r\n                const payload = {\r\n                    ssoEndpoint,\r\n                    type: samlVendor,\r\n                    publicCertificate: isOidcConfiguration ? undefined : publicCertificate,\r\n                    oidcClientId: isOidcConfiguration ? oidcClientId : undefined,\r\n                    oidcSecret: isOidcConfiguration ? oidcSecret : undefined,\r\n                    callback\r\n                };\r\n                if (isEditMode) {\r\n                    updateSSOConfiguration(Object.assign(Object.assign({}, payload), { ssoConfigId: currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.id }));\r\n                }\r\n                else {\r\n                    saveSSOConfigurationV2(Object.assign(Object.assign({}, payload), { enabled: false }));\r\n                }\r\n            }\r\n        }),\r\n        initialValues,\r\n        validationSchema,\r\n        validateOnMount: true\r\n    };\r\n    return (React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ values, isValid, formError, isSubmitting }) => {\r\n        return (React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                React.createElement(Box, null,\r\n                    React.createElement(IdpField, null),\r\n                    values.samlVendor !== SamlVendors.Oidc &&\r\n                        React.createElement(React.Fragment, null,\r\n                            React.createElement(AcsUrlField, null),\r\n                            React.createElement(EntityIdField, null),\r\n                            React.createElement(ConfigSamlField, null)),\r\n                    values.configSaml === ConfigSaml.auto && values.samlVendor === SamlVendors.Saml\r\n                        ? React.createElement(DropZoneField, null)\r\n                        : React.createElement(SsoConfigureIdpBottomInputs, { samlVendor: values.samlVendor, issuerUrlError: issuerUrlError, setIssuerUrlError: setIssuerUrlError })),\r\n                React.createElement(FormErrorDialogMessage, { message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(SsoFooter, { isValid: isValid && (values.samlVendor !== SamlVendors.Oidc || !issuerUrlError), isSubmitting: isSubmitting }))));\r\n    }));\r\n};\n\nconst DomainFields = ({ ssoDomain }) => {\r\n    const t = useT('sso_ClaimDomain');\r\n    const [fieldProps, { error, touched, value }] = useField('domain');\r\n    const { currentSSOConfiguration } = useSSODialog();\r\n    const recordValue = react.exports.useMemo(() => currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.generatedVerification, [currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.generatedVerification]);\r\n    const recordName = react.exports.useMemo(() => `_saml-domain-challenge.${value}`, [value]);\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(Input$1$1, Object.assign({ label: t('domainInputLabel') }, fieldProps, { \"data-test-id\": \"domainNameBox\", errorMessage: error, error: !!error && touched, placeholder: t('domainInputPlaceholder') })),\r\n        React.createElement(Collapse$1, { in: (ssoDomain === null || ssoDomain === void 0 ? void 0 : ssoDomain.domain) === value, mountOnEnter: true, unmountOnExit: true },\r\n            React.createElement(Typography$1, { variant: \"subtitle2\" }, t('claimDomainText')),\r\n            React.createElement(\"br\", null),\r\n            React.createElement(InputCopy$1, { \"data-test-id\": \"ssoRecordNameLabel\", label: t('recordNameLabel'), readOnly: true, value: recordName !== null && recordName !== void 0 ? recordName : '' }),\r\n            React.createElement(InputCopy$1, { \"data-test-id\": \"ssoRecordValueLabel\", label: t('recordValueLabel'), readOnly: true, value: recordValue !== null && recordValue !== void 0 ? recordValue : '' })));\r\n};\n\nconst AddDomainButton = styled(Button$1) `\n  align-self: flex-start;\n`;\r\nconst DomainInput = styled(Input$1$1) `\n  margin-bottom: 0;\n  margin-right: 0.5rem;\n  flex: 1;\n  .MuiInputBase-adornedEnd {\n    .MuiSvgIcon-root {\n      ${({ theme, error }) => error && `color: ${theme.palette.error.main}`};\n      ${({ theme, success }) => success && `color: ${theme.palette.success.main}`};\n    }\n  }\n`;\r\nconst DeleteIconStyle = styled(DeleteIcon)(({ theme }) => ({\r\n    color: theme.palette.grey[500],\r\n    width: '1rem',\r\n    height: '1rem',\r\n}));\r\nconst EditIconStyle = styled(EditIcon)(({ theme }) => ({\r\n    color: theme.palette.grey[500],\r\n    width: '1rem',\r\n    height: '1rem',\r\n}));\r\nconst IconButtonStyle = styled(IconButton) `\n  width: 2rem;\n  height: 2rem;\n`;\r\nconst DomainListContainer = styled(Box)(({ theme }) => ({\r\n    paddingBottom: theme.spacing(2),\r\n    marginBottom: theme.spacing(4),\r\n    borderBottom: `1px solid ${theme.palette.grey[300]}`\r\n}));\r\nconst SSOClaimDomainList = ({ onAddDomain, onEditDomain, hideDomainList }) => {\r\n    var _a;\r\n    const { currentSSOConfiguration, handlePrevStep } = useSSODialog();\r\n    const { deleteSSODomain } = useSSOActions();\r\n    const hasWritePermission = usePermission('fe.secure.write.samlConfiguration');\r\n    const hasDeletePermission = usePermission('fe.secure.delete.samlConfiguration');\r\n    const handleDeleteDomain = react.exports.useCallback((domainId) => {\r\n        const callback = () => {\r\n            if ((currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.domains.length) === 1) {\r\n                handlePrevStep();\r\n            }\r\n        };\r\n        deleteSSODomain({ ssoConfigId: currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.id, domainId, callback });\r\n    }, [deleteSSODomain, currentSSOConfiguration]);\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(DomainListContainer, null, (_a = currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.domains) === null || _a === void 0 ? void 0 : _a.map((ssoDomain) => React.createElement(Box, { key: ssoDomain.id, mb: 2, display: 'flex', alignItems: 'center' },\r\n            React.createElement(DomainInput, { \"data-test-id\": ssoDomain.domain, endAdornment: ssoDomain.validated ? React.createElement(CheckCircleFilledIcon, null) : React.createElement(WarningIcon, null), error: !ssoDomain.validated, success: ssoDomain.validated, value: ssoDomain.domain, disabled: true }),\r\n            hasWritePermission && hasDeletePermission && React.createElement(IconButtonStyle, { onClick: () => onEditDomain(ssoDomain) },\r\n                React.createElement(EditIconStyle, null)),\r\n            hasDeletePermission && React.createElement(IconButtonStyle, { onClick: () => handleDeleteDomain(ssoDomain.id) },\r\n                React.createElement(DeleteIconStyle, null))))),\r\n        React.createElement(AddDomainButton, { \"data-test-id\": \"addGroupBtn\", onClick: onAddDomain, type: 'button', size: 'small', color: 'secondary' }, \"Add another domain\")));\r\n};\n\nconst SsoClaimDomainForm = (props) => {\r\n    const t = useT('sso_ClaimDomain');\r\n    const [ssoDomain, setSSODomain] = react.exports.useState(props.domain);\r\n    const { saveSSODomain, validateSSODomainV2, deleteSSODomain } = useSSOActions();\r\n    const { currentSSOConfiguration, handleNextStep } = useSSODialog();\r\n    const [isDomainListShown, setIsDomainListShown] = react.exports.useState((currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.domains.length) > 0);\r\n    const initialValues = react.exports.useMemo(() => ({\r\n        domain: (ssoDomain === null || ssoDomain === void 0 ? void 0 : ssoDomain.domain) || '',\r\n    }), [ssoDomain]);\r\n    const validationSchema = react.exports.useMemo(() => validateSchema({\r\n        domain: validateDomain(t('domainIsRequired'), t('domainMustBeValid')),\r\n    }), [t]);\r\n    const formikProps = {\r\n        onSubmit: ({ domain }) => new Promise((resolve, reject) => __awaiter(void 0, void 0, void 0, function* () {\r\n            const callback = callbackToPromise(resolve, reject, showDomainList);\r\n            const saveDomain = () => {\r\n                saveSSODomain({\r\n                    ssoConfigId: currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.id,\r\n                    domain,\r\n                    callback: (data, error) => {\r\n                        if (error) {\r\n                            reject(error);\r\n                            return;\r\n                        }\r\n                        else if (data) {\r\n                            setSSODomain(data);\r\n                            resolve();\r\n                        }\r\n                    }\r\n                });\r\n            };\r\n            if (ssoDomain && ssoDomain.domain === domain) {\r\n                validateSSODomainV2({ callback, domainId: ssoDomain.id, ssoConfigId: currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.id });\r\n            }\r\n            else if (ssoDomain) {\r\n                deleteSSODomain({ ssoConfigId: currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.id, domainId: ssoDomain.id, callback: saveDomain });\r\n            }\r\n            else {\r\n                saveDomain();\r\n            }\r\n        })),\r\n        enableReinitialize: true,\r\n        initialValues,\r\n        validationSchema: isDomainListShown ? undefined : validationSchema,\r\n    };\r\n    const showDomainList = react.exports.useCallback(() => {\r\n        setIsDomainListShown(true);\r\n    }, []);\r\n    const hideDomainList = react.exports.useCallback(() => {\r\n        setIsDomainListShown(false);\r\n    }, []);\r\n    const handleEditDomain = react.exports.useCallback((ssoDomain) => {\r\n        hideDomainList();\r\n        setSSODomain(ssoDomain);\r\n    }, [hideDomainList, setSSODomain]);\r\n    const handleAddDomain = react.exports.useCallback(() => {\r\n        hideDomainList();\r\n        setSSODomain(undefined);\r\n    }, [hideDomainList, setSSODomain]);\r\n    if (isDomainListShown) {\r\n        return (React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                React.createElement(SSOClaimDomainList, { hideDomainList: hideDomainList, onAddDomain: handleAddDomain, onEditDomain: handleEditDomain })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(SsoFooter, { isValid: true, isSubmitting: false, onNext: handleNextStep }))));\r\n    }\r\n    return (React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ formError, isSubmitting, values }) => {\r\n        return (React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                React.createElement(DomainFields, { ssoDomain: ssoDomain }),\r\n                React.createElement(FormErrorDialogMessage, { message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(SsoFooter, { onCancel: (currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.domains.length) > 1 ? showDomainList : undefined, isValid: true, isSubmitting: isSubmitting, showSkipButton: (ssoDomain === null || ssoDomain === void 0 ? void 0 : ssoDomain.domain) === values.domain, onSkip: showDomainList, approveButtonText: (ssoDomain === null || ssoDomain === void 0 ? void 0 : ssoDomain.domain) === values.domain ? t('validate') : t('proceed') }))));\r\n    }));\r\n};\n\nconst ArrowsIconStyled = styled(DoubleArrowRightIcon)(({ theme }) => ({\r\n    width: '0.5rem',\r\n    height: '0.5rem',\r\n    color: theme.palette.grey[500],\r\n}));\r\nconst GroupNameField = react.exports.memo(({ error, errorMessage, group, handleGroupChange }) => {\r\n    return React.createElement(Input$1$1, { error: error, errorMessage: errorMessage, value: group, onChange: handleGroupChange });\r\n}, shallowEqual$1('error', 'errorMessage', 'group', 'handleGroupChange'));\r\nconst RolesField$1 = react.exports.memo(({ roles, handleRolesChange, groupId, error }) => {\r\n    const t = useT('sso_ManageAuthorization');\r\n    const { injector } = useShadowDom();\r\n    const user = useAuthUser();\r\n    const allRoles = useAuthTeamState(state => state.roles);\r\n    const accessRoles = checkRoleAccess(allRoles, user);\r\n    const options = react.exports.useMemo(() => (accessRoles !== null && accessRoles !== void 0 ? accessRoles : []).map(role => ({ label: role.name, value: role.id, withCheckbox: true })), [accessRoles]);\r\n    return React.createElement(Select$1$1, { error: error, errorMessage: t('rolesGroupsMappingError'), name: `${groupId}_roleIds`, multi: true, oneLineMulti: true, placeholder: t('rolesInputPlaceholder'), value: roles, onChange: handleRolesChange, options: options, optionType: \"tree\", container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl });\r\n}, shallowEqual$1('roles', 'handleRolesChange', 'groupId', 'error'));\r\nconst DeleteGroupButton = react.exports.memo(({ onDelete }) => {\r\n    return React.createElement(IconButton, { onClick: () => onDelete() },\r\n        React.createElement(Box, { component: DeleteIcon, width: \"1rem\", height: \"1rem\", color: \"#ADBCD2\" }));\r\n}, shallowEqual$1('onDelete'));\r\nconst RolesGroup = ({ groupId }) => {\r\n    var _a, _b;\r\n    const t = useT('sso_ManageAuthorization');\r\n    const { values, setFieldValue, setFieldError } = useFormikContext();\r\n    const fieldValue = react.exports.useMemo(() => values.rolesGroups.find((group) => group.id === groupId), [values.rolesGroups, groupId]);\r\n    const isGroupNameUnique = react.exports.useMemo(() => values.rolesGroups.filter(({ group }) => group === (fieldValue === null || fieldValue === void 0 ? void 0 : fieldValue.group)).length < 2, [values.rolesGroups, fieldValue]);\r\n    react.exports.useEffect(() => {\r\n        if (!isGroupNameUnique) {\r\n            setFieldError('rolesGroups', t('rolesGroupsNameDuplicateError'));\r\n        }\r\n    }, [isGroupNameUnique, setFieldError, t]);\r\n    const handleGroupNameChange = react.exports.useCallback((e) => {\r\n        const groupIdx = values.rolesGroups.findIndex((group) => group.id === groupId);\r\n        const newRolesGroupsArray = values.rolesGroups.map((oldValue, currIdx) => currIdx === groupIdx ? Object.assign(Object.assign({}, oldValue), { group: e.target.value }) : oldValue);\r\n        setFieldValue('rolesGroups', newRolesGroupsArray);\r\n    }, [setFieldValue, values.rolesGroups, groupId]);\r\n    const handleRolesChange = react.exports.useCallback((newValue) => {\r\n        const changedGroups = [];\r\n        const groupIdx = values.rolesGroups.findIndex((group) => group.id === groupId);\r\n        const newrolesGroups = values.rolesGroups.map((oldValue, currIdx) => {\r\n            let rolesGroup = oldValue;\r\n            if (currIdx === groupIdx) {\r\n                rolesGroup = Object.assign(Object.assign({}, oldValue), { roleIds: newValue });\r\n                changedGroups.push(rolesGroup);\r\n            }\r\n            return rolesGroup;\r\n        });\r\n        setFieldValue('rolesGroups', newrolesGroups);\r\n        setFieldValue('changedGroups', changedGroups);\r\n    }, [setFieldValue, values.rolesGroups, values.changedGroups, groupId]);\r\n    const deleteGroup = react.exports.useCallback(() => {\r\n        const newDeletedGroupsArr = [...values.deletedGroups, groupId];\r\n        const newGroupsArr = values.rolesGroups.filter((group) => !newDeletedGroupsArr.includes(group.id));\r\n        setFieldValue('deletedGroups', newDeletedGroupsArr);\r\n        setFieldValue('rolesGroups', newGroupsArr);\r\n    }, [setFieldValue, groupId, values.rolesGroups, values.deletedGroups]);\r\n    return React.createElement(Grid, { container: true, alignItems: 'baseline', justifyContent: \"space-between\", spacing: 2 },\r\n        React.createElement(Grid, { item: true, xs: 5 },\r\n            React.createElement(GroupNameField, { group: (_a = fieldValue === null || fieldValue === void 0 ? void 0 : fieldValue.group) !== null && _a !== void 0 ? _a : '', handleGroupChange: handleGroupNameChange, error: !isGroupNameUnique || (!!fieldValue && fieldValue.group.length < 1), errorMessage: isGroupNameUnique ? t('rolesGroupsNameEmptyError') : t('rolesGroupsNameDuplicateError') })),\r\n        React.createElement(Grid, { item: true, xs: 1, display: \"flex\", justifyContent: \"center\" },\r\n            React.createElement(ArrowsIconStyled, null)),\r\n        React.createElement(Grid, { item: true, xs: 5 },\r\n            React.createElement(RolesField$1, { roles: (_b = fieldValue === null || fieldValue === void 0 ? void 0 : fieldValue.roleIds) !== null && _b !== void 0 ? _b : [], error: fieldValue && fieldValue.roleIds.length < 1, handleRolesChange: handleRolesChange, groupId: groupId })),\r\n        React.createElement(Grid, { item: true, xs: 1, display: \"flex\", justifyContent: \"center\" },\r\n            React.createElement(DeleteGroupButton, { onDelete: deleteGroup })));\r\n};\r\nconst NewRolesGroup = ({ idx }) => {\r\n    var _a, _b;\r\n    const t = useT('sso_ManageAuthorization');\r\n    const { values, setFieldValue, setFieldError } = useFormikContext();\r\n    const fieldValue = react.exports.useMemo(() => values.addedGroups[idx], [idx, values.addedGroups]);\r\n    const isGroupNameUnique = react.exports.useMemo(() => [...values.rolesGroups, ...values.addedGroups].filter(({ group }) => group === (fieldValue === null || fieldValue === void 0 ? void 0 : fieldValue.group)).length < 2, [values, fieldValue]);\r\n    react.exports.useEffect(() => {\r\n        if (!isGroupNameUnique) {\r\n            setFieldError('addedGroups', 'Group name must be unique');\r\n        }\r\n    }, [isGroupNameUnique, setFieldError]);\r\n    const handleGroupNameChange = react.exports.useCallback((e) => {\r\n        const newRolesGroupsArray = values.addedGroups.map((oldValue, currIdx) => currIdx === idx ? Object.assign(Object.assign({}, oldValue), { group: e.target.value }) : oldValue);\r\n        setFieldValue('addedGroups', newRolesGroupsArray);\r\n    }, [setFieldValue, values.addedGroups, idx]);\r\n    const handleRolesChange = react.exports.useCallback((newValue) => {\r\n        const newrolesGroups = values.addedGroups.map((oldValue, currIdx) => currIdx === idx ? Object.assign(Object.assign({}, oldValue), { roleIds: newValue }) : oldValue);\r\n        setFieldValue('addedGroups', newrolesGroups);\r\n    }, [setFieldValue, values.addedGroups, idx]);\r\n    const deleteGroup = react.exports.useCallback(() => {\r\n        const newGroupsArr = values.addedGroups.filter((group, index) => idx !== index);\r\n        setFieldValue('addedGroups', newGroupsArr);\r\n    }, [setFieldValue, idx, values.addedGroups]);\r\n    return React.createElement(Grid, { container: true, alignItems: 'baseline', justifyContent: \"space-between\", spacing: 2 },\r\n        React.createElement(Grid, { item: true, xs: 5 },\r\n            React.createElement(GroupNameField, { group: (_a = fieldValue === null || fieldValue === void 0 ? void 0 : fieldValue.group) !== null && _a !== void 0 ? _a : '', handleGroupChange: handleGroupNameChange, error: !isGroupNameUnique || (!!fieldValue && fieldValue.group.length < 1), errorMessage: isGroupNameUnique ? t('rolesGroupsNameEmptyError') : t('rolesGroupsNameDuplicateError') })),\r\n        React.createElement(Grid, { item: true, xs: 1, display: \"flex\", justifyContent: \"center\" },\r\n            React.createElement(ArrowsIconStyled, null)),\r\n        React.createElement(Grid, { item: true, xs: 5 },\r\n            React.createElement(RolesField$1, { roles: (_b = fieldValue === null || fieldValue === void 0 ? void 0 : fieldValue.roleIds) !== null && _b !== void 0 ? _b : [], error: fieldValue && fieldValue.roleIds.length < 1, handleRolesChange: handleRolesChange, groupId: `${idx}` })),\r\n        React.createElement(Grid, { item: true, xs: 1, display: \"flex\", justifyContent: \"center\" },\r\n            React.createElement(DeleteGroupButton, { onDelete: deleteGroup })));\r\n};\n\nconst AddMappingButton = styled(Button$1) `\n  &.MuiButton-root {\n    justify-content: space-between;\n    height: 2rem;\n    margin-top: 1rem;\n    display: flex;\n    padding: 1rem;\n    align-self: flex-start;\n    .MuiSvgIcon-root {\n      padding-right: .5rem;\n    }\n  }\n`;\r\nconst TableHeadRowGrid = styled(Grid) `\n  background-color: #F5F6F8;\n  padding: 0.75rem 2rem;\n  border-bottom: 1px solid #E5EAF3;\n`;\r\nconst TableBodyGrid = styled(Grid) `\n  padding: 1rem 1rem 1rem 2rem;\n`;\r\nconst AddIconStyle = styled(AddIcon) `\n  width: 0.75rem;\n  height: 0.75rem,\n`;\r\nconst AddIconButton = styled(Button$1) `\n  margin-bottom: 1rem;\n  margin-left: 2rem;\n  minWidth: 0;\n  width: fit-content;\n  padding: 0.75rem;\n  color: #ADBCD2;\n`;\r\nconst GroupsTable = react.exports.memo(({ addGroup }) => {\r\n    var _a;\r\n    const { values } = useFormikContext();\r\n    const t = useT('sso_ManageAuthorization');\r\n    return React.createElement(Box, { mt: 3, flex: 1, border: '1px solid #E5EAF3', borderRadius: '0.25rem', display: 'flex', flexDirection: 'column' },\r\n        React.createElement(TableHeadRowGrid, { container: true },\r\n            React.createElement(Grid, { item: true, xs: 6 },\r\n                React.createElement(Typography$1, { variant: 'label' },\r\n                    \" \",\r\n                    t('group'))),\r\n            React.createElement(Grid, { item: true, xs: 6 },\r\n                React.createElement(Typography$1, { marginLeft: '0.75rem', variant: 'label' },\r\n                    \" \",\r\n                    t('roles')))),\r\n        React.createElement(TableBodyGrid, { container: true },\r\n            values.rolesGroups.map((g) => React.createElement(RolesGroup, { \"data-test-id\": \"groupBox\", groupId: g.id })), (_a = values.addedGroups) === null || _a === void 0 ? void 0 :\r\n            _a.map((g, idx) => React.createElement(NewRolesGroup, { idx: idx }))),\r\n        React.createElement(AddIconButton, { \"data-test-id\": \"addGroupBtn\", onClick: addGroup, type: 'button', size: 'small', color: 'secondary' },\r\n            React.createElement(AddIconStyle, null)));\r\n}, shallowEqual$1('addGroup'));\r\nconst findNewGroups = (existingGroups, newGroups) => {\r\n    const existingGroupsIds = existingGroups.map(({ id }) => id);\r\n    const groupsToAdd = newGroups.filter((g) => !existingGroupsIds.includes(g.id));\r\n    return groupsToAdd;\r\n};\r\nconst RolesGroupsTable = () => {\r\n    const t = useT('sso_ManageAuthorization');\r\n    const { rolesGroups } = useSSOState();\r\n    const { values, setFieldValue } = useFormikContext();\r\n    react.exports.useEffect(() => {\r\n        const existingGroupsIds = [...values.rolesGroups.map(({ id }) => id), ...values.deletedGroups];\r\n        const isNewGroupAdded = rolesGroups === null || rolesGroups === void 0 ? void 0 : rolesGroups.some(({ id }) => !existingGroupsIds.includes(id));\r\n        if (isNewGroupAdded) {\r\n            const newGroup = findNewGroups(values.rolesGroups, rolesGroups !== null && rolesGroups !== void 0 ? rolesGroups : []);\r\n            let newFieldValue = [...values.rolesGroups];\r\n            if (newGroup) {\r\n                newFieldValue = newFieldValue.concat(newGroup);\r\n            }\r\n            setFieldValue('rolesGroups', newFieldValue.filter((group) => !values.deletedGroups.includes(group.id)));\r\n        }\r\n    }, [values, rolesGroups, setFieldValue]);\r\n    const shouldShowTable = react.exports.useMemo(() => [...values.addedGroups, ...values.rolesGroups].length > 0, [values]);\r\n    const addGroup = react.exports.useCallback(() => {\r\n        const newAddedGroupsValue = [...values.addedGroups];\r\n        newAddedGroupsValue.push({ group: '', roleIds: [] });\r\n        setFieldValue('addedGroups', newAddedGroupsValue);\r\n    }, [values.addedGroups, setFieldValue]);\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(Typography$1, { marginTop: '2rem', fontSize: '1rem', variant: 'label' }, t('rolesGroupsMappingTitle')),\r\n        React.createElement(Typography$1, { fontWeight: '600', color: 'GrayText', variant: 'subtitle2Light' }, t('rolesGroupsMappingDescription')),\r\n        shouldShowTable ?\r\n            React.createElement(GroupsTable, { addGroup: addGroup })\r\n            :\r\n                React.createElement(AddMappingButton, { \"data-test-id\": \"addMappingBtn\", color: 'secondary', onClick: addGroup, type: 'button', size: 'small' }, t('ssoAddMapping')));\r\n};\n\nconst isAllGroupNamesUnique = (values) => {\r\n    const uniquedValues = values.rolesGroups.reduce((acc, { group }) => (acc.includes(group) ? acc : [...acc, group]), []);\r\n    return uniquedValues.length === values.rolesGroups.length;\r\n};\r\nconst InputTipIcon = styled(InfoIcon) `\n  &.MuiSvgIcon-root {\n    width: 0.75rem !important;\n    height: 0.75rem !important;\n    fill: #ADBCD2;\n  }\n`;\r\nconst SsoManageAuthorizationForm = () => {\r\n    const t = useT('sso_ManageAuthorization');\r\n    const { setSSODefaultRoles, setSSOGroups, updateSSOGroups } = useSSOActions();\r\n    const { currentSSOConfiguration, handleNextStep } = useSSODialog();\r\n    const { injector } = useShadowDom();\r\n    const initialValues = react.exports.useMemo(() => {\r\n        var _a, _b;\r\n        return ({\r\n            roleIds: (_a = currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.roleIds) !== null && _a !== void 0 ? _a : [],\r\n            rolesGroups: (_b = currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.groups) !== null && _b !== void 0 ? _b : [],\r\n            deletedGroups: [],\r\n            addedGroups: [],\r\n            changedGroups: [],\r\n        });\r\n    }, []);\r\n    const formikProps = {\r\n        onSubmit: (values) => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, reject, handleNextStep);\r\n            setSSOGroups({\r\n                ssoConfigId: currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.id,\r\n                groupsToAdd: values.addedGroups,\r\n                groupsToDelete: values.deletedGroups,\r\n                callback: (data, error) => {\r\n                    if (error) {\r\n                        reject(error);\r\n                        return;\r\n                    }\r\n                    else if (data) {\r\n                        updateSSOGroups({ ssoConfigId: currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.id, changedGroups: values.changedGroups });\r\n                        setSSODefaultRoles({ ssoConfigId: currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.id, roleIds: values === null || values === void 0 ? void 0 : values.roleIds, callback });\r\n                    }\r\n                },\r\n            });\r\n        }),\r\n        initialValues,\r\n        validationSchema: ssoManageAuthorizationValidation(t),\r\n        validateOnMount: true,\r\n    };\r\n    return (React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ formError, isSubmitting, isValid, values }) => {\r\n        return (React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, { style: { maxHeight: '55vh' } },\r\n                React.createElement(React.Fragment, null,\r\n                    React.createElement(Box, { display: \"flex\", alignItems: \"center\", width: \"fit-content\" },\r\n                        React.createElement(Typography$1, { variant: \"label\", paddingBottom: \"0.25rem\" }, t('selectRolesLabel')),\r\n                        React.createElement(Popup$1, { action: \"hover\", mountNode: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, placement: \"right\", arrow: true, trigger: React.createElement(Box, { display: \"flex\", marginLeft: \"0.5rem\", marginBottom: \"0.25rem\" },\r\n                                React.createElement(InputTipIcon, null)) },\r\n                            React.createElement(Typography$1, { color: \"#3C4A5A\", variant: \"subtitle2Light\" }, t('selectRolesHelpMessage')))),\r\n                    React.createElement(RolesField$4, { label: \"\", placeholder: t('rolesInputPlaceholder') }),\r\n                    (currentSSOConfiguration === null || currentSSOConfiguration === void 0 ? void 0 : currentSSOConfiguration.type) === SamlVendors.Saml && React.createElement(RolesGroupsTable, null),\r\n                    React.createElement(FormErrorDialogMessage, { message: formError }))),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(SsoFooter, { isValid: isValid || !isAllGroupNamesUnique(values), isSubmitting: isSubmitting }))));\r\n    }));\r\n};\n\nconst StepperStyle = styled(Stepper$1) `\n  padding: ${({ theme }) => theme.spacing(4)};\n`;\r\nconst MultiStepForm = () => {\r\n    const { stepNumber, steps } = useSSODialog();\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(StepperStyle, { activeStep: stepNumber }, steps.map(({ label }) => (React.createElement(Step$1, { key: label },\r\n            React.createElement(StepLabel$1, null, label))))),\r\n        steps[stepNumber].component);\r\n};\r\nconst SsoConfigurationDialogForm = ({ open, handleOpen, handleClose, initialSSOConfigurationId }) => {\r\n    const { injector } = useShadowDom();\r\n    const { policy } = usePublicPolicySettings();\r\n    const t = useT('sso');\r\n    const steps = react.exports.useMemo(() => {\r\n        return [\r\n            {\r\n                component: React.createElement(SsoConfigureIdpForm, null),\r\n                label: t('stepOneTitle'),\r\n            },\r\n            {\r\n                component: React.createElement(SsoClaimDomainForm, null),\r\n                label: t('stepTwoTitle'),\r\n            },\r\n            ...((policy === null || policy === void 0 ? void 0 : policy.forcePermissions) ?\r\n                [{\r\n                        component: React.createElement(SsoManageAuthorizationForm, null),\r\n                        label: t('stepThreeTitle'),\r\n                    }]\r\n                : []),\r\n        ];\r\n    }, [policy === null || policy === void 0 ? void 0 : policy.forcePermissions]);\r\n    return (React.createElement(Dialog$1, { topGravity: false, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, title: 'Configure SSO', open: open, onClose: handleClose },\r\n        React.createElement(SSODialogProvider, { steps: steps, handleOpen: handleOpen, handleClose: handleClose, initialSSOConfigurationId: initialSSOConfigurationId },\r\n            React.createElement(MultiStepForm, null))));\r\n};\n\nconst SsoTable = ({ showConfigureSSOMessage }) => {\r\n    var _a;\r\n    const t = useT('sso_Table');\r\n    const { injector } = useShadowDom();\r\n    const { roles } = useAuthTeamState();\r\n    const rolesMap = useRolesMap(roles);\r\n    const { ssoConfigurations: ssoConfigurationsData, loaders: { LOAD_SSO_CONFIGURATIONS: loading } } = useSSOState();\r\n    const { updateSSOConfiguration } = useSSOActions();\r\n    const { policy, loading: loadingPolicy } = usePublicPolicySettings();\r\n    const [deleteConfigDialog, handleCloseDeleteSSOConfig, handleOpenDeleteSSOConfig, ssoConfigToDelete] = useDialogState();\r\n    const [editSSOConfigDialogOpen, handleCloseEditSSOConfig, handleOpenEditSSOConfig, ssoConfigToEdit] = useDialogState();\r\n    const hasWritePermission = usePermission('fe.secure.write.samlConfiguration');\r\n    const hasDeletePermission = usePermission('fe.secure.delete.samlConfiguration');\r\n    const handleChangeStatus = react.exports.useCallback((ssoConfig) => {\r\n        updateSSOConfiguration({ ssoConfigId: ssoConfig.id, enabled: !ssoConfig.enabled });\r\n    }, [updateSSOConfiguration]);\r\n    const columns = react.exports.useMemo(() => SsoTableColumns({\r\n        container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\r\n        forcePermissions: !loadingPolicy && (policy === null || policy === void 0 ? void 0 : policy.forcePermissions),\r\n        onChangeStatus: handleChangeStatus,\r\n        rolesMap,\r\n        hasWritePermission,\r\n        showConfigureSSOMessage,\r\n        t,\r\n    }), [t, handleChangeStatus, showConfigureSSOMessage, rolesMap, injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, policy, loadingPolicy, hasWritePermission]);\r\n    const getRowActions = useSSOTableRowActions({\r\n        container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl,\r\n        handleOpenEditConfig: handleOpenEditSSOConfig,\r\n        handleOpenDeleteConfig: handleOpenDeleteSSOConfig,\r\n        hasWritePermission,\r\n        hasDeletePermission,\r\n    });\r\n    const tablePlaceholderProps = react.exports.useMemo(() => {\r\n        if (loading) {\r\n            return null;\r\n        }\r\n        if (!ssoConfigurationsData.length) {\r\n            return {\r\n                show: true,\r\n                icon: React.createElement(SSOIcon, null),\r\n                title: t('noSSOConfigsYet'),\r\n                description: t('noSSOConfigsYetDescription'),\r\n            };\r\n        }\r\n        return null;\r\n    }, [loading, ssoConfigurationsData, t]);\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(Table, { loading: !!loading, container: (_a = injector === null || injector === void 0 ? void 0 : injector.adminPortalEl) !== null && _a !== void 0 ? _a : document.body, columns: columns, data: ssoConfigurationsData, getRowActions: getRowActions }, tablePlaceholderProps && React.createElement(TablePlaceholder, Object.assign({}, tablePlaceholderProps))),\r\n        React.createElement(DeleteSSOConfigurationDialog, { open: deleteConfigDialog, onClose: handleCloseDeleteSSOConfig, ssoConfig: ssoConfigToDelete }),\r\n        React.createElement(SsoConfigurationDialogForm, { open: editSSOConfigDialogOpen, handleClose: handleCloseEditSSOConfig, handleOpen: handleOpenEditSSOConfig, initialSSOConfigurationId: ssoConfigToEdit === null || ssoConfigToEdit === void 0 ? void 0 : ssoConfigToEdit.id })));\r\n};\n\nconst SsoPage = () => {\r\n    const { loadRoles } = useAuthTeamActions();\r\n    const [isConfigureSSOMessage, setIsConfigureSSOMessage] = react.exports.useState(false);\r\n    const [addSSOConfigDialogOpen, handleCloseAddSSOConfig, handleOpenAddSSOConfig] = useDialogState();\r\n    const t = useT('sso');\r\n    const showConfigureSSOMessage = react.exports.useCallback(() => {\r\n        setIsConfigureSSOMessage(true);\r\n    }, [setIsConfigureSSOMessage]);\r\n    const hideConfigureSSOMessage = react.exports.useCallback(() => {\r\n        setIsConfigureSSOMessage(false);\r\n    }, [setIsConfigureSSOMessage]);\r\n    react.exports.useEffect(() => {\r\n        loadRoles();\r\n    }, [loadRoles]);\r\n    return React.createElement(PageWrapper, { flex: 1, display: 'flex', flexDirection: 'column' },\r\n        React.createElement(Collapse$1, { in: isConfigureSSOMessage },\r\n            React.createElement(Box, { mb: 8 },\r\n                React.createElement(Alert$1$1, { onClose: hideConfigureSSOMessage, severity: 'warning' }, t('enableAlert')))),\r\n        React.createElement(SsoHeader, { handleOpenNewConfiguration: handleOpenAddSSOConfig }),\r\n        React.createElement(Box, { mt: 9, flex: 1, display: 'flex', flexDirection: 'column' },\r\n            React.createElement(SsoTable, { showConfigureSSOMessage: showConfigureSSOMessage })),\r\n        React.createElement(SsoConfigurationDialogForm, { open: addSSOConfigDialogOpen, handleOpen: handleOpenAddSSOConfig, handleClose: handleCloseAddSSOConfig }));\r\n};\r\nvar SsoPage$1 = SsoPage;\n\nvar MultipleSsoPage = wrapPage(SsoPage$1, 'sso');\n\nclass UserMapCache {\r\n    constructor() {\r\n        this.mapIds = {};\r\n        this.mapEmails = {};\r\n    }\r\n    static getInstance() {\r\n        if (!UserMapCache.instance) {\r\n            UserMapCache.instance = new UserMapCache();\r\n        }\r\n        return UserMapCache.instance;\r\n    }\r\n    static getUserById(userId, users) {\r\n        const map = this.getInstance().mapIds;\r\n        if (!map[userId]) {\r\n            map[userId] = {\r\n                data: null,\r\n                loading: true,\r\n            };\r\n            map[userId].promise = new Promise((resolve) => {\r\n                const userFromTeams = users === null || users === void 0 ? void 0 : users.find(u => u.id === userId);\r\n                if (userFromTeams) {\r\n                    map[userId].data = Object.assign(Object.assign({}, userFromTeams), { profilePictureUrl: userFromTeams.profileImageUrl });\r\n                    map[userId].loading = false;\r\n                    map[userId].promise = undefined;\r\n                    this.getInstance().mapEmails[userFromTeams.email] = map[userId];\r\n                    resolve(userFromTeams);\r\n                    return;\r\n                }\r\n                api.auth.getUserById({ userId })\r\n                    .then((user) => {\r\n                    map[userId].data = user;\r\n                    map[userId].loading = false;\r\n                    map[userId].promise = undefined;\r\n                    this.getInstance().mapEmails[user.email] = map[userId];\r\n                    resolve(user);\r\n                })\r\n                    .catch((e) => {\r\n                    map[userId].data = null;\r\n                    map[userId].loading = false;\r\n                    map[userId].promise = undefined;\r\n                    resolve(null);\r\n                });\r\n            });\r\n        }\r\n        const { loading, promise, data } = map[userId];\r\n        if (loading && promise != null) {\r\n            return promise;\r\n        }\r\n        return new Promise((resolve) => resolve(data));\r\n    }\r\n    static getUserByEmail(email, users) {\r\n        const map = this.getInstance().mapEmails;\r\n        if (!map[email]) {\r\n            map[email] = {\r\n                data: null,\r\n                loading: true,\r\n            };\r\n            map[email].promise = new Promise((resolve) => {\r\n                const userFromTeams = users === null || users === void 0 ? void 0 : users.find(u => u.email === email);\r\n                if (userFromTeams) {\r\n                    map[email].data = Object.assign(Object.assign({}, userFromTeams), { profilePictureUrl: userFromTeams.profileImageUrl });\r\n                    map[email].loading = false;\r\n                    map[email].promise = undefined;\r\n                    this.getInstance().mapIds[userFromTeams.id] = map[email];\r\n                    resolve(userFromTeams);\r\n                    return;\r\n                }\r\n                api.teams.loadUsers({ filter: [{ id: 'searchFilter', value: email }], pageSize: 1, pageOffset: 0 })\r\n                    .then((users) => {\r\n                    if (users.items.length > 0) {\r\n                        const user = users.items[0];\r\n                        map[email].data = Object.assign(Object.assign({}, user), { profilePictureUrl: user.profileImageUrl });\r\n                        map[email].loading = false;\r\n                        map[email].promise = undefined;\r\n                        this.getInstance().mapIds[user.id] = map[email];\r\n                        resolve(user);\r\n                    }\r\n                    else {\r\n                        map[email].data = null;\r\n                        map[email].loading = false;\r\n                        map[email].promise = undefined;\r\n                        resolve(null);\r\n                    }\r\n                })\r\n                    .catch((e) => {\r\n                    map[email].data = null;\r\n                    map[email].loading = false;\r\n                    map[email].promise = undefined;\r\n                    resolve(null);\r\n                });\r\n            });\r\n        }\r\n        const { loading, promise, data } = map[email];\r\n        if (loading && promise != null) {\r\n            return promise;\r\n        }\r\n        return new Promise((resolve) => resolve(data));\r\n    }\r\n}\n\nconst TableUserCell = react.exports.memo(({ value: { userId, email, name } }) => {\r\n    const [currentUser, setCurrentUser] = react.exports.useState(null);\r\n    const users = useAuthTeamState(state => state.users);\r\n    react.exports.useEffect(() => {\r\n        if (userId) {\r\n            UserMapCache.getUserById(userId, users).then(setCurrentUser);\r\n        }\r\n        else if (email) {\r\n            UserMapCache.getUserByEmail(email, users).then(setCurrentUser);\r\n        }\r\n    }, [userId, email, users, setCurrentUser]);\r\n    return React.createElement(TableUserAvatarCell, { value: currentUser !== null && currentUser !== void 0 ? currentUser : { name: name !== null && name !== void 0 ? name : 'Unknown', email: email !== null && email !== void 0 ? email : '' } });\r\n}, shallowEqual$1('value.userId', 'value.email'));\n\nconst ApiTokensTableColumns = ({ t, container, rolesMap, isPermissionsAndRolesDisabled }) => [\r\n    {\r\n        Header: t('clientIdHeader'),\r\n        accessor: ({ clientId, description }) => ({ title: description, description: clientId, copyValue: clientId }),\r\n        minWidth: 370,\r\n        maxWidth: 370,\r\n        Cell: TableCopyCell,\r\n    },\r\n    ...isPermissionsAndRolesDisabled ? [] : [{\r\n            Header: t('rolesHeader'),\r\n            accessor: ({ roleIds }) => { var _a; return ({ items: (_a = roleIds === null || roleIds === void 0 ? void 0 : roleIds.map(v => ({ text: rolesMap[v] }))) !== null && _a !== void 0 ? _a : [], max: 1, container }); },\r\n            minWidth: 200,\r\n            Cell: TableChipsCell,\r\n        }],\r\n    {\r\n        Header: t('createdOnHeader'),\r\n        accessor: ({ createdAt }) => ({ date: createdAt }),\r\n        width: 140,\r\n        maxWidth: 140,\r\n        Cell: TableDateCell,\r\n    },\r\n    {\r\n        Header: t('createdByHeader'),\r\n        accessor: ({ createdByUserId }) => ({ userId: createdByUserId }),\r\n        minWidth: 260,\r\n        Cell: TableUserCell,\r\n    },\r\n];\r\nconst ApiTokenTableRowActions = ({ t, container, handleOpenDeleteToken, }) => (row) => {\r\n    const items = [\r\n        {\r\n            icon: React.createElement(DeleteIcon, { \"data-test-id\": \"deleteApiBtn\" }),\r\n            onClick: () => handleOpenDeleteToken(row.clientId),\r\n            text: t('deleteApiTokenAction'),\r\n            negative: true,\r\n        },\r\n    ];\r\n    return { items, container };\r\n};\n\nconst DeleteApiTokenDialog$1 = ({ onClose, open, token = '' }) => {\r\n    const t = useT('apiTokens_DeleteToken');\r\n    const [submitted, setSubmitted] = react.exports.useState(false);\r\n    const { loaders: { DELETE_API_TOKEN: loading }, errors: { DELETE_API_TOKEN: error }, } = useApiTokensState();\r\n    const { deleteTenantApiToken, setApiTokensError, setApiTokensLoader } = useApiTokensActions();\r\n    react.exports.useEffect(() => {\r\n        setApiTokensError({ key: ApiStateKeys.DELETE_API_TOKEN, value: false });\r\n        setApiTokensLoader({ key: ApiStateKeys.DELETE_API_TOKEN, value: false });\r\n    }, [setApiTokensError, setApiTokensLoader]);\r\n    react.exports.useEffect(() => {\r\n        if (submitted && !error && !loading) {\r\n            onClose();\r\n        }\r\n    }, [submitted, error, loading, onClose]);\r\n    const handleDeleteApiToken = react.exports.useCallback(() => {\r\n        deleteTenantApiToken(token);\r\n        setSubmitted(true);\r\n    }, [token, setSubmitted, deleteTenantApiToken]);\r\n    return (React.createElement(DeleteDialog, { dataTestId: 'deleteApiBtn', title: t('title'), cancelButtonText: t('cancel'), deleteButtonText: t('delete'), description: React.createElement(React.Fragment, null,\r\n            t('areYouSureDeleteApiToken1'),\r\n            \" \",\r\n            React.createElement(\"strong\", null,\r\n                \"(Token: \",\r\n                token,\r\n                \")\"),\r\n            \"? \",\r\n            t('areYouSureDeleteApiToken2')), open: open, error: error, onClose: onClose, loading: !!loading, onDelete: handleDeleteApiToken }));\r\n};\n\nconst ApiTokensTable = () => {\r\n    const t = useT('apiTokens');\r\n    const { injector } = useShadowDom();\r\n    const container = injector === null || injector === void 0 ? void 0 : injector.adminPortalEl;\r\n    const { roles } = useAuthTeamState();\r\n    const { apiTokensDataTenant: tokensData, searchValue, loaders: { LOAD_API_TOKENS: loading } } = useApiTokensState();\r\n    const rolesMap = useRolesMap(roles);\r\n    const { policy, loading: loadingPolicy } = usePublicPolicySettings();\r\n    const isPermissionsAndRolesDisabled = react.exports.useMemo(() => !loadingPolicy && !(policy === null || policy === void 0 ? void 0 : policy.forcePermissions), [loadingPolicy, policy]);\r\n    const [deleteTokenDialog, handleCloseDeleteToken, handleOpenDeleteToken, deleteApiTokenData] = useDialogState();\r\n    const rows = react.exports.useMemo(() => {\r\n        if (!!searchValue) {\r\n            return tokensData.filter((token) => token.description.indexOf(searchValue) !== -1 || token.clientId.indexOf(searchValue) !== -1);\r\n        }\r\n        return tokensData;\r\n    }, [tokensData, searchValue]);\r\n    const columns = react.exports.useMemo(() => ApiTokensTableColumns({\r\n        t,\r\n        rolesMap,\r\n        container,\r\n        isPermissionsAndRolesDisabled,\r\n    }), [container, rolesMap, t, isPermissionsAndRolesDisabled]);\r\n    const getRowActions = react.exports.useMemo(() => ApiTokenTableRowActions({\r\n        t,\r\n        container,\r\n        handleOpenDeleteToken,\r\n    }), [t, container, handleOpenDeleteToken]);\r\n    const tablePlaceholderProps = react.exports.useMemo(() => {\r\n        if (loading) {\r\n            return null;\r\n        }\r\n        else if (!searchValue && rows.length === 0) {\r\n            return {\r\n                show: true,\r\n                icon: React.createElement(APITokenIcon, null),\r\n                title: t('noApiTokensYet'),\r\n                description: t('noApiTokensYetDescription'),\r\n            };\r\n        }\r\n        else if (searchValue && rows.length === 0) {\r\n            return {\r\n                show: true,\r\n                icon: React.createElement(SearchBigIcon, null),\r\n                title: t('noResultFound'),\r\n                description: t('noResultFoundDescription'),\r\n            };\r\n        }\r\n        return null;\r\n    }, [t, loading, searchValue, rows.length]);\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(Table, { \"data-test-id\": \"table\", columns: columns, data: rows, getRowActions: getRowActions, loading: !!loading }, tablePlaceholderProps && React.createElement(TablePlaceholder, Object.assign({}, tablePlaceholderProps))),\r\n        React.createElement(DeleteApiTokenDialog$1, { \"data-test-id\": \"deleteTokenBox\", open: deleteTokenDialog, onClose: handleCloseDeleteToken, token: deleteApiTokenData }));\r\n};\n\nconst ApiTokensHeader = ({ handleOpenAddToken }) => {\r\n    const t = useT('apiTokens');\r\n    const { setApiTokensState } = useApiTokensActions();\r\n    const handleSearchChanged = react.exports.useCallback((e) => setApiTokensState({ searchValue: e.target.value }), [setApiTokensState]);\r\n    const canAddTenantToken = usePermission('fe.secure.write.tenantApiTokens');\r\n    return React.createElement(Grid, { container: true, spacing: 4 },\r\n        React.createElement(Grid, { item: true, xs: 12, sm: 6, md: 4 },\r\n            React.createElement(Box, null,\r\n                React.createElement(Input$1$1, { \"data-test-id\": \"serachBox\", endAdornment: React.createElement(SearchIcon, null), onChange: handleSearchChanged, placeholder: t('searchInputPlaceholder') }))),\r\n        React.createElement(Grid, { item: true, xs: true }),\r\n        canAddTenantToken && React.createElement(Grid, { item: true },\r\n            React.createElement(Button$1, { \"data-test-id\": \"generateTokenBtn\", onClick: handleOpenAddToken }, t('generateTokenButton'))));\r\n};\n\nconst AddTokenSuccessForm$1 = react.exports.forwardRef((props, ref) => {\r\n    const t = useT('apiTokens_AddToken');\r\n    const { successDialog: { clientId, secret } } = useApiTokensState();\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(Dialog$1.Body, { ref: ref },\r\n            React.createElement(Alert$1, { sx: { marginBottom: 4 }, color: \"info\" }, t('copyAndSaveId')),\r\n            React.createElement(InputCopyField, { label: t('clientId'), value: clientId !== null && clientId !== void 0 ? clientId : '' }),\r\n            React.createElement(InputCopyField, { label: t('secretKey'), value: secret !== null && secret !== void 0 ? secret : '' })),\r\n        React.createElement(Dialog$1.Footer, null,\r\n            React.createElement(Button$1, { \"data-test-id\": \"doneBtn\", color: 'secondary', onClick: props.onClose, type: 'reset' }, t('done'))));\r\n});\r\nconst DescriptionField$1 = react.exports.memo(() => {\r\n    const t = useT('apiTokens_AddToken');\r\n    const [fieldProps, { error, touched }] = useField('description');\r\n    return React.createElement(Input$1$1, Object.assign({ label: t('descriptionInputLabel'), \"data-test-id\": \"descriptionBox\" }, fieldProps, { autoFocus: true, error: !!error && touched, errorMessage: error, autoComplete: 'description' }));\r\n});\r\nconst AddTokenForm$1 = react.exports.forwardRef((props, ref) => {\r\n    const t = useT('apiTokens_AddToken');\r\n    const { addTenantApiToken } = useApiTokensActions();\r\n    const { policy } = usePublicPolicySettings();\r\n    const initialValues = react.exports.useMemo(() => ({\r\n        description: '',\r\n        roleIds: [],\r\n    }), []);\r\n    const validationSchema = react.exports.useMemo(() => validateSchema({\r\n        description: validateNotEmpty(t('descriptionIsRequired')),\r\n        roleIds: create().min((policy === null || policy === void 0 ? void 0 : policy.forcePermissions) ? 1 : 0, t('rolesIsRequired')),\r\n    }), [t, policy === null || policy === void 0 ? void 0 : policy.forcePermissions]);\r\n    const formikProps = {\r\n        onSubmit: ({ description, roleIds }) => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, reject);\r\n            addTenantApiToken({ description, roleIds, callback });\r\n        }),\r\n        initialValues,\r\n        validationSchema,\r\n    };\r\n    return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit, formError }) => {\r\n        return React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, { ref: ref },\r\n                React.createElement(DescriptionField$1, null),\r\n                (policy === null || policy === void 0 ? void 0 : policy.forcePermissions) && React.createElement(RolesField$4, { label: t('rolesInputLabel'), placeholder: t('rolesInputPlaceholder') }),\r\n                React.createElement(FormErrorDialogMessage, { message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Box, { flex: 1 }),\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancelBtn\", color: 'inherit', variant: 'text', type: 'reset', onClick: props.onClose }, t('cancel')),\r\n                React.createElement(Button$1, { \"data-test-id\": \"createBtn\", disabled: !canSubmit, loading: isSubmitting, color: 'primary', type: 'submit' }, t('create'))));\r\n    });\r\n});\r\nconst AddTokenSteper$1 = props => {\r\n    const { successDialog: { open } } = useApiTokensState();\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(Slide$1, { in: !open, appear: false, exit: false, unmountOnExit: true, direction: !open ? 'left' : 'right' },\r\n            React.createElement(AddTokenForm$1, Object.assign({}, props))),\r\n        React.createElement(Slide$1, { in: open, mountOnEnter: true, unmountOnExit: true, direction: open ? 'left' : 'right' },\r\n            React.createElement(AddTokenSuccessForm$1, Object.assign({}, props))));\r\n};\r\nconst AddTokenDialog$1 = props => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('apiTokens_AddToken');\r\n    const { successDialog: { open } } = useApiTokensState();\r\n    const title = open ? t('successTitle') : t('title');\r\n    return React.createElement(Dialog$1, Object.assign({ container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { title: title, size: 'sm' }),\r\n        React.createElement(AddTokenSteper$1, Object.assign({}, props)));\r\n};\n\nconst ApiTokensPage$1 = () => {\r\n    const { loadRoles } = useAuthTeamActions();\r\n    const { loadApiTokens, setApiTokensState } = useApiTokensActions();\r\n    const { apiTokensDataTenant } = useApiTokensState();\r\n    const [addTokenDialog, handleCloseAddToken, handleOpenAddToken] = useDialogState();\r\n    react.exports.useEffect(() => {\r\n        const queryObject = { pageOffset: 0, filter: [], silentLoading: apiTokensDataTenant.length > 0 };\r\n        loadRoles();\r\n        loadApiTokens(queryObject);\r\n        return () => loadApiTokens(queryObject);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [loadApiTokens, loadRoles]);\r\n    const onDialogCloseHandler = react.exports.useCallback(() => {\r\n        handleCloseAddToken();\r\n        setTimeout(() => setApiTokensState({ successDialog: { clientId: '', secret: '', open: false } }), 400);\r\n    }, [handleCloseAddToken, setApiTokensState]);\r\n    return (React.createElement(PageWrapper, { flex: 1, display: 'flex', flexDirection: 'column' },\r\n        React.createElement(ApiTokensHeader, { handleOpenAddToken: handleOpenAddToken }),\r\n        React.createElement(Box, { mt: 6, flex: 1, display: 'flex', flexDirection: 'column' },\r\n            React.createElement(ApiTokensTable, null)),\r\n        React.createElement(AddTokenDialog$1, { open: addTokenDialog, onClose: onDialogCloseHandler })));\r\n};\r\nvar ApiTokensPage$2 = ApiTokensPage$1;\n\nvar ApiTokensPage = wrapPage(ApiTokensPage$2, 'apiTokens');\n\nconst AuditLogsHeader = () => {\r\n    const t = useT('auditLogs');\r\n    const prevSearch = react.exports.useRef({ search: null });\r\n    const [search, setSearch] = react.exports.useState('');\r\n    const { loadAuditLogs, exportAuditsCsv } = useAuditsActions();\r\n    const { filter: filters, sort } = useAuditLogsState();\r\n    const searchValue = useDebounce(search, 500);\r\n    const filterOnly = react.exports.useMemo(() => { var _a; return (_a = filters === null || filters === void 0 ? void 0 : filters.filter((f) => f.id !== 'filter')) !== null && _a !== void 0 ? _a : []; }, [filters]);\r\n    const handlerOnSetFilter = react.exports.useCallback((values) => {\r\n        loadAuditLogs({\r\n            pageOffset: 0,\r\n            sort,\r\n            filter: values,\r\n        });\r\n    }, [loadAuditLogs, sort]);\r\n    const AuditsDownloadIcon = styled(default_1)(({ theme }) => ({\r\n        color: theme.palette.grey[500],\r\n    }));\r\n    const handlerSearch = react.exports.useCallback((e) => {\r\n        setSearch(e.target.value);\r\n    }, [setSearch]);\r\n    react.exports.useEffect(() => {\r\n        prevSearch.current.search !== null &&\r\n            prevSearch.current.search !== searchValue &&\r\n            handlerOnSetFilter([...filterOnly, { id: 'filter', value: searchValue.toLowerCase() }]);\r\n        prevSearch.current.search = searchValue;\r\n    }, [searchValue, handlerOnSetFilter, filterOnly, prevSearch]);\r\n    return React.createElement(Grid, { container: true, spacing: 4, justifyContent: \"space-between\" },\r\n        React.createElement(Grid, { item: true, xs: 8, sm: 6, md: 4 },\r\n            React.createElement(Box, null,\r\n                React.createElement(Input$1$1, { \"data-test-id\": \"Search\", endAdornment: React.createElement(SearchIcon, null), onChange: handlerSearch, placeholder: t('searchInputPlaceholder') }))),\r\n        React.createElement(Grid, { item: true },\r\n            React.createElement(Button$1, { \"data-test-id\": \"Download\", size: \"small\", color: \"inherit\", onClick: () => exportAuditsCsv() },\r\n                React.createElement(Box, { component: AuditsDownloadIcon, sx: { height: '0.75rem', width: '0.75rem', marginRight: '0.75rem', marginTop: '0.125rem' } }),\r\n                t('downloadCsvPrimaryButton'))));\r\n};\n\nconst FilterBody = styled(Box)(({ theme }) => ({\r\n    margin: '8px -16px 16px -16px',\r\n    padding: '15px 16px',\r\n    borderBottom: `1px solid ${theme.palette.grey[300]}`,\r\n    borderTop: `1px solid ${theme.palette.grey[300]}`,\r\n}));\r\nconst Selector = styled(Select$1$1)({\r\n    '& .MuiOutlinedInput-root': {\r\n        minWidth: '100%',\r\n    },\r\n});\r\nconst AlphaNumericFilter = ({ value, onChange }) => {\r\n    const [inputState, setInputState] = react.exports.useState(`${value !== null && value !== void 0 ? value : ''}`);\r\n    return (React.createElement(Input$1$1, { autoFocus: true, fullWidth: true, onChange: (e) => {\r\n            setInputState(e.target.value);\r\n            onChange(e.target.value);\r\n        }, value: inputState }));\r\n};\r\nconst SeverityFilter = ({ value, onChange }) => {\r\n    const [selectState, setSelectState] = react.exports.useState(severityOptions[0].value);\r\n    const { injector } = useShadowDom();\r\n    react.exports.useEffect(() => {\r\n        onChange(selectState);\r\n        if (value) {\r\n            setSelectState(severityOptions.filter((o) => o.value === value)[0].value);\r\n        }\r\n        // eslint-disable-next-line\r\n    }, []);\r\n    const handleSelect = react.exports.useCallback((value) => {\r\n        setSelectState(value);\r\n        onChange(value);\r\n    }, [setSelectState, onChange]);\r\n    return (React.createElement(Selector, { container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, fullWidth: true, size: \"small\", placeholder: \"select\", value: selectState, onChange: (value) => handleSelect(value), options: severityOptions }));\r\n};\r\nconst TimeStampFilter = ({ value, onChange }) => {\r\n    const [selectState, setSelectState] = react.exports.useState(value ? timeOptions.filter((f) => f.value === getTimeDiff(value))[0].value : timeOptions[0].value);\r\n    const { injector } = useShadowDom();\r\n    const handleSelect = react.exports.useCallback((value) => {\r\n        setSelectState(value);\r\n        onChange(value);\r\n    }, [onChange, setSelectState]);\r\n    return (React.createElement(Selector, { container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, fullWidth: true, size: \"small\", placeholder: \"select\", value: selectState, onChange: handleSelect, options: timeOptions }));\r\n};\r\nconst Filter = ({ closePopup, value, setFilterValue, type, name }) => {\r\n    const t = useT('auditLogs');\r\n    const [state, setState] = react.exports.useState('');\r\n    const filter = react.exports.useMemo(() => {\r\n        switch (type) {\r\n            case 'Timestamp':\r\n                return React.createElement(TimeStampFilter, { value: value === null || value === void 0 ? void 0 : value.$gt, onChange: (value) => setState(value) });\r\n            case 'Severity':\r\n                return React.createElement(SeverityFilter, { value: value, onChange: (value) => setState(value) });\r\n            default:\r\n                return React.createElement(AlphaNumericFilter, { value: value, onChange: (value) => setState(value) });\r\n        }\r\n    }, [type, value, setState]);\r\n    const handleFilter = react.exports.useCallback((e) => {\r\n        e.preventDefault();\r\n        getFilterType(type) === 'input'\r\n            ? !!state.trim() && setFilterValue(state)\r\n            : setFilterValue(type === 'Timestamp' ? getFilterTime(state) : state);\r\n    }, [type, state, setFilterValue]);\r\n    const FilterFooter = react.exports.useCallback(() => {\r\n        return (React.createElement(Grid, { container: true, spacing: 2, paddingBottom: 1 },\r\n            React.createElement(Grid, { item: true, xs: 6 },\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancelBtn\", type: \"button\", color: \"inherit\", size: \"small\", fullWidth: true, onClick: () => {\r\n                        !!value && setFilterValue(null);\r\n                        closePopup === null || closePopup === void 0 ? void 0 : closePopup();\r\n                    } }, value ? t('clear') : t('cancel'))),\r\n            React.createElement(Grid, { item: true, xs: 6 },\r\n                React.createElement(Button$1, { \"data-test-id\": \"submit-btn\", size: \"small\", type: \"submit\", fullWidth: true, color: \"primary\" }, t('filter')))));\r\n    }, [setFilterValue, closePopup, t, value]);\r\n    return (React.createElement(Box, null,\r\n        React.createElement(\"form\", { onSubmit: (e) => {\r\n                handleFilter(e);\r\n                closePopup === null || closePopup === void 0 ? void 0 : closePopup();\r\n            } },\r\n            React.createElement(Typography$1, { variant: \"tableFilterTitle\" },\r\n                t('filterBy'),\r\n                \" \",\r\n                getFilterName(name)),\r\n            React.createElement(FilterBody, null, filter),\r\n            React.createElement(FilterFooter, null))));\r\n};\n\nconst AuditLogsTableColumns = ({ columnsMetadata, container }) => {\r\n    return columnsMetadata.filter(c => c.showInTable).map(c => {\r\n        switch (c.type) {\r\n            case 'Timestamp':\r\n                return {\r\n                    id: c.name,\r\n                    Header: c.displayName,\r\n                    accessor: (row) => ({ date: row[c.name] }),\r\n                    Cell: TableDateCell,\r\n                    Filter: c.filterable\r\n                        ? ({ value, setFilterValue, closePopup }) => (React.createElement(Filter, { name: c.name, value: value, setFilterValue: setFilterValue, closePopup: closePopup, type: c.type }))\r\n                        : undefined,\r\n                    width: 160,\r\n                    maxWidth: 160,\r\n                    sortable: c.sortable,\r\n                };\r\n            case 'Email':\r\n                return {\r\n                    id: c.name,\r\n                    Header: c.displayName,\r\n                    accessor: (row) => ({ email: row[c.name], name: row['user'] }),\r\n                    Cell: TableUserCell,\r\n                    Filter: c.filterable\r\n                        ? ({ value, setFilterValue, closePopup }) => (React.createElement(Filter, { name: c.name, value: value, setFilterValue: setFilterValue, closePopup: closePopup, type: c.type }))\r\n                        : undefined,\r\n                    width: 280,\r\n                    maxWidth: 280,\r\n                    sortable: c.sortable,\r\n                };\r\n            case 'IpAddress':\r\n                return {\r\n                    id: c.name,\r\n                    Header: c.displayName,\r\n                    accessor: (row) => ({ ip: row[c.name], container, getIpMetadata }),\r\n                    Cell: TableIpCell,\r\n                    Filter: c.filterable\r\n                        ? ({ value, setFilterValue, closePopup }) => (React.createElement(Filter, { name: c.name, value: value, setFilterValue: setFilterValue, closePopup: closePopup, type: c.type }))\r\n                        : undefined,\r\n                    width: 280,\r\n                    maxWidth: 280,\r\n                    sortable: c.sortable,\r\n                };\r\n            case 'Json':\r\n                return {\r\n                    id: c.name,\r\n                    Header: c.displayName,\r\n                    accessor: (row) => ({ json: Array.isArray(row[c.name]) ? row[c.name] : [row[c.name]], container }),\r\n                    Cell: TableJsonCell,\r\n                    width: 150,\r\n                    maxWidth: 150,\r\n                    sortable: c.sortable,\r\n                };\r\n            case 'Severity':\r\n                return {\r\n                    id: c.name,\r\n                    Header: c.displayName,\r\n                    accessor: (row) => ({ label: row[c.name], severity: getSeverityByName(row[c.name]) }),\r\n                    Cell: TableSeverityCell,\r\n                    Filter: c.filterable\r\n                        ? ({ value, setFilterValue, closePopup }) => (React.createElement(Filter, { name: c.name, value: value, setFilterValue: setFilterValue, closePopup: closePopup, type: c.type }))\r\n                        : undefined,\r\n                    width: 150,\r\n                    maxWidth: 150,\r\n                    sortable: c.sortable,\r\n                };\r\n            default:\r\n                return {\r\n                    id: c.name,\r\n                    Header: c.displayName,\r\n                    accessor: (row) => ({ description: row[c.name], container }),\r\n                    Cell: TableTextCell,\r\n                    Filter: c.filterable\r\n                        ? ({ value, setFilterValue, closePopup }) => (React.createElement(Filter, { name: c.name, value: value, setFilterValue: setFilterValue, closePopup: closePopup, type: c.type }))\r\n                        : undefined,\r\n                    minWidth: 220,\r\n                    sortable: c.sortable,\r\n                };\r\n        }\r\n    }).filter(c => !!c);\r\n};\n\nconst AuditLogsTable = () => {\r\n    var _a, _b;\r\n    const t = useT('auditLogs');\r\n    const { injector } = useShadowDom();\r\n    const { searching } = useTableSearch();\r\n    const { loadAuditLogs } = useAuditsActions();\r\n    const { columns: columnsMetadata } = useAuditsMetadataState();\r\n    const _c = useAuditLogsState(), { loading, totalPages, pageOffset, pageSize, sort, filter: filters } = _c, auditLogsState = __rest(_c, [\"loading\", \"totalPages\", \"pageOffset\", \"pageSize\", \"sort\", \"filter\"]);\r\n    const logs = (_a = auditLogsState === null || auditLogsState === void 0 ? void 0 : auditLogsState.logs) !== null && _a !== void 0 ? _a : [];\r\n    const columns = react.exports.useMemo(() => {\r\n        var _a;\r\n        return AuditLogsTableColumns({\r\n            columnsMetadata: columnsMetadata !== null && columnsMetadata !== void 0 ? columnsMetadata : [],\r\n            container: (_a = injector === null || injector === void 0 ? void 0 : injector.adminPortalEl) !== null && _a !== void 0 ? _a : document.body,\r\n        });\r\n    }, [t, columnsMetadata, injector === null || injector === void 0 ? void 0 : injector.adminPortalEl]);\r\n    const onPageChange = react.exports.useCallback((_, page) => {\r\n        loadAuditLogs({ pageOffset: pageSize * (page - 1) });\r\n    }, [loadAuditLogs, pageSize]);\r\n    const handlerSortChange = react.exports.useCallback((sortBy) => {\r\n        loadAuditLogs({\r\n            pageOffset: 0,\r\n            sort: sortBy,\r\n            filter: filters,\r\n        });\r\n    }, [loadAuditLogs, filters]);\r\n    const handlerFilterChange = react.exports.useCallback((_filters) => {\r\n        loadAuditLogs({\r\n            pageOffset: 0,\r\n            sort,\r\n            filter: _filters,\r\n        });\r\n    }, [loadAuditLogs, sort]);\r\n    const tablePlaceholderProps = react.exports.useMemo(() => {\r\n        if (loading) {\r\n            return null;\r\n        }\r\n        else if (logs.length === 0) {\r\n            return {\r\n                show: true,\r\n                icon: React.createElement(SearchBigIcon, null),\r\n                title: t('noResultFound'),\r\n                description: t('noResultFoundDescription'),\r\n            };\r\n        }\r\n        return null;\r\n    }, [t, loading, logs.length]);\r\n    const moreInfoColumns = columnsMetadata === null || columnsMetadata === void 0 ? void 0 : columnsMetadata.filter(c => str2bool(c.showInMoreInfo));\r\n    const TableExpandRow = react.exports.useCallback((row) => {\r\n        const rowToDisplay = {};\r\n        moreInfoColumns === null || moreInfoColumns === void 0 ? void 0 : moreInfoColumns.filter(c => !!row.original[c.name]).forEach(c => {\r\n            if (c.type === 'Timestamp') {\r\n                const date = new Date(row.original[c.name]);\r\n                if (!isValid$2(date)) {\r\n                    return rowToDisplay[c.displayName] = '-';\r\n                }\r\n                return rowToDisplay[c.displayName] = format$1(date, 'dd/MM/yyyy hh:mm:ss bb');\r\n            }\r\n            return rowToDisplay[c.displayName] = row.original[c.name];\r\n        });\r\n        return React.createElement(TableExpandableRow, { row: rowToDisplay });\r\n    }, [moreInfoColumns]);\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(Table, { container: (_b = injector === null || injector === void 0 ? void 0 : injector.adminPortalEl) !== null && _b !== void 0 ? _b : document.body, columns: columns, data: logs, loading: loading, searching: searching, loadingText: searching ? t('searchingPlaceholder') : undefined, totalPages: totalPages, pageOffset: Math.floor(pageOffset / pageSize), sortBy: sort, filters: filters, onSortChange: handlerSortChange, onFilterChange: handlerFilterChange, renderExpandedComponent: !(moreInfoColumns === null || moreInfoColumns === void 0 ? void 0 : moreInfoColumns.length) ? undefined : TableExpandRow, onPageChange: onPageChange }, tablePlaceholderProps && React.createElement(TablePlaceholder, Object.assign({}, tablePlaceholderProps))));\r\n};\n\nconst SubHeaderChip = styled(Chip)({\r\n    marginRight: '0.75rem',\r\n});\r\nconst ChipsContainer = styled(Box)({\r\n    marginTop: '1rem',\r\n});\r\nconst AuditLogsSubHeader = () => {\r\n    const { sort, filter } = useAuditLogsState();\r\n    const { loadAuditLogs } = useAuditsActions();\r\n    const handleFilterDelete = react.exports.useCallback((id) => {\r\n        loadAuditLogs({\r\n            pageOffset: 0,\r\n            sort,\r\n            filter: filter.filter(f => f.id !== id),\r\n        });\r\n    }, [loadAuditLogs, sort, filter]);\r\n    const chipLabel = react.exports.useCallback((id, value) => {\r\n        if (typeof value === 'object') {\r\n            return React.createElement(Box, { display: 'flex', alignItems: 'center' },\r\n                getFilterName(id),\r\n                \": \",\r\n                React.createElement(Typography$1, { variant: 'tableFilterChipInfo', marginLeft: '5px' }, format$1(new Date(Date.parse(value.$gt)), 'yyyy/MM/dd h:mm a')));\r\n        }\r\n        return React.createElement(Box, { display: 'flex', alignItems: 'center' },\r\n            getFilterName(id),\r\n            \": \",\r\n            React.createElement(Typography$1, { variant: 'tableFilterChipInfo', marginLeft: '5px' }, value));\r\n    }, []);\r\n    return (React.createElement(ChipsContainer, null, filter.filter(f => f.id !== 'filter').map(f => React.createElement(SubHeaderChip, { label: chipLabel(f.id, f.value), key: f.value, onDelete: () => handleFilterDelete(f.id), deleteIcon: React.createElement(CrossBtnIcon, null) }))));\r\n};\n\nconst AuditLogsPage$1 = () => {\r\n    var _a;\r\n    const [searching, setSearching] = react.exports.useState(false);\r\n    const [searchQuery, onSearch] = react.exports.useState('');\r\n    const auditLogsState = useAuditLogsState();\r\n    const logs = (_a = auditLogsState === null || auditLogsState === void 0 ? void 0 : auditLogsState.logs) !== null && _a !== void 0 ? _a : [];\r\n    const { loadAuditLogs } = useAuditLogsActions();\r\n    react.exports.useEffect(() => {\r\n        const queryObject = { pageOffset: 0, sort: [{ id: 'createdAt', desc: true }], silentLoading: logs.length > 0 };\r\n        loadAuditLogs(queryObject);\r\n        return () => loadAuditLogs(queryObject);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [loadAuditLogs]);\r\n    return React.createElement(PageWrapper, { flex: 1, display: 'flex', flexDirection: 'column' },\r\n        React.createElement(TableSearchContext.Provider, { value: { searching, searchQuery, onSearch, setSearching } },\r\n            React.createElement(AuditLogsHeader, null),\r\n            React.createElement(AuditLogsSubHeader, null),\r\n            React.createElement(Box, { mt: 1, flex: 1, display: 'flex', flexDirection: 'column' },\r\n                React.createElement(AuditLogsTable, null))));\r\n};\r\nvar AuditLogsPage$2 = AuditLogsPage$1;\n\nvar AuditLogsPage = wrapPage(AuditLogsPage$2, 'auditLogs');\n\n//TODO change data test id from doneBtn to done-btn\r\n//TODO change data test id from clientId to copy-client-id-box moved it to the component\r\n//TODO change data test id from secretKey to copy-secret-key-box moved it to the component\r\nconst AddTokenSuccessForm = react.exports.forwardRef((props, ref) => {\r\n    const t = useT('personalTokens_AddToken');\r\n    const { successDialog: { clientId, secret } } = useApiTokensState();\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(Dialog$1.Body, { ref: ref },\r\n            React.createElement(Alert$1, { sx: { marginBottom: 4 }, color: \"info\" }, t('copyAndSaveId')),\r\n            React.createElement(InputCopyField, { testId: \"copy-client-id\", label: t('clientId'), value: clientId !== null && clientId !== void 0 ? clientId : '' }),\r\n            React.createElement(InputCopyField, { testId: \"copy-secret-key\", label: t('secretKey'), value: secret !== null && secret !== void 0 ? secret : '' })),\r\n        React.createElement(Dialog$1.Footer, null,\r\n            React.createElement(Button$1, { \"data-test-id\": \"done-btn\", color: 'secondary', onClick: props.onClose, type: 'reset' }, t('done'))));\r\n});\r\n//TODO change data test id from descriptionBox to description-box\r\nconst DescriptionField = react.exports.memo(() => {\r\n    const t = useT('personalTokens_AddToken');\r\n    const [fieldProps, { error, touched }] = useField('description');\r\n    return React.createElement(Input$1$1, Object.assign({ label: t('descriptionInputLabel'), \"data-test-id\": \"description-box\" }, fieldProps, { autoFocus: true, error: !!error && touched, errorMessage: error, autoComplete: 'description' }));\r\n});\r\nconst AddTokenForm = react.exports.forwardRef((props, ref) => {\r\n    const t = useT('personalTokens_AddToken');\r\n    const { addUserApiToken } = useApiTokensActions();\r\n    const initialValues = react.exports.useMemo(() => ({\r\n        description: '',\r\n    }), []);\r\n    const validationSchema = react.exports.useMemo(() => validateSchema({\r\n        description: validateNotEmpty(t('descriptionIsRequired')),\r\n    }), [t]);\r\n    const formikProps = {\r\n        onSubmit: ({ description }) => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, reject);\r\n            addUserApiToken({ description, callback });\r\n        }),\r\n        initialValues,\r\n        validationSchema,\r\n    };\r\n    //TODO change data test id from cancelBtn to cancel-btn\r\n    //TODO change data test id from createBtn to create-btn\r\n    return React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit, formError }) => {\r\n        return React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, { ref: ref },\r\n                React.createElement(DescriptionField, null),\r\n                React.createElement(FormErrorDialogMessage, { message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Box, { flex: 1 }),\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancel-btn\", color: 'inherit', variant: 'text', type: 'reset', onClick: props.onClose }, t('cancel')),\r\n                React.createElement(Button$1, { \"data-test-id\": \"create-btn\", disabled: !canSubmit, loading: isSubmitting, color: 'primary', type: 'submit' }, t('create'))));\r\n    });\r\n});\r\nconst AddTokenSteper = props => {\r\n    const { successDialog: { open } } = useApiTokensState();\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(Slide$1, { in: !open, appear: false, exit: false, unmountOnExit: true, direction: !open ? 'left' : 'right' },\r\n            React.createElement(AddTokenForm, Object.assign({}, props))),\r\n        React.createElement(Slide$1, { in: open, mountOnEnter: true, unmountOnExit: true, direction: open ? 'left' : 'right' },\r\n            React.createElement(AddTokenSuccessForm, Object.assign({}, props))));\r\n};\r\nconst AddTokenDialog = props => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('personalTokens_AddToken');\r\n    const { successDialog: { open } } = useApiTokensState();\r\n    const title = open ? t('successTitle') : t('title');\r\n    return React.createElement(Dialog$1, Object.assign({ container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { title: title, size: 'sm' }),\r\n        React.createElement(AddTokenSteper, Object.assign({}, props)));\r\n};\n\nconst PersonalTokensHeader = ({ handleOpenAddToken }) => {\r\n    const t = useT('personalTokens');\r\n    const { setApiTokensState } = useApiTokensActions();\r\n    const handleSearchChanged = react.exports.useCallback((e) => setApiTokensState({ searchValue: e.target.value }), [setApiTokensState]);\r\n    //TODO change data test id from searchBox to search-box\r\n    //TODO change data test id from generateToken to generate-token\r\n    return React.createElement(Grid, { container: true, spacing: 4 },\r\n        React.createElement(Grid, { item: true, xs: 12, sm: 6, md: 4 },\r\n            React.createElement(Box, null,\r\n                React.createElement(Input$1$1, { \"data-test-id\": \"search-box\", endAdornment: React.createElement(SearchIcon, null), onChange: handleSearchChanged, placeholder: t('searchInputPlaceholder') }))),\r\n        React.createElement(Grid, { item: true, xs: true }),\r\n        React.createElement(Grid, { item: true },\r\n            React.createElement(Button$1, { \"data-test-id\": \"generate-token\", onClick: handleOpenAddToken }, t('generateTokenButton'))));\r\n};\n\nconst PersonalTokensTableColumns = ({ t }) => [\r\n    {\r\n        Header: t('clientIdHeader'),\r\n        accessor: ({ clientId, description }) => ({ title: description, description: clientId, copyValue: clientId, testId: 'client-id' }),\r\n        minWidth: 400,\r\n        Cell: TableCopyCell,\r\n    },\r\n    {\r\n        Header: t('createdOnHeader'),\r\n        accessor: ({ createdAt }) => ({ date: createdAt }),\r\n        width: 250,\r\n        maxWidth: 250,\r\n        Cell: TableDateCell,\r\n    },\r\n];\r\nconst PersonalTokenTableRowActions = ({ t, container, handleOpenDeleteToken, }) => (row) => {\r\n    const items = [\r\n        {\r\n            icon: React.createElement(DeleteIcon, { \"data-test-id\": \"delete-token\" }),\r\n            onClick: () => handleOpenDeleteToken(row.clientId),\r\n            text: t('deleteApiTokenAction'),\r\n            negative: true,\r\n        },\r\n    ];\r\n    return { items, container };\r\n};\n\nconst DeleteApiTokenDialog = ({ onClose, open, token = '' }) => {\r\n    const t = useT('personalTokens_DeleteToken');\r\n    const [submitted, setSubmitted] = react.exports.useState(false);\r\n    const { loaders: { DELETE_API_TOKEN: loading }, errors: { DELETE_API_TOKEN: error }, } = useApiTokensState();\r\n    const { deleteUserApiToken, setApiTokensError, setApiTokensLoader } = useApiTokensActions();\r\n    react.exports.useEffect(() => {\r\n        setApiTokensError({ key: ApiStateKeys.DELETE_API_TOKEN, value: false });\r\n        setApiTokensLoader({ key: ApiStateKeys.DELETE_API_TOKEN, value: false });\r\n    }, [setApiTokensError, setApiTokensLoader]);\r\n    react.exports.useEffect(() => {\r\n        if (submitted && !error && !loading) {\r\n            onClose();\r\n        }\r\n    }, [submitted, error, loading, onClose]);\r\n    const handleDeleteApiToken = react.exports.useCallback(() => {\r\n        deleteUserApiToken(token);\r\n        setSubmitted(true);\r\n    }, [token, setSubmitted, deleteUserApiToken]);\r\n    return (React.createElement(DeleteDialog, { dataTestId: 'deleteApiBtn', title: t('title'), cancelButtonText: t('cancel'), deleteButtonText: t('delete'), description: React.createElement(React.Fragment, null,\r\n            t('areYouSureDeleteApiToken1'),\r\n            \" \",\r\n            React.createElement(\"strong\", null,\r\n                \"(Token: \",\r\n                token,\r\n                \")\"),\r\n            \"? \",\r\n            t('areYouSureDeleteApiToken2')), open: open, error: error, onClose: onClose, loading: !!loading, onDelete: handleDeleteApiToken }));\r\n};\n\nconst PersonalTokensTable = () => {\r\n    const t = useT('personalTokens');\r\n    const { injector } = useShadowDom();\r\n    const container = injector === null || injector === void 0 ? void 0 : injector.adminPortalEl;\r\n    const { apiTokensDataUser: tokensData, searchValue, loaders: { LOAD_API_TOKENS: loading } } = useApiTokensState();\r\n    const [deleteTokenDialog, handleCloseDeleteToken, handleOpenDeleteToken, deleteApiTokenData] = useDialogState();\r\n    const rows = react.exports.useMemo(() => {\r\n        if (!!searchValue) {\r\n            return tokensData.filter((token) => token.description.indexOf(searchValue) !== -1 || token.clientId.indexOf(searchValue) !== -1);\r\n        }\r\n        return tokensData;\r\n    }, [tokensData, searchValue]);\r\n    const columns = react.exports.useMemo(() => PersonalTokensTableColumns({ t }), [t]);\r\n    const getRowActions = react.exports.useMemo(() => PersonalTokenTableRowActions({\r\n        t,\r\n        container,\r\n        handleOpenDeleteToken,\r\n    }), [t, container, handleOpenDeleteToken]);\r\n    const tablePlaceholderProps = react.exports.useMemo(() => {\r\n        if (loading) {\r\n            return null;\r\n        }\r\n        else if (!searchValue && rows.length === 0) {\r\n            return {\r\n                show: true,\r\n                icon: React.createElement(APITokenIcon, null),\r\n                title: t('noApiTokensYet'),\r\n                description: t('noApiTokensYetDescription'),\r\n                testId: 'empty-table-personal-tokens'\r\n            };\r\n        }\r\n        else if (searchValue && rows.length === 0) {\r\n            return {\r\n                show: true,\r\n                icon: React.createElement(SearchBigIcon, null),\r\n                title: t('noResultFound'),\r\n                description: t('noResultFoundDescription'),\r\n                testId: 'empty-search-personal-tokens'\r\n            };\r\n        }\r\n        return null;\r\n    }, [t, loading, searchValue, rows.length]);\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(Table, { columns: columns, data: rows, getRowActions: getRowActions, loading: !!loading }, tablePlaceholderProps && React.createElement(TablePlaceholder, Object.assign({}, tablePlaceholderProps))),\r\n        React.createElement(DeleteApiTokenDialog, { open: deleteTokenDialog, onClose: handleCloseDeleteToken, token: deleteApiTokenData }));\r\n};\n\nconst PersonalTokensPage$1 = () => {\r\n    const { loadRoles } = useAuthTeamActions();\r\n    const { loadApiTokens, setApiTokensState } = useApiTokensActions();\r\n    const { apiTokensDataUser } = useApiTokensState();\r\n    const [addTokenDialog, handleCloseAddToken, handleOpenAddToken] = useDialogState();\r\n    react.exports.useEffect(() => {\r\n        const queryObject = { pageOffset: 0, filter: [], silentLoading: apiTokensDataUser.length > 0 };\r\n        loadRoles();\r\n        loadApiTokens(queryObject);\r\n        return () => loadApiTokens(queryObject);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [loadApiTokens, loadRoles]);\r\n    const onDialogCloseHandler = react.exports.useCallback(() => {\r\n        handleCloseAddToken();\r\n        setTimeout(() => setApiTokensState({ successDialog: { clientId: '', secret: '', open: false } }), 400);\r\n    }, [handleCloseAddToken, setApiTokensState]);\r\n    return (React.createElement(PageWrapper, { flex: 1, display: 'flex', flexDirection: 'column' },\r\n        React.createElement(PersonalTokensHeader, { handleOpenAddToken: handleOpenAddToken }),\r\n        React.createElement(Box, { mt: 6, flex: 1, display: 'flex', flexDirection: 'column' },\r\n            React.createElement(PersonalTokensTable, null)),\r\n        React.createElement(AddTokenDialog, { open: addTokenDialog, onClose: onDialogCloseHandler })));\r\n};\r\nvar PersonalTokensPage$2 = PersonalTokensPage$1;\n\nvar PersonalTokensPage = wrapPage(PersonalTokensPage$2, 'personalTokens');\n\nstyled(Skeleton) `\n  &.MuiSkeleton-root {\n    height: ${({ theme }) => theme.spacing(12)};\n    width: 100%;\n    transform: scale(1, 1);\n    margin-bottom: ${({ theme }) => theme.spacing(2)};\n  }\n`;\r\nconst BoxSkeleton = styled(Skeleton) `\n  &.MuiSkeleton-root {\n    width: 100%;\n    transform: scale(1, 1);\n    margin-bottom: ${({ theme }) => theme.spacing(4)};\n  }\n`;\n\nconst CurrentPlanComponentSkeleton = () => {\r\n    return (React.createElement(Grid, { container: true },\r\n        React.createElement(Grid, { item: true, xs: true, p: 0 },\r\n            React.createElement(Skeleton, { height: 52, width: '80%' }),\r\n            React.createElement(Skeleton, { height: 24, width: '60%' }),\r\n            React.createElement(Skeleton, { height: 32, width: '100%' })),\r\n        React.createElement(Grid, { item: true, container: true, xs: true, p: 0, direction: 'column' },\r\n            React.createElement(Grid, { container: true, mb: 12, justifyContent: 'flex-end' },\r\n                React.createElement(Grid, { item: true, mr: 6 },\r\n                    React.createElement(BoxSkeleton, { height: 40, width: 132 })),\r\n                React.createElement(Grid, { item: true },\r\n                    React.createElement(BoxSkeleton, { height: 40, width: 132 }))))));\r\n};\n\nconst INVOICE_DATE_FORMAT = 'MMM dd, yyyy';\r\nconst BILLING_INFORMATION_PLAN_DATE_FORMAT = 'MMM dd, yyyy';\r\nconst DATE_FILENAME_FORMAT = 'ddMMyyyy';\n\nconst useSubscriptionPermissions = (permission) => {\r\n    return usePermission(permission || 'fe.subscriptions.write.*');\r\n};\r\nconst useBillingMetadata = () => {\r\n    var _a, _b, _c, _d;\r\n    const { summary, plan } = useBillingInformation();\r\n    const { vendorPublicConfig } = useVendorPublicConfig();\r\n    const { subscription } = useSubscription();\r\n    const { plans } = usePlans();\r\n    const now = Date.now();\r\n    const { cancellation, status, trialEnd } = subscription || {};\r\n    const willBeCanceled = (cancellation === null || cancellation === void 0 ? void 0 : cancellation.policy) === ISubscriptionCancellationPolicy.AT_PERIOD_END;\r\n    const isCanceled = status === ISubscriptionStatus.CANCELED;\r\n    const isDefaultPlan = (summary === null || summary === void 0 ? void 0 : summary.defaultPlanId) === (summary === null || summary === void 0 ? void 0 : summary.currentPlanId);\r\n    const isTrialing = status === ISubscriptionStatus.TRIALING;\r\n    const isInTrialPeriod = trialEnd && new Date(trialEnd).getTime() > now;\r\n    const isExternallyManaged = (summary === null || summary === void 0 ? void 0 : summary.externallyManaged) || false;\r\n    const hasPaymentMethod = !!(summary === null || summary === void 0 ? void 0 : summary.paymentMethodId);\r\n    const isFreePlan = ((_b = (_a = plan === null || plan === void 0 ? void 0 : plan.name) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === null || _b === void 0 ? void 0 : _b.includes('free')) || ((_d = (_c = plan === null || plan === void 0 ? void 0 : plan.description) === null || _c === void 0 ? void 0 : _c.toLowerCase()) === null || _d === void 0 ? void 0 : _d.includes('free'));\r\n    const plansAmount = plans === null || plans === void 0 ? void 0 : plans.length;\r\n    const isSingularPlan = plansAmount === 1;\r\n    const defaultPlanId = summary === null || summary === void 0 ? void 0 : summary.defaultPlanId;\r\n    const hasTrialEnded = status === ISubscriptionStatus.TRIAL_ENDED;\r\n    const currentPlanIndex = plans.findIndex((p) => p.id === (plan === null || plan === void 0 ? void 0 : plan.id));\r\n    const canDowngrade = currentPlanIndex <= 0 || (vendorPublicConfig === null || vendorPublicConfig === void 0 ? void 0 : vendorPublicConfig.allowPlanDowngrade);\r\n    const canUpgrade = currentPlanIndex < plansAmount - 1;\r\n    const canCancel = !!(vendorPublicConfig === null || vendorPublicConfig === void 0 ? void 0 : vendorPublicConfig.allowPlanCancellation);\r\n    return react.exports.useMemo(() => ({\r\n        isCanceled,\r\n        willBeCanceled,\r\n        isDefaultPlan,\r\n        isTrialing,\r\n        isInTrialPeriod,\r\n        isExternallyManaged,\r\n        hasPaymentMethod,\r\n        isFreePlan,\r\n        isSingularPlan,\r\n        defaultPlanId,\r\n        hasTrialEnded,\r\n        canDowngrade,\r\n        canUpgrade,\r\n        canCancel,\r\n    }), [\r\n        isCanceled,\r\n        willBeCanceled,\r\n        isDefaultPlan,\r\n        isTrialing,\r\n        isInTrialPeriod,\r\n        isExternallyManaged,\r\n        hasPaymentMethod,\r\n        isFreePlan,\r\n        isSingularPlan,\r\n        defaultPlanId,\r\n        hasTrialEnded,\r\n        canDowngrade,\r\n        canUpgrade,\r\n        canCancel,\r\n    ]);\r\n};\n\nconst CanceledChip = () => {\r\n    const t = useT('subscriptions_CurrentPlan');\r\n    return React.createElement(StatusChip, { status: 'error', withIcons: false, label: t('canceled') });\r\n};\n\nconst TrialingChip = () => {\r\n    const t = useT('subscriptions_CurrentPlan');\r\n    return React.createElement(StatusChip, { status: 'default', withIcons: false, label: t('trialing') });\r\n};\n\nconst TrialEndedChip = () => {\r\n    const t = useT('subscriptions_CurrentPlan');\r\n    return React.createElement(StatusChip, { status: 'error', withIcons: false, label: t('trialEnded') });\r\n};\n\nconst subscriptionStatusChipMap = {\r\n    [ISubscriptionStatus.INCOMPLETE]: null,\r\n    [ISubscriptionStatus.ACTIVE]: null,\r\n    [ISubscriptionStatus.TRIALING]: TrialingChip,\r\n    [ISubscriptionStatus.CANCELED]: CanceledChip,\r\n    [ISubscriptionStatus.TRIAL_ENDED]: TrialEndedChip,\r\n    [ISubscriptionStatus.EXPIRED]: null,\r\n};\n\nconst PlanDetailsStatusChip = () => {\r\n    const { subscription } = useSubscription();\r\n    const { willBeCanceled } = useBillingMetadata();\r\n    let Component = (subscription === null || subscription === void 0 ? void 0 : subscription.status) && subscriptionStatusChipMap[subscription.status];\r\n    if (willBeCanceled) {\r\n        Component = subscriptionStatusChipMap[ISubscriptionStatus.CANCELED];\r\n    }\r\n    if (!Component) {\r\n        return null;\r\n    }\r\n    return React.createElement(Component, null);\r\n};\n\nconst PlanDetails = () => {\r\n    const t = useT('subscriptions_CurrentPlan');\r\n    const { plan } = useBillingInformation();\r\n    const { subscription } = useSubscription();\r\n    const { isTrialing, isExternallyManaged, isFreePlan, willBeCanceled, hasTrialEnded } = useBillingMetadata();\r\n    const { name = t('unknownPlan'), price = 0, currency = 'usd', description: priceDescription } = plan || {};\r\n    const priceString = `${toCurrencySymbol(currency)}${toPriceDisplay(price)}`;\r\n    let description = '';\r\n    if (!isExternallyManaged) {\r\n        if (isTrialing && (subscription === null || subscription === void 0 ? void 0 : subscription.trialEnd)) {\r\n            description = t('yourPlanIsTrialing', {\r\n                periodEnd: format(new Date(subscription === null || subscription === void 0 ? void 0 : subscription.trialEnd), BILLING_INFORMATION_PLAN_DATE_FORMAT),\r\n            });\r\n        }\r\n        else if ((subscription === null || subscription === void 0 ? void 0 : subscription.currentPeriodEnd) && !isFreePlan && !hasTrialEnded) {\r\n            description = t(willBeCanceled ? 'yourPlanWillBeCanceled' : 'yourPlanWillBeRenewed', {\r\n                periodEnd: format(new Date(subscription === null || subscription === void 0 ? void 0 : subscription.currentPeriodEnd), BILLING_INFORMATION_PLAN_DATE_FORMAT),\r\n            });\r\n        }\r\n    }\r\n    return (React.createElement(Grid, { container: true, direction: 'column' },\r\n        React.createElement(Grid, { item: true, container: true, alignItems: 'center', mb: 4 },\r\n            React.createElement(Grid, { item: true, pr: 2 },\r\n                React.createElement(Typography$1, { variant: 'h3' }, name)),\r\n            React.createElement(Grid, { item: true, pt: 3 },\r\n                React.createElement(PlanDetailsStatusChip, null))),\r\n        React.createElement(Grid, { item: true, mb: !description ? 0 : 10 },\r\n            React.createElement(Typography$1, { variant: 'subtitle1' }, priceDescription ? React.createElement(TextBreakLine, { text: priceDescription }) : t('priceSubtitle', { price: priceString }))),\r\n        description && (React.createElement(Grid, { item: true },\r\n            React.createElement(Typography$1, { variant: 'body2' }, description)))));\r\n};\n\nconst RowActionButtons = ({ main, secondary }) => {\r\n    return (React.createElement(Grid, { item: true, container: true, xs: true, p: 0, direction: 'column' },\r\n        React.createElement(Grid, { container: true, mb: 12, justifyContent: 'flex-end' },\r\n            React.createElement(Grid, { item: true, mr: 6 }, main),\r\n            React.createElement(Grid, { item: true }, secondary))));\r\n};\n\nconst SelectPlanButton = ({ onClick }) => {\r\n    const t = useT('subscriptions_CurrentPlan');\r\n    return (React.createElement(Button$1, { \"data-test-id\": 'updateButton', variant: \"contained\", color: \"primary\", onClick: onClick }, t('updateButton')));\r\n};\n\nconst RenewDialogBody = () => {\r\n    const t = useT('subscriptions_Renewal');\r\n    const { subscription } = useSubscription();\r\n    const endDate = (subscription === null || subscription === void 0 ? void 0 : subscription.currentPeriodEnd) ? format(new Date(subscription === null || subscription === void 0 ? void 0 : subscription.currentPeriodEnd), BILLING_INFORMATION_PLAN_DATE_FORMAT)\r\n        : t('unknownDate');\r\n    return (React.createElement(Typography$1, { variant: 'body1' }, t('description', { renewalDate: endDate })));\r\n};\n\nconst RenewDialogFooter = ({ onClose }) => {\r\n    const { loading, error } = useSubscriptionRenewal();\r\n    const { renewSubscription } = useBillingInformationActions();\r\n    return (React.createElement(SubscriptionDialogFooter, { cancel: { onClick: onClose, disabled: loading }, confirm: { loading, disabled: !!error, onClick: renewSubscription, text: 'confirm' } }));\r\n};\n\nconst RenewDialog = ({ open, onClose }) => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('subscriptions');\r\n    return (React.createElement(Dialog$1, { open: open, onClose: onClose, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, title: t('dialogRenewalTitle'), size: \"sm\" },\r\n        React.createElement(Dialog$1.Body, null,\r\n            React.createElement(RenewDialogBody, null)),\r\n        React.createElement(Dialog$1.Footer, null,\r\n            React.createElement(RenewDialogFooter, { onClose: onClose }))));\r\n};\n\nconst RenewButton = () => {\r\n    const t = useT('subscriptions_CurrentPlan');\r\n    const [isOpen, closeDialog, openDialog] = useDialogState();\r\n    const { loading } = useSubscriptionRenewal();\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(Button$1, { loading: loading, \"data-test-id\": 'renewButton', variant: \"contained\", color: \"primary\", onClick: openDialog }, t('renewButton')),\r\n        React.createElement(RenewDialog, { open: isOpen, onClose: closeDialog })));\r\n};\n\nconst BillingActionMainButton = ({ openPlanSelect }) => {\r\n    const { isCanceled, willBeCanceled, canDowngrade, canUpgrade, isTrialing, hasTrialEnded } = useBillingMetadata();\r\n    if (isCanceled || willBeCanceled) {\r\n        return React.createElement(RenewButton, null);\r\n    }\r\n    else if (isTrialing || hasTrialEnded || canDowngrade || canUpgrade) {\r\n        return React.createElement(SelectPlanButton, { onClick: openPlanSelect });\r\n    }\r\n    return null;\r\n};\n\nconst CancelDialogFooter = ({ onClose }) => {\r\n    const { loading, error } = useSubscriptionCancellation();\r\n    const { cancelSubscription } = useBillingInformationActions();\r\n    const cancel = react.exports.useMemo(() => ({\r\n        onClick: onClose,\r\n        disabled: loading,\r\n    }), [onClose, loading]);\r\n    const confirm = react.exports.useMemo(() => ({\r\n        onClick: cancelSubscription,\r\n        disabled: !!error,\r\n        color: 'danger',\r\n        text: 'confirm',\r\n        loading,\r\n    }), [cancelSubscription, error, loading]);\r\n    return (React.createElement(SubscriptionDialogFooter, { cancel: cancel, confirm: confirm }));\r\n};\n\nconst CancelDialogBody = () => {\r\n    const t = useT('subscriptions_Cancellation');\r\n    const { subscription } = useSubscription();\r\n    const { error } = useSubscriptionCancellation();\r\n    const endDate = (subscription === null || subscription === void 0 ? void 0 : subscription.currentPeriodEnd) ? format(new Date(subscription === null || subscription === void 0 ? void 0 : subscription.currentPeriodEnd), BILLING_INFORMATION_PLAN_DATE_FORMAT)\r\n        : t('unknownDate');\r\n    return (React.createElement(React.Fragment, null,\r\n        error && (React.createElement(Alert$1, { \"data-test-id\": error, severity: \"error\" }, error)),\r\n        React.createElement(Typography$1, { variant: 'body1' }, t('description', { expirationDate: endDate }))));\r\n};\n\nconst CancelDialog = ({ open, onClose }) => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('subscriptions');\r\n    return (React.createElement(Dialog$1, { open: open, onClose: onClose, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, title: t('dialogCancellationTitle'), size: \"sm\" },\r\n        React.createElement(Dialog$1.Body, null,\r\n            React.createElement(CancelDialogBody, null)),\r\n        React.createElement(Dialog$1.Footer, null,\r\n            React.createElement(CancelDialogFooter, { onClose: onClose }))));\r\n};\n\nconst PlanContainer = styled(Grid)(({ theme }) => ({\r\n    padding: theme.spacing(6, 0),\r\n    borderBottom: `1px solid ${theme.palette.grey[300]}`,\r\n    '&:last-child': {\r\n        borderBottom: 'none',\r\n    },\r\n    justifyContent: 'space-between',\r\n    alignContent: 'center',\r\n    alignItems: 'center',\r\n}));\r\nconst PlanTitle = styled(Grid)(({ theme }) => ({\r\n    color: theme.palette.grey[800],\r\n    fontWeight: 'bold',\r\n    fontSize: theme.typography.pxToRem(16),\r\n    lineHeight: theme.typography.pxToRem(24),\r\n    marginBottom: theme.spacing(2),\r\n}));\r\nconst PlanPrice = styled(Grid)(({ theme }) => ({\r\n    color: theme.palette.grey[700],\r\n    fontSize: theme.typography.pxToRem(12),\r\n    lineHeight: theme.typography.pxToRem(16),\r\n    marginBottom: theme.spacing(2),\r\n}));\r\nconst PlanDescription = styled(Grid)(({ theme }) => ({\r\n    color: theme.palette.grey[700],\r\n    fontSize: theme.typography.pxToRem(12),\r\n    lineHeight: theme.typography.pxToRem(16),\r\n    marginBottom: theme.spacing(2),\r\n}));\r\nconst PlanSelectedCheckedIcon = styled(CheckedIcon)(({ theme }) => ({\r\n    color: theme.palette.success.main,\r\n    fontSize: theme.typography.pxToRem(12),\r\n    lineHeight: theme.typography.pxToRem(16),\r\n    marginRight: theme.spacing(2),\r\n}));\r\nconst PlanSelectedText = styled('span')(({ theme }) => ({\r\n    color: theme.palette.grey[800],\r\n    fontSize: theme.typography.pxToRem(12),\r\n    lineHeight: theme.typography.pxToRem(16),\r\n}));\r\nconst SelectPlanItem = (props) => {\r\n    const { isSelected, title, description, price, onClick } = props;\r\n    const handleClick = react.exports.useCallback(() => onClick(), [onClick]);\r\n    const t = useT('subscriptions_DialogSelection');\r\n    return (React.createElement(PlanContainer, { container: true },\r\n        React.createElement(Grid, { item: true, alignContent: 'center' },\r\n            React.createElement(PlanTitle, null, title),\r\n            React.createElement(PlanPrice, { \"data-test-id\": price },\r\n                React.createElement(TextBreakLine, { text: price })),\r\n            React.createElement(PlanDescription, null, description)),\r\n        React.createElement(Grid, { item: true }, isSelected ? (React.createElement(Grid, { container: true, justifyContent: 'space-between', alignContent: 'center', alignItems: 'center', padding: 4 },\r\n            React.createElement(PlanSelectedCheckedIcon, null),\r\n            React.createElement(PlanSelectedText, null, t('currentPlan')))) : (React.createElement(Button$1, { \"data-test-id\": 'continueBtn-' + title, type: 'button', color: 'secondary', onClick: handleClick }, t('continue'))))));\r\n};\n\nconst SelectPlan = ({ onSelectPlan }) => {\r\n    const t = useT('subscriptions_DialogSelection');\r\n    const { plans } = usePlans();\r\n    const { summary } = useBillingInformation();\r\n    const { isTrialing } = useBillingMetadata();\r\n    const { currentPlanId: selectedPlanId } = summary || {};\r\n    const displayPlans = react.exports.useMemo(() => plans.slice(0, 5), [plans]);\r\n    const planSelectionItems = react.exports.useMemo(() => displayPlans.map(({ id, name, description, currency, price, recurringInterval }) => (React.createElement(SelectPlanItem, { key: id, isSelected: !!selectedPlanId && id === selectedPlanId && !isTrialing, title: name, description: !!description ? '' : description, price: description ||\r\n            t('selectPlanPricePerRecurringInterval', {\r\n                price: toPriceDisplay(price),\r\n                currency: toCurrencySymbol(currency),\r\n                interval: recurringInterval,\r\n            }), onClick: () => onSelectPlan(id) }))), [displayPlans, selectedPlanId, onSelectPlan, t, isTrialing]);\r\n    return (React.createElement(Grid, { container: true, direction: 'column' }, planSelectionItems));\r\n};\n\nconst SelectDialogFooter = ({ onClose }) => {\r\n    return (React.createElement(SubscriptionDialogFooter, { cancel: { onClick: onClose } }));\r\n};\n\nconst SelectDialogBody = ({ onSelectPlan, onClose }) => {\r\n    const { error, plans, fetching: planFetching } = usePlans();\r\n    const loading = react.exports.useMemo(() => plans.length === 0 && planFetching, [plans, planFetching]);\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(Dialog$1.Body, null,\r\n            error && (React.createElement(Grid, { p: 4 },\r\n                React.createElement(Alert$1, { severity: \"error\" }, error))),\r\n            loading ? (React.createElement(BoxLoader, { height: 220 })) : (React.createElement(SelectPlan, { onSelectPlan: onSelectPlan }))),\r\n        React.createElement(Dialog$1.Footer, null,\r\n            React.createElement(SelectDialogFooter, { onClose: onClose }))));\r\n};\n\nconst CheckoutDialogContent = ({ planId, onClose, onSuccess, onError }) => {\r\n    const { plans } = usePlans();\r\n    const { isTrialing } = useBillingMetadata();\r\n    const hasPlanSelection = plans.length > 1 && !isTrialing;\r\n    const initPlanId = react.exports.useMemo(() => { var _a; return planId && ((_a = plans.find((plan) => plan.id === planId)) === null || _a === void 0 ? void 0 : _a.id); }, [planId, plans]);\r\n    const [checkoutPlanId, setCheckoutPlanId] = React.useState(initPlanId || null);\r\n    react.exports.useEffect(() => {\r\n        setCheckoutPlanId(initPlanId || null);\r\n    }, [initPlanId]);\r\n    const handlePlanSelection = react.exports.useCallback((planId) => {\r\n        setCheckoutPlanId(planId);\r\n    }, []);\r\n    const goBack = react.exports.useCallback(() => {\r\n        if (hasPlanSelection) {\r\n            setCheckoutPlanId(null);\r\n        }\r\n        else {\r\n            onClose();\r\n        }\r\n    }, [hasPlanSelection, onClose]);\r\n    const handleSuccess = react.exports.useCallback(() => {\r\n        onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\r\n    }, [onSuccess]);\r\n    const handleError = react.exports.useCallback((msg) => {\r\n        onError === null || onError === void 0 ? void 0 : onError(msg);\r\n    }, [onError]);\r\n    if (!checkoutPlanId) {\r\n        return React.createElement(SelectDialogBody, { onSelectPlan: handlePlanSelection, onClose: onClose });\r\n    }\r\n    return (React.createElement(CheckoutDialogBody, { planId: checkoutPlanId, onClose: goBack, onSuccess: handleSuccess, onError: handleError }));\r\n};\n\nconst CheckoutDialog = (_a) => {\r\n    var { planId, open, onClose, onSuccess, onError } = _a, props = __rest(_a, [\"planId\", \"open\", \"onClose\", \"onSuccess\", \"onError\"]);\r\n    const t = useT('subscriptions');\r\n    const handleSuccess = react.exports.useCallback(() => {\r\n        onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\r\n    }, [onSuccess]);\r\n    const handleError = react.exports.useCallback((msg) => {\r\n        onError === null || onError === void 0 ? void 0 : onError(msg);\r\n    }, [onError]);\r\n    return (React.createElement(Dialog$1, Object.assign({}, props, { open: open, onClose: onClose, title: t('dialogCheckoutTitle'), size: 'sm' }),\r\n        React.createElement(CheckoutDialogContent, { planId: planId, onSuccess: handleSuccess, onError: handleError, onClose: onClose })));\r\n};\n\nconst EmailField$1 = () => {\r\n    const t = useT('subscriptions');\r\n    return React.createElement(Field, { \"data-test-id\": \"email\", autoComplete: \"street-address\", name: 'email', placeholder: t('emailInputPlaceholder'), label: t('emailInputLabel') });\r\n};\r\nconst CustomCountryField = () => {\r\n    const t = useT('subscriptions');\r\n    return React.createElement(CountryField, { label: t('countryInputLabel'), countryCode: true, placeholder: t('countryInputPlaceholder') });\r\n};\r\nconst Address1Field = () => {\r\n    const t = useT('subscriptions');\r\n    return React.createElement(Field, { \"data-test-id\": \"address1\", autoComplete: \"street-address\", name: 'addressLine1', placeholder: t('address1InputPlaceholder'), label: t('address1InputLabel') });\r\n};\r\nconst Address2Field = () => {\r\n    const t = useT('subscriptions');\r\n    return React.createElement(Field, { \"data-test-id\": \"address2\", autoComplete: \"address-level3\", name: 'addressLine2', placeholder: t('address2InputPlaceholder'), label: t('address2InputLabel') });\r\n};\r\nconst CityField = () => {\r\n    const t = useT('subscriptions');\r\n    return React.createElement(Field, { \"data-test-id\": \"city\", autoComplete: \"address-level2\", name: 'city', placeholder: t('cityInputPlaceholder'), label: t('cityInputLabel') });\r\n};\r\nconst StateField = () => {\r\n    const t = useT('subscriptions');\r\n    return React.createElement(Field, { \"data-test-id\": \"state\", autoComplete: \"address-level1\", name: 'state', placeholder: t('stateInputPlaceholder'), label: t('stateInputLabel') });\r\n};\r\nconst PostcodeField = () => {\r\n    const t = useT('subscriptions');\r\n    return React.createElement(Field, { \"data-test-id\": \"postalCode\", autoComplete: \"postal-code\", name: 'postalCode', placeholder: t('postCodeInputPlaceholder'), label: t('postCodeInputLabel') });\r\n};\r\nconst SubscriptionUpdateBillingDetailsDialogBody = ({ onClose }) => {\r\n    const t = useT('subscriptions');\r\n    const { profile } = useProfileState();\r\n    const { paymentMethod, loading, error } = usePaymentMethod();\r\n    const { updatePaymentMethodBillingDetails, setError } = usePaymentMethodActions();\r\n    const { billingDetails, id = '' } = paymentMethod !== null && paymentMethod !== void 0 ? paymentMethod : {};\r\n    const { email = (profile === null || profile === void 0 ? void 0 : profile.email) || '', address } = billingDetails !== null && billingDetails !== void 0 ? billingDetails : {};\r\n    const { addressLine1 = '', addressLine2 = '', city = '', state = '', postalCode = '', country = '' } = address !== null && address !== void 0 ? address : {};\r\n    const initialValues = react.exports.useMemo(() => ({\r\n        email,\r\n        addressLine1,\r\n        addressLine2,\r\n        city,\r\n        state,\r\n        postalCode,\r\n        country,\r\n    }), [email, addressLine1, addressLine2, city, state, postalCode, country]);\r\n    const validationSchema = react.exports.useMemo(() => validateSchema({\r\n        email: validateEmail(t('emailMustBeValid'), t('emailIsRequired')),\r\n        postalCode: validationPostCodeOptional(t('postCodeIsInvalid')),\r\n    }), [t]);\r\n    const formikProps = {\r\n        onSubmit: (_a, { setSubmitting }) => {\r\n            var { email } = _a, address = __rest(_a, [\"email\"]);\r\n            const callback = (success) => (success ? onClose() : setSubmitting(false));\r\n            updatePaymentMethodBillingDetails({\r\n                id,\r\n                email,\r\n                address,\r\n                callback,\r\n            });\r\n        },\r\n        initialValues,\r\n        validationSchema,\r\n    };\r\n    const handleClose = react.exports.useCallback(() => {\r\n        onClose();\r\n        setError(null);\r\n    }, [onClose, setError]);\r\n    return (React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit }) => {\r\n        return (React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                error && (React.createElement(Grid, { mb: 5 },\r\n                    React.createElement(Alert$1, { severity: \"error\" }, error))),\r\n                React.createElement(EmailField$1, null),\r\n                React.createElement(Address1Field, null),\r\n                React.createElement(Address2Field, null),\r\n                React.createElement(Grid, { container: true, spacing: 4, mb: 4 },\r\n                    React.createElement(Grid, { item: true, xs: 6 },\r\n                        React.createElement(CityField, null)),\r\n                    React.createElement(Grid, { item: true, xs: 6 },\r\n                        React.createElement(StateField, null))),\r\n                React.createElement(Grid, { container: true, spacing: 4 },\r\n                    React.createElement(Grid, { item: true, xs: 6 },\r\n                        React.createElement(PostcodeField, null)),\r\n                    React.createElement(Grid, { item: true, xs: 6 },\r\n                        React.createElement(CustomCountryField, null)))),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(SubscriptionDialogFooter, { cancel: { onClick: handleClose, disabled: isSubmitting || loading }, confirm: { loading: isSubmitting || loading, disabled: !canSubmit, type: 'submit', text: 'update' } }))));\r\n    }));\r\n};\n\nconst SubscriptionUpdateBillingDetailsDialog = ({ open, onClose }) => {\r\n    const t = useT('subscriptions');\r\n    const { injector } = useShadowDom();\r\n    return (React.createElement(Dialog$1, { open: open, onClose: onClose, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, title: t('dialogUpdateBillingDetailsTitle'), size: \"sm\" },\r\n        React.createElement(SubscriptionUpdateBillingDetailsDialogBody, { onClose: onClose })));\r\n};\n\nconst SubscriptionUpdatePaymentMethodDialogFooter = ({ loading, onCancel }) => {\r\n    const { valid, onSubmit } = useSubscriptionFormContext();\r\n    const handleConfirm = react.exports.useCallback(() => {\r\n        if (onSubmit) {\r\n            onSubmit();\r\n        }\r\n    }, [onSubmit]);\r\n    const handleCancel = react.exports.useCallback(() => onCancel(), [onCancel]);\r\n    return (React.createElement(SubscriptionDialogFooter, { cancel: { onClick: handleCancel, disabled: loading }, confirm: { onClick: handleConfirm, loading, disabled: !valid, text: 'update' } }));\r\n};\n\nconst SubscriptionUpdatePaymentMethodDialogBody = ({ onClose }) => {\r\n    const t = useT('subscriptions');\r\n    const { loading, error } = usePaymentMethod();\r\n    const { submitPaymentMethod, submitPaymentMethodError, submitPaymentMethodSuccess } = usePaymentMethodActions();\r\n    const handleSubmit = react.exports.useCallback(() => {\r\n        submitPaymentMethod();\r\n    }, [submitPaymentMethod]);\r\n    const handleError = react.exports.useCallback((error) => {\r\n        submitPaymentMethodError(error);\r\n    }, [submitPaymentMethodError]);\r\n    const handleSuccess = react.exports.useCallback(() => {\r\n        submitPaymentMethodSuccess();\r\n        onClose();\r\n    }, [onClose, submitPaymentMethodSuccess]);\r\n    return (React.createElement(SubscriptionFormContextProvider, null,\r\n        React.createElement(Dialog$1.Body, { noPadding: true },\r\n            error && (React.createElement(Grid, { p: 4 },\r\n                React.createElement(Alert$1, { severity: \"error\" }, error))),\r\n            React.createElement(DialogSectionBox, { title: t('paymentMethodTitle') },\r\n                React.createElement(Grid, { container: true, p: 4 },\r\n                    React.createElement(PaymentMethodForm, { mode: \"update\", onError: handleError, onSubmit: handleSubmit, onSuccess: handleSuccess })))),\r\n        React.createElement(Dialog$1.Footer, null,\r\n            React.createElement(SubscriptionUpdatePaymentMethodDialogFooter, { loading: loading, onCancel: onClose }))));\r\n};\n\nconst SubscriptionUpdatePaymentMethodDialog = ({ open, onClose }) => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('subscriptions');\r\n    return (React.createElement(Dialog$1, { open: open, onClose: onClose, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, title: t('updatePaymentMethod'), size: \"sm\" },\r\n        React.createElement(SubscriptionUpdatePaymentMethodDialogBody, { onClose: onClose })));\r\n};\n\nconst CancelButton = () => {\r\n    const t = useT('subscriptions_CurrentPlan');\r\n    const [isOpen, closeDialog, openDialog] = useDialogState();\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(Button$1, { \"data-test-id\": 'cancelButton', variant: \"contained\", color: \"secondary\", onClick: openDialog }, t('cancelButton')),\r\n        React.createElement(CancelDialog, { open: isOpen, onClose: closeDialog })));\r\n};\n\nconst BillingActionSecondaryButton = () => {\r\n    const { isCanceled, willBeCanceled, isTrialing, hasPaymentMethod, isFreePlan, isSingularPlan, hasTrialEnded, canCancel, } = useBillingMetadata();\r\n    if (!canCancel ||\r\n        isSingularPlan ||\r\n        isFreePlan ||\r\n        (isTrialing && !hasPaymentMethod) ||\r\n        isCanceled ||\r\n        willBeCanceled ||\r\n        hasTrialEnded) {\r\n        return null;\r\n    }\r\n    return React.createElement(CancelButton, null);\r\n};\n\nconst BillingActions = () => {\r\n    const { injector } = useShadowDom();\r\n    const { defaultPlanId } = useBillingMetadata();\r\n    const { confirmed } = useCheckout();\r\n    const [{ isOpen, selectedPlanId }, setState] = react.exports.useState({\r\n        isOpen: false,\r\n    });\r\n    react.exports.useEffect(() => {\r\n        if (confirmed) {\r\n            setState({ isOpen: false, selectedPlanId: defaultPlanId });\r\n        }\r\n    }, [confirmed, defaultPlanId]);\r\n    const handleOpenSelection = react.exports.useCallback(() => {\r\n        setState({\r\n            isOpen: true,\r\n        });\r\n    }, []);\r\n    const handleOpenCheckout = react.exports.useCallback(() => {\r\n        setState({\r\n            isOpen: true,\r\n            selectedPlanId: defaultPlanId,\r\n        });\r\n    }, [defaultPlanId]);\r\n    const handleCloseCheckout = react.exports.useCallback(() => {\r\n        setState(prevState => (Object.assign(Object.assign({}, prevState), { isOpen: false })));\r\n    }, []);\r\n    const main = react.exports.useMemo(() => React.createElement(BillingActionMainButton, { openCheckout: handleOpenCheckout, openPlanSelect: handleOpenSelection }), [handleOpenCheckout, handleOpenSelection]);\r\n    const secondary = react.exports.useMemo(() => React.createElement(BillingActionSecondaryButton, null), []);\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(RowActionButtons, { main: main, secondary: secondary }),\r\n        React.createElement(CheckoutDialog, { open: isOpen, onClose: handleCloseCheckout, planId: selectedPlanId, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }));\r\n};\n\nconst CurrentPlan = () => {\r\n    const { fetching } = useBillingInformation();\r\n    const { fetching: fetchingPlans } = usePlans();\r\n    const hasWritePermission = useSubscriptionPermissions('fe.subscriptions.write.*');\r\n    const { isExternallyManaged } = useBillingMetadata();\r\n    if (fetching || fetchingPlans) {\r\n        return React.createElement(CurrentPlanComponentSkeleton, null);\r\n    }\r\n    else {\r\n        return (React.createElement(Grid, { container: true, p: 0 },\r\n            React.createElement(Grid, { item: true, xs: true },\r\n                React.createElement(PlanDetails, null)),\r\n            React.createElement(Grid, { item: true }, hasWritePermission && !isExternallyManaged && React.createElement(BillingActions, null))));\r\n    }\r\n};\n\nconst CardNarrow = styled(Card)(({ theme }) => ({\r\n    padding: 0,\r\n    margin: 0,\r\n}));\r\nconst DetailSectionBox = ({ title, children }) => {\r\n    return (React.createElement(Grid, { mb: 6 },\r\n        React.createElement(Typography$1, { variant: 'subtitle1', mb: 4 }, title),\r\n        React.createElement(CardNarrow, null, children)));\r\n};\n\nconst CurrentPlanBox = ({ children }) => {\r\n    const t = useT('subscriptions_CurrentPlan');\r\n    return (React.createElement(DetailSectionBox, { title: t('title') },\r\n        React.createElement(Grid, { container: true, p: 8 }, children)));\r\n};\n\nconst CurrentPlanComponent = () => {\r\n    const { fetching, loading } = useBillingInformation();\r\n    const isLoading = react.exports.useMemo(() => fetching || loading, [fetching, loading]);\r\n    return React.createElement(CurrentPlanBox, null, isLoading ? React.createElement(CurrentPlanComponentSkeleton, null) : React.createElement(CurrentPlan, null));\r\n};\n\nconst RowSkeleton = styled(Skeleton) `\n  &.MuiSkeleton-root {\n    height: ${({ theme }) => theme.spacing(12)};\n    width: 100%;\n    transform: scale(1, 1);\n    margin-bottom: ${({ theme }) => theme.spacing(2)};\n  }\n`;\r\nconst TableSkeleton = react.exports.forwardRef(({ title = true, rows = 3, cols = 1 }, ref) => {\r\n    const table = react.exports.useMemo(() => {\r\n        const range = Array.from({ length: rows }, (v, i) => i);\r\n        const colsRange = Array.from({ length: cols }, (v, i) => i);\r\n        return range.map(row => React.createElement(Grid, { container: true, key: row, spacing: 4 }, row === 0 ? React.createElement(Grid, { item: true, xs: true },\r\n            React.createElement(RowSkeleton, null)) :\r\n            colsRange.map(col => React.createElement(Grid, { key: col, item: true, xs: true },\r\n                React.createElement(RowSkeleton, null)))));\r\n    }, [rows, cols]);\r\n    return React.createElement(Box, { ref: ref },\r\n        title && React.createElement(Box, { marginBottom: 1 },\r\n            React.createElement(Skeleton, { width: 200, height: 40 })),\r\n        table);\r\n});\r\nTableSkeleton.defaultProps = {\r\n    title: true,\r\n};\n\nconst InvoicesListComponentSkeleton = () => (React.createElement(Box, { p: 4 },\r\n    React.createElement(TableSkeleton, { rows: 5, title: false, cols: 4 })));\n\nconst InvoicesListBox = ({ children }) => {\r\n    const t = useT('subscriptions');\r\n    return React.createElement(DetailSectionBox, { title: t('invoices') }, children);\r\n};\n\nconst InvoicesTable = styled(Table)(({ theme }) => ({}));\r\nconst AmountChipCell = ({ value }) => {\r\n    return (React.createElement(Box, { maxWidth: '100%' },\r\n        React.createElement(Grid, { container: true, alignItems: 'center', justifyItems: 'center' },\r\n            React.createElement(Grid, { item: true },\r\n                React.createElement(Typography$1, { variant: 'tableTitleCell' }, value.amount)),\r\n            React.createElement(Grid, { item: true, ml: 4, pt: 2 }, value.status === 'paid' && React.createElement(StatusChip, { label: 'Paid', status: 'success', withIcons: false })))));\r\n};\r\nconst invoicesTableColumns = [\r\n    {\r\n        Header: 'Billing Date',\r\n        id: 'billingDate',\r\n        accessor: ({ billingDate }) => ({ date: billingDate, format: INVOICE_DATE_FORMAT, withAgo: false }),\r\n        Cell: TableDateCell,\r\n    },\r\n    {\r\n        Header: 'Amount',\r\n        id: 'amount',\r\n        accessor: ({ amount, status }) => ({\r\n            amount,\r\n            status,\r\n        }),\r\n        Cell: AmountChipCell,\r\n    },\r\n];\r\nconst InvoiceList = () => {\r\n    const t = useT('subscriptions');\r\n    const { injector } = useShadowDom();\r\n    const container = injector === null || injector === void 0 ? void 0 : injector.adminPortalEl;\r\n    const { loading, invoices } = useInvoices();\r\n    const { downloadInvoice } = useInvoicesActions();\r\n    const handleInvoiceDownload = react.exports.useCallback((invoice) => {\r\n        downloadInvoice({\r\n            invoiceId: invoice.id,\r\n            filename: `invoice_${format$1(invoice.billingDate || new Date(), DATE_FILENAME_FORMAT)}`,\r\n        });\r\n    }, [downloadInvoice]);\r\n    const tableData = react.exports.useMemo(() => invoices.map((invoice, index) => ({\r\n        id: invoice.id,\r\n        billingDate: invoice.paymentDate,\r\n        status: invoice.paid ? 'paid' : '',\r\n        isDefault: index === 0,\r\n        amount: `$${invoice.totalAmount}`,\r\n    })), [invoices]);\r\n    return (React.createElement(Box, null,\r\n        React.createElement(InvoicesTable, { inline: true, autoHeight: false, loading: loading, columns: invoicesTableColumns, data: tableData, contentMaxHeight: {\r\n                maxHeight: '24rem',\r\n            }, getRowActions: (row) => ({\r\n                items: [\r\n                    {\r\n                        icon: React.createElement(PdfIcon, { \"data-test-id\": 'DownloadPdf' }),\r\n                        onClick: () => handleInvoiceDownload(row),\r\n                        text: t('downloadPdf'),\r\n                        negative: false,\r\n                    },\r\n                ],\r\n                container,\r\n            }) })));\r\n};\n\nconst InvoicesListComponent = () => {\r\n    const { fetching, error } = useInvoices();\r\n    return (React.createElement(InvoicesListBox, null, fetching ? (React.createElement(InvoicesListComponentSkeleton, null)) : error ? (React.createElement(Alert$1, { severity: 'error' }, error)) : (React.createElement(InvoiceList, null))));\r\n};\n\nconst BillingDetailsComponentSkeleton = () => (React.createElement(Grid, { container: true, p: 0, m: 0 },\r\n    React.createElement(Skeleton, { height: '32px', width: '100%' })));\n\nconst UpdateBillingMethod = styled(Grid)(({ theme }) => ({\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    cursor: 'pointer',\r\n    svg: {\r\n        marginLeft: theme.spacing(4),\r\n        width: '0.75rem',\r\n        height: '0.75rem',\r\n        color: theme.palette.grey[500],\r\n    },\r\n}));\r\nconst BillingDetails = () => {\r\n    var _a, _b;\r\n    const t = useT('subscriptions_Billing');\r\n    const [isOpen, closeDialog, openDialog] = useDialogState();\r\n    const { paymentMethod } = usePaymentMethod();\r\n    const { email, name } = (_a = paymentMethod === null || paymentMethod === void 0 ? void 0 : paymentMethod.billingDetails) !== null && _a !== void 0 ? _a : {};\r\n    return (React.createElement(Grid, { container: true, p: 0, alignItems: \"center\" },\r\n        React.createElement(Grid, { item: true, xs: true },\r\n            React.createElement(Typography$1, { variant: \"label\" }, (_b = email !== null && email !== void 0 ? email : name) !== null && _b !== void 0 ? _b : '')),\r\n        React.createElement(Grid, { item: true },\r\n            React.createElement(UpdateBillingMethod, { item: true, onClick: openDialog },\r\n                React.createElement(Typography$1, { variant: \"body1\" }, t('title')),\r\n                React.createElement(EditIcon, null))),\r\n        React.createElement(SubscriptionUpdateBillingDetailsDialog, { open: isOpen, onClose: closeDialog })));\r\n};\n\nconst BillingDetailsBox = ({ children }) => {\r\n    const t = useT('subscriptions_Billing');\r\n    return (React.createElement(DetailSectionBox, { title: t('title') },\r\n        React.createElement(Grid, { container: true, p: 6 }, children)));\r\n};\n\nconst BillingDetailsComponent = () => {\r\n    const { fetching, paymentMethod } = usePaymentMethod();\r\n    if (!fetching && !(paymentMethod === null || paymentMethod === void 0 ? void 0 : paymentMethod.id)) {\r\n        return null;\r\n    }\r\n    return React.createElement(BillingDetailsBox, null, fetching ? React.createElement(BillingDetailsComponentSkeleton, null) : React.createElement(BillingDetails, null));\r\n};\n\nconst PaymentMethodComponentSkeleton = () => (React.createElement(Grid, { container: true, p: 0, m: 0 },\r\n    React.createElement(Skeleton, { height: '32px', width: '100%' })));\n\nconst PaymentMethodBox = ({ children }) => {\r\n    const t = useT('subscriptions');\r\n    return (React.createElement(DetailSectionBox, { title: t('paymentMethodTitle') },\r\n        React.createElement(Grid, { container: true, p: 6 }, children)));\r\n};\n\nconst PaymentMethodDisplay = () => {\r\n    const [isOpen, closeDialog, openDialog] = useDialogState();\r\n    const { paymentMethod } = usePaymentMethod();\r\n    return React.createElement(React.Fragment, null,\r\n        React.createElement(PaymentMethodSelect, Object.assign({}, (paymentMethod || {}), { onUpdate: openDialog })),\r\n        React.createElement(SubscriptionUpdatePaymentMethodDialog, { open: isOpen, onClose: closeDialog }));\r\n};\n\nconst PaymentMethodComponent = () => {\r\n    const { fetching } = usePaymentMethod();\r\n    return (React.createElement(PaymentMethodBox, null, fetching ? React.createElement(PaymentMethodComponentSkeleton, null) : React.createElement(PaymentMethodDisplay, null)));\r\n};\n\nconst BillingComponent = () => {\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(PaymentMethodComponent, null),\r\n        React.createElement(BillingDetailsComponent, null)));\r\n};\n\nconst SubscriptionSections = () => {\r\n    const { isExternallyManaged, hasPaymentMethod } = useBillingMetadata();\r\n    const permitted = useSubscriptionPermissions('fe.subscriptions.write.*');\r\n    const hasBilling = !isExternallyManaged && hasPaymentMethod && permitted;\r\n    return react.exports.useMemo(() => (React.createElement(React.Fragment, null,\r\n        React.createElement(CurrentPlanComponent, null),\r\n        hasBilling && (React.createElement(React.Fragment, null,\r\n            React.createElement(BillingComponent, null),\r\n            React.createElement(InvoicesListComponent, null))))), [hasBilling]);\r\n};\n\nconst SubscriptionPageSkeleton = () => {\r\n    return (React.createElement(PageWrapper, null,\r\n        React.createElement(CurrentPlanBox, null,\r\n            React.createElement(CurrentPlanComponentSkeleton, null))));\r\n};\n\nconst ExternallyManagedAlert = () => {\r\n    const t = useT('subscriptions');\r\n    const { summary } = useBillingInformation();\r\n    if (summary === null || summary === void 0 ? void 0 : summary.externallyManaged) {\r\n        return React.createElement(Box, { mb: 6 },\r\n            React.createElement(Alert$1, { severity: 'warning' }, t('externallyManaged')));\r\n    }\r\n    return null;\r\n};\n\nconst SubscriptionPageContainer = () => {\r\n    const { loadPaymentMethod } = usePaymentMethodActions();\r\n    const { loadInvoices } = useInvoicesActions();\r\n    const { loadPlans } = usePlansActions();\r\n    const { error: paymentProviderError } = usePaymentProvider();\r\n    const { error: billingInformationError } = useBillingInformation();\r\n    const error = react.exports.useMemo(() => paymentProviderError || billingInformationError, [paymentProviderError, billingInformationError]);\r\n    react.exports.useEffect(() => {\r\n        loadInvoices();\r\n        loadPaymentMethod();\r\n        loadPlans();\r\n    }, [loadInvoices, loadPaymentMethod, loadPlans]);\r\n    return (React.createElement(PageWrapper, { flex: 1, display: 'flex', flexDirection: 'column' }, error ? (React.createElement(Alert$1, { \"data-test-id\": 'subscription-page-error', severity: 'error' }, error)) : (React.createElement(React.Fragment, null,\r\n        React.createElement(ExternallyManagedAlert, null),\r\n        React.createElement(SubscriptionSections, null)))));\r\n};\n\nconst SubscriptionPageBillingWrapper = () => {\r\n    const { loadBillingInformation } = useBillingInformationActions();\r\n    const { loadVendorPublicConfiguration } = useVendorPublicConfigActions();\r\n    const { fetching: fetchingBillingInformation } = useBillingInformation();\r\n    const { fetching: fetchingVendorPublicConfig } = useVendorPublicConfig();\r\n    react.exports.useEffect(() => {\r\n        loadBillingInformation();\r\n        loadVendorPublicConfiguration();\r\n    }, [loadBillingInformation, loadVendorPublicConfiguration]);\r\n    if (fetchingBillingInformation || fetchingVendorPublicConfig) {\r\n        return React.createElement(SubscriptionPageSkeleton, null);\r\n    }\r\n    return React.createElement(SubscriptionPageContainer, null);\r\n};\n\nconst SubscriptionPage$1 = () => {\r\n    const { loadPaymentConfiguration } = usePaymentProviderActions();\r\n    const { profile } = useProfileState();\r\n    const { fetching, loading } = usePaymentProvider();\r\n    react.exports.useEffect(() => {\r\n        if (profile === null || profile === void 0 ? void 0 : profile.tenantId) {\r\n            loadPaymentConfiguration();\r\n        }\r\n    }, [profile, loadPaymentConfiguration]);\r\n    if (fetching || loading) {\r\n        return React.createElement(SubscriptionPageSkeleton, null);\r\n    }\r\n    return React.createElement(SubscriptionPageBillingWrapper, null);\r\n};\r\nvar SubscriptionPage$2 = SubscriptionPage$1;\n\nvar SubscriptionPage = wrapPage(SubscriptionPage$2, 'subscriptions');\n\nconst WebhooksHeader = ({ handleOpenInviteUser }) => {\r\n    const t = useT('webhooks');\r\n    const { onSearch } = useTableSearch();\r\n    const [search, setSearch] = react.exports.useState('');\r\n    const debounceSearch = useDebounce(search);\r\n    useAsyncEffect(() => onSearch(debounceSearch), [debounceSearch]);\r\n    const hasWritePermission = usePermission('fe.connectivity.write.webhook');\r\n    return (React.createElement(Grid, { container: true, spacing: 4 },\r\n        React.createElement(Grid, { item: true, xs: 12, sm: 6, md: 4 },\r\n            React.createElement(Box, null,\r\n                React.createElement(Input$1$1, { \"data-test-id\": \"search-box\", endAdornment: React.createElement(SearchIcon, null), placeholder: t('searchInputPlaceholder'), onChange: (e) => setSearch(e.target.value) }))),\r\n        React.createElement(Grid, { item: true, xs: true }),\r\n        hasWritePermission && React.createElement(Grid, { item: true },\r\n            React.createElement(Button$1, { \"data-test-id\": \"add-webhook-btn\", onClick: handleOpenInviteUser }, t('addWebhook')))));\r\n};\n\nconst filterCategories = (categories, channelMap) => \r\n// eslint-disable-next-line react-hooks/rules-of-hooks\r\nreact.exports.useMemo(() => {\r\n    if (categories && channelMap) {\r\n        return categories\r\n            .map((cat) => {\r\n            var _a;\r\n            return (Object.assign(Object.assign({}, cat), { events: (_a = cat.events) === null || _a === void 0 ? void 0 : _a.filter(({ key }) => channelMap.some(({ key: eventKey }) => eventKey === key)) }));\r\n        })\r\n            .filter(({ events }) => !!(events === null || events === void 0 ? void 0 : events.length))\r\n            .map((cat, index) => (Object.assign(Object.assign({}, cat), { index })));\r\n    }\r\n    return undefined;\r\n}, [categories, channelMap]);\r\nconst selectedEvents = createSelector((events) => events, (events) => events === null || events === void 0 ? void 0 : events.reduce((acc, curr) => {\r\n    if (/\\.\\*$/.test(curr)) {\r\n        const val = curr.replace(/\\.\\*$/, '');\r\n        !acc.names.includes(val) && acc.names.push(val);\r\n    }\r\n    else if (!acc.eventKeys.includes(curr)) {\r\n        acc.eventKeys.push(curr);\r\n    }\r\n    return acc;\r\n}, { names: [], eventKeys: [] }));\r\nconst getCategoriesEventsArray = (categories, eventKeys) => {\r\n    return categories.map((category) => {\r\n        if (category.events && eventKeys.includes(category.id)) {\r\n            return category.events.map((e) => e.id);\r\n        }\r\n        return undefined;\r\n    }).flat(1).filter(Boolean);\r\n};\n\nconst NameField = () => {\r\n    const t = useT('webhooks_AddEditWebhook');\r\n    const [fieldProps, { error, touched }] = useField('name');\r\n    return (React.createElement(Input$1$1, Object.assign({ \"data-test-id\": \"webhookNameBox\", label: t('nameInputLabel') }, fieldProps, { autoFocus: true, error: !!error && touched, errorMessage: error, autoComplete: \"given-name\", placeholder: t('nameInputPlaceholder') })));\r\n};\r\nconst UrlField = () => {\r\n    const t = useT('webhooks_AddEditWebhook');\r\n    const [fieldProps, { error, touched }] = useField('url');\r\n    return React.createElement(Input$1$1, Object.assign({ \"data-test-id\": \"webhookUrlBox\", label: t('urlInputLabel') }, fieldProps, { error: !!error && touched, errorMessage: error, placeholder: t('urlInputPlaceholder') }));\r\n};\r\nconst SecretKeyField = () => {\r\n    const t = useT('webhooks_AddEditWebhook');\r\n    const [fieldProps, { error, touched }] = useField('secretKey');\r\n    return React.createElement(Input$1$1, Object.assign({ \"data-test-id\": \"secretKeyBox\", label: t('secretKeyInputLabel') }, fieldProps, { error: !!error && touched, errorMessage: error, placeholder: t('secretKeyInputPlaceholder') }));\r\n};\r\nconst EventsField = () => {\r\n    var _a;\r\n    const t = useT('webhooks_AddEditWebhook');\r\n    const { injector } = useShadowDom();\r\n    const [fieldProps, { error, touched }, { setValue, setTouched }] = useField('events');\r\n    const { categories } = useConnectivityState();\r\n    const options = react.exports.useMemo(() => (categories !== null && categories !== void 0 ? categories : []).map(({ name, id, events }, categoryIdx) => {\r\n        const categoryId = id !== null && id !== void 0 ? id : `${name.replace(/\\s/g, '_')}_${categoryIdx}`;\r\n        return {\r\n            label: name,\r\n            value: categoryId,\r\n            category: true,\r\n            withCheckbox: true,\r\n            categoryItems: events.map(({ displayName, key, id }, eventIdx) => {\r\n                return { label: displayName, value: id !== null && id !== void 0 ? id : `${categoryId}_${key}_${eventIdx}`, withCheckbox: true };\r\n            }),\r\n        };\r\n    }), [categories]);\r\n    return (React.createElement(SelectTree$1, { \"data-test-id\": 'webhookEvents', label: t('eventsInputLabel'), name: \"events\", clearable: true, placeholder: t('eventsInputPlaceholder'), value: (_a = fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.value) !== null && _a !== void 0 ? _a : [], container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, options: options, onChange: (value) => {\r\n            setValue(value, true);\r\n            setTouched(true);\r\n        }, error: !!error && touched, errorMessage: error }));\r\n};\r\nconst AddWebhookForm = ({ onClose }) => {\r\n    const t = useT('webhooks_AddEditWebhook');\r\n    const { cleanError, postDataAction } = useConnectivityActions();\r\n    const { categories } = useConnectivityState();\r\n    const initialValues = react.exports.useMemo(() => ({\r\n        name: '',\r\n        url: '',\r\n        secretKey: '',\r\n        events: [],\r\n    }), []);\r\n    const validationSchema = react.exports.useMemo(() => validateSchema({\r\n        name: validateNotEmpty(t('nameIsRequired')),\r\n        url: validateUrl(t('urlIsRequired'), t('urlIsInvalid')),\r\n        secretKey: validateMinLengthOptional(8, t('secretKeyLengthAtLeast8')),\r\n        events: create().min(1, t('eventsIsRequired')),\r\n    }), [t]);\r\n    const formikProps = {\r\n        onSubmit: ({ name, url, secretKey, events }) => new Promise((resolve, reject) => {\r\n            cleanError();\r\n            const callback = callbackToPromise(resolve, reject, onClose);\r\n            const eventsToRemove = getCategoriesEventsArray(categories, events);\r\n            const eventsToSend = events.filter(e => !eventsToRemove.includes(e));\r\n            postDataAction({\r\n                platform: 'webhook',\r\n                data: { displayName: name, url, secret: !!secretKey ? secretKey : null, eventKeys: eventsToSend, description: '', isActive: false },\r\n                callback,\r\n            });\r\n        }),\r\n        initialValues,\r\n        validationSchema,\r\n    };\r\n    return (React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit, formError }) => {\r\n        return (React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                React.createElement(Grid, { container: true, spacing: 4, mb: 4 },\r\n                    React.createElement(Grid, { item: true, xs: 12, sm: 12 },\r\n                        React.createElement(NameField, null)),\r\n                    React.createElement(Grid, { item: true, xs: 12, sm: 12 },\r\n                        React.createElement(UrlField, null))),\r\n                React.createElement(SecretKeyField, null),\r\n                React.createElement(EventsField, null),\r\n                React.createElement(FormErrorDialogMessage, { message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Box, { flex: 1 }),\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancel-btn\", color: \"inherit\", variant: \"text\", type: \"reset\", onClick: onClose }, t('cancel')),\r\n                React.createElement(Button$1, { \"data-test-id\": \"form-add-webhook-btn\", disabled: !canSubmit, loading: isSubmitting, color: \"primary\", type: \"submit\" }, t('create')))));\r\n    }));\r\n};\r\nconst AddWebhookDialog = (props) => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('webhooks_AddEditWebhook');\r\n    return (React.createElement(Dialog$1, Object.assign({ container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { title: t('addTitle') }),\r\n        React.createElement(AddWebhookForm, { onClose: props.onClose })));\r\n};\n\nconst EditWebhookForm = ({ onClose, webhook }) => {\r\n    const t = useT('webhooks_AddEditWebhook');\r\n    const { cleanError, postDataAction } = useConnectivityActions();\r\n    const { categories } = useConnectivityState();\r\n    const initialValues = react.exports.useMemo(() => {\r\n        var _a, _b, _c, _d;\r\n        const eventKeys = (_a = webhook === null || webhook === void 0 ? void 0 : webhook.eventKeys) !== null && _a !== void 0 ? _a : [];\r\n        const eventsToAdd = getCategoriesEventsArray(categories, eventKeys);\r\n        const initEventsValue = [...eventKeys, ...eventsToAdd];\r\n        return {\r\n            name: (_b = webhook === null || webhook === void 0 ? void 0 : webhook.displayName) !== null && _b !== void 0 ? _b : '',\r\n            url: (_c = webhook === null || webhook === void 0 ? void 0 : webhook.url) !== null && _c !== void 0 ? _c : '',\r\n            secretKey: (_d = webhook === null || webhook === void 0 ? void 0 : webhook.secret) !== null && _d !== void 0 ? _d : '',\r\n            events: initEventsValue !== null && initEventsValue !== void 0 ? initEventsValue : [],\r\n        };\r\n    }, [categories, webhook]);\r\n    const validationSchema = react.exports.useMemo(() => validateSchema({\r\n        name: validateNotEmpty(t('nameIsRequired')),\r\n        url: validateUrl(t('urlIsRequired'), t('urlIsInvalid')),\r\n        secretKey: validateMinLengthOptional(8, t('secretKeyLengthAtLeast8')),\r\n        events: create().min(1, t('eventsIsRequired')),\r\n    }), [t]);\r\n    const formikProps = {\r\n        onSubmit: ({ name, url, secretKey = null, events }) => new Promise((resolve, reject) => {\r\n            cleanError();\r\n            const callback = callbackToPromise(resolve, reject, onClose);\r\n            const eventsToRemove = getCategoriesEventsArray(categories, events);\r\n            const eventsToSend = events.filter(e => !eventsToRemove.includes(e));\r\n            postDataAction({\r\n                platform: 'webhook',\r\n                data: {\r\n                    _id: webhook._id,\r\n                    displayName: name,\r\n                    url,\r\n                    secret: !!secretKey ? secretKey : null,\r\n                    eventKeys: eventsToSend,\r\n                    description: webhook.description,\r\n                    isActive: webhook.isActive,\r\n                },\r\n                callback,\r\n            });\r\n        }),\r\n        initialValues,\r\n        validationSchema,\r\n    };\r\n    return (React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit, formError }) => {\r\n        return (React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                React.createElement(Grid, { container: true, spacing: 4, mb: 4 },\r\n                    React.createElement(Grid, { item: true, xs: 12, sm: 12 },\r\n                        React.createElement(NameField, null)),\r\n                    React.createElement(Grid, { item: true, xs: 12, sm: 12 },\r\n                        React.createElement(UrlField, null))),\r\n                React.createElement(SecretKeyField, null),\r\n                React.createElement(EventsField, null),\r\n                React.createElement(FormErrorDialogMessage, { message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Box, { flex: 1 }),\r\n                React.createElement(Button$1, { \"data-test-id\": \"cancel-btn\", color: \"inherit\", variant: \"text\", type: \"reset\", onClick: onClose }, t('cancel')),\r\n                React.createElement(Button$1, { \"data-test-id\": 'edit-btn', disabled: !canSubmit, loading: isSubmitting, color: \"primary\", type: \"submit\" }, t('edit')))));\r\n    }));\r\n};\r\nconst EditWebhookDialog = (props) => {\r\n    const { injector } = useShadowDom();\r\n    const t = useT('webhooks_AddEditWebhook');\r\n    return (React.createElement(Dialog$1, Object.assign({ container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { title: t('editTitle') }),\r\n        React.createElement(EditWebhookForm, Object.assign({}, props))));\r\n};\n\nconst DeleteWebhookDialog = ({ open, webhook, onClose }) => {\r\n    const t = useT('webhooks_DeleteWebhook');\r\n    const [loading, setLoading] = react.exports.useState(false);\r\n    const [error, setError] = react.exports.useState(null);\r\n    const { deleteWebhookConfigAction } = useConnectivityActions();\r\n    const callback = react.exports.useCallback((success, error) => {\r\n        if (error) {\r\n            setLoading(false);\r\n            setError(error);\r\n        }\r\n        else {\r\n            setLoading(false);\r\n            onClose();\r\n        }\r\n    }, [setLoading, setError, onClose]);\r\n    const handleDeleteWebhook = react.exports.useCallback(() => {\r\n        setLoading(true);\r\n        setError(null);\r\n        deleteWebhookConfigAction({ webhookId: webhook === null || webhook === void 0 ? void 0 : webhook._id, callback });\r\n    }, [callback, deleteWebhookConfigAction, webhook === null || webhook === void 0 ? void 0 : webhook._id]);\r\n    return (React.createElement(DeleteDialog, { title: t('title'), cancelButtonText: t('cancel'), deleteButtonText: t('delete'), description: React.createElement(React.Fragment, null,\r\n            t('areYouSureDeleteWebhook1'),\r\n            \" \",\r\n            React.createElement(\"strong\", null, webhook === null || webhook === void 0 ? void 0 : webhook.displayName),\r\n            \" \",\r\n            t('areYouSureDeleteWebhook2')), open: open, error: error, onClose: onClose, loading: !!loading, onDelete: handleDeleteWebhook }));\r\n};\n\nconst useWebhooksTableRowActions = ({ container, handleOpenDeleteWebhook, handleOpenEditWebhook, hasWritePermission, hasDeletePermission, }) => {\r\n    const t = useT('webhooks');\r\n    return react.exports.useMemo(() => (row) => {\r\n        const items = [];\r\n        const handleEditWebhook = () => {\r\n            handleOpenEditWebhook(row);\r\n        };\r\n        const handleDeleteWebhook = () => {\r\n            handleOpenDeleteWebhook(row);\r\n        };\r\n        //TODO change data test id from editBtn to action-edit-btn\r\n        if (hasWritePermission) {\r\n            items.push({\r\n                text: t('editWebhook'),\r\n                onClick: handleEditWebhook,\r\n                icon: React.createElement(EditIcon, { \"data-test-id\": 'action-edit-btn' }),\r\n            });\r\n        }\r\n        //TODO change data test id from deleteBtn to delete-btn\r\n        if (hasDeletePermission) {\r\n            items.push({\r\n                negative: true,\r\n                text: t('deleteWebhook'),\r\n                onClick: handleDeleteWebhook,\r\n                icon: React.createElement(DeleteIcon, { \"data-test-id\": 'action-delete-btn' }),\r\n            });\r\n        }\r\n        return { items, container };\r\n    }, [container, handleOpenDeleteWebhook, handleOpenEditWebhook, hasDeletePermission, hasWritePermission, t]);\r\n};\r\nconst webhooksColumns = ({ onChangeStatus, t }) => [\r\n    {\r\n        accessor: ({ url, displayName }) => ({ title: displayName, description: url }),\r\n        Header: t('nameHeader'),\r\n        Cell: TableTextCell,\r\n    },\r\n    {\r\n        accessor: (webhook) => {\r\n            var _a;\r\n            return ({\r\n                checked: (_a = webhook === null || webhook === void 0 ? void 0 : webhook.isActive) !== null && _a !== void 0 ? _a : false,\r\n                onChange: () => webhook && onChangeStatus(webhook),\r\n            });\r\n        },\r\n        Header: t('statusHeader'),\r\n        Cell: TableSwitchCellLeft,\r\n        maxWidth: 100,\r\n        minWidth: 100,\r\n    },\r\n].filter(notNull);\n\nconst WebhooksTable = () => {\r\n    var _a;\r\n    const t = useT('webhooks');\r\n    const { searchQuery } = useTableSearch();\r\n    const { injector } = useShadowDom();\r\n    const container = injector === null || injector === void 0 ? void 0 : injector.adminPortalEl;\r\n    const [editWebhookDialog, handleCloseEditWebhook, handleOpenEditWebhook, editWebhookData] = useDialogState();\r\n    const [deleteWebhookDialog, handleCloseDeleteWebhook, handleOpenDeleteWebhook, deleteWebhookData] = useDialogState();\r\n    const { postDataAction } = useConnectivityActions();\r\n    const { webhook: webhookState, categories, channelMap, isLoading, totalPages } = useConnectivityState();\r\n    const cleanCategories = filterCategories(categories, channelMap && channelMap.webhook);\r\n    const hasWritePermission = usePermission('fe.connectivity.write.webhook');\r\n    const hasDeletePermission = usePermission('fe.connectivity.delete.webhook');\r\n    const getRowActions = useWebhooksTableRowActions({\r\n        container,\r\n        handleOpenEditWebhook,\r\n        handleOpenDeleteWebhook,\r\n        hasWritePermission,\r\n        hasDeletePermission,\r\n    });\r\n    const preparedWebhookState = (_a = webhookState === null || webhookState === void 0 ? void 0 : webhookState.data) !== null && _a !== void 0 ? _a : webhookState;\r\n    const webhooks = react.exports.useMemo(() => preparedWebhookState === null || preparedWebhookState === void 0 ? void 0 : preparedWebhookState.map((elm) => {\r\n        var _a;\r\n        const eventObject = selectedEvents(elm.eventKeys);\r\n        const data = cleanCategories === null || cleanCategories === void 0 ? void 0 : cleanCategories.reduce((acc, cur) => {\r\n            var _a, _b, _c;\r\n            if (eventObject === null || eventObject === void 0 ? void 0 : eventObject.names.includes(cur.name)) {\r\n                return [...acc, { name: cur.name, count: (_b = (_a = cur.events) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0 }];\r\n            }\r\n            else {\r\n                const evs = (_c = cur.events) === null || _c === void 0 ? void 0 : _c.filter(({ key }) => eventObject === null || eventObject === void 0 ? void 0 : eventObject.eventKeys.includes(key));\r\n                if (evs === null || evs === void 0 ? void 0 : evs.length) {\r\n                    return [...acc, { name: cur.name, count: evs.length }];\r\n                }\r\n            }\r\n            return acc;\r\n        }, []);\r\n        return Object.assign(Object.assign({}, elm), { groupEvents: data !== null && data !== void 0 ? data : [], totalEvents: (_a = data === null || data === void 0 ? void 0 : data.reduce((acc, cur) => acc + (cur.count || 0), 0)) !== null && _a !== void 0 ? _a : 0 });\r\n    }), [preparedWebhookState, cleanCategories]);\r\n    const filteredWebhooks = react.exports.useMemo(() => {\r\n        const query = searchQuery.toLocaleLowerCase();\r\n        return webhooks\r\n            ? webhooks.filter((w) => {\r\n                const webhookUrl = w.url.toLocaleLowerCase();\r\n                const webhookName = w.displayName.toLocaleLowerCase();\r\n                return webhookName.includes(query) || webhookUrl.includes(query);\r\n            })\r\n            : [];\r\n    }, [searchQuery, webhooks]);\r\n    const tablePlaceholderProps = react.exports.useMemo(() => {\r\n        const webhooksLength = webhooks ? webhooks.length : 0;\r\n        if (isLoading) {\r\n            return null;\r\n        }\r\n        if (!webhooksLength) {\r\n            return {\r\n                show: true,\r\n                icon: React.createElement(WebhooksIcon, null),\r\n                title: t('noWebhooksYet'),\r\n                description: t('noWebhooksYetDescription'),\r\n                testId: 'webhooks-table-empty-placeholder'\r\n            };\r\n        }\r\n        if (filteredWebhooks.length === 0) {\r\n            return {\r\n                show: true,\r\n                icon: React.createElement(SearchBigIcon, null),\r\n                title: t('noResultFound'),\r\n                description: t('noResultFoundDescription'),\r\n                testId: 'webhooks-table-no-results-placeholder'\r\n            };\r\n        }\r\n        return null;\r\n    }, [isLoading, webhooks, filteredWebhooks.length, t]);\r\n    const onChangeStatus = react.exports.useCallback((data) => {\r\n        postDataAction({ platform: 'webhook', data: Object.assign(Object.assign({}, data), { isActive: !data.isActive }) });\r\n    }, [postDataAction]);\r\n    const columns = react.exports.useMemo(() => webhooksColumns({ onChangeStatus, t }), [onChangeStatus, t]);\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(Table, { forwardedKey: \"webhooks-table\", columns: columns, loading: isLoading, totalPages: totalPages, data: filteredWebhooks !== null && filteredWebhooks !== void 0 ? filteredWebhooks : [], getRowActions: getRowActions }, tablePlaceholderProps && React.createElement(TablePlaceholder, Object.assign({}, tablePlaceholderProps))),\r\n        React.createElement(EditWebhookDialog, { open: editWebhookDialog, onClose: handleCloseEditWebhook, webhook: editWebhookData }),\r\n        React.createElement(DeleteWebhookDialog, { open: deleteWebhookDialog, onClose: handleCloseDeleteWebhook, webhook: deleteWebhookData })));\r\n};\n\nconst WebhooksPage$1 = () => {\r\n    const [searchQuery, onSearch] = react.exports.useState(\"\");\r\n    const [searching, setSearching] = react.exports.useState(false);\r\n    const { loadDataAction } = useConnectivityActions();\r\n    const [addWebhookDialog, handleCloseAddWebhook, handleOpenAddWebhook] = useDialogState();\r\n    react.exports.useEffect(() => {\r\n        loadDataAction();\r\n    }, [loadDataAction]);\r\n    return (React.createElement(PageWrapper, { flex: 1, display: \"flex\", flexDirection: \"column\" },\r\n        React.createElement(TableSearchContext.Provider, { value: { searching, searchQuery, onSearch, setSearching } },\r\n            React.createElement(WebhooksHeader, { handleOpenInviteUser: handleOpenAddWebhook }),\r\n            React.createElement(Box, { mt: 6, flex: 1, display: \"flex\", flexDirection: \"column\" },\r\n                React.createElement(WebhooksTable, null)),\r\n            React.createElement(AddWebhookDialog, { open: addWebhookDialog, onClose: handleCloseAddWebhook }))));\r\n};\r\nvar WebhooksPage$2 = WebhooksPage$1;\n\nvar WebhooksPage = wrapPage(WebhooksPage$2, 'webhooks');\n\nconst LoginPage = () => {\r\n    const { closeAdminBox } = react.exports.useContext(AppDialogContext);\r\n    const { basename = '' } = useShadowDom();\r\n    const { loginUrl } = useAuthRoutes();\r\n    const onRedirectTo = useOnRedirectTo();\r\n    react.exports.useEffect(() => {\r\n        closeAdminBox();\r\n        const calculatedBasename = basename.endsWith('/') ? basename.substring(0, basename.length - 1) : '';\r\n        window.location.href = calculatedBasename + loginUrl;\r\n    }, [onRedirectTo, closeAdminBox]);\r\n    return null;\r\n};\r\nvar LoginPage$1 = LoginPage;\n\nconst AllUsersHeader = ({ handleOpenInviteUser }) => {\r\n    const t = useT('allUsers');\r\n    const { onSearch } = useTableSearch();\r\n    const [search, setSearch] = react.exports.useState('');\r\n    const debounceSearch = useDebounce(search);\r\n    const canInviteUser = usePermission('fe.secure.write.users');\r\n    useAsyncEffect(() => onSearch(debounceSearch), [debounceSearch]);\r\n    return (React.createElement(Grid, { container: true, spacing: 4 },\r\n        React.createElement(Grid, { item: true, xs: 12, sm: 6, md: 4 },\r\n            React.createElement(Box, null,\r\n                React.createElement(Input$1$1, { \"data-test-id\": 'searchBox', endAdornment: React.createElement(SearchIcon, null), onChange: (e) => setSearch(e.target.value), placeholder: t('searchInputPlaceholder') }))),\r\n        React.createElement(Grid, { item: true, xs: true }),\r\n        canInviteUser && (React.createElement(Grid, { item: true },\r\n            React.createElement(Button$1, { \"data-test-id\": 'invite-user-btn', onClick: handleOpenInviteUser }, t('inviteUserButton'))))));\r\n};\n\nconst useUsersTableRowActions = ({ container, resendActivationLink, resendInvitationLink, handleOpenDeleteUser, handleOpenLockUser, handleOpenInviteUser, revokeUserSessions, currentTenantId, subTenants, }) => {\r\n    const t = useT('allUsers');\r\n    const user = useAuthUserOrNull();\r\n    const canEditRoles = usePermission('fe.secure.write.users');\r\n    const canDeleteUser = usePermission('fe.secure.delete.users');\r\n    const canRevokeUserSessions = usePermission('fe.secure.delete.sessions');\r\n    //TODO: add virified type to ITeamUser\r\n    return react.exports.useMemo(() => (row) => {\r\n        const items = [];\r\n        const handleManageUser = () => {\r\n            handleOpenInviteUser(row);\r\n        };\r\n        const handleSendActivationLink = () => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, reject);\r\n            resendActivationLink({ userId: row.id, callback });\r\n        });\r\n        const handleSendInvitationLink = () => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, reject);\r\n            const invitationData = __rest(row, [\"id\"]);\r\n            resendInvitationLink(Object.assign(Object.assign({}, invitationData), { callback }));\r\n        });\r\n        const handleDeleteUser = () => {\r\n            handleOpenDeleteUser(row);\r\n        };\r\n        const handleRevokeUserSessions = () => new Promise((resolve, reject) => {\r\n            const callback = callbackToPromise(resolve, reject);\r\n            revokeUserSessions({ userId: row.id, callback });\r\n        });\r\n        const isMe = row.id === (user === null || user === void 0 ? void 0 : user.id);\r\n        if (!row.verified) {\r\n            items.push({\r\n                icon: React.createElement(ResendIcon, { \"data-test-id\": 'resendBtn' }),\r\n                onClick: handleSendActivationLink,\r\n                text: t('resendActivationAction'),\r\n            });\r\n        }\r\n        else {\r\n            items.push({\r\n                icon: React.createElement(ResendIcon, { \"data-test-id\": 'resendInvitationBtn' }),\r\n                onClick: handleSendInvitationLink,\r\n                text: t('resendInvitationAction'),\r\n            });\r\n        }\r\n        if (!isMe) {\r\n            if (canEditRoles) {\r\n                items.push({\r\n                    icon: React.createElement(TuneRounded, { \"data-test-id\": 'manageBtn' }),\r\n                    onClick: handleManageUser,\r\n                    text: t('manageAction'),\r\n                });\r\n            }\r\n            if (canDeleteUser) {\r\n                items.push({\r\n                    icon: React.createElement(DeleteIcon, { \"data-test-id\": 'deleteBtn' }),\r\n                    onClick: handleDeleteUser,\r\n                    text: t('deleteUserAction'),\r\n                });\r\n            }\r\n            if (canRevokeUserSessions && row.activatedForTenant) {\r\n                items.push({\r\n                    icon: React.createElement(CloseIcon, { \"data-test-id\": \"revokeBtn\" }),\r\n                    onClick: handleRevokeUserSessions,\r\n                    text: t('logOutUserSessionsActions'),\r\n                });\r\n            }\r\n        }\r\n        return { items, container };\r\n    }, [\r\n        t,\r\n        user,\r\n        container,\r\n        canEditRoles,\r\n        canDeleteUser,\r\n        canRevokeUserSessions,\r\n        resendActivationLink,\r\n        resendInvitationLink,\r\n        handleOpenDeleteUser,\r\n        handleOpenLockUser,\r\n        handleOpenInviteUser,\r\n        subTenants,\r\n        currentTenantId,\r\n    ]);\r\n};\r\nconst allUsersTableColumnsOrganization = ({ t, user, subTenants, forcePermissions, container, currentTenantName, currentTenantId, }) => [\r\n    {\r\n        Header: () => React.createElement(Box, { width: '2rem' }),\r\n        accessor: ({ name, profileImageUrl, profilePictureUrl }) => ({\r\n            name,\r\n            picture: profilePictureUrl !== null && profilePictureUrl !== void 0 ? profilePictureUrl : profileImageUrl,\r\n        }),\r\n        width: '2rem',\r\n        id: 'id',\r\n        Cell: TableAvatarCell,\r\n    },\r\n    Object.assign(Object.assign({ Header: t('userHeader'), accessor: ({ id, name, email }) => ({\r\n            title: `${name} ${id === user.id ? `(${t('meTooltip')})` : ''}`,\r\n            description: email,\r\n        }) }, (forcePermissions ? { width: 260, maxWidth: 260 } : { minWidth: 260 })), { Cell: TableTextCell }),\r\n    {\r\n        Header: t('accountsHeader'),\r\n        accessor: ({ tenants }) => {\r\n            var _a;\r\n            const items = (_a = tenants === null || tenants === void 0 ? void 0 : tenants.map((tenant) => {\r\n                var _a;\r\n                let text = (_a = subTenants.find((subTenant) => subTenant.tenantId === tenant.tenantId)) === null || _a === void 0 ? void 0 : _a.tenantName;\r\n                if (!text && tenant.tenantId === currentTenantId) {\r\n                    text = currentTenantName;\r\n                }\r\n                return { text };\r\n            })) !== null && _a !== void 0 ? _a : [];\r\n            return { items: items.filter((item) => item.text), max: 2, container };\r\n        },\r\n        minWidth: 300,\r\n        Cell: TableChipsCell,\r\n    },\r\n    {\r\n        Header: t('joinedHeader'),\r\n        accessor: ({ createdAt, tenants }) => ({\r\n            date: createdAt,\r\n            tenants,\r\n        }),\r\n        width: 160,\r\n        maxWidth: 160,\r\n        Cell: (props) => {\r\n            const hasOneActivatedTenant = !!(props.value.tenants || []).find((tenant) => tenant.activated);\r\n            return !hasOneActivatedTenant ? (React.createElement(Chip, { color: 'secondary', label: t('pendingActivationStatus') })) : (React.createElement(TableDateCell, Object.assign({}, props)));\r\n        },\r\n    },\r\n    {\r\n        Header: t('lastSeenHeader'),\r\n        accessor: ({ tenants, tenantId }) => {\r\n            var _a;\r\n            return ({\r\n                date: (_a = tenants === null || tenants === void 0 ? void 0 : tenants.find((tenant) => tenant.tenantId === tenantId)) === null || _a === void 0 ? void 0 : _a.lastLogin,\r\n            });\r\n        },\r\n        width: 160,\r\n        maxWidth: 160,\r\n        Cell: TableDateCell,\r\n    },\r\n].filter(notNull);\n\nconst DeleteUserDialog = ({ onClose, open, user }) => {\r\n    const t = useT('allUsers_DeleteUser');\r\n    const [loading, setLoading] = react.exports.useState(false);\r\n    const [error, setError] = react.exports.useState(null);\r\n    const { deleteUserFromSubTenants } = useAuthTeamActions();\r\n    const callback = react.exports.useCallback((success, error) => {\r\n        if (error) {\r\n            setError(error);\r\n        }\r\n        else {\r\n            onClose();\r\n        }\r\n        setLoading(false);\r\n    }, [setLoading, setError, onClose]);\r\n    const handleDeleteUser = react.exports.useCallback(() => {\r\n        setLoading(true);\r\n        setError(null);\r\n        deleteUserFromSubTenants({\r\n            callback,\r\n            userId: user.id,\r\n            subTenants: user.tenants.map((tenant) => ({ tenantId: tenant.tenantId })),\r\n        });\r\n    }, [user === null || user === void 0 ? void 0 : user.id, user === null || user === void 0 ? void 0 : user.tenants, setLoading, setError, deleteUserFromSubTenants, callback]);\r\n    return (React.createElement(DeleteDialog, { dataTestId: 'deleteUserBtn', title: t('title', { name: user === null || user === void 0 ? void 0 : user.name }), cancelButtonText: t('cancel'), deleteButtonText: t('delete'), description: React.createElement(React.Fragment, null,\r\n            t('areYouSureDeleteUser1', { name: user === null || user === void 0 ? void 0 : user.name }),\r\n            \" \",\r\n            t('areYouSureDeleteUser2')), open: open, error: error, onClose: onClose, loading: !!loading, onDelete: handleDeleteUser }));\r\n};\n\nconst LockUserDialog = ({ onClose, open, user }) => {\r\n    const t = useT('allUsers_LockUser');\r\n    const [loading, setLoading] = react.exports.useState(false);\r\n    const [error, setError] = react.exports.useState(null);\r\n    const { lockUser } = useAuthTeamActions();\r\n    const callback = react.exports.useCallback((success, error) => {\r\n        if (error) {\r\n            setError(error);\r\n        }\r\n        else {\r\n            onClose();\r\n        }\r\n        setLoading(false);\r\n    }, [setLoading, setError, onClose]);\r\n    const handleLockUser = react.exports.useCallback(() => {\r\n        setLoading(true);\r\n        setError(null);\r\n        lockUser({ userId: user === null || user === void 0 ? void 0 : user.id, callback });\r\n    }, [user === null || user === void 0 ? void 0 : user.id, callback, setLoading, setError, lockUser]);\r\n    return (React.createElement(DeleteDialog, { dataTestId: 'lockUserBtn', title: t('title', { name: user === null || user === void 0 ? void 0 : user.name }), cancelButtonText: t('cancel'), deleteButtonText: t('lock'), description: React.createElement(React.Fragment, null, t('areYouSureLockUser1', { name: user === null || user === void 0 ? void 0 : user.name })), open: open, error: error, onClose: onClose, loading: !!loading, onDelete: handleLockUser }));\r\n};\n\nconst AllUsersTable = ({ handleOpenInviteUser }) => {\r\n    const t = useT('allUsers');\r\n    const { injector } = useShadowDom();\r\n    const container = injector === null || injector === void 0 ? void 0 : injector.adminPortalEl;\r\n    const user = useAuthUser();\r\n    const { revokeUserSessions } = useSessionsActions();\r\n    const { loaders, allUsers, roles, permissions, totalPages, pageOffset, filter } = useAuthTeamState();\r\n    const { resendActivationLink, loadAllSubTenantsUsers, resendInvitationLinkToAllSubTenants } = useAuthTeamActions();\r\n    const [deleteUserDialog, handleCloseDeleteUser, handleOpenDeleteUser, deleteUserData] = useDialogState();\r\n    const [lockUserDialog, handleCloseLockUser, handleOpenLockUser, lockUserData] = useDialogState();\r\n    const { policy, loading: loadingPolicy } = usePublicPolicySettings();\r\n    const rolesUse = useRolesMap(roles);\r\n    const rolesMap = react.exports.useMemo(() => (!loadingPolicy && (policy === null || policy === void 0 ? void 0 : policy.forcePermissions) ? rolesUse : undefined), [\r\n        policy,\r\n        rolesUse,\r\n        loadingPolicy,\r\n    ]);\r\n    const { tenants, subTenants } = useTenantsState();\r\n    const tenantName = react.exports.useMemo(() => {\r\n        var _a, _b;\r\n        return (_b = (_a = tenants.find(({ tenantId }) => tenantId === user.tenantId)) === null || _a === void 0 ? void 0 : _a.name) !== null && _b !== void 0 ? _b : '';\r\n    }, [tenants, user.tenantId]);\r\n    const isPermissionsAndRolesEnabled = react.exports.useMemo(() => !loadingPolicy && (policy === null || policy === void 0 ? void 0 : policy.forcePermissions), [\r\n        loadingPolicy,\r\n        policy,\r\n    ]);\r\n    const columns = react.exports.useMemo(() => {\r\n        return allUsersTableColumnsOrganization({\r\n            t,\r\n            user,\r\n            subTenants,\r\n            forcePermissions: isPermissionsAndRolesEnabled,\r\n            container,\r\n            currentTenantName: tenantName,\r\n            currentTenantId: user.tenantId,\r\n        });\r\n    }, [t, user, subTenants, isPermissionsAndRolesEnabled, container, rolesMap, tenantName, user.tenantId]);\r\n    const { searching } = useTableSearch();\r\n    const getRowActions = useUsersTableRowActions({\r\n        roles,\r\n        subTenants,\r\n        permissions,\r\n        container,\r\n        resendActivationLink,\r\n        resendInvitationLink: resendInvitationLinkToAllSubTenants,\r\n        handleOpenDeleteUser,\r\n        handleOpenLockUser,\r\n        revokeUserSessions,\r\n        handleOpenInviteUser,\r\n        currentTenantId: user.tenantId,\r\n    });\r\n    const onPageChange = react.exports.useCallback((event, page) => {\r\n        loadAllSubTenantsUsers({ _offset: page - 1 });\r\n    }, [loadAllSubTenantsUsers]);\r\n    const onSortChange = react.exports.useCallback((sortBy = []) => {\r\n        var _a, _b;\r\n        loadAllSubTenantsUsers({\r\n            _offset: 0,\r\n            _sortBy: ((_a = sortBy[0]) === null || _a === void 0 ? void 0 : _a.id) || 'name',\r\n            _order: ((_b = sortBy[0]) === null || _b === void 0 ? void 0 : _b.desc) ? 'DESC' : 'ASC',\r\n        });\r\n    }, [loadAllSubTenantsUsers]);\r\n    const loading = !!loaders.USERS;\r\n    const tablePlaceholderProps = react.exports.useMemo(() => {\r\n        if (loading || searching) {\r\n            return null;\r\n        }\r\n        else if (filter.length === 0 && allUsers.length === 0) {\r\n            return {\r\n                show: true,\r\n                icon: React.createElement(GroupUsersIcon, null),\r\n                title: t('noUsersYet'),\r\n                description: t('noUsersYetDescription'),\r\n            };\r\n        }\r\n        else if (filter.length > 0 && allUsers.length === 0) {\r\n            return {\r\n                show: true,\r\n                icon: React.createElement(SearchBigIcon, null),\r\n                title: t('noResultFound'),\r\n                description: t('noResultFoundDescription'),\r\n            };\r\n        }\r\n        return null;\r\n    }, [t, loading, searching, filter.length, allUsers.length]);\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(Table, { forwardedKey: 'all-users-table', columns: columns, data: allUsers, getRowActions: getRowActions, loading: loading, searching: searching, onSortChange: onSortChange, loadingText: searching ? t('searchingPlaceholder') : undefined, totalPages: totalPages, pageOffset: pageOffset, onPageChange: onPageChange }, tablePlaceholderProps && React.createElement(TablePlaceholder, Object.assign({}, tablePlaceholderProps))),\r\n        React.createElement(DeleteUserDialog, { open: deleteUserDialog, onClose: handleCloseDeleteUser, user: deleteUserData }),\r\n        React.createElement(LockUserDialog, { open: lockUserDialog, onClose: handleCloseLockUser, user: lockUserData })));\r\n};\n\nconst TreeHeader = styled(Grid) `\n  height: 56px;\n  background: #f5f6f8;\n  border: 1px solid #e5eaf3;\n  border-radius: 3px 3px 0 0;\n  flex-direction: row;\n  align-items: center;\n  display: flex;\n  border-bottom-width: 0;\n`;\r\nconst FirstNameField = () => {\r\n    const t = useT('allUsers_InviteUser');\r\n    const [fieldProps, { error, touched }] = useField('fullName');\r\n    return (React.createElement(Input$1$1, Object.assign({ label: t('fullNameInputLabel') }, fieldProps, { error: !!error && touched, errorMessage: error, \"data-test-id\": 'nameBox', autoComplete: 'given-name' })));\r\n};\r\nconst EmailField = ({ disabled }) => {\r\n    const t = useT('allUsers_InviteUser');\r\n    const [fieldProps, { error, touched }] = useField('email');\r\n    return (React.createElement(Input$1$1, Object.assign({ label: t('emailInputLabel') }, fieldProps, { error: !!error && touched, errorMessage: error, \"data-test-id\": 'emailBox', autoComplete: 'email', disabled: disabled })));\r\n};\r\nconst RolesField = ({ roles, id }) => {\r\n    const t = useT('allUsers_InviteUser');\r\n    const { injector } = useShadowDom();\r\n    const [fieldProps, { error, touched }, { setValue, setTouched }] = useField(`roleIds-${id}`);\r\n    const options = react.exports.useMemo(() => (roles !== null && roles !== void 0 ? roles : []).map((role) => ({ label: role.name, value: role.id, withCheckbox: true })), [roles]);\r\n    return (React.createElement(Select$1$1, { name: `roleIds-${id}`, placeholder: t('rolesInputPlaceholder'), value: fieldProps.value, multi: true, oneLineMulti: true, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, options: options, onChange: (value) => {\r\n            setValue(value, true);\r\n            setTouched(true);\r\n        }, error: !!error && touched, errorMessage: error, onClick: (e) => e.stopPropagation(), sx: { margin: '0 0 0 auto', width: 210 } }));\r\n};\r\nconst AssignRolesToAll = ({ roles, selectedTenantIds }) => {\r\n    const t = useT('allUsers_InviteUser');\r\n    const { injector } = useShadowDom();\r\n    const [fieldProps, { error, touched }, { setValue, setTouched }] = useField('rolesForAllTenants');\r\n    const options = react.exports.useMemo(() => (roles !== null && roles !== void 0 ? roles : []).map((role) => ({ label: role.name, value: role.id, withCheckbox: true })), [roles]);\r\n    const formikContext = useFormikContext();\r\n    const onChange = (value) => {\r\n        setValue(value, true);\r\n        setTouched(true);\r\n        selectedTenantIds.forEach((id) => {\r\n            formikContext.setFieldValue(`roleIds-${id}`, value);\r\n        });\r\n    };\r\n    return (React.createElement(Select$1$1, { name: 'rolesForAllTenants', placeholder: t('rolesInputPlaceholder'), value: fieldProps.value, multi: true, oneLineMulti: true, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, options: options, onChange: onChange, error: !!error && touched, errorMessage: error, onClick: (e) => e.stopPropagation(), sx: { marginBottom: 0 }, customContent: React.createElement(Button$1, { \"data-test-id\": 'assignRolesToAllBtn', size: 'small', color: 'inherit', onClick: (e) => e.stopPropagation(), type: 'button' },\r\n            React.createElement(ManageAccounts, null),\r\n            \" \",\r\n            t('assignRole')), minPopperWidth: 240 }));\r\n};\r\nconst InviteUserForm = (_a) => {\r\n    var props = __rest(_a, []);\r\n    const t = useT('allUsers_InviteUser');\r\n    const { addUserToSubTenants, setUserRolesForSubTenants, deleteUserFromSubTenants } = useAuthTeamActions();\r\n    const { tenantTree } = useTenantsState();\r\n    const userData = react.exports.useMemo(() => props.teamUser, [props.teamUser]);\r\n    const treeData = react.exports.useMemo(() => {\r\n        const mapTree = (node, level = 1) => ({\r\n            id: node.tenantId,\r\n            name: node.tenantName || '',\r\n            level,\r\n            children: node.children.map((child) => mapTree(child, level + 1)),\r\n        });\r\n        return tenantTree && mapTree(tenantTree);\r\n    }, [tenantTree]);\r\n    const allTenantIds = react.exports.useMemo(() => {\r\n        const getTenantsIds = (node) => [\r\n            node.tenantId,\r\n            ...node.children.map((child) => getTenantsIds(child)).flat(),\r\n        ];\r\n        return tenantTree ? getTenantsIds(tenantTree) : [];\r\n    }, [tenantTree]);\r\n    const initialValues = react.exports.useMemo(() => {\r\n        const mapTreeInitialValues = (node, acc = {}) => {\r\n            var _a;\r\n            if (!node) {\r\n                return {};\r\n            }\r\n            if (userData && userData.tenants) {\r\n                acc[`roleIds-${node.id}`] =\r\n                    ((_a = userData.tenants.find((tenant) => tenant.tenantId === node.id)) === null || _a === void 0 ? void 0 : _a.roles.map((role) => role.id)) || [];\r\n            }\r\n            else {\r\n                acc[`roleIds-${node.id}`] = [];\r\n            }\r\n            (node.children || []).forEach((child) => mapTreeInitialValues(child, acc));\r\n            return acc;\r\n        };\r\n        const tenantsRoles = mapTreeInitialValues(treeData);\r\n        return Object.assign(Object.assign({}, tenantsRoles), { fullName: (userData === null || userData === void 0 ? void 0 : userData.name) || '', email: (userData === null || userData === void 0 ? void 0 : userData.email) || '', rolesForAllTenants: [] });\r\n    }, [treeData, userData]);\r\n    const [selectedTenants, setSelectedTenants] = react.exports.useState(((userData === null || userData === void 0 ? void 0 : userData.tenants) || []).map((tenant) => tenant.tenantId) || []);\r\n    const accountsCount = react.exports.useMemo(() => t('accountsCount_one', { count: selectedTenants.length }), [\r\n        selectedTenants.length,\r\n        t,\r\n    ]);\r\n    const validationSchema = react.exports.useMemo(() => validateSchema(Object.assign({ fullName: validateNotEmpty(t('fullNameIsRequired')), email: validateEmail(t('emailMustBeValid'), t('emailIsRequired')) }, selectedTenants.reduce((previousValue, currentValue) => {\r\n        return Object.assign(Object.assign({}, previousValue), { [`roleIds-${currentValue}`]: create().min(1, t('rolesIsRequired')) });\r\n    }, {}))), [t, selectedTenants]);\r\n    const handleSelectedChange = react.exports.useCallback((ids) => setSelectedTenants(ids), [setSelectedTenants]);\r\n    const cachedRoles = react.exports.useMemo(() => props.roles, [props.roles]);\r\n    const itemProps = react.exports.useMemo(() => ({ roles: cachedRoles }), [cachedRoles]);\r\n    const checked = react.exports.useMemo(() => selectedTenants.length === (allTenantIds === null || allTenantIds === void 0 ? void 0 : allTenantIds.length), [selectedTenants, allTenantIds]);\r\n    const indeterminate = react.exports.useMemo(() => !checked && selectedTenants.length > 0, [selectedTenants, checked]);\r\n    const handleSelectAll = react.exports.useCallback(() => setSelectedTenants(!checked ? allTenantIds : []), [allTenantIds, checked]);\r\n    const formikProps = react.exports.useMemo(() => ({\r\n        onSubmit: (_a) => {\r\n            var { fullName, email } = _a, rest = __rest(_a, [\"fullName\", \"email\"]);\r\n            return new Promise((resolve, reject) => {\r\n                const callback = callbackToPromise(resolve, reject, props.onClose);\r\n                if (userData && userData.tenantIds) {\r\n                    const addedTenants = selectedTenants.filter((x) => !userData.tenantIds.includes(x));\r\n                    const removedTenants = userData.tenantIds.filter((x) => !selectedTenants.includes(x));\r\n                    if (addedTenants.length) {\r\n                        addUserToSubTenants({\r\n                            user: { name: userData.name, email: userData.email },\r\n                            subTenants: addedTenants.map((id) => ({\r\n                                tenantId: id,\r\n                                roleIds: [...new Set(rest[`roleIds-${id}`])],\r\n                            })),\r\n                        });\r\n                    }\r\n                    if (removedTenants.length) {\r\n                        deleteUserFromSubTenants({\r\n                            userId: userData.id,\r\n                            subTenants: removedTenants.map((id) => ({ tenantId: id })),\r\n                        });\r\n                    }\r\n                    setUserRolesForSubTenants({\r\n                        callback,\r\n                        userId: userData.id,\r\n                        subTenantsRoles: selectedTenants\r\n                            .filter((id) => !removedTenants.includes(id))\r\n                            .map((id) => ({\r\n                            tenantId: id,\r\n                            roleIds: [...new Set(rest[`roleIds-${id}`])],\r\n                        })),\r\n                    });\r\n                }\r\n                else {\r\n                    addUserToSubTenants({\r\n                        callback,\r\n                        user: { name: fullName, email },\r\n                        subTenants: selectedTenants.map((id) => ({\r\n                            tenantId: id,\r\n                            roleIds: [...new Set(rest[`roleIds-${id}`])],\r\n                        })),\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        initialValues,\r\n        validationSchema,\r\n    }), [\r\n        addUserToSubTenants,\r\n        deleteUserFromSubTenants,\r\n        initialValues,\r\n        props.onClose,\r\n        selectedTenants,\r\n        setUserRolesForSubTenants,\r\n        userData,\r\n        validationSchema,\r\n    ]);\r\n    return (React.createElement(FormDialogBody, Object.assign({}, formikProps), ({ isSubmitting, canSubmit, formError }) => {\r\n        return (React.createElement(React.Fragment, null,\r\n            React.createElement(Dialog$1.Body, null,\r\n                React.createElement(Grid, { container: true, spacing: 4 },\r\n                    React.createElement(Grid, { item: true, xs: 12, sm: 6 },\r\n                        React.createElement(FirstNameField, null)),\r\n                    React.createElement(Grid, { item: true, xs: 12, sm: 6 },\r\n                        React.createElement(EmailField, { disabled: !!(userData === null || userData === void 0 ? void 0 : userData.email) }))),\r\n                React.createElement(Grid, { container: true, spacing: 4, style: { marginBottom: '8px' }, alignItems: 'center' },\r\n                    React.createElement(Grid, { item: true, xs: 6 },\r\n                        React.createElement(Typography$1, { component: 'div', display: 'inline-flex', marginRight: '1em' }, t('selected')),\r\n                        React.createElement(Chip$1, { label: accountsCount })),\r\n                    React.createElement(Grid, { item: true, xs: 6, sx: { display: 'flex', justifyContent: 'end' } },\r\n                        React.createElement(AssignRolesToAll, { roles: cachedRoles, selectedTenantIds: selectedTenants }))),\r\n                treeData && (React.createElement(React.Fragment, null,\r\n                    React.createElement(TreeHeader, null,\r\n                        React.createElement(Grid, { item: true, xs: 6 },\r\n                            React.createElement(Typography$1, { component: 'div', display: 'flex', marginLeft: '3.5em', fontWeight: 'bold', alignItems: 'center' },\r\n                                React.createElement(Checkbox$1, { edge: 'start', checked: checked, onChange: handleSelectAll, tabIndex: -1, indeterminate: indeterminate, disableRipple: true, onClick: (e) => e.stopPropagation(), size: 'small', sx: { padding: '3px 8px 3px 1em' } }),\r\n                                t('accounts'))),\r\n                        React.createElement(Grid, { item: true, xs: 6 },\r\n                            React.createElement(Typography$1, { component: 'div', display: 'inline-flex', marginLeft: '3.5em', fontWeight: 'bold' }, t('role')))),\r\n                    React.createElement(Tree, { data: treeData, selected: selectedTenants, handleSelectedChange: handleSelectedChange, ItemContent: RolesField, itemProps: itemProps }))),\r\n                React.createElement(FormErrorDialogMessage, { message: formError })),\r\n            React.createElement(Dialog$1.Footer, null,\r\n                React.createElement(Box, { flex: 1 }),\r\n                React.createElement(Button$1, { \"data-test-id\": 'cancelBtn', color: 'inherit', variant: 'text', type: 'reset', onClick: props.onClose }, t('cancel')),\r\n                React.createElement(Button$1, { \"data-test-id\": 'inviteBtn', disabled: !canSubmit, loading: isSubmitting, color: 'primary', type: 'submit' }, !userData ? t('invite') : t('save')))));\r\n    }));\r\n};\r\nconst InviteUserDialog = (_a) => {\r\n    var { onClose } = _a, props = __rest(_a, [\"onClose\"]);\r\n    const t = useT('allUsers_InviteUser');\r\n    const { injector } = useShadowDom();\r\n    const handleClose = react.exports.useCallback(() => {\r\n        onClose();\r\n    }, [onClose]);\r\n    return (React.createElement(Dialog$1, Object.assign({ container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl }, props, { onClose: handleClose, title: t('title') }),\r\n        React.createElement(InviteUserForm, Object.assign({}, props, { onClose: handleClose }))));\r\n};\n\nconst AllUsersPage$1 = () => {\r\n    const [searching, setSearching] = react.exports.useState(false);\r\n    const [searchQuery, onSearch] = react.exports.useState('');\r\n    const { allUsers, roles } = useAuthTeamState();\r\n    const { loadAllSubTenantsUsers } = useAuthTeamActions();\r\n    const { loadSubTenants, loadSubTenantsTree } = useTenantsActions();\r\n    const [inviteUserDialog, handleCloseInviteUser, handleOpenInviteUser, inviteUserData] = useDialogState();\r\n    react.exports.useEffect(() => {\r\n        loadSubTenants();\r\n        loadSubTenantsTree();\r\n        const queryObject = {\r\n            _filter: '',\r\n            _offset: 0,\r\n            _limit: 20,\r\n            _order: 'DESC',\r\n            _sortBy: 'name',\r\n            silentLoading: allUsers.length > 0,\r\n        };\r\n        loadAllSubTenantsUsers(queryObject);\r\n        return () => loadAllSubTenantsUsers(queryObject);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [loadAllSubTenantsUsers]);\r\n    useEffectAfterMount(() => {\r\n        loadAllSubTenantsUsers({\r\n            _filter: searchQuery,\r\n            _offset: 0,\r\n            _limit: 20,\r\n            _order: 'DESC',\r\n            _sortBy: 'name',\r\n            callback: () => setSearching(false),\r\n        });\r\n    }, [searchQuery, loadAllSubTenantsUsers]);\r\n    return (React.createElement(PageWrapper, { flex: 1, display: 'flex', flexDirection: 'column' },\r\n        React.createElement(TableSearchContext.Provider, { value: { searching, searchQuery, onSearch, setSearching } },\r\n            React.createElement(AllUsersHeader, { handleOpenInviteUser: handleOpenInviteUser }),\r\n            React.createElement(Box, { mt: 6, flex: 1, display: 'flex', flexDirection: 'column' },\r\n                React.createElement(AllUsersTable, { handleOpenInviteUser: handleOpenInviteUser })),\r\n            React.createElement(InviteUserDialog, { open: inviteUserDialog, onClose: handleCloseInviteUser, roles: roles, teamUser: inviteUserData }))));\r\n};\r\nvar AllUsersPage$2 = AllUsersPage$1;\n\nvar AllUsersPage = wrapPage(AllUsersPage$2, 'allUsers');\n\nconst usePreloadRoutes = () => {\r\n    const { loadProfile, loadAccountSettings, loadSSOConfigurationsV2, loadSecurityPolicy, loadVendorPasswordConfig, } = useAuthActions();\r\n    const { injector } = useShadowDom();\r\n    const isAuthenticated = useIsAuthenticated();\r\n    const { policy, loading: loadingPolicy } = usePublicPolicySettings();\r\n    const shouldLoad = react.exports.useCallback((page) => {\r\n        var _a;\r\n        const metadata = Metadata.getInstance(injector.name).navigation[page];\r\n        if (!metadata) {\r\n            return false;\r\n        }\r\n        if (metadata.visibility === 'hidden') {\r\n            return false;\r\n        }\r\n        if (metadata.featureFlag) {\r\n            return false;\r\n        }\r\n        if ((policy === null || policy === void 0 ? void 0 : policy.forcePermissions) && metadata.visibility === 'byPermissions') {\r\n            return hasPermission(...((_a = metadata.permissions) !== null && _a !== void 0 ? _a : []));\r\n        }\r\n        return true;\r\n    }, [policy === null || policy === void 0 ? void 0 : policy.forcePermissions]);\r\n    react.exports.useEffect(() => {\r\n        if (isAuthenticated && !loadingPolicy) {\r\n            if (shouldLoad('profile')) {\r\n                loadProfile();\r\n            }\r\n            if (shouldLoad('privacy')) {\r\n                loadVendorPasswordConfig();\r\n            }\r\n            if (shouldLoad('account')) {\r\n                loadAccountSettings();\r\n            }\r\n            if (shouldLoad('security')) {\r\n                loadSecurityPolicy();\r\n            }\r\n            if (shouldLoad('sso')) {\r\n                loadSSOConfigurationsV2();\r\n            }\r\n        }\r\n    }, [isAuthenticated, shouldLoad, loadingPolicy]);\r\n};\r\nconst getRoutes = (appName, user, vendorConfig) => {\r\n    return [\r\n        { type: 'nav-header', id: 'profile', path: '/', icon: { xl: React.createElement(ProfileIcon, null), default: React.createElement(UserAvatar, null) }, component: ProfilePage },\r\n        { type: 'nav-header', id: 'privacy', path: '/privacy', icon: React.createElement(PrivacyIcon, null), component: PrivacyPage },\r\n        { type: 'nav-header', id: 'personalApiTokens', path: '/personal-tokens', icon: React.createElement(PersonalTokensIcon, null), component: PersonalTokensPage },\r\n        { type: 'nav-body', id: 'usage', path: '/usage', icon: React.createElement(UsageIcon, null), component: ProfilePage },\r\n        { type: 'nav-body', id: 'account', path: '/account', icon: React.createElement(AccountDetailsIcon, null), component: AccountDetailsPage },\r\n        { type: 'nav-body', id: 'users', path: '/users', icon: React.createElement(UsersIcon, null), component: UsersPage },\r\n        { type: 'nav-body', id: 'allUsers', path: '/all-users', icon: React.createElement(UsersIcon, null), component: AllUsersPage },\r\n        { type: 'nav-body', id: 'roles', path: '/roles', icon: React.createElement(RolesIcon, null), component: RolesPage },\r\n        { type: 'nav-body', id: 'security', path: '/security', icon: React.createElement(SecurityIcon, null), component: SecurityPage },\r\n        { type: 'nav-body', id: 'sso', path: '/sso', icon: React.createElement(SSOIcon, null), component: MultipleSsoPage },\r\n        { type: 'nav-body', id: 'audits', path: '/audits', icon: React.createElement(AuditLogsIcon, null), component: AuditLogsPage },\r\n        { type: 'nav-body', id: 'webhooks', path: '/webhooks', icon: React.createElement(WebhooksIcon, null), component: WebhooksPage },\r\n        { type: 'nav-body', id: 'apiTokens', path: '/api-tokens', icon: React.createElement(APITokenIcon, null), component: ApiTokensPage },\r\n        { type: 'nav-body', id: 'subscriptions', path: '/subscriptions', icon: React.createElement(SubscriptionIcon, null), component: SubscriptionPage },\r\n        { type: 'app-route', id: 'login', path: '/account/login', component: LoginPage$1, publicRoute: true },\r\n    ].filter((route) => {\r\n        var _a;\r\n        if (route.type === 'app-route') {\r\n            return true;\r\n        }\r\n        const allMetadata = Metadata.getInstance(appName).navigation;\r\n        const metadata = allMetadata[route.id];\r\n        if (!metadata) {\r\n            return false;\r\n        }\r\n        if (metadata.visibility === 'hidden') {\r\n            return false;\r\n        }\r\n        if (metadata.featureFlag) {\r\n            return false;\r\n        }\r\n        if ((vendorConfig === null || vendorConfig === void 0 ? void 0 : vendorConfig.forcePermissions) && metadata.visibility === 'byPermissions') {\r\n            return hasPermission(...((_a = metadata.permissions) !== null && _a !== void 0 ? _a : []));\r\n        }\r\n        return true;\r\n    });\r\n};\r\nconst getPreviewModeRoutes = (appName) => {\r\n    return [\r\n        { type: 'nav-header', id: 'profile', path: '/', icon: { xl: React.createElement(ProfileIcon, null), default: React.createElement(UserAvatar, null) }, component: ProfilePage },\r\n        { type: 'nav-header', id: 'privacy', path: '/privacy', icon: React.createElement(PrivacyIcon, null), component: PrivacyPage },\r\n        { type: 'nav-header', id: 'personalApiTokens', path: '/personal-tokens', icon: React.createElement(PersonalTokensIcon, null), component: PersonalTokensPage },\r\n        { type: 'nav-body', id: 'usage', path: '/usage', icon: React.createElement(UsageIcon, null), component: ProfilePage },\r\n        { type: 'nav-body', id: 'account', path: '/account', icon: React.createElement(AccountDetailsIcon, null), component: AccountDetailsPage },\r\n        { type: 'nav-body', id: 'users', path: '/users', icon: React.createElement(UsersIcon, null), component: UsersPage },\r\n        { type: 'nav-body', id: 'allUsers', path: '/all-users', icon: React.createElement(UsersIcon, null), component: AllUsersPage },\r\n        { type: 'nav-body', id: 'roles', path: '/roles', icon: React.createElement(RolesIcon, null), component: RolesPage },\r\n        { type: 'nav-body', id: 'security', path: '/security', icon: React.createElement(SecurityIcon, null), component: SecurityPage },\r\n        { type: 'nav-body', id: 'sso', path: '/sso', icon: React.createElement(SSOIcon, null), component: MultipleSsoPage },\r\n        { type: 'nav-body', id: 'audits', path: '/audits', icon: React.createElement(AuditLogsIcon, null), component: AuditLogsPage },\r\n        { type: 'nav-body', id: 'webhooks', path: '/webhooks', icon: React.createElement(WebhooksIcon, null), component: WebhooksPage },\r\n        { type: 'nav-body', id: 'apiTokens', path: '/api-tokens', icon: React.createElement(APITokenIcon, null), component: ApiTokensPage },\r\n        { type: 'nav-body', id: 'subscriptions', path: '/subscriptions', icon: React.createElement(SubscriptionIcon, null), component: SubscriptionPage },\r\n        { type: 'app-route', id: 'login', path: '/account/login', component: LoginPage$1, publicRoute: true },\r\n    ]\r\n        .filter((route) => {\r\n        const allMetadata = Metadata.getInstance(appName).navigation;\r\n        const metadata = allMetadata[route.id];\r\n        if (!metadata) {\r\n            return false;\r\n        }\r\n        if (metadata.featureFlag) {\r\n            return false;\r\n        }\r\n        return true;\r\n    })\r\n        .map((route) => {\r\n        const allMetadata = Metadata.getInstance(appName).navigation;\r\n        const metadata = allMetadata[route.id];\r\n        if (metadata.visibility === 'hidden') {\r\n            return Object.assign(Object.assign({}, route), { visibility: 'hidden' });\r\n        }\r\n        return route;\r\n    });\r\n};\n\nconst AppNavigation = () => {\r\n    const user = useAuthUserOrNull();\r\n    const t = useT('navigation');\r\n    const history = useHistory();\r\n    const { close } = react.exports.useContext(DrawerContext);\r\n    const location = useLocation();\r\n    const activeRoute = useRouteMatch(location.pathname);\r\n    const { policy } = usePublicPolicySettings();\r\n    const { tenants } = useTenantsState();\r\n    const { injector } = useShadowDom();\r\n    const isTenantReseller = react.exports.useMemo(() => {\r\n        var _a, _b;\r\n        return (_b = (_a = tenants.find(({ tenantId }) => tenantId === (user === null || user === void 0 ? void 0 : user.tenantId))) === null || _a === void 0 ? void 0 : _a.isReseller) !== null && _b !== void 0 ? _b : false;\r\n    }, [tenants, user]);\r\n    const routes = react.exports.useMemo(() => {\r\n        return getRoutes(injector.name, user, policy);\r\n    }, [injector.name, policy, user]);\r\n    const isRouteActive = react.exports.useCallback((route) => {\r\n        return route.path === (activeRoute === null || activeRoute === void 0 ? void 0 : activeRoute.path);\r\n    }, [activeRoute]);\r\n    const { events } = useShadowDom();\r\n    const { email } = useAuthUser();\r\n    const onNavigationClicked = react.exports.useCallback((routePath) => {\r\n        var _a, _b;\r\n        const routeId = (_a = routes.find(({ path }) => {\r\n            return path === routePath;\r\n        })) === null || _a === void 0 ? void 0 : _a.id;\r\n        if (routeId && AdminPortalPages[routeId]) {\r\n            (_b = events === null || events === void 0 ? void 0 : events.adminBoxMenuClicked) === null || _b === void 0 ? void 0 : _b.call(events, { email, tab: AdminPortalPages[routeId] });\r\n        }\r\n        history.push(routePath);\r\n        close();\r\n    }, [history, close]);\r\n    const userInfo = react.exports.useMemo(() => user\r\n        ? {\r\n            name: getUserFullName(user),\r\n            email: user.email,\r\n            profilePictureUrl: user.profilePictureUrl,\r\n        }\r\n        : null, [user]);\r\n    const tenantRoutes = routes.filter((route) => route.type === 'nav-body');\r\n    const workspaceRoutes = tenantRoutes.filter((route) => route.id !== 'allUsers');\r\n    const allAccountsRoutes = tenantRoutes.filter((route) => route.id === 'allUsers');\r\n    const items = react.exports.useMemo(() => {\r\n        return [\r\n            {\r\n                items: routes\r\n                    .filter((route) => route.type === 'nav-header')\r\n                    .map((route) => (Object.assign(Object.assign({}, route), { title: t(route.id), selected: isRouteActive(route), id: route.id }))),\r\n            },\r\n            ...(tenantRoutes.length > 0\r\n                ? [\r\n                    {\r\n                        title: t('workspace'),\r\n                        items: workspaceRoutes.map((route) => (Object.assign(Object.assign({}, route), { title: t(route.id), selected: isRouteActive(route), id: route.id }))),\r\n                    },\r\n                    ...(isTenantReseller\r\n                        ? [\r\n                            {\r\n                                title: t('allAccounts'),\r\n                                items: allAccountsRoutes.map((route) => (Object.assign(Object.assign({}, route), { title: t(route.id), selected: isRouteActive(route), id: route.id }))),\r\n                            },\r\n                        ]\r\n                        : []),\r\n                ]\r\n                : []),\r\n        ];\r\n    }, [routes, tenantRoutes, workspaceRoutes, allAccountsRoutes, t, isRouteActive, isTenantReseller]);\r\n    return React.createElement(Navigation, { user: userInfo, items: items, onRedirectTo: onNavigationClicked });\r\n};\r\nvar AppNavigation$1 = AppNavigation;\n\nconst AppNavigationPreviewMode = () => {\r\n    const user = useAuthUserOrNull();\r\n    const t = useT('navigation');\r\n    const history = useHistory();\r\n    const { close } = react.exports.useContext(DrawerContext);\r\n    const location = useLocation();\r\n    const activeRoute = useRouteMatch(location.pathname);\r\n    const { injector } = useShadowDom();\r\n    const { tenants } = useTenantsState();\r\n    const isTenantReseller = react.exports.useMemo(() => {\r\n        var _a, _b;\r\n        return (_b = (_a = tenants.find(({ tenantId }) => tenantId === (user === null || user === void 0 ? void 0 : user.tenantId))) === null || _a === void 0 ? void 0 : _a.isReseller) !== null && _b !== void 0 ? _b : false;\r\n    }, [tenants, user]);\r\n    const previewRoutes = getPreviewModeRoutes(injector.name);\r\n    const isRouteActive = react.exports.useCallback((route) => {\r\n        return route.path === (activeRoute === null || activeRoute === void 0 ? void 0 : activeRoute.path);\r\n    }, [activeRoute]);\r\n    const onNavigationClicked = react.exports.useCallback((path) => {\r\n        history.push(path);\r\n        close();\r\n    }, [history, close]);\r\n    const userInfo = react.exports.useMemo(() => user\r\n        ? {\r\n            name: getUserFullName(user),\r\n            email: user.email,\r\n            profilePictureUrl: user.profilePictureUrl,\r\n        }\r\n        : null, [user]);\r\n    const tenantPreviewRoutes = previewRoutes.filter((route) => route.type === 'nav-body');\r\n    const workspaceRoutes = tenantPreviewRoutes.filter((route) => route.id !== 'allUsers');\r\n    const allAccountsRoutes = tenantPreviewRoutes.filter((route) => route.id === 'allUsers');\r\n    const isAllWorkspaceRouteHidden = tenantPreviewRoutes.every((item) => (item === null || item === void 0 ? void 0 : item.visibility) === 'hidden');\r\n    const items = react.exports.useMemo(() => {\r\n        return [\r\n            {\r\n                items: previewRoutes\r\n                    .filter((route) => route.type === 'nav-header')\r\n                    .map((route) => (Object.assign(Object.assign({}, route), { title: t(route.id), selected: isRouteActive(route), id: route.id }))),\r\n            },\r\n            ...(tenantPreviewRoutes.length > 0 && !isAllWorkspaceRouteHidden\r\n                ? [\r\n                    {\r\n                        title: t('workspace'),\r\n                        items: workspaceRoutes.map((route) => (Object.assign(Object.assign({}, route), { title: t(route.id), selected: isRouteActive(route), id: route.id }))),\r\n                    },\r\n                    ...(isTenantReseller\r\n                        ? [\r\n                            {\r\n                                title: t('allAccounts'),\r\n                                items: allAccountsRoutes.map((route) => (Object.assign(Object.assign({}, route), { title: t(route.id), selected: isRouteActive(route), id: route.id }))),\r\n                            },\r\n                        ]\r\n                        : []),\r\n                ]\r\n                : []),\r\n        ];\r\n    }, [previewRoutes, tenantPreviewRoutes, workspaceRoutes, allAccountsRoutes, t, isRouteActive]);\r\n    return React.createElement(Navigation, { user: userInfo, items: items, onRedirectTo: onNavigationClicked });\r\n};\r\nvar AppNavigationPreviewMode$1 = AppNavigationPreviewMode;\n\nconst ProtectedRoute = (props) => {\r\n    const isAuthenticated = useIsAuthenticated();\r\n    if (isAuthenticated) {\r\n        return React.createElement(Route, Object.assign({}, props));\r\n    }\r\n    return React.createElement(Redirect, { to: '/account/login' });\r\n};\r\nconst RoutesLayout = () => {\r\n    const user = useAuthUserOrNull();\r\n    const { injector } = useShadowDom();\r\n    const { policy } = usePublicPolicySettings();\r\n    const routes = react.exports.useMemo(() => getRoutes(injector.name, user, policy), [user, policy, injector.name]);\r\n    usePreloadRoutes();\r\n    const routesComponents = react.exports.useMemo(() => routes.map(({ path, exact, component, id, publicRoute }) => {\r\n        const routeProps = { path, exact: exact !== null && exact !== void 0 ? exact : true, component };\r\n        return publicRoute ? React.createElement(Route, Object.assign({ key: id }, routeProps)) : React.createElement(ProtectedRoute, Object.assign({ key: id }, routeProps));\r\n    }), [routes]);\r\n    return React.createElement(Switch, null,\r\n        routesComponents,\r\n        React.createElement(Redirect, { path: '*', to: routes[0].path }));\r\n};\r\nconst RoutesLayoutPreviewMode = () => {\r\n    const { injector } = useShadowDom();\r\n    const routes = getPreviewModeRoutes(injector.name);\r\n    usePreloadRoutes();\r\n    const routesComponents = react.exports.useMemo(() => routes.map(({ path, exact, component, id, publicRoute }) => {\r\n        const routeProps = { path, exact: exact !== null && exact !== void 0 ? exact : true, component };\r\n        return publicRoute ? React.createElement(Route, Object.assign({ key: id }, routeProps)) : React.createElement(ProtectedRoute, Object.assign({ key: id }, routeProps));\r\n    }), [routes]);\r\n    return React.createElement(Switch, null,\r\n        routesComponents,\r\n        React.createElement(Redirect, { path: '*', to: routes[0].path }));\r\n};\n\nconst PageLayout = () => {\r\n    const theme = useTheme();\r\n    const { isLoading } = useAuth(({ isLoading }) => ({ isLoading }));\r\n    const { previewMode } = useShadowDom();\r\n    const displayAsDrawer = useMuiMediaQuery(theme.breakpoints.down('sm'));\r\n    const { open } = react.exports.useContext(DrawerContext);\r\n    const { closeAdminBox } = react.exports.useContext(AppDialogContext);\r\n    const routesLayout = previewMode ? React.createElement(RoutesLayoutPreviewMode, null) : React.createElement(RoutesLayout, null);\r\n    return React.createElement(Box, { height: '100%', overflow: 'auto', display: 'flex', flexDirection: 'column' },\r\n        React.createElement(PageHeaderProvider, null,\r\n            !isLoading && React.createElement(PageHeader, { onClose: closeAdminBox, openDrawer: displayAsDrawer ? open : undefined }),\r\n            !isLoading && routesLayout));\r\n};\r\nvar PageLayout$1 = PageLayout;\n\nconst LogoContainer = styled('div')(({ theme }) => ({\r\n    position: 'absolute',\r\n    padding: '1.5rem 0',\r\n    boxSizing: 'border-box',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n    color: theme.palette.grey[700],\r\n    fontSize: '0.75rem',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    background: theme.navigation.background,\r\n    '& svg': {\r\n        width: '4.625rem',\r\n        marginLeft: '.5rem',\r\n    },\r\n}));\r\nconst PoweredByLogo = () => {\r\n    const t = useT('navigation');\r\n    return React.createElement(LogoContainer, null,\r\n        React.createElement(\"span\", null, t('poweredBy')),\r\n        React.createElement(SvgIcon, { viewBox: '0 0 74 14' },\r\n            React.createElement(\"mask\", { id: \"mask0\", mask: \"alpha\", maskUnits: \"userSpaceOnUse\", x: \"0\", y: \"0\", width: \"74\", height: \"14\" },\r\n                React.createElement(\"path\", { d: \"M74 0H0V14H74V0Z\", fill: \"white\" })),\r\n            React.createElement(\"g\", { mask: \"url(#mask0)\" },\r\n                React.createElement(\"path\", { d: \"M16.516 11.0457V6.73371H15.6987V5.50009H16.516V4.72148C16.4789 4.05463 16.6813 3.39642 17.0869 2.86486C17.4628 2.41167 18.0293 2.15935 18.6188 2.18263C19.1567 2.18869 19.6864 2.3155 20.1684 2.55363L19.8444 3.76356C19.7087 3.69388 19.5655 3.6397 19.4176 3.60202C19.271 3.5608 19.1195 3.53872 18.9672 3.53633C18.4065 3.53633 18.1261 3.91163 18.1261 4.66225V5.50063H19.6612V6.73425H18.1261V11.0462L16.516 11.0457Z\", fill: \"#8B9DB8\" }),\r\n                React.createElement(\"path\", { d: \"M25.6353 6.15842C25.1836 6.15833 24.737 6.25434 24.3255 6.44003C23.9604 6.60051 23.666 6.88746 23.4969 7.24772V11.045H21.8867V4.76919H23.3646V6.11049C23.5618 5.7023 23.8518 5.34556 24.2115 5.06857C24.5232 4.81796 24.9103 4.6788 25.3107 4.67334C25.3993 4.67334 25.4652 4.67334 25.5089 4.67926C25.5513 4.68307 25.5935 4.689 25.6353 4.69703V6.15842Z\", fill: \"#8B9DB8\" }),\r\n                React.createElement(\"path\", { d: \"M30.4891 11.1653C30.0155 11.1727 29.5454 11.0829 29.108 10.9015C28.716 10.7377 28.3621 10.4952 28.0682 10.1891C27.7842 9.89014 27.5618 9.53853 27.4136 9.15419C27.1102 8.35625 27.1102 7.47522 27.4136 6.67727C27.5617 6.2924 27.7841 5.94023 28.0682 5.64073C28.3624 5.33496 28.7162 5.09251 29.108 4.92835C29.5454 4.74718 30.0155 4.65755 30.4891 4.66504C30.9612 4.65706 31.4299 4.74672 31.8654 4.92835C32.6437 5.25767 33.2533 5.88936 33.5534 6.67727C33.8575 7.47508 33.8575 8.35638 33.5534 9.15419C33.4061 9.53785 33.1861 9.8896 32.9052 10.1902C32.6135 10.4971 32.2604 10.7394 31.8687 10.9015C31.4311 11.0829 30.9608 11.1727 30.487 11.1653H30.4891ZM28.8439 7.9195C28.8404 8.17841 28.8832 8.43586 28.9703 8.67981C29.0485 8.89711 29.1666 9.09797 29.3187 9.27212C29.4636 9.4367 29.6415 9.56915 29.841 9.66089C30.2535 9.84417 30.7248 9.84417 31.1373 9.66089C31.3368 9.56915 31.5147 9.4367 31.6596 9.27212C31.8128 9.09617 31.9311 8.89279 32.008 8.67281C32.0948 8.42673 32.1375 8.16739 32.1344 7.90658C32.1367 7.64987 32.0939 7.39475 32.008 7.15273C31.9312 6.93287 31.8129 6.72965 31.6596 6.55396C31.5149 6.3891 31.3369 6.25646 31.1373 6.16466C30.9339 6.07232 30.7127 6.02528 30.4891 6.02681C30.265 6.02515 30.0433 6.07432 29.841 6.17058C29.6419 6.26581 29.4642 6.40026 29.3187 6.56581C29.1655 6.74181 29.0473 6.94518 28.9703 7.16512C28.8843 7.4071 28.8415 7.66225 28.8439 7.91896\", fill: \"#8B9DB8\" }),\r\n                React.createElement(\"path\", { d: \"M41.8919 11.0458H40.2818V7.52423C40.3123 7.13836 40.2197 6.75274 40.0171 6.42254C39.8456 6.19311 39.5714 6.06309 39.2846 6.07523C39.1159 6.07673 38.9489 6.10922 38.792 6.17108C38.6209 6.23617 38.4608 6.32696 38.3172 6.44031C38.1654 6.55965 38.0301 6.69853 37.9148 6.85331C37.7953 7.01157 37.7056 7.1902 37.6502 7.38047V11.0458H36.0405V4.76947H37.4946V5.93147C37.7311 5.52762 38.0821 5.20256 38.5036 4.99723C38.9662 4.76857 39.477 4.65355 39.9933 4.66177C40.3272 4.64801 40.6589 4.72231 40.9548 4.87716C41.1927 5.01105 41.3914 5.20466 41.5311 5.43877C41.6721 5.68322 41.7678 5.95098 41.8136 6.22923C41.8657 6.52579 41.8919 6.82631 41.8919 7.12739V11.0458Z\", fill: \"#8B9DB8\" }),\r\n                React.createElement(\"path\", { d: \"M48.2354 10.7221C47.9751 10.8336 47.7084 10.9295 47.4365 11.0091C47.1152 11.106 46.7811 11.1547 46.4454 11.1534C46.2322 11.1546 46.0199 11.1263 45.8145 11.0694C45.6252 11.0171 45.4491 10.9254 45.2981 10.8001C45.1443 10.6699 45.0228 10.5058 44.9432 10.3209C44.849 10.0953 44.8039 9.85228 44.8109 9.60799V6.00029H43.9937V4.76937H44.8109V2.73291H46.4211V4.76937H47.7547V6.00299H46.4211V9.06899C46.402 9.24641 46.4691 9.42223 46.6015 9.54229C46.7259 9.63527 46.8782 9.68365 47.0336 9.6796C47.2015 9.67986 47.3683 9.65164 47.5267 9.59614C47.6861 9.54229 47.8152 9.49222 47.9108 9.45237L48.2354 10.7221Z\", fill: \"#8B9DB8\" }),\r\n                React.createElement(\"path\", { d: \"M53.1735 11.1651C52.704 11.1717 52.238 11.0842 51.8032 10.9077C51.4111 10.7468 51.0556 10.5087 50.758 10.2077C50.4692 9.91194 50.2426 9.56175 50.0914 9.17759C49.9347 8.78517 49.8551 8.36636 49.857 7.94398C49.8542 7.51244 49.9317 7.08413 50.0855 6.68075C50.2329 6.29252 50.4574 5.93795 50.7455 5.63829C51.0442 5.3324 51.402 5.09006 51.7972 4.9259C52.237 4.74503 52.7092 4.65544 53.1848 4.66259C53.6568 4.65466 54.1252 4.74431 54.5606 4.9259C54.9488 5.09036 55.3002 5.33056 55.5939 5.63236C55.8782 5.92827 56.0987 6.27899 56.2421 6.66298C56.3904 7.05311 56.4658 7.46701 56.4646 7.88421C56.4646 7.98813 56.4646 8.08775 56.4587 8.18359C56.4565 8.26426 56.4464 8.34452 56.4284 8.42321H51.5628C51.5817 8.65193 51.6429 8.87519 51.7432 9.08175C51.9257 9.45269 52.2439 9.73981 52.6323 9.88406C52.8243 9.956 53.0278 9.99249 53.2329 9.99175C53.5505 9.99243 53.8629 9.91197 54.1404 9.75806C54.4013 9.62723 54.6077 9.40894 54.7232 9.14152L56.1043 9.52436C55.8588 10.0184 55.4723 10.4291 54.9933 10.7047C54.4411 11.0231 53.8112 11.1827 53.1735 11.1656V11.1651ZM54.8069 7.38075C54.7859 6.9506 54.5985 6.5453 54.284 6.24998C53.9796 5.96781 53.5767 5.8152 53.1611 5.82459C52.9533 5.8232 52.7471 5.86177 52.554 5.93821C52.3692 6.01193 52.2001 6.11971 52.0554 6.2559C51.9081 6.39653 51.7879 6.563 51.7011 6.74698C51.6067 6.94629 51.5517 7.16181 51.539 7.38182L54.8069 7.38075Z\", fill: \"#ADBCD2\" }),\r\n                React.createElement(\"path\", { d: \"M61.1155 11.0814C60.7188 11.086 60.3264 11 59.9682 10.8299C59.6243 10.6663 59.3192 10.4315 59.0732 10.1412C58.82 9.84216 58.6246 9.49893 58.4969 9.1289C58.3586 8.73642 58.2891 8.32312 58.2916 7.90713C58.288 7.47451 58.3611 7.04465 58.5077 6.63744C58.6441 6.26089 58.8478 5.91208 59.1089 5.6079C59.6336 4.99625 60.4044 4.64946 61.2117 4.66182C61.6658 4.65112 62.1143 4.76492 62.508 4.99082C62.8756 5.20775 63.186 5.50902 63.4133 5.86959V4.76952H64.8177V10.7464C64.8249 11.1754 64.7369 11.6007 64.56 11.9919C64.3903 12.353 64.1413 12.6713 63.8314 12.9234C63.5032 13.187 63.1278 13.3862 62.7252 13.5104C62.2742 13.6496 61.8042 13.718 61.3321 13.7134C60.7311 13.7329 60.1335 13.6164 59.5842 13.3725C59.1148 13.1444 58.7022 12.815 58.3764 12.4081L59.2536 11.5579C59.4978 11.8562 59.8081 12.094 60.16 12.2525C60.5276 12.4208 60.9277 12.5066 61.3321 12.504C61.5738 12.505 61.8144 12.4707 62.0462 12.4022C62.2663 12.339 62.4709 12.2308 62.6468 12.0845C62.824 11.9351 62.9639 11.7467 63.0557 11.5342C63.1615 11.2841 63.2131 11.0146 63.207 10.7432V9.95544C63.0014 10.3116 62.6967 10.6007 62.3298 10.7879C61.955 10.9828 61.5382 11.0835 61.1155 11.0814ZM61.6686 9.79983C61.8404 9.8005 62.0109 9.77209 62.1731 9.71582C62.3295 9.66179 62.4771 9.58523 62.6112 9.48859C62.7434 9.39258 62.8625 9.27981 62.9655 9.15313C63.0666 9.03049 63.1481 8.89299 63.207 8.74552V7.24859C63.0722 6.89493 62.8385 6.5873 62.5334 6.36229C62.2584 6.14889 61.9209 6.03108 61.5725 6.02682C61.3361 6.0239 61.1026 6.0794 60.893 6.18836C60.6912 6.2947 60.5136 6.44134 60.3712 6.61913C60.2245 6.80318 60.1124 7.01227 60.0406 7.23621C59.9639 7.46795 59.9251 7.71048 59.9256 7.95452C59.9235 8.20039 59.9686 8.44439 60.0585 8.67336C60.1423 8.89028 60.2666 9.08942 60.4247 9.26028C60.5804 9.42765 60.7683 9.56206 60.9772 9.65552C61.1946 9.75247 61.4305 9.80151 61.6686 9.79929\", fill: \"#ADBCD2\" }),\r\n                React.createElement(\"path\", { d: \"M69.9231 11.0814C69.5265 11.086 69.134 11 68.7759 10.8299C68.4317 10.6663 68.1264 10.4315 67.8803 10.1412C67.6275 9.84191 67.4321 9.49875 67.304 9.12891C67.1658 8.73639 67.0966 8.32309 67.0993 7.90714C67.0956 7.47452 67.1687 7.04466 67.3153 6.63745C67.4515 6.2608 67.6552 5.91195 67.9165 5.60791C68.4411 4.99634 69.2117 4.64955 70.0187 4.66183C70.4729 4.65107 70.9213 4.76488 71.3151 4.99083C71.6819 5.20803 71.9915 5.50928 72.2182 5.8696V4.76952H73.6226V10.7464C73.6296 11.1755 73.5415 11.6008 73.3644 11.9919C73.1956 12.3528 72.9475 12.6712 72.6384 12.9234C72.3105 13.1872 71.9353 13.3863 71.5328 13.5104C71.0816 13.6496 70.6115 13.7181 70.1392 13.7134C69.5382 13.7328 68.9406 13.6163 68.3913 13.3725C67.922 13.1443 67.5094 12.8149 67.1835 12.4081L68.0591 11.5606C68.3035 11.8589 68.6139 12.0967 68.966 12.2552C69.3334 12.4234 69.7333 12.5093 70.1376 12.5067C70.3795 12.5076 70.6202 12.4733 70.8522 12.4049C71.0723 12.3417 71.2769 12.2335 71.4528 12.0872C71.63 11.9378 71.7699 11.7494 71.8617 11.5369C71.9673 11.2868 72.0187 11.0172 72.0124 10.7459V9.95545C71.8068 10.3116 71.5022 10.6007 71.1352 10.7879C70.7607 10.9829 70.344 11.0836 69.9215 11.0814H69.9231ZM70.4741 9.79984C70.646 9.80054 70.8168 9.77214 70.9791 9.71583C71.1354 9.66168 71.283 9.58514 71.4172 9.4886C71.5493 9.39244 71.6684 9.27969 71.7715 9.15314C71.8726 9.03061 71.9539 8.89308 72.0124 8.74552V7.2486C71.8781 6.89488 71.6444 6.58718 71.3394 6.36229C71.0642 6.14886 70.7266 6.03104 70.3779 6.02683C70.1417 6.02391 69.9084 6.07941 69.699 6.18837C69.4971 6.2947 69.3193 6.44133 69.1767 6.61914C69.0301 6.80332 68.9181 7.01237 68.8461 7.23621C68.7698 7.46805 68.7311 7.71054 68.7316 7.95452C68.7295 8.20039 68.7746 8.4444 68.8644 8.67337C68.9481 8.89026 69.0722 9.08941 69.2301 9.26029C69.3861 9.42767 69.5742 9.56207 69.7832 9.65552C70.0004 9.75248 70.2361 9.80153 70.4741 9.79929\", fill: \"#ADBCD2\" }),\r\n                React.createElement(\"path\", { d: \"M7.44386 1.49391C6.1648 0.107906 4.78202 -0.194171 3.39925 0.790137C2.41553 1.54874 1.64 2.54281 1.14468 3.68006C0.845721 4.30682 0.618683 4.96522 0.467877 5.64275C0.301835 6.38025 0.246138 7.13817 0.302592 7.89191C0.374127 9.24676 0.988291 10.5163 2.00729 11.4156C2.14052 11.5254 2.28051 11.6269 2.42645 11.7193C3.57731 12.3987 4.95184 12.5943 6.24744 12.2631C7.41559 11.9902 8.42156 11.2542 9.03297 10.2251C9.34465 9.67961 9.55507 9.08259 9.65414 8.46268C10.1403 5.5916 8.72293 2.88368 7.44386 1.49606V1.49391ZM4.35153 1.66406C3.03303 2.48844 2.47452 4.12752 2.31626 4.69021C2.28566 4.79969 2.17501 4.86663 2.06347 4.84314C2.00468 4.83116 1.95354 4.79535 1.92229 4.74428C1.89104 4.69322 1.88251 4.6315 1.89872 4.57391C2.01392 4.16654 2.16503 3.77012 2.35029 3.38929C2.73396 2.5402 3.34867 1.8153 4.12467 1.29683C4.19047 1.25643 4.2729 1.2541 4.34089 1.29071C4.40889 1.32732 4.45213 1.39731 4.45432 1.47432C4.45652 1.55133 4.41733 1.62366 4.35153 1.66406Z\", fill: \"#8B9DB8\" }),\r\n                React.createElement(\"path\", { d: \"M6.06104 13.2896C7.697 14.037 9.61721 13.7896 11.0088 12.6521C13.3508 10.7017 13.9996 6.71767 13.9996 6.71767C13.9996 6.71767 14.4133 4.65375 13.6517 3.46267C12.8901 2.27159 11.0088 2.28183 9.28733 2.87036C10.0566 4.43482 10.4802 6.1456 10.5297 7.88721C10.5079 10.5137 8.64445 12.7664 6.06212 13.288\", fill: \"#ADBCD2\" }))));\r\n};\n\nconst AppContent = () => {\r\n    const { isLoading, isAuthenticated } = useAuth(({ isLoading, isAuthenticated, tenantsState: { loading, tenants } }) => ({\r\n        isLoading: isLoading || (loading && tenants.length === 0),\r\n        isAuthenticated,\r\n    }));\r\n    const { showPoweredByLogo } = useVendorState(({ whiteLabelMode }) => ({ showPoweredByLogo: !whiteLabelMode }));\r\n    const { injector, basename = '', urlStrategy, setStaticRouteSetter, staticRoute, previewMode } = useShadowDom();\r\n    const theme = useTheme();\r\n    const displayAsDrawer = useMuiMediaQuery(theme.breakpoints.down('sm'));\r\n    const history = useHistory();\r\n    const [route, setRoute] = react.exports.useState(staticRoute);\r\n    setStaticRouteSetter === null || setStaticRouteSetter === void 0 ? void 0 : setStaticRouteSetter(setRoute);\r\n    react.exports.useEffect(() => {\r\n        if (route) {\r\n            history.push(route);\r\n        }\r\n    }, [route, history]);\r\n    const { closeAdminBox } = react.exports.useContext(AppDialogContext);\r\n    const { loading: loadingPolicy } = usePublicPolicySettings();\r\n    const [drawerOpened, setDrawerOpened] = react.exports.useState(false);\r\n    const drawerContextValue = react.exports.useMemo(() => ({\r\n        opened: drawerOpened,\r\n        close: () => setDrawerOpened(false),\r\n        open: () => setDrawerOpened(true),\r\n    }), [drawerOpened, setDrawerOpened]);\r\n    const routes = useAuthRoutes();\r\n    react.exports.useEffect(() => {\r\n        if (!isLoading && !isAuthenticated) {\r\n            const calculatedBasename = basename.endsWith('/') ? basename.substring(0, basename.length - 1) : '';\r\n            if (injector) {\r\n                closeAdminBox();\r\n            }\r\n            const path = calculatedBasename + routes.loginUrl;\r\n            if (urlStrategy === 'path' && injector) {\r\n                window.location.href = path;\r\n            }\r\n            else {\r\n                window.location.hash = `#${path}`;\r\n            }\r\n        }\r\n    }, [isLoading, isAuthenticated, routes, injector, urlStrategy, basename, closeAdminBox]);\r\n    const appNavigation = previewMode ? React.createElement(AppNavigationPreviewMode$1, null) : React.createElement(AppNavigation$1, null);\r\n    let navigationComponent = React.createElement(Fade, { in: !isLoading },\r\n        React.createElement(NavigationGridItem, { withPoweredBy: showPoweredByLogo },\r\n            appNavigation,\r\n            showPoweredByLogo && React.createElement(PoweredByLogo, null)));\r\n    if (displayAsDrawer) {\r\n        navigationComponent = React.createElement(Drawer$1, { sx: { zIndex: '1300' }, open: drawerOpened, container: injector === null || injector === void 0 ? void 0 : injector.adminPortalEl, onBackdropClick: drawerContextValue.close },\r\n            React.createElement(Grid, { height: \"100%\", container: true, alignItems: \"stretch\", wrap: \"nowrap\", position: \"relative\" },\r\n                React.createElement(NavigationGridItem, null,\r\n                    React.createElement(DrawerContext.Provider, { value: drawerContextValue }, appNavigation),\r\n                    showPoweredByLogo && React.createElement(PoweredByLogo, null))));\r\n    }\r\n    return React.createElement(React.Fragment, null,\r\n        (isLoading || loadingPolicy) && React.createElement(AppSkeleton, { absolute: true }),\r\n        React.createElement(Grid, { height: \"100%\", container: true, alignItems: \"stretch\", wrap: \"nowrap\" },\r\n            navigationComponent,\r\n            React.createElement(PageGridItem, { item: true, xs: true },\r\n                React.createElement(DrawerContext.Provider, { value: drawerContextValue },\r\n                    React.createElement(PageLayout$1, null)))));\r\n};\r\nconst AppLayout = () => {\r\n    const { injector } = useShadowDom();\r\n    return React.createElement(Provider, { context: FronteggStoreContext, store: injector.store },\r\n        React.createElement(HashRouter, { basename: \"admin-box\" },\r\n            React.createElement(AppContent, null)));\r\n};\r\nvar AppLayout$1 = AppLayout;\n\nconst App = () => {\r\n    const { isShadowDom } = useShadowDom();\r\n    react.exports.useEffect(() => {\r\n        document.addEventListener('focus', shadowFocusHandler, true);\r\n        const oldDocumentBodyOverflow = document.body.style.overflow;\r\n        document.body.style.overflow = 'hidden';\r\n        return () => {\r\n            document.removeEventListener('focus', shadowFocusHandler, true);\r\n            document.body.style.overflow = oldDocumentBodyOverflow;\r\n            window.history.pushState('', document.title, window.location.pathname);\r\n        };\r\n    }, []);\r\n    const { calculatedTheme, theme, overrides } = initGlobalTheme(true);\r\n    return React.createElement(I18nProvider$1, null,\r\n        React.createElement(GlobalThemeProvider, { theme: calculatedTheme, isShadowDom: isShadowDom, module: FronteggModules.adminPortal },\r\n            React.createElement(ThemeContext.Provider, { value: { theme, overrides } },\r\n                React.createElement(InnerThemeProvider, { themeOptionKey: 'adminPortal' },\r\n                    React.createElement(AppDialog, null,\r\n                        React.createElement(AppLayout$1, null))))));\r\n};\r\nvar App$1 = App;\n\nconst defaultTheme = 'modern';\r\nconst AdminPortal = ({ injector, options }) => {\r\n    var _a, _b;\r\n    return (React.createElement(ShadowDomContext.Provider, { value: Object.assign(Object.assign({ iframeRendering: false }, options), { themeOptions: enhanceAdminBoxTheme((_a = options.metadata) !== null && _a !== void 0 ? _a : {}, (_b = options.themeOptions) !== null && _b !== void 0 ? _b : {}), injector, slotsContainer: injector.adminPortalContainer, rootEl: injector.adminPortalEl }) },\r\n        React.createElement(App$1, null)));\r\n};\r\nconst AdminPortalPage = ({ injector, options, setThemeSetter, staticRoute, setStaticRouteSetter, }) => {\r\n    var _a, _b;\r\n    const [themeOptions, setThemeOptions] = react.exports.useState(enhanceAdminBoxTheme((_a = options === null || options === void 0 ? void 0 : options.metadata) !== null && _a !== void 0 ? _a : {}, (_b = options.themeOptions) !== null && _b !== void 0 ? _b : {}));\r\n    const setTheme = (theme) => {\r\n        var _a;\r\n        const enhancedTheme = enhanceAdminBoxTheme((_a = options === null || options === void 0 ? void 0 : options.metadata) !== null && _a !== void 0 ? _a : {}, theme !== null && theme !== void 0 ? theme : {});\r\n        setThemeOptions(enhancedTheme);\r\n    };\r\n    setThemeSetter === null || setThemeSetter === void 0 ? void 0 : setThemeSetter(setTheme);\r\n    return (React.createElement(ShadowDomContext.Provider, { value: Object.assign(Object.assign({ iframeRendering: false }, options), { injector,\r\n            themeOptions, slotsContainer: injector.adminPortalContainer, rootEl: injector.adminPortalEl, staticRoute,\r\n            setStaticRouteSetter }) },\r\n        React.createElement(App$1, null)));\r\n};\n\nexport { AdminPortal, AdminPortalPage, CheckoutDialog$1 as CheckoutDialog, AdminPortal as default, defaultTheme };\n"]},"metadata":{},"sourceType":"module"}