{"ast":null,"code":"export class ContextHolder {\n  constructor() {\n    this.context = null;\n    this.accessToken = null;\n    this.user = null;\n\n    this.onRedirectTo = path => window.location.href = path;\n\n    this.logout = () => window.location.href = '/account/logout';\n  }\n\n  static getInstance() {\n    if (!ContextHolder.instance) {\n      ContextHolder.instance = new ContextHolder();\n    }\n\n    return ContextHolder.instance;\n  }\n\n  static setContext(context) {\n    ContextHolder.getInstance().context = context;\n  }\n\n  static setAccessToken(accessToken) {\n    ContextHolder.getInstance().accessToken = accessToken;\n  }\n\n  static setUser(user) {\n    ContextHolder.getInstance().user = user;\n  }\n\n  static setOnRedirectTo(onRedirectTo) {\n    ContextHolder.getInstance().onRedirectTo = onRedirectTo;\n  }\n\n  static setLogout(logout, logoutUrl) {\n    ContextHolder.getInstance().logout = callback => {\n      if (!callback) {\n        ContextHolder.onRedirectTo(logoutUrl);\n      } else {\n        logout(callback);\n      }\n    };\n  }\n\n  static getContext() {\n    var _ContextHolder$getIns;\n\n    return (_ContextHolder$getIns = ContextHolder.getInstance().context) != null ? _ContextHolder$getIns : {\n      baseUrl: window.location.href,\n      tokenResolver: () => 'my-authentication-token',\n      logLevel: 'error'\n    };\n  }\n\n  static getAccessToken() {\n    return ContextHolder.getInstance().accessToken;\n  }\n\n  static getUser() {\n    return ContextHolder.getInstance().user;\n  }\n\n  static onRedirectTo(path, opts) {\n    return ContextHolder.getInstance().onRedirectTo(path, opts);\n  }\n\n  static logout(callback) {\n    return ContextHolder.getInstance().logout(callback);\n  }\n\n}\nContextHolder.instance = void 0;\nexport const FronteggContext = {\n  getContext: () => ContextHolder.getContext(),\n  getAccessToken: () => ContextHolder.getAccessToken(),\n  getUser: () => ContextHolder.getUser(),\n  onRedirectTo: (path, opts) => ContextHolder.onRedirectTo(path, opts),\n  logout: callback => ContextHolder.logout(callback)\n};","map":{"version":3,"sources":["/Users/mashapav/Downloads/WEB-CHAT/Client/node_modules/@frontegg/rest-api/ContextHolder.js"],"names":["ContextHolder","constructor","context","accessToken","user","onRedirectTo","path","window","location","href","logout","getInstance","instance","setContext","setAccessToken","setUser","setOnRedirectTo","setLogout","logoutUrl","callback","getContext","_ContextHolder$getIns","baseUrl","tokenResolver","logLevel","getAccessToken","getUser","opts","FronteggContext"],"mappings":"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","sourcesContent":["export class ContextHolder {\n  constructor() {\n    this.context = null;\n    this.accessToken = null;\n    this.user = null;\n\n    this.onRedirectTo = path => window.location.href = path;\n\n    this.logout = () => window.location.href = '/account/logout';\n  }\n\n  static getInstance() {\n    if (!ContextHolder.instance) {\n      ContextHolder.instance = new ContextHolder();\n    }\n\n    return ContextHolder.instance;\n  }\n\n  static setContext(context) {\n    ContextHolder.getInstance().context = context;\n  }\n\n  static setAccessToken(accessToken) {\n    ContextHolder.getInstance().accessToken = accessToken;\n  }\n\n  static setUser(user) {\n    ContextHolder.getInstance().user = user;\n  }\n\n  static setOnRedirectTo(onRedirectTo) {\n    ContextHolder.getInstance().onRedirectTo = onRedirectTo;\n  }\n\n  static setLogout(logout, logoutUrl) {\n    ContextHolder.getInstance().logout = callback => {\n      if (!callback) {\n        ContextHolder.onRedirectTo(logoutUrl);\n      } else {\n        logout(callback);\n      }\n    };\n  }\n\n  static getContext() {\n    var _ContextHolder$getIns;\n\n    return (_ContextHolder$getIns = ContextHolder.getInstance().context) != null ? _ContextHolder$getIns : {\n      baseUrl: window.location.href,\n      tokenResolver: () => 'my-authentication-token',\n      logLevel: 'error'\n    };\n  }\n\n  static getAccessToken() {\n    return ContextHolder.getInstance().accessToken;\n  }\n\n  static getUser() {\n    return ContextHolder.getInstance().user;\n  }\n\n  static onRedirectTo(path, opts) {\n    return ContextHolder.getInstance().onRedirectTo(path, opts);\n  }\n\n  static logout(callback) {\n    return ContextHolder.getInstance().logout(callback);\n  }\n\n}\nContextHolder.instance = void 0;\nexport const FronteggContext = {\n  getContext: () => ContextHolder.getContext(),\n  getAccessToken: () => ContextHolder.getAccessToken(),\n  getUser: () => ContextHolder.getUser(),\n  onRedirectTo: (path, opts) => ContextHolder.onRedirectTo(path, opts),\n  logout: callback => ContextHolder.logout(callback)\n};"]},"metadata":{},"sourceType":"module"}