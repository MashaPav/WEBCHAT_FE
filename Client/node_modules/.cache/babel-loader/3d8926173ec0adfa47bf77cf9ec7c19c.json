{"ast":null,"code":"import { F as FronteggApp, R as React, a as ReactDom } from './FronteggApp-3b25e3fb.js';\nimport { createFronteggStore } from '@frontegg/redux-store';\nimport { Metadata } from '@frontegg/types';\nimport { LoginBoxPage } from './index-f432917b.js';\nimport { t as themes$1 } from './formik.esm-3ec4824f.js';\nimport './utils.js';\nimport './AppHolder.js';\nimport '@frontegg/rest-api';\nimport 'uuid';\nconst defaultTheme = 'modern';\n\nconst getThemeByName = name => {\n  var _a;\n\n  return (_a = themes$1[name]) !== null && _a !== void 0 ? _a : themes$1[defaultTheme];\n};\n\nclass LoginBoxRenderer {\n  constructor(name, themeOptions, store, appOptions) {\n    this.setRoute = () => {};\n\n    this.themeOptions = {};\n    const contextOptions = {\n      baseUrl: 'preview'\n    };\n    this.store = store !== null && store !== void 0 ? store : createFronteggStore({\n      context: contextOptions\n    }, this, true, undefined, undefined, true);\n    this.options = Object.assign({\n      themeOptions,\n      iframeRendering: true,\n      metadata: {},\n      previewMode: true,\n      builderMode: true,\n      store: this.store,\n      contextOptions,\n      onRedirectTo: () => {\n        console.debug('path');\n      }\n    }, appOptions);\n    this.app = new FronteggApp(this.options, name, true);\n    Metadata.set({}, name);\n  }\n\n  render(loginBoxContainer) {\n    let loginBoxEl = loginBoxContainer.querySelector('#root');\n\n    if (!loginBoxEl) {\n      loginBoxEl = loginBoxContainer.ownerDocument.createElement('div');\n      loginBoxEl.setAttribute('id', 'root');\n      loginBoxContainer.appendChild(loginBoxEl);\n    }\n\n    this.app.loginBoxContainer = loginBoxContainer;\n    this.app.loginBoxEl = loginBoxEl;\n\n    const setThemeSetter = themeSetter => {\n      this.themeSetter = themeSetter;\n    };\n\n    const setStaticRouteSetter = setStaticRoute => {\n      this.setRoute = setStaticRoute;\n    };\n\n    const loginBox = React.createElement(LoginBoxPage, {\n      options: this.options,\n      injector: this.app,\n      setThemeSetter,\n      setStaticRouteSetter,\n      staticRoute: '/account/login'\n    });\n    const wrapper = React.createElement(React.Suspense, {\n      fallback: ''\n    }, loginBox);\n    ReactDom.render(wrapper, loginBoxEl);\n    this.app.loading = false;\n  }\n\n  unmount() {\n    try {\n      if (this.app.loginBoxEl) {\n        ReactDom.unmountComponentAtNode(this.app.loginBoxEl);\n      }\n    } catch (e) {\n      console.error('Failed to unmount login box renderer', e);\n    }\n  }\n\n  setTheme(themeOptions) {\n    var _a;\n\n    this.themeOptions = themeOptions;\n    (_a = this.themeSetter) === null || _a === void 0 ? void 0 : _a.call(this, this.themeOptions);\n  }\n\n  setStaticRoute(staticRoute) {\n    var _a;\n\n    (_a = this.setRoute) === null || _a === void 0 ? void 0 : _a.call(this, staticRoute);\n  }\n\n  setStore(state) {\n    this.store.dispatch({\n      type: 'auth/setState',\n      payload: state\n    });\n  }\n\n}\n\nexport { LoginBoxRenderer, LoginBoxRenderer as default, defaultTheme, getThemeByName };","map":{"version":3,"sources":["/Users/mashapav/Downloads/WEB-CHAT/Client/node_modules/@frontegg/admin-portal/LoginBoxRenderer.js"],"names":["F","FronteggApp","R","React","a","ReactDom","createFronteggStore","Metadata","LoginBoxPage","t","themes$1","defaultTheme","getThemeByName","name","_a","LoginBoxRenderer","constructor","themeOptions","store","appOptions","setRoute","contextOptions","baseUrl","context","undefined","options","Object","assign","iframeRendering","metadata","previewMode","builderMode","onRedirectTo","console","debug","app","set","render","loginBoxContainer","loginBoxEl","querySelector","ownerDocument","createElement","setAttribute","appendChild","setThemeSetter","themeSetter","setStaticRouteSetter","setStaticRoute","loginBox","injector","staticRoute","wrapper","Suspense","fallback","loading","unmount","unmountComponentAtNode","e","error","setTheme","call","setStore","state","dispatch","type","payload","default"],"mappings":"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","sourcesContent":["import { F as FronteggApp, R as React, a as ReactDom } from './FronteggApp-3b25e3fb.js';\nimport { createFronteggStore } from '@frontegg/redux-store';\nimport { Metadata } from '@frontegg/types';\nimport { LoginBoxPage } from './index-f432917b.js';\nimport { t as themes$1 } from './formik.esm-3ec4824f.js';\nimport './utils.js';\nimport './AppHolder.js';\nimport '@frontegg/rest-api';\nimport 'uuid';\n\nconst defaultTheme = 'modern';\r\nconst getThemeByName = (name) => { var _a; return (_a = themes$1[name]) !== null && _a !== void 0 ? _a : themes$1[defaultTheme]; };\r\nclass LoginBoxRenderer {\r\n    constructor(name, themeOptions, store, appOptions) {\r\n        this.setRoute = () => { };\r\n        this.themeOptions = {};\r\n        const contextOptions = { baseUrl: 'preview' };\r\n        this.store = store !== null && store !== void 0 ? store : createFronteggStore({ context: contextOptions }, this, true, undefined, undefined, true);\r\n        this.options = Object.assign({ themeOptions, iframeRendering: true, metadata: {}, previewMode: true, builderMode: true, store: this.store, contextOptions, onRedirectTo: () => {\r\n                console.debug('path');\r\n            } }, appOptions);\r\n        this.app = new FronteggApp(this.options, name, true);\r\n        Metadata.set({}, name);\r\n    }\r\n    render(loginBoxContainer) {\r\n        let loginBoxEl = loginBoxContainer.querySelector('#root');\r\n        if (!loginBoxEl) {\r\n            loginBoxEl = loginBoxContainer.ownerDocument.createElement('div');\r\n            loginBoxEl.setAttribute('id', 'root');\r\n            loginBoxContainer.appendChild(loginBoxEl);\r\n        }\r\n        this.app.loginBoxContainer = loginBoxContainer;\r\n        this.app.loginBoxEl = loginBoxEl;\r\n        const setThemeSetter = (themeSetter) => {\r\n            this.themeSetter = themeSetter;\r\n        };\r\n        const setStaticRouteSetter = (setStaticRoute) => {\r\n            this.setRoute = setStaticRoute;\r\n        };\r\n        const loginBox = React.createElement(LoginBoxPage, {\r\n            options: this.options,\r\n            injector: this.app,\r\n            setThemeSetter,\r\n            setStaticRouteSetter,\r\n            staticRoute: '/account/login',\r\n        });\r\n        const wrapper = React.createElement(React.Suspense, { fallback: '' }, loginBox);\r\n        ReactDom.render(wrapper, loginBoxEl);\r\n        this.app.loading = false;\r\n    }\r\n    unmount() {\r\n        try {\r\n            if (this.app.loginBoxEl) {\r\n                ReactDom.unmountComponentAtNode(this.app.loginBoxEl);\r\n            }\r\n        }\r\n        catch (e) {\r\n            console.error('Failed to unmount login box renderer', e);\r\n        }\r\n    }\r\n    setTheme(themeOptions) {\r\n        var _a;\r\n        this.themeOptions = themeOptions;\r\n        (_a = this.themeSetter) === null || _a === void 0 ? void 0 : _a.call(this, this.themeOptions);\r\n    }\r\n    setStaticRoute(staticRoute) {\r\n        var _a;\r\n        (_a = this.setRoute) === null || _a === void 0 ? void 0 : _a.call(this, staticRoute);\r\n    }\r\n    setStore(state) {\r\n        this.store.dispatch({\r\n            type: 'auth/setState',\r\n            payload: state,\r\n        });\r\n    }\r\n}\n\nexport { LoginBoxRenderer, LoginBoxRenderer as default, defaultTheme, getThemeByName };\n"]},"metadata":{},"sourceType":"module"}