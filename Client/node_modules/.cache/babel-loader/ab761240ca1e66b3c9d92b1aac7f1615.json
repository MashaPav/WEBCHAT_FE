{"ast":null,"code":"import { F as FronteggApp, R as React, a as ReactDom } from './FronteggApp-3b25e3fb.js';\nimport { createElement } from './utils.js';\nimport { AppHolder } from './AppHolder.js';\nexport { AppHolder } from './AppHolder.js';\nexport { AdminPortal } from './AdminPortal.js';\nexport { CheckoutDialog } from './CheckoutDialog.js';\nexport { HostedLogin } from './HostedLogin.js';\nexport { LoginBoxRenderer, defaultTheme, getThemeByName } from './LoginBoxRenderer.js';\nimport { createFronteggStore } from '@frontegg/redux-store';\nexport * from '@frontegg/redux-store';\nimport { Metadata } from '@frontegg/types';\nimport { AdminPortalPage } from './index-e4d8b997.js';\nimport '@frontegg/rest-api';\nimport './index-f432917b.js';\nimport './formik.esm-3ec4824f.js';\nimport 'uuid';\n\nclass AdminPortalRenderer {\n  constructor(name, themeOptions, store, appOptions) {\n    this.setRoute = () => {};\n\n    this.themeOptions = {};\n    const contextOptions = {\n      baseUrl: 'preview'\n    };\n    this.store = store !== null && store !== void 0 ? store : createFronteggStore({\n      context: contextOptions\n    }, this, true, undefined, undefined, true);\n    this.options = Object.assign({\n      themeOptions,\n      iframeRendering: true,\n      metadata: {},\n      previewMode: true,\n      builderMode: true,\n      store: this.store,\n      contextOptions\n    }, appOptions);\n    this.app = new FronteggApp(this.options, name, true);\n    Metadata.set({}, name);\n  }\n\n  render(adminPortalContainer) {\n    let adminPortalEl = adminPortalContainer.querySelector('#root');\n\n    if (!adminPortalEl) {\n      adminPortalEl = adminPortalContainer.ownerDocument.createElement('div');\n      adminPortalEl.setAttribute('id', 'root');\n      adminPortalContainer.appendChild(adminPortalEl);\n    }\n\n    this.app.adminPortalContainer = adminPortalContainer;\n    this.app.adminPortalEl = adminPortalEl;\n\n    const setThemeSetter = themeSetter => {\n      this.themeSetter = themeSetter;\n    };\n\n    const setStaticRouteSetter = setStaticRoute => {\n      this.setRoute = setStaticRoute;\n    };\n\n    const adminPortal = React.createElement(AdminPortalPage, {\n      options: this.options,\n      injector: this.app,\n      setThemeSetter,\n      setStaticRouteSetter\n    });\n    const wrapper = React.createElement(React.Suspense, {\n      fallback: ''\n    }, adminPortal);\n    ReactDom.render(wrapper, adminPortalEl);\n    this.app.loading = false;\n  }\n\n  setStaticRoute(staticRoute) {\n    var _a;\n\n    (_a = this.setRoute) === null || _a === void 0 ? void 0 : _a.call(this, staticRoute);\n  }\n\n  unmount() {\n    try {\n      if (this.app.adminPortalEl) {\n        ReactDom.unmountComponentAtNode(this.app.adminPortalEl);\n      }\n    } catch (e) {\n      console.error('Failed to unmount admin Portal renderer', e);\n    }\n  }\n\n  setTheme(themeOptions) {\n    var _a;\n\n    this.themeOptions = themeOptions;\n    (_a = this.themeSetter) === null || _a === void 0 ? void 0 : _a.call(this, this.themeOptions);\n  }\n\n}\n\nconst initialize = (options, name = 'default') => {\n  var _a;\n\n  const createdApp = new FronteggApp(options, name);\n\n  if (typeof document !== 'undefined') {\n    if (!customElements.get('frontegg-app')) {\n      class FronteggAppContainer extends HTMLElement {\n        constructor() {\n          super(...arguments);\n          this.app = null;\n        }\n\n        static get observedAttributes() {\n          return ['app-name'];\n        }\n\n        connectedCallback() {\n          this.updateContent();\n        }\n\n        attributeChangedCallback(name, oldValue, newValue) {\n          if (name === 'app-name') {\n            if (oldValue === null) {\n              return;\n            }\n\n            if (oldValue === newValue) {\n              return;\n            }\n\n            const app = AppHolder.getInstance(oldValue);\n\n            try {\n              ReactDom.unmountComponentAtNode(app.adminPortalEl);\n              ReactDom.unmountComponentAtNode(app.loginBoxEl);\n            } catch (e) {\n              console.error('Failed to unmount frontegg app', e);\n            }\n\n            this.innerHTML = '';\n\n            if (newValue === null) {\n              this.remove();\n            } else {\n              this.updateContent();\n            }\n          }\n\n          console.debug('attributeChangedCallback', name, oldValue, newValue);\n        }\n\n        updateContent() {\n          var _a;\n\n          const appName = (_a = this.getAttribute('app-name')) !== null && _a !== void 0 ? _a : 'default';\n          const app = AppHolder.getInstance(appName);\n\n          if (app === null) {\n            throw Error(`FronteggApp not found for appName: '${appName}'`);\n          }\n\n          this.setAttribute('id', `frontegg-app-${app.name}`);\n          const adminPortalContainer = createElement(this, 'div', {\n            id: `frontegg-admin-portal-container-${app.name}`\n          });\n          const loginBoxContainer = createElement(this, 'div', {\n            id: `frontegg-login-box-container-${app.name}`\n          });\n          const checkoutDialogContainer = createElement(this, 'div', {\n            id: `frontegg-checkout-dialog-container-${app.name}`\n          });\n          const adminBoxShadowEl = adminPortalContainer.attachShadow({\n            mode: 'open'\n          });\n          const loginBoxShadowEl = loginBoxContainer.attachShadow({\n            mode: 'open'\n          });\n          const checkoutDialogShadowEl = checkoutDialogContainer.attachShadow({\n            mode: 'open'\n          });\n          const adminPortalEl = createElement(adminBoxShadowEl, 'div', {\n            id: `frontegg-admin-portal-${app.name}`,\n            class: 'frontegg-root-content'\n          });\n          const loginBoxEl = createElement(loginBoxShadowEl, 'div', {\n            id: `frontegg-login-box-${app.name}`,\n            class: 'frontegg-root-content'\n          });\n          const checkoutDialogEl = createElement(checkoutDialogShadowEl, 'div', {\n            id: `frontegg-checkout-dialog-${app.name}`,\n            class: 'frontegg-root-content'\n          });\n          app.initContainers({\n            adminPortalEl,\n            loginBoxEl,\n            adminPortalContainer,\n            loginBoxContainer,\n            checkoutDialogContainer,\n            checkoutDialogEl\n          });\n        }\n\n      }\n\n      customElements.define('frontegg-app', FronteggAppContainer);\n    }\n\n    (_a = document.querySelector(`frontegg-app[app-name=\"${createdApp.name}\"]`)) === null || _a === void 0 ? void 0 : _a.remove();\n    const element = document.createElement('frontegg-app');\n    element.setAttribute('app-name', createdApp.name);\n    document.body.appendChild(element);\n  }\n\n  return createdApp;\n};\n\nexport { AdminPortalRenderer, initialize };","map":{"version":3,"sources":["/Users/mashapav/Downloads/WEB-CHAT/Client/node_modules/@frontegg/admin-portal/index.js"],"names":["F","FronteggApp","R","React","a","ReactDom","createElement","AppHolder","AdminPortal","CheckoutDialog","HostedLogin","LoginBoxRenderer","defaultTheme","getThemeByName","createFronteggStore","Metadata","AdminPortalPage","AdminPortalRenderer","constructor","name","themeOptions","store","appOptions","setRoute","contextOptions","baseUrl","context","undefined","options","Object","assign","iframeRendering","metadata","previewMode","builderMode","app","set","render","adminPortalContainer","adminPortalEl","querySelector","ownerDocument","setAttribute","appendChild","setThemeSetter","themeSetter","setStaticRouteSetter","setStaticRoute","adminPortal","injector","wrapper","Suspense","fallback","loading","staticRoute","_a","call","unmount","unmountComponentAtNode","e","console","error","setTheme","initialize","createdApp","document","customElements","get","FronteggAppContainer","HTMLElement","arguments","observedAttributes","connectedCallback","updateContent","attributeChangedCallback","oldValue","newValue","getInstance","loginBoxEl","innerHTML","remove","debug","appName","getAttribute","Error","id","loginBoxContainer","checkoutDialogContainer","adminBoxShadowEl","attachShadow","mode","loginBoxShadowEl","checkoutDialogShadowEl","class","checkoutDialogEl","initContainers","define","element","body"],"mappings":"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","sourcesContent":["import { F as FronteggApp, R as React, a as ReactDom } from './FronteggApp-3b25e3fb.js';\nimport { createElement } from './utils.js';\nimport { AppHolder } from './AppHolder.js';\nexport { AppHolder } from './AppHolder.js';\nexport { AdminPortal } from './AdminPortal.js';\nexport { CheckoutDialog } from './CheckoutDialog.js';\nexport { HostedLogin } from './HostedLogin.js';\nexport { LoginBoxRenderer, defaultTheme, getThemeByName } from './LoginBoxRenderer.js';\nimport { createFronteggStore } from '@frontegg/redux-store';\nexport * from '@frontegg/redux-store';\nimport { Metadata } from '@frontegg/types';\nimport { AdminPortalPage } from './index-e4d8b997.js';\nimport '@frontegg/rest-api';\nimport './index-f432917b.js';\nimport './formik.esm-3ec4824f.js';\nimport 'uuid';\n\nclass AdminPortalRenderer {\r\n    constructor(name, themeOptions, store, appOptions) {\r\n        this.setRoute = () => { };\r\n        this.themeOptions = {};\r\n        const contextOptions = { baseUrl: 'preview' };\r\n        this.store = store !== null && store !== void 0 ? store : createFronteggStore({ context: contextOptions }, this, true, undefined, undefined, true);\r\n        this.options = Object.assign({ themeOptions, iframeRendering: true, metadata: {}, previewMode: true, builderMode: true, store: this.store, contextOptions }, appOptions);\r\n        this.app = new FronteggApp(this.options, name, true);\r\n        Metadata.set({}, name);\r\n    }\r\n    render(adminPortalContainer) {\r\n        let adminPortalEl = adminPortalContainer.querySelector('#root');\r\n        if (!adminPortalEl) {\r\n            adminPortalEl = adminPortalContainer.ownerDocument.createElement('div');\r\n            adminPortalEl.setAttribute('id', 'root');\r\n            adminPortalContainer.appendChild(adminPortalEl);\r\n        }\r\n        this.app.adminPortalContainer = adminPortalContainer;\r\n        this.app.adminPortalEl = adminPortalEl;\r\n        const setThemeSetter = (themeSetter) => {\r\n            this.themeSetter = themeSetter;\r\n        };\r\n        const setStaticRouteSetter = (setStaticRoute) => {\r\n            this.setRoute = setStaticRoute;\r\n        };\r\n        const adminPortal = React.createElement(AdminPortalPage, {\r\n            options: this.options,\r\n            injector: this.app,\r\n            setThemeSetter,\r\n            setStaticRouteSetter,\r\n        });\r\n        const wrapper = React.createElement(React.Suspense, { fallback: '' }, adminPortal);\r\n        ReactDom.render(wrapper, adminPortalEl);\r\n        this.app.loading = false;\r\n    }\r\n    setStaticRoute(staticRoute) {\r\n        var _a;\r\n        (_a = this.setRoute) === null || _a === void 0 ? void 0 : _a.call(this, staticRoute);\r\n    }\r\n    unmount() {\r\n        try {\r\n            if (this.app.adminPortalEl) {\r\n                ReactDom.unmountComponentAtNode(this.app.adminPortalEl);\r\n            }\r\n        }\r\n        catch (e) {\r\n            console.error('Failed to unmount admin Portal renderer', e);\r\n        }\r\n    }\r\n    setTheme(themeOptions) {\r\n        var _a;\r\n        this.themeOptions = themeOptions;\r\n        (_a = this.themeSetter) === null || _a === void 0 ? void 0 : _a.call(this, this.themeOptions);\r\n    }\r\n}\n\nconst initialize = (options, name = 'default') => {\r\n    var _a;\r\n    const createdApp = new FronteggApp(options, name);\r\n    if (typeof document !== 'undefined') {\r\n        if (!customElements.get('frontegg-app')) {\r\n            class FronteggAppContainer extends HTMLElement {\r\n                constructor() {\r\n                    super(...arguments);\r\n                    this.app = null;\r\n                }\r\n                static get observedAttributes() {\r\n                    return ['app-name'];\r\n                }\r\n                connectedCallback() {\r\n                    this.updateContent();\r\n                }\r\n                attributeChangedCallback(name, oldValue, newValue) {\r\n                    if (name === 'app-name') {\r\n                        if (oldValue === null) {\r\n                            return;\r\n                        }\r\n                        if (oldValue === newValue) {\r\n                            return;\r\n                        }\r\n                        const app = AppHolder.getInstance(oldValue);\r\n                        try {\r\n                            ReactDom.unmountComponentAtNode(app.adminPortalEl);\r\n                            ReactDom.unmountComponentAtNode(app.loginBoxEl);\r\n                        }\r\n                        catch (e) {\r\n                            console.error('Failed to unmount frontegg app', e);\r\n                        }\r\n                        this.innerHTML = '';\r\n                        if (newValue === null) {\r\n                            this.remove();\r\n                        }\r\n                        else {\r\n                            this.updateContent();\r\n                        }\r\n                    }\r\n                    console.debug('attributeChangedCallback', name, oldValue, newValue);\r\n                }\r\n                updateContent() {\r\n                    var _a;\r\n                    const appName = (_a = this.getAttribute('app-name')) !== null && _a !== void 0 ? _a : 'default';\r\n                    const app = AppHolder.getInstance(appName);\r\n                    if (app === null) {\r\n                        throw Error(`FronteggApp not found for appName: '${appName}'`);\r\n                    }\r\n                    this.setAttribute('id', `frontegg-app-${app.name}`);\r\n                    const adminPortalContainer = createElement(this, 'div', { id: `frontegg-admin-portal-container-${app.name}` });\r\n                    const loginBoxContainer = createElement(this, 'div', { id: `frontegg-login-box-container-${app.name}` });\r\n                    const checkoutDialogContainer = createElement(this, 'div', { id: `frontegg-checkout-dialog-container-${app.name}` });\r\n                    const adminBoxShadowEl = adminPortalContainer.attachShadow({ mode: 'open' });\r\n                    const loginBoxShadowEl = loginBoxContainer.attachShadow({ mode: 'open' });\r\n                    const checkoutDialogShadowEl = checkoutDialogContainer.attachShadow({ mode: 'open' });\r\n                    const adminPortalEl = createElement(adminBoxShadowEl, 'div', {\r\n                        id: `frontegg-admin-portal-${app.name}`,\r\n                        class: 'frontegg-root-content',\r\n                    });\r\n                    const loginBoxEl = createElement(loginBoxShadowEl, 'div', {\r\n                        id: `frontegg-login-box-${app.name}`,\r\n                        class: 'frontegg-root-content',\r\n                    });\r\n                    const checkoutDialogEl = createElement(checkoutDialogShadowEl, 'div', {\r\n                        id: `frontegg-checkout-dialog-${app.name}`,\r\n                        class: 'frontegg-root-content',\r\n                    });\r\n                    app.initContainers({ adminPortalEl, loginBoxEl, adminPortalContainer, loginBoxContainer, checkoutDialogContainer, checkoutDialogEl });\r\n                }\r\n            }\r\n            customElements.define('frontegg-app', FronteggAppContainer);\r\n        }\r\n        (_a = document.querySelector(`frontegg-app[app-name=\"${createdApp.name}\"]`)) === null || _a === void 0 ? void 0 : _a.remove();\r\n        const element = document.createElement('frontegg-app');\r\n        element.setAttribute('app-name', createdApp.name);\r\n        document.body.appendChild(element);\r\n    }\r\n    return createdApp;\r\n};\n\nexport { AdminPortalRenderer, initialize };\n"]},"metadata":{},"sourceType":"module"}