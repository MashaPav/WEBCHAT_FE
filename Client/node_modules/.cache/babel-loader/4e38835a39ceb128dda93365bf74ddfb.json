{"ast":null,"code":"import { u as useAuth, c as useAuthRoutes } from './sessionsPolicy-de5104cf.js';\nexport { T as ShadowDomContext, w as reloadProfileIfNeeded, i as useAcceptInvitationActions, h as useAcceptInvitationState, k as useActivateAccountActions, j as useActivateAccountState, m as useApiTokensActions, l as useApiTokensState, u as useAuth, a as useAuthActions, c as useAuthRoutes, E as useAuthTeamActions, D as useAuthTeamState, e as useAuthUser, f as useAuthUserOrNull, o as useForgotPasswordActions, n as useForgotPasswordState, d as useIsAuthenticated, s as useLoginActions, r as useLoginState, g as useLoginWithRedirect, v as useMfaActions, t as useMfaState, b as useOnRedirectTo, y as useProfileActions, x as useProfileState, K as usePublicAuthStrategiesPolicySettings, J as usePublicPolicySettings, q as useResetPhoneNumberActions, p as useResetPhoneNumberState, O as useRolesActions, N as useRolesState, G as useSSOActions, F as useSSOState, I as useSecurityPolicyActions, H as useSecurityPolicyState, Q as useSessionsActions, S as useSessionsPolicyActions, R as useSessionsPolicyState, P as useSessionsState, U as useShadowDom, A as useSignUpActions, z as useSignUpState, C as useSocialLoginActions, B as useSocialLoginState, M as useTenantsActions, L as useTenantsState } from './sessionsPolicy-de5104cf.js';\nimport { __rest } from 'tslib';\nimport React, { useMemo, useRef, useState, useEffect } from 'react';\nimport { Provider } from 'react-redux';\nexport { Provider, connectAdvanced, shallowEqual } from 'react-redux';\nimport { createFronteggStore } from '@frontegg/redux-store';\nimport { ContextHolder } from '@frontegg/rest-api';\nimport { F as FronteggStoreContext } from './FronteggStoreContext-d6c3b684.js';\nexport { F as FronteggStoreContext, a as useDispatch, u as useSelector, b as useStore } from './FronteggStoreContext-d6c3b684.js';\nexport { c as useAuditLogsActions, b as useAuditLogsState, a as useAuditsActions, e as useAuditsMetadataActions, d as useAuditsMetadataState, u as useAuditsState } from './auditsMetadata-9ab88593.js';\nexport { u as useConnectivityActions, a as useConnectivityState } from './hooks-6400e233.js';\nexport { f as useBillingInformation, g as useBillingInformationActions, d as useCheckout, e as useCheckoutActions, j as useInvoices, k as useInvoicesActions, h as usePaymentMethod, i as usePaymentMethodActions, u as usePaymentProvider, a as usePaymentProviderActions, b as usePlans, c as usePlansActions, m as useStripeActions, l as useStripeState, p as useSubscription, q as useSubscriptionActions, n as useSubscriptionCancellation, o as useSubscriptionRenewal, r as useVendorPublicConfig, s as useVendorPublicConfigActions } from './hooks-46ec08e7.js';\nexport { u as useVendorActions, a as useVendorState } from './hooks-eaf879c9.js';\n\nconst setLoading = loading => {\n  const isSSR = typeof document === 'undefined' || typeof window === 'undefined';\n\n  if (!isSSR) {\n    if (loading) {\n      document.body.classList.add('frontegg-loading');\n    } else {\n      document.body.classList.remove('frontegg-loading');\n    }\n  }\n};\n\nconst HideChildrenIfFronteggRoutes = ({\n  children,\n  basename\n}) => {\n  const routes = useAuthRoutes();\n  const uriRef = useRef(window.location.pathname);\n  const animationFrameRef = useRef(0);\n  const [uri, setUri] = useState(window.location.pathname);\n\n  const checker = () => {\n    if (uriRef.current !== window.location.pathname) {\n      uriRef.current = window.location.pathname;\n      setUri(document.location.pathname);\n    }\n\n    animationFrameRef.current = window.requestAnimationFrame(checker);\n  };\n\n  useEffect(() => {\n    document.addEventListener('frontegg_onRedirectTo_fired', () => {\n      if (uriRef.current !== window.location.pathname) {\n        uriRef.current = window.location.pathname;\n        setUri(document.location.pathname);\n      }\n    });\n    window.addEventListener('popstate', () => {\n      if (uriRef.current !== window.location.pathname) {\n        uriRef.current = window.location.pathname;\n        setUri(document.location.pathname);\n      }\n    });\n    animationFrameRef.current = window.requestAnimationFrame(checker);\n    return () => {\n      window.cancelAnimationFrame(animationFrameRef.current);\n    };\n  }, [setUri]);\n  const calculatedBasename = basename ? basename.endsWith('/') ? basename.substring(0, basename.length - 1) : '' : '';\n\n  const checkRoutes = __rest(routes, [\"authenticatedUrl\", \"signUpSuccessUrl\"]);\n\n  if (Object.values(checkRoutes).map(url => `${calculatedBasename}${url}`).indexOf(uri) !== -1) {\n    return null;\n  }\n\n  return React.createElement(React.Fragment, null, children);\n};\n\nconst FronteggContent = ({\n  children,\n  app,\n  setLoading\n}) => {\n  var _a, _b, _c;\n\n  const {\n    isLoading\n  } = useAuth(({\n    isLoading\n  }) => ({\n    isLoading\n  }));\n  const customLoginBox = !app || ((_a = app === null || app === void 0 ? void 0 : app.options) === null || _a === void 0 ? void 0 : _a.customLoginBox) === true;\n  const alwaysShowChildren = customLoginBox || ((_b = app === null || app === void 0 ? void 0 : app.options) === null || _b === void 0 ? void 0 : _b.hostedLoginBox) === true && ((_c = app === null || app === void 0 ? void 0 : app.options) === null || _c === void 0 ? void 0 : _c.framework) === 'nextjs';\n  const loadingRef = useRef(undefined);\n\n  if (isLoading !== loadingRef.current) {\n    loadingRef.current = isLoading;\n    setLoading(isLoading);\n  }\n\n  if (isLoading) {\n    return null;\n  }\n\n  if (alwaysShowChildren) {\n    return React.createElement(React.Fragment, null, children);\n  }\n\n  return React.createElement(HideChildrenIfFronteggRoutes, {\n    basename: app === null || app === void 0 ? void 0 : app.options.basename\n  }, children);\n};\n\nconst FronteggStoreProvider = ({\n  children,\n  app,\n  contextOptions,\n  setLoading: setLoadingProps\n}) => {\n  var _a, _b, _c, _d, _e, _f;\n\n  const context = (_b = (_a = app === null || app === void 0 ? void 0 : app.options) === null || _a === void 0 ? void 0 : _a.contextOptions) !== null && _b !== void 0 ? _b : contextOptions;\n  const previewMode = (_d = (_c = app === null || app === void 0 ? void 0 : app.options) === null || _c === void 0 ? void 0 : _c.previewMode) !== null && _d !== void 0 ? _d : false;\n  const authOptions = ((_e = app === null || app === void 0 ? void 0 : app.options) === null || _e === void 0 ? void 0 : _e.authOptions) ? Object.assign(Object.assign({}, app.options.authOptions), {\n    hostedLoginBox: app.options.hostedLoginBox\n  }) : {\n    hostedLoginBox: (_f = app === null || app === void 0 ? void 0 : app.options) === null || _f === void 0 ? void 0 : _f.hostedLoginBox\n  };\n  ContextHolder.setContext(context);\n  const store = useMemo(() => createFronteggStore({\n    context: context\n  }, app, previewMode, authOptions), [app, previewMode]);\n  return React.createElement(Provider, {\n    context: FronteggStoreContext,\n    store: store\n  }, React.createElement(FronteggContent, {\n    setLoading: setLoadingProps !== null && setLoadingProps !== void 0 ? setLoadingProps : setLoading,\n    app: app\n  }, children));\n};\n\nexport { FronteggStoreProvider };","map":{"version":3,"sources":["/Users/mashapav/Downloads/WEB-CHAT/Client/node_modules/@frontegg/react-hooks/index.js"],"names":["u","useAuth","c","useAuthRoutes","T","ShadowDomContext","w","reloadProfileIfNeeded","i","useAcceptInvitationActions","h","useAcceptInvitationState","k","useActivateAccountActions","j","useActivateAccountState","m","useApiTokensActions","l","useApiTokensState","a","useAuthActions","E","useAuthTeamActions","D","useAuthTeamState","e","useAuthUser","f","useAuthUserOrNull","o","useForgotPasswordActions","n","useForgotPasswordState","d","useIsAuthenticated","s","useLoginActions","r","useLoginState","g","useLoginWithRedirect","v","useMfaActions","t","useMfaState","b","useOnRedirectTo","y","useProfileActions","x","useProfileState","K","usePublicAuthStrategiesPolicySettings","J","usePublicPolicySettings","q","useResetPhoneNumberActions","p","useResetPhoneNumberState","O","useRolesActions","N","useRolesState","G","useSSOActions","F","useSSOState","I","useSecurityPolicyActions","H","useSecurityPolicyState","Q","useSessionsActions","S","useSessionsPolicyActions","R","useSessionsPolicyState","P","useSessionsState","U","useShadowDom","A","useSignUpActions","z","useSignUpState","C","useSocialLoginActions","B","useSocialLoginState","M","useTenantsActions","L","useTenantsState","__rest","React","useMemo","useRef","useState","useEffect","Provider","connectAdvanced","shallowEqual","createFronteggStore","ContextHolder","FronteggStoreContext","useDispatch","useSelector","useStore","useAuditLogsActions","useAuditLogsState","useAuditsActions","useAuditsMetadataActions","useAuditsMetadataState","useAuditsState","useConnectivityActions","useConnectivityState","useBillingInformation","useBillingInformationActions","useCheckout","useCheckoutActions","useInvoices","useInvoicesActions","usePaymentMethod","usePaymentMethodActions","usePaymentProvider","usePaymentProviderActions","usePlans","usePlansActions","useStripeActions","useStripeState","useSubscription","useSubscriptionActions","useSubscriptionCancellation","useSubscriptionRenewal","useVendorPublicConfig","useVendorPublicConfigActions","useVendorActions","useVendorState","setLoading","loading","isSSR","document","window","body","classList","add","remove","HideChildrenIfFronteggRoutes","children","basename","routes","uriRef","location","pathname","animationFrameRef","uri","setUri","checker","current","requestAnimationFrame","addEventListener","cancelAnimationFrame","calculatedBasename","endsWith","substring","length","checkRoutes","Object","values","map","url","indexOf","createElement","Fragment","FronteggContent","app","_a","_b","_c","isLoading","customLoginBox","options","alwaysShowChildren","hostedLoginBox","framework","loadingRef","undefined","FronteggStoreProvider","contextOptions","setLoadingProps","_d","_e","_f","context","previewMode","authOptions","assign","setContext","store"],"mappings":"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","sourcesContent":["import { u as useAuth, c as useAuthRoutes } from './sessionsPolicy-de5104cf.js';\nexport { T as ShadowDomContext, w as reloadProfileIfNeeded, i as useAcceptInvitationActions, h as useAcceptInvitationState, k as useActivateAccountActions, j as useActivateAccountState, m as useApiTokensActions, l as useApiTokensState, u as useAuth, a as useAuthActions, c as useAuthRoutes, E as useAuthTeamActions, D as useAuthTeamState, e as useAuthUser, f as useAuthUserOrNull, o as useForgotPasswordActions, n as useForgotPasswordState, d as useIsAuthenticated, s as useLoginActions, r as useLoginState, g as useLoginWithRedirect, v as useMfaActions, t as useMfaState, b as useOnRedirectTo, y as useProfileActions, x as useProfileState, K as usePublicAuthStrategiesPolicySettings, J as usePublicPolicySettings, q as useResetPhoneNumberActions, p as useResetPhoneNumberState, O as useRolesActions, N as useRolesState, G as useSSOActions, F as useSSOState, I as useSecurityPolicyActions, H as useSecurityPolicyState, Q as useSessionsActions, S as useSessionsPolicyActions, R as useSessionsPolicyState, P as useSessionsState, U as useShadowDom, A as useSignUpActions, z as useSignUpState, C as useSocialLoginActions, B as useSocialLoginState, M as useTenantsActions, L as useTenantsState } from './sessionsPolicy-de5104cf.js';\nimport { __rest } from 'tslib';\nimport React, { useMemo, useRef, useState, useEffect } from 'react';\nimport { Provider } from 'react-redux';\nexport { Provider, connectAdvanced, shallowEqual } from 'react-redux';\nimport { createFronteggStore } from '@frontegg/redux-store';\nimport { ContextHolder } from '@frontegg/rest-api';\nimport { F as FronteggStoreContext } from './FronteggStoreContext-d6c3b684.js';\nexport { F as FronteggStoreContext, a as useDispatch, u as useSelector, b as useStore } from './FronteggStoreContext-d6c3b684.js';\nexport { c as useAuditLogsActions, b as useAuditLogsState, a as useAuditsActions, e as useAuditsMetadataActions, d as useAuditsMetadataState, u as useAuditsState } from './auditsMetadata-9ab88593.js';\nexport { u as useConnectivityActions, a as useConnectivityState } from './hooks-6400e233.js';\nexport { f as useBillingInformation, g as useBillingInformationActions, d as useCheckout, e as useCheckoutActions, j as useInvoices, k as useInvoicesActions, h as usePaymentMethod, i as usePaymentMethodActions, u as usePaymentProvider, a as usePaymentProviderActions, b as usePlans, c as usePlansActions, m as useStripeActions, l as useStripeState, p as useSubscription, q as useSubscriptionActions, n as useSubscriptionCancellation, o as useSubscriptionRenewal, r as useVendorPublicConfig, s as useVendorPublicConfigActions } from './hooks-46ec08e7.js';\nexport { u as useVendorActions, a as useVendorState } from './hooks-eaf879c9.js';\n\nconst setLoading = (loading) => {\r\n    const isSSR = typeof document === 'undefined' || typeof window === 'undefined';\r\n    if (!isSSR) {\r\n        if (loading) {\r\n            document.body.classList.add('frontegg-loading');\r\n        }\r\n        else {\r\n            document.body.classList.remove('frontegg-loading');\r\n        }\r\n    }\r\n};\r\nconst HideChildrenIfFronteggRoutes = ({ children, basename }) => {\r\n    const routes = useAuthRoutes();\r\n    const uriRef = useRef(window.location.pathname);\r\n    const animationFrameRef = useRef(0);\r\n    const [uri, setUri] = useState(window.location.pathname);\r\n    const checker = () => {\r\n        if (uriRef.current !== window.location.pathname) {\r\n            uriRef.current = window.location.pathname;\r\n            setUri(document.location.pathname);\r\n        }\r\n        animationFrameRef.current = window.requestAnimationFrame(checker);\r\n    };\r\n    useEffect(() => {\r\n        document.addEventListener('frontegg_onRedirectTo_fired', () => {\r\n            if (uriRef.current !== window.location.pathname) {\r\n                uriRef.current = window.location.pathname;\r\n                setUri(document.location.pathname);\r\n            }\r\n        });\r\n        window.addEventListener('popstate', () => {\r\n            if (uriRef.current !== window.location.pathname) {\r\n                uriRef.current = window.location.pathname;\r\n                setUri(document.location.pathname);\r\n            }\r\n        });\r\n        animationFrameRef.current = window.requestAnimationFrame(checker);\r\n        return () => {\r\n            window.cancelAnimationFrame(animationFrameRef.current);\r\n        };\r\n    }, [setUri]);\r\n    const calculatedBasename = basename ? (basename.endsWith('/') ? basename.substring(0, basename.length - 1) : '') : '';\r\n    const checkRoutes = __rest(routes, [\"authenticatedUrl\", \"signUpSuccessUrl\"]);\r\n    if (Object.values(checkRoutes).map(url => `${calculatedBasename}${url}`).indexOf(uri) !== -1) {\r\n        return null;\r\n    }\r\n    return React.createElement(React.Fragment, null, children);\r\n};\r\nconst FronteggContent = ({ children, app, setLoading }) => {\r\n    var _a, _b, _c;\r\n    const { isLoading } = useAuth(({ isLoading }) => ({ isLoading }));\r\n    const customLoginBox = !app || ((_a = app === null || app === void 0 ? void 0 : app.options) === null || _a === void 0 ? void 0 : _a.customLoginBox) === true;\r\n    const alwaysShowChildren = customLoginBox || (((_b = app === null || app === void 0 ? void 0 : app.options) === null || _b === void 0 ? void 0 : _b.hostedLoginBox) === true && ((_c = app === null || app === void 0 ? void 0 : app.options) === null || _c === void 0 ? void 0 : _c.framework) === 'nextjs');\r\n    const loadingRef = useRef(undefined);\r\n    if (isLoading !== loadingRef.current) {\r\n        loadingRef.current = isLoading;\r\n        setLoading(isLoading);\r\n    }\r\n    if (isLoading) {\r\n        return null;\r\n    }\r\n    if (alwaysShowChildren) {\r\n        return React.createElement(React.Fragment, null, children);\r\n    }\r\n    return React.createElement(HideChildrenIfFronteggRoutes, { basename: app === null || app === void 0 ? void 0 : app.options.basename }, children);\r\n};\r\nconst FronteggStoreProvider = ({ children, app, contextOptions, setLoading: setLoadingProps, }) => {\r\n    var _a, _b, _c, _d, _e, _f;\r\n    const context = (_b = (_a = app === null || app === void 0 ? void 0 : app.options) === null || _a === void 0 ? void 0 : _a.contextOptions) !== null && _b !== void 0 ? _b : contextOptions;\r\n    const previewMode = (_d = (_c = app === null || app === void 0 ? void 0 : app.options) === null || _c === void 0 ? void 0 : _c.previewMode) !== null && _d !== void 0 ? _d : false;\r\n    const authOptions = ((_e = app === null || app === void 0 ? void 0 : app.options) === null || _e === void 0 ? void 0 : _e.authOptions) ? Object.assign(Object.assign({}, app.options.authOptions), { hostedLoginBox: app.options.hostedLoginBox }) : { hostedLoginBox: (_f = app === null || app === void 0 ? void 0 : app.options) === null || _f === void 0 ? void 0 : _f.hostedLoginBox };\r\n    ContextHolder.setContext(context);\r\n    const store = useMemo(() => createFronteggStore({\r\n        context: context\r\n    }, app, previewMode, authOptions), [app, previewMode]);\r\n    return (React.createElement(Provider, { context: FronteggStoreContext, store: store },\r\n        React.createElement(FronteggContent, { setLoading: setLoadingProps !== null && setLoadingProps !== void 0 ? setLoadingProps : setLoading, app: app }, children)));\r\n};\n\nexport { FronteggStoreProvider };\n"]},"metadata":{},"sourceType":"module"}